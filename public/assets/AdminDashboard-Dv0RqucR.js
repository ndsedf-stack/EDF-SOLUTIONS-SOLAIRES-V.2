import{j as e,r as c,s as h,u as y}from"./index-4Etc-NX1.js";const p=({title:i,value:t,subtitle:l,trend:a,trendValue:r,icon:s,color:n})=>e.jsxs("div",{className:"p-6 bg-[#0a0a0a] border border-white/5 rounded-xl relative overflow-hidden group",children:[e.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${n}`}),e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-1",children:i}),e.jsx("div",{className:"text-3xl font-black text-white",children:t})]}),e.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/5 flex items-center justify-center text-xl",children:s})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsxs("span",{className:`${a==="up"?"text-green-500":"text-red-500"} font-bold flex items-center`,children:[a==="up"?"‚Üó":"‚Üò"," ",r]}),e.jsx("span",{className:"text-slate-600 font-medium",children:l})]})]}),u=({severity:i,message:t,time:l,source:a})=>e.jsxs("div",{className:`flex items-center justify-between p-3 border-l-2 ${i==="critical"?"border-red-500 bg-red-500/5":i==="warning"?"border-orange-500 bg-orange-500/5":"border-blue-500 bg-blue-500/5"} mb-2`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-xs font-bold uppercase ${i==="critical"?"text-red-500":i==="warning"?"text-orange-500":"text-blue-500"}`,children:i}),e.jsx("span",{className:"text-sm text-slate-300",children:t})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 font-mono",children:[e.jsx("span",{children:a}),e.jsx("span",{children:l})]})]}),A=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(p,{title:"Danger Score Moyen",value:"64/100",subtitle:"vs 58 hier",trend:"up",trendValue:"+10%",icon:"üî•",color:"bg-orange-500"}),e.jsx(p,{title:"CA √† Risque (Actif)",value:"420k‚Ç¨",subtitle:"24 opportunit√©s",trend:"up",trendValue:"+12%",icon:"üìâ",color:"bg-red-500"}),e.jsx(p,{title:"Opportunit√©s Death Zone",value:"8",subtitle:"Aucune action > 5j",trend:"up",trendValue:"+2",icon:"‚ò†Ô∏è",color:"bg-slate-500"}),e.jsx(p,{title:"Taux d'Inaction",value:"12%",subtitle:"Recommandations ignor√©es",trend:"down",trendValue:"-2%",icon:"üí§",color:"bg-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 h-[500px]",children:[e.jsxs("div",{className:"lg:col-span-2 bg-[#0a0a0a] border border-white/5 rounded-xl p-6 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-sm font-bold text-white uppercase tracking-widest flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),"Alertes Syst√®me Temps R√©el"]}),e.jsx("button",{className:"text-xs text-slate-500 hover:text-white uppercase font-bold",children:"Voir tout"})]}),e.jsxs("div",{className:"flex-1 overflow-auto pr-2 space-y-1",children:[e.jsx(u,{severity:"critical",message:"Agent Zero : Incoh√©rence d√©tect√©e sur Dossier #22910 (Refus vs Int√©r√™t)",source:"AGENT-ZERO",time:"10:42:01"}),e.jsx(u,{severity:"warning",message:"Fatigue Guard : Client DURAND activ√© (4 relances en 24h)",source:"OPS-GUARD",time:"10:38:15"}),e.jsx(u,{severity:"info",message:"Sync Salesforce : Latence √©lev√©e (450ms)",source:"CRM-CONNECTOR",time:"10:35:00"}),e.jsx(u,{severity:"warning",message:"R√®gle d'Inaction : 3 Commerciaux n'ont pas ouvert le Cockpit ce matin",source:"SUPERVISOR",time:"09:00:00"}),e.jsx(u,{severity:"critical",message:"Ops Audit : Tentative d'acc√®s hors plage horaire (User: M.Martin)",source:"SECURITY",time:"03:15:22"}),e.jsx(u,{severity:"info",message:"Backup : Sauvegarde nocturne effectu√©e avec succ√®s",source:"SYSTEM",time:"03:00:00"})]})]}),e.jsxs("div",{className:"bg-[#0a0a0a] border border-white/5 rounded-xl p-6",children:[e.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-widest mb-6",children:"Sant√© des Agents"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[e.jsx("span",{className:"text-blue-400",children:"AGENT ZERO (Cerveau)"}),e.jsx("span",{className:"text-green-500",children:"OPTIMAL"})]}),e.jsx("div",{className:"w-full bg-white/5 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full",style:{width:"98%"}})}),e.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"Latence 120ms ‚Ä¢ 99.9% Confidence"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[e.jsx("span",{className:"text-green-400",children:"OPS AGENT (Gardien)"}),e.jsx("span",{className:"text-green-500",children:"ACTIF"})]}),e.jsx("div",{className:"w-full bg-white/5 rounded-full h-1.5",children:e.jsx("div",{className:"bg-green-500 h-1.5 rounded-full",style:{width:"100%"}})}),e.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"0 Failles ‚Ä¢ 142 Blocages/jour"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[e.jsx("span",{className:"text-orange-400",children:"EMAIL ENGINE"}),e.jsx("span",{className:"text-orange-500",children:"BUSY"})]}),e.jsx("div",{className:"w-full bg-white/5 rounded-full h-1.5",children:e.jsx("div",{className:"bg-orange-500 h-1.5 rounded-full",style:{width:"85%"}})}),e.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"Queue: 42 emails ‚Ä¢ Deliverability 99%"})]})]}),e.jsx("div",{className:"mt-8 pt-8 border-t border-white/10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-black text-white mb-1",children:"99.8%"}),e.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest",children:"Uptime Syst√®me (30j)"})]})})]})]})]}),S=[{id:1,name:"Nicolas D.",role:"SUPER ADMIN",region:"Global",active:!0,impact:"2.4M",trend:"+12%"},{id:2,name:"Sarah M.",role:"MANAGER",region:"IDF / Nord",active:!0,impact:"850k",trend:"+5%"},{id:3,name:"Thomas B.",role:"COMMERCIAL",region:"PACA",active:!1,impact:"120k",trend:"-2%"},{id:4,name:"Julie R.",role:"COMMERCIAL",region:"Rh√¥ne-Alpes",active:!0,impact:"340k",trend:"+8%"},{id:5,name:"Eric P.",role:"AUDITEUR",region:"Interne",active:!1,impact:"-",trend:"0%"}],k=({user:i,onClose:t,onSave:l})=>{const[a,r]=c.useState({...i});return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-[#0f172a] border border-white/10 rounded-2xl w-[500px] shadow-2xl p-6 space-y-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"√âditer Utilisateur"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Nom"}),e.jsx("input",{type:"text",value:a.name,onChange:s=>r({...a,name:s.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"R√¥le"}),e.jsxs("select",{value:a.role,onChange:s=>r({...a,role:s.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[e.jsx("option",{value:"SUPER ADMIN",children:"SUPER ADMIN"}),e.jsx("option",{value:"MANAGER",children:"MANAGER"}),e.jsx("option",{value:"COMMERCIAL",children:"COMMERCIAL"}),e.jsx("option",{value:"AUDITEUR",children:"AUDITEUR"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"R√©gion"}),e.jsx("input",{type:"text",value:a.region,onChange:s=>r({...a,region:s.target.value}),className:"w-full bg-black/20 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Statut Actif"}),e.jsx("button",{onClick:()=>r({...a,active:!a.active}),className:`w-12 h-6 rounded-full transition-colors relative ${a.active?"bg-green-500":"bg-slate-700"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${a.active?"left-7":"left-1"}`})}),e.jsx("span",{className:"text-xs text-white",children:a.active?"Oui":"Non"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-white/5",children:[e.jsx("button",{onClick:t,className:"px-4 py-2 text-slate-400 hover:text-white text-sm font-bold",children:"Annuler"}),e.jsx("button",{onClick:()=>l(a),className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm font-bold shadow-lg shadow-blue-500/20",children:"Sauvegarder"})]})]})})},R=()=>{const[i,t]=c.useState(S),[l,a]=c.useState(null),r=s=>{t(i.map(n=>n.id===s.id?s:n)),a(null)};return e.jsxs("div",{className:"space-y-6 relative",children:[l&&e.jsx(k,{user:l,onClose:()=>a(null),onSave:r}),e.jsxs("div",{className:"flex justify-between items-center bg-[#0a0a0a] border border-white/5 p-4 rounded-xl",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"text-center px-4 border-r border-white/5",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:i.filter(s=>s.role==="SUPER ADMIN").length}),e.jsx("div",{className:"text-[10px] uppercase text-slate-500 tracking-widest",children:"Admins"})]}),e.jsxs("div",{className:"text-center px-4 border-r border-white/5",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:i.filter(s=>s.role==="MANAGER").length}),e.jsx("div",{className:"text-[10px] uppercase text-slate-500 tracking-widest",children:"Managers"})]}),e.jsxs("div",{className:"text-center px-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:i.filter(s=>s.role==="COMMERCIAL").length}),e.jsx("div",{className:"text-[10px] uppercase text-slate-500 tracking-widest",children:"Commerciaux"})]})]}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-xs font-bold uppercase tracking-wider",children:"+ Nouvel Utilisateur"})]}),e.jsx("div",{className:"bg-[#0a0a0a] border border-white/5 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-white/5 text-[10px] uppercase font-bold text-slate-500 tracking-widest border-b border-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4",children:"Utilisateur"}),e.jsx("th",{className:"py-3 px-4",children:"Region"}),e.jsx("th",{className:"py-3 px-4",children:"Statut"}),e.jsx("th",{className:"py-3 px-4",children:"Impact CA (Mois)"}),e.jsx("th",{className:"py-3 px-4 text-right",children:"Actions"})]})}),e.jsx("tbody",{children:i.map(s=>e.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs ${s.role==="SUPER ADMIN"?"bg-orange-500/20 text-orange-500":s.role==="MANAGER"?"bg-blue-500/20 text-blue-500":"bg-slate-500/20 text-slate-500"}`,children:s.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white text-sm font-bold",children:s.name}),e.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:s.role})]})]})}),e.jsx("td",{className:"py-4 px-4 text-sm text-slate-400 font-mono",children:s.region}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.active?"bg-green-500":"bg-slate-500"}`}),e.jsx("span",{className:"text-xs text-slate-400",children:s.active?"En ligne":"Inactif"})]})}),e.jsxs("td",{className:"py-4 px-4",children:[e.jsxs("div",{className:"text-sm font-bold text-white",children:[s.impact,"‚Ç¨"]}),e.jsxs("div",{className:`text-[10px] font-bold ${s.trend.startsWith("+")?"text-green-500":"text-red-500"}`,children:[s.trend," vs M-1"]})]}),e.jsx("td",{className:"py-4 px-4 text-right",children:e.jsx("button",{onClick:()=>a(s),className:"text-slate-500 hover:text-white px-3 py-1 text-xs border border-white/10 hover:border-white/30 rounded",children:"√âditer"})})]},s.id))})]})})]})},f=({title:i,description:t,children:l})=>e.jsxs("div",{className:"bg-[#0a0a0a] border border-white/5 rounded-xl p-6 mb-6",children:[e.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-widest mb-1",children:i}),e.jsx("p",{className:"text-xs text-slate-500 mb-6 max-w-2xl",children:t}),e.jsx("div",{className:"space-y-8",children:l})]}),g=({label:i,value:t,min:l,max:a,unit:r,description:s,onChange:n})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-300",children:i}),e.jsxs("span",{className:"text-sm font-bold text-orange-500",children:[t,r]})]}),e.jsx("input",{type:"range",min:l,max:a,value:t,onChange:d=>n(parseInt(d.target.value)),className:"w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-orange-500"}),e.jsxs("div",{className:"flex justify-between text-[10px] text-slate-600 mt-1 font-mono uppercase",children:[e.jsxs("span",{children:["Min: ",l,r]}),e.jsxs("span",{children:["Max: ",a,r]})]}),s&&e.jsx("p",{className:"text-xs text-slate-500 mt-2 italic border-l-2 border-slate-700 pl-3",children:s})]}),w=({label:i,checked:t,onChange:l,help:a})=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg border border-white/5",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-slate-200",children:i}),a&&e.jsx("div",{className:"text-xs text-slate-500 mt-1",children:a})]}),e.jsx("button",{onClick:()=>l(!t),className:`w-12 h-6 rounded-full p-1 transition-colors ${t?"bg-orange-600":"bg-slate-700"}`,children:e.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${t?"translate-x-6":"translate-x-0"}`})})]}),C=()=>{const[i,t]=c.useState(70),[l,a]=c.useState(40),[r,s]=c.useState(30),[n,d]=c.useState(30),[o,m]=c.useState(!1),[j,b]=c.useState(!0);return e.jsxs("div",{className:"max-w-4xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Configuration du Moteur"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Chaque modification est journalis√©e dans l'Audit Trail (Forensique)."})]}),e.jsxs("button",{className:"px-6 py-3 bg-white/10 hover:bg-white/20 text-white font-bold rounded-lg uppercase text-xs tracking-wider transition-all border border-white/10 flex items-center gap-2",children:[e.jsx("span",{children:"‚Ü∫"})," Annuler modifications"]})]}),e.jsx(f,{title:"Seuils de Tol√©rance (Danger Score)",description:"D√©finissez √† partir de quel score une opportunit√© bascule en zone critique.",children:e.jsx(g,{label:"Seuil d'Alerte Critique (Zone de Mort)",value:i,min:50,max:95,unit:"/100",onChange:t,description:"Si le score d√©passe cette valeur, l'opportunit√© passe en priorit√© absolue et alerte le N+1."})}),e.jsxs(f,{title:"Pond√©ration des Signaux (Total = 100%)",description:"Influence relative de chaque dimension sur le calcul du score final.",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsx(g,{label:"Comportemental",value:l,min:0,max:100,unit:"%",onChange:a}),e.jsx(g,{label:"Financier (ROI)",value:r,min:0,max:100,unit:"%",onChange:s}),e.jsx(g,{label:"Temporel (R√©cence)",value:n,min:0,max:100,unit:"%",onChange:d})]}),l+r+n!==100&&e.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500 text-red-500 text-xs font-bold rounded mt-4 flex items-center gap-2",children:["‚ö†Ô∏è Le total des pond√©rations doit √™tre √©gal √† 100% (Actuel : ",l+r+n,"%)"]})]}),e.jsx(f,{title:"R√®gles d'Orchestration",description:"Comportements globaux de l'IA et de l'Agent Zero.",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(w,{label:"Mode Strict (Gouvernance)",checked:j,onChange:b,help:"Si activ√©, aucune action n'est permise sans validation Ops."}),e.jsx(w,{label:"Auto-Archivage > 30j",checked:o,onChange:m,help:"Archive automatiquement les leads sans interaction depuis 30 jours."})]})}),e.jsxs("div",{className:"sticky bottom-6 bg-[#0a0a0a]/90 backdrop-blur-xl border border-orange-500/30 p-4 rounded-xl shadow-[0_0_50px_rgba(0,0,0,0.5)] flex justify-between items-center",children:[e.jsx("div",{className:"text-xs text-orange-500 font-mono",children:"‚ö†Ô∏è Vous √™tes sur le point de modifier la politique de risque globale."}),e.jsx("button",{className:"px-8 py-3 bg-orange-600 hover:bg-orange-500 text-white font-bold rounded-lg shadow-lg shadow-orange-600/20 transform hover:-translate-y-1 transition-all",children:"APPLIQUER LA POLITIQUE"})]})]})},v=({name:i,status:t,role:l,uptime:a,latency:r,requests:s,logs:n})=>e.jsxs("div",{className:"bg-[#0a0a0a] border border-white/5 rounded-xl p-6 flex flex-col h-full relative overflow-hidden",children:[t==="error"&&e.jsx("div",{className:"absolute top-0 right-0 p-2 bg-red-500 text-white text-[10px] font-bold uppercase tracking-widest",children:"Incident"}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-2xl border ${t==="active"?"bg-green-500/10 border-green-500/20 text-green-500":t==="warning"?"bg-orange-500/10 border-orange-500/20 text-orange-500":"bg-red-500/10 border-red-500/20 text-red-500 animate-pulse"}`,children:l==="brain"?"üß†":l==="guard"?"üõ°Ô∏è":"‚úâÔ∏è"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white text-lg",children:i}),e.jsx("div",{className:`text-[10px] uppercase font-bold tracking-widest ${t==="active"?"text-green-500":t==="warning"?"text-orange-500":"text-red-500"}`,children:t==="active"?"‚óè Op√©rationnel":t==="warning"?"‚óè Instable":"‚óè Panne"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-6 text-center",children:[e.jsxs("div",{className:"p-2 bg-white/5 rounded-lg border border-white/5",children:[e.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider mb-1",children:"Uptime"}),e.jsx("div",{className:"text-white font-bold",children:a})]}),e.jsxs("div",{className:"p-2 bg-white/5 rounded-lg border border-white/5",children:[e.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider mb-1",children:"Latence"}),e.jsx("div",{className:"text-white font-bold",children:r})]}),e.jsxs("div",{className:"p-2 bg-white/5 rounded-lg border border-white/5",children:[e.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider mb-1",children:"Req/min"}),e.jsx("div",{className:"text-white font-bold",children:s})]})]}),e.jsxs("div",{className:"flex-1 bg-black/40 rounded-lg p-3 font-mono text-[10px] text-slate-400 overflow-hidden border border-white/5",children:[e.jsx("div",{className:"mb-2 text-slate-600 uppercase font-bold tracking-widest text-[9px]",children:"Live Logs"}),n.map((d,o)=>e.jsxs("div",{className:"truncate mb-1 hover:text-white cursor-default",children:[e.jsx("span",{className:"text-slate-600 mr-2 opacity-50",children:new Date().toLocaleTimeString()}),d]},o))]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 flex gap-2",children:[e.jsx("button",{className:"flex-1 py-2 bg-white/5 hover:bg-white/10 rounded-lg text-xs font-bold text-slate-300 uppercase",children:"Restart"}),e.jsx("button",{className:"flex-1 py-2 bg-white/5 hover:bg-white/10 rounded-lg text-xs font-bold text-slate-300 uppercase",children:"Config"})]})]}),E=()=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 h-[600px]",children:[e.jsx(v,{name:"AGENT ZERO",role:"brain",status:"active",uptime:"99.99%",latency:"124ms",requests:"420",logs:["[INFO] Processing batch #4402","[INFO] Decision: PRIORITY for Lead #9921","[DEBUG] Context updated (340ms)","[INFO] Syncing with Supabase..."]}),e.jsx(v,{name:"OPS GUARD",role:"guard",status:"active",uptime:"100%",latency:"12ms",requests:"1450",logs:["[SEC] Request from IP 192.168.1.42 authorized","[AUDIT] Blocked suspicious update on Lead #110","[INFO] Scanning for anomalies...","[SEC] Token validation OK"]}),e.jsx(v,{name:"EMAIL ENGINE",role:"worker",status:"warning",uptime:"98.5%",latency:"850ms",requests:"12",logs:["[WARN] SMTP Relay latency high (>500ms)","[INFO] Queue size: 45 emails","[INFO] Sending campaign batch #2","[ERROR] Timeout connecting to SMTP Provider 2"]})]}),I=({time:i,source:t,action:l,details:a,user:r,risk:s})=>e.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors group cursor-default text-xs",children:[e.jsx("td",{className:"py-2.5 px-4 font-mono text-slate-500 whitespace-nowrap",children:i}),e.jsx("td",{className:"py-2.5 px-4",children:e.jsx("span",{className:`inline-block px-1.5 py-0.5 rounded text-[9px] font-bold uppercase tracking-wider ${t==="SYSTEM"?"bg-blue-500/10 text-blue-500 border border-blue-500/20":t==="USER"?"bg-orange-500/10 text-orange-500 border border-orange-500/20":"bg-slate-500/10 text-slate-500 border border-slate-500/20"}`,children:t})}),e.jsx("td",{className:"py-2.5 px-4 font-bold text-slate-300",children:l}),e.jsx("td",{className:"py-2.5 px-4 text-slate-400 max-w-sm truncate group-hover:whitespace-normal group-hover:overflow-visible group-hover:bg-[#050505] group-hover:absolute group-hover:z-10 group-hover:border group-hover:border-white/10 group-hover:p-2 group-hover:rounded-lg group-hover:shadow-xl",children:a}),e.jsx("td",{className:"py-2.5 px-4 font-mono text-slate-500",children:r}),e.jsx("td",{className:"py-2.5 px-4 text-right",children:e.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${s==="high"?"bg-red-500":s==="medium"?"bg-orange-500":"bg-green-500/20"}`})})]}),M=()=>{const[i,t]=c.useState([]),[l,a]=c.useState(!0);return c.useEffect(()=>{(async()=>{const{data:n,error:d}=await h.from("decision_logs").select("*").order("created_at",{ascending:!1}).limit(100);n&&t(n),a(!1)})();const s=h.channel("realtime-logs").on("postgres_changes",{event:"INSERT",schema:"public",table:"decision_logs"},n=>{t(d=>[n.new,...d])}).subscribe();return()=>{h.removeChannel(s)}},[]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-4 p-4 bg-[#0a0a0a] border border-white/5 rounded-xl",children:[e.jsx("input",{type:"text",placeholder:"Rechercher (ID, User, Action)...",className:"bg-white/5 border border-white/5 rounded-lg px-4 py-2 text-sm text-white w-96 placeholder:text-slate-600 focus:outline-none focus:border-orange-500/50"}),e.jsxs("select",{className:"bg-white/5 border border-white/5 rounded-lg px-4 py-2 text-sm text-slate-400 focus:outline-none",children:[e.jsx("option",{children:"Tous les agents"}),e.jsx("option",{children:"Agent Zero"}),e.jsx("option",{children:"Ops Guard"})]}),e.jsxs("select",{className:"bg-white/5 border border-white/5 rounded-lg px-4 py-2 text-sm text-slate-400 focus:outline-none",children:[e.jsx("option",{children:"Tous les niveaux de risque"}),e.jsx("option",{children:"Critique"}),e.jsx("option",{children:"Warning"})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("button",{onClick:()=>{const r=i.map(o=>Object.values(o).join(",")).join("\\n"),s=new Blob([r],{type:"text/csv"}),n=window.URL.createObjectURL(s),d=document.createElement("a");d.href=n,d.download=`audit_logs_${new Date().toISOString()}.csv`,d.click()},className:"px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-lg text-xs font-bold uppercase tracking-wider flex items-center gap-2",children:[e.jsx("span",{children:"‚¨á"})," Export CSV"]})]}),e.jsx("div",{className:"bg-[#0a0a0a] border border-white/5 rounded-xl overflow-hidden font-mono min-h-[400px]",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-[#020202] text-[9px] uppercase font-bold text-slate-600 tracking-widest border-b border-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 w-32",children:"Timestamp"}),e.jsx("th",{className:"py-2 px-4 w-24",children:"Source"}),e.jsx("th",{className:"py-2 px-4 w-48",children:"Action"}),e.jsx("th",{className:"py-2 px-4",children:"D√©tails de la d√©cision"}),e.jsx("th",{className:"py-2 px-4 w-32",children:"User / Agent"}),e.jsx("th",{className:"py-2 px-4 w-16 text-right",children:"Risk"})]})}),e.jsx("tbody",{children:l?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-10 text-slate-500 animate-pulse",children:"Chargement des logs..."})}):i.map(r=>{var s,n,d;return e.jsx(I,{time:new Date(r.created_at).toLocaleTimeString("fr-FR"),source:(s=r.action_performed)!=null&&s.includes("SYSTEM")?"SYSTEM":"USER",action:r.action_performed,details:typeof r.justification=="object"?JSON.stringify(r.justification):r.justification,user:r.client_name||"N/A",risk:(n=r.action_performed)!=null&&n.includes("DELETE")||(d=r.action_performed)!=null&&d.includes("CANCEL")?"high":"low"},r.id)})})]})}),e.jsxs("div",{className:"text-center text-[10px] text-slate-600 uppercase font-bold tracking-widest mt-2",children:["Affichage des ",i.length," derniers √©v√©nements sur serveur s√©curis√©"]})]})},x=({name:i,status:t,lastSync:l,icon:a,color:r})=>e.jsxs("div",{className:"bg-[#0a0a0a] border border-white/5 rounded-xl p-6 flex flex-col justify-between h-48 group hover:border-white/10 transition-all relative overflow-hidden",children:[t==="active"&&e.jsx("div",{className:`absolute top-0 right-0 w-20 h-20 bg-${r}-500 blur-[80px] opacity-20 group-hover:opacity-30 transition-opacity`}),e.jsxs("div",{className:"flex justify-between items-start z-10",children:[e.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-lg flex items-center justify-center text-2xl",children:a}),e.jsx("div",{className:`px-2 py-1 rounded text-[9px] font-bold uppercase tracking-widest ${t==="active"?"bg-green-500/10 text-green-500":"bg-slate-500/10 text-slate-500"}`,children:t==="active"?"Connected":"Inactive"})]}),e.jsxs("div",{className:"z-10",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:i}),e.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-2",children:[e.jsxs("span",{children:["Last Sync: ",l]}),t==="active"&&e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 z-10 flex gap-2",children:[e.jsx("button",{className:"text-xs text-slate-400 hover:text-white font-bold uppercase tracking-wider flex-1 text-left",children:"Configurer"}),e.jsx("button",{className:"text-xs text-slate-400 hover:text-white font-bold uppercase tracking-wider",children:"Logs"})]})]}),T=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-widest pl-1 border-l-4 border-orange-500",children:"Connecteurs CRM Actifs"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(x,{name:"Salesforce",status:"active",lastSync:"2 min ago",icon:"‚òÅÔ∏è",color:"blue"}),e.jsx(x,{name:"HubSpot",status:"active",lastSync:"5 min ago",icon:"üüß",color:"orange"}),e.jsx(x,{name:"Microsoft Dynamics",status:"inactive",lastSync:"Never",icon:"üî∑",color:"indigo"}),e.jsx(x,{name:"Pipedrive",status:"inactive",lastSync:"Never",icon:"üü¢",color:"green"})]}),e.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-widest pl-1 border-l-4 border-purple-500 pt-4",children:"Int√©grations IA & Data"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(x,{name:"Cortex AI (EDF Internal)",status:"active",lastSync:"Real-time",icon:"‚ö°",color:"blue"}),e.jsx(x,{name:"OpenAI GDP-4o",status:"active",lastSync:"Real-time",icon:"üß†",color:"purple"}),e.jsx(x,{name:"SendGrid (Email)",status:"active",lastSync:"30 sec ago",icon:"üìß",color:"cyan"})]})]}),N=({title:i,description:t,buttonLabel:l,warning:a,danger:r})=>e.jsxs("div",{className:`p-6 bg-[#0a0a0a] border ${r?"border-red-500/30":"border-white/5"} rounded-xl `,children:[e.jsx("h3",{className:`text-lg font-bold mb-2 ${r?"text-red-500":"text-white"}`,children:i}),e.jsx("p",{className:"text-sm text-slate-500 mb-6",children:t}),a&&e.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/20 p-3 rounded mb-6 text-xs text-orange-400 font-mono",children:["‚ö†Ô∏è ",a]}),e.jsx("button",{className:`w-full py-3 rounded-lg font-bold uppercase tracking-wider text-xs transition-all ${r?"bg-red-500/10 hover:bg-red-500 text-red-500 hover:text-white border border-red-500":"bg-white/5 hover:bg-white/10 text-white border border-white/5"}`,children:l})]}),D=()=>{const[i,t]=c.useState(!1),[l,a]=c.useState(!0),[r,s]=c.useState(""),n=async()=>{s("Searching for Albertini...");try{const{data:d}=await h.from("clients").select("id").ilike("last_name","%Albertini%");if(!d||d.length===0){s("‚ùå Client Albertini not found");return}const o=d[0].id,{data:m}=await h.from("studies").select("*").eq("client_id",o).single();if(!m){s("‚ùå Study for Albertini not found");return}const j={...m.study_data,cancellation_reason:"Raison Technique / Toiture"},{error:b}=await h.from("studies").update({study_data:j}).eq("id",m.id);if(b)throw b;await h.from("decision_logs").insert({study_id:m.id,client_name:"Albertini",action_performed:"DATA_FIX_REASON",justification:"Correction manuelle: Raison Technique / Toiture"}),s('‚úÖ FIX APPLIED: Albertini updated to "Raison Technique"')}catch(d){s("‚ùå Error: "+d.message)}};return e.jsxs("div",{className:"max-w-5xl space-y-8",children:[e.jsxs("div",{className:"bg-orange-500/10 border border-orange-500 rounded-xl p-6 flex items-start gap-4",children:[e.jsx("span",{className:"text-3xl",children:"üõ°Ô∏è"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-orange-500 uppercase tracking-widest mb-2",children:"Zone de Maintenance Syst√®me"}),e.jsx("p",{className:"text-slate-300 text-sm",children:"Les actions ici impactent directement la production et la base de donn√©es. Toute op√©ration est loggu√©e avec votre ID session (Session #4402A)."})]})]}),e.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-widest pl-1 border-l-4 border-slate-500",children:"Modes de Fonctionnement"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-[#0a0a0a] border border-white/5 rounded-xl p-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white",children:"Shadow Brain (Lecture Seule)"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 max-w-xs",children:"L'IA analyse mais ne prend aucune d√©cision ni action. Id√©al pour le debug."})]}),e.jsx("button",{onClick:()=>a(!l),className:`w-14 h-8 rounded-full p-1 transition-colors ${l?"bg-blue-600":"bg-slate-700"}`,children:e.jsx("div",{className:`w-6 h-6 bg-white rounded-full transition-transform ${l?"translate-x-6":"translate-x-0"}`})})]}),e.jsxs("div",{className:"bg-[#0a0a0a] border border-white/5 rounded-xl p-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white",children:"Safe Mode (Arr√™t d'Urgence)"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 max-w-xs",children:"Bloque imm√©diatement tous les emails sortants et les mises √† jour CRM."})]}),e.jsx("button",{onClick:()=>t(!i),className:`w-14 h-8 rounded-full p-1 transition-colors ${i?"bg-red-600":"bg-slate-700"}`,children:e.jsx("div",{className:`w-6 h-6 bg-white rounded-full transition-transform ${i?"translate-x-6":"translate-x-0"}`})})]})]}),e.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-widest pl-1 border-l-4 border-blue-500 pt-8",children:"Corrections de Donn√©es (Legacy)"}),e.jsxs("div",{className:"bg-[#0a0a0a] border border-white/5 rounded-xl p-6 flex flex-col gap-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white",children:'Patch Dossier "Albertini"'}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 max-w-md",children:'Le dossier a √©t√© annul√© avant la mise √† jour du motif. Ce patch force le motif "Raison Technique" pour corriger les stats Pilotage.'})]}),e.jsx("button",{onClick:n,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-bold text-xs uppercase tracking-wider transition-all shadow-lg shadow-blue-500/20",children:"Appliquer Patch"})]}),r&&e.jsx("div",{className:`mt-2 p-3 rounded-lg border text-xs font-mono ${r.includes("‚úÖ")?"bg-green-500/10 border-green-500/20 text-green-400":"bg-red-500/10 border-red-500/20 text-red-400"}`,children:r})]}),e.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-widest pl-1 border-l-4 border-red-500 pt-8",children:"Actions Destructives"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(N,{title:"Purge Cache",description:"Vide le cache Redis et Force-Refresh de tous les clients connect√©s via WebSocket.",buttonLabel:"Vider le Cache"}),e.jsx(N,{title:"Reset √âtat Agents",description:"Red√©marre les instances d'Agent Zero et efface leur m√©moire court terme.",buttonLabel:"Red√©marrer Agents",warning:"Interruption de service ~30s"}),e.jsx(N,{title:"Nuke Database (Dev Only)",description:"Supprime toutes les tables et restaure le sch√©ma initial.",buttonLabel:"‚ò†Ô∏è NUKE DB",danger:!0,warning:"IRR√âVERSIBLE. PERTE TOTALE DES DONN√âES."})]})]})},O=()=>{const i=y(),[t,l]=c.useState("kpi"),a=({section:r,icon:s,label:n})=>e.jsxs("button",{onClick:()=>l(r),className:`w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 transition-all ${t===r?"bg-[#f97316]/10 text-[#f97316] border border-[#f97316]/20 shadow-[0_0_15px_rgba(249,115,22,0.1)]":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[e.jsx("span",{className:"text-xl",children:s}),e.jsx("span",{className:"font-medium text-sm tracking-wide",children:n})]});return e.jsxs("div",{className:"min-h-screen bg-[#02050a] flex text-slate-200 font-sans selection:bg-[#f97316]/30",children:[e.jsxs("aside",{className:"w-72 border-r border-white/5 flex flex-col bg-[#050505]",children:[e.jsx("div",{className:"p-6 border-b border-white/5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#f97316] to-orange-700 rounded-lg flex items-center justify-center shadow-lg shadow-orange-500/20",children:e.jsx("span",{className:"text-lg",children:"‚ö°"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-black text-white tracking-widest leading-none",children:"ADMIN"}),e.jsx("div",{className:"text-[10px] text-orange-500 font-bold uppercase tracking-widest mt-1",children:"Gouvernance"})]})]})}),e.jsxs("nav",{className:"flex-1 p-4 space-y-1",children:[e.jsx("div",{className:"px-4 py-2 text-[10px] font-bold text-slate-600 uppercase tracking-widest mb-2",children:"Pilotage"}),e.jsx(a,{section:"kpi",icon:"üìä",label:"Dashboard Vital"}),e.jsx(a,{section:"users",icon:"üë•",label:"Utilisateurs BU"}),e.jsx("div",{className:"px-4 py-2 text-[10px] font-bold text-slate-600 uppercase tracking-widest mb-2 mt-6",children:"Moteur"}),e.jsx(a,{section:"engine",icon:"‚öôÔ∏è",label:"Param√®tres Scores"}),e.jsx(a,{section:"agents",icon:"ü§ñ",label:"Monitoring Agents"}),e.jsx(a,{section:"crm",icon:"üîå",label:"Int√©grations CRM"}),e.jsx("div",{className:"px-4 py-2 text-[10px] font-bold text-slate-600 uppercase tracking-widest mb-2 mt-6",children:"Risque & Audit"}),e.jsx(a,{section:"audit",icon:"üìú",label:"Logs Forensiques"}),e.jsx(a,{section:"maintenance",icon:"üõ†Ô∏è",label:"Maintenance"})]}),e.jsx("div",{className:"p-4 border-t border-white/5",children:e.jsxs("button",{onClick:()=>i("/dashboard"),className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white transition-all text-xs font-bold uppercase tracking-wider",children:[e.jsx("span",{children:"‚¨Ö"})," Retour Cockpit"]})})]}),e.jsxs("main",{className:"flex-1 overflow-auto bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-orange-900/10 via-[#02050a] to-[#02050a]",children:[e.jsxs("header",{className:"h-20 border-b border-white/5 flex items-center justify-between px-8 backdrop-blur-md sticky top-0 z-10",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white",children:[t==="kpi"&&"Signaux Vitaux du Syst√®me",t==="users"&&"Administration des √âquipes",t==="engine"&&"Param√®tres du Moteur",t==="agents"&&"Sant√© des Agents IA",t==="audit"&&"Audit Trail & Tracabilit√©",t==="crm"&&"Connecteurs Externes",t==="maintenance"&&"Maintenance Syst√®me"]}),e.jsx("p",{className:"text-sm text-slate-500",children:"Interface de gouvernance niveau COMEX - Acc√®s restreint"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-500/10 border border-green-500/20 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsx("span",{className:"text-xs font-bold text-green-500",children:"SYSTEM HEALTHY"})]})})]}),e.jsxs("div",{className:"p-8 max-w-[1600px] mx-auto",children:[t==="kpi"&&e.jsx(A,{}),t==="users"&&e.jsx(R,{}),t==="engine"&&e.jsx(C,{}),t==="agents"&&e.jsx(E,{}),t==="audit"&&e.jsx(M,{}),t==="crm"&&e.jsx(T,{}),t==="maintenance"&&e.jsx(D,{})]})]})]})};export{O as default};
