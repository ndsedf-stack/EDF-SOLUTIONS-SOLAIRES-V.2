var UN=Object.defineProperty;var zN=(e,t,r)=>t in e?UN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Fr=(e,t,r)=>zN(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var x0={exports:{}},Gd={},g0={exports:{}},mr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function BN(){if(lv)return mr;lv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.iterator;function y(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function E(V,ce,I){this.props=V,this.context=ce,this.refs=k,this.updater=I||v}E.prototype.isReactComponent={},E.prototype.setState=function(V,ce){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ce,"setState")},E.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function A(){}A.prototype=E.prototype;function L(V,ce,I){this.props=V,this.context=ce,this.refs=k,this.updater=I||v}var P=L.prototype=new A;P.constructor=L,_(P,E.prototype),P.isPureReactComponent=!0;var R=Array.isArray,Q=Object.prototype.hasOwnProperty,te={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function se(V,ce,I){var J,ee={},le=null,ue=null;if(ce!=null)for(J in ce.ref!==void 0&&(ue=ce.ref),ce.key!==void 0&&(le=""+ce.key),ce)Q.call(ce,J)&&!oe.hasOwnProperty(J)&&(ee[J]=ce[J]);var ye=arguments.length-2;if(ye===1)ee.children=I;else if(1<ye){for(var Ce=Array(ye),fe=0;fe<ye;fe++)Ce[fe]=arguments[fe+2];ee.children=Ce}if(V&&V.defaultProps)for(J in ye=V.defaultProps,ye)ee[J]===void 0&&(ee[J]=ye[J]);return{$$typeof:e,type:V,key:le,ref:ue,props:ee,_owner:te.current}}function W(V,ce){return{$$typeof:e,type:V.type,key:ce,ref:V.ref,props:V.props,_owner:V._owner}}function ne(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function T(V){var ce={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(I){return ce[I]})}var U=/\/+/g;function Y(V,ce){return typeof V=="object"&&V!==null&&V.key!=null?T(""+V.key):ce.toString(36)}function H(V,ce,I,J,ee){var le=typeof V;(le==="undefined"||le==="boolean")&&(V=null);var ue=!1;if(V===null)ue=!0;else switch(le){case"string":case"number":ue=!0;break;case"object":switch(V.$$typeof){case e:case t:ue=!0}}if(ue)return ue=V,ee=ee(ue),V=J===""?"."+Y(ue,0):J,R(ee)?(I="",V!=null&&(I=V.replace(U,"$&/")+"/"),H(ee,ce,I,"",function(fe){return fe})):ee!=null&&(ne(ee)&&(ee=W(ee,I+(!ee.key||ue&&ue.key===ee.key?"":(""+ee.key).replace(U,"$&/")+"/")+V)),ce.push(ee)),1;if(ue=0,J=J===""?".":J+":",R(V))for(var ye=0;ye<V.length;ye++){le=V[ye];var Ce=J+Y(le,ye);ue+=H(le,ce,I,Ce,ee)}else if(Ce=y(V),typeof Ce=="function")for(V=Ce.call(V),ye=0;!(le=V.next()).done;)le=le.value,Ce=J+Y(le,ye++),ue+=H(le,ce,I,Ce,ee);else if(le==="object")throw ce=String(V),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.");return ue}function be(V,ce,I){if(V==null)return V;var J=[],ee=0;return H(V,J,"","",function(le){return ce.call(I,le,ee++)}),J}function we(V){if(V._status===-1){var ce=V._result;ce=ce(),ce.then(function(I){(V._status===0||V._status===-1)&&(V._status=1,V._result=I)},function(I){(V._status===0||V._status===-1)&&(V._status=2,V._result=I)}),V._status===-1&&(V._status=0,V._result=ce)}if(V._status===1)return V._result.default;throw V._result}var ge={current:null},ie={transition:null},pe={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:ie,ReactCurrentOwner:te};return mr.Children={map:be,forEach:function(V,ce,I){be(V,function(){ce.apply(this,arguments)},I)},count:function(V){var ce=0;return be(V,function(){ce++}),ce},toArray:function(V){return be(V,function(ce){return ce})||[]},only:function(V){if(!ne(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},mr.Component=E,mr.Fragment=r,mr.Profiler=a,mr.PureComponent=L,mr.StrictMode=n,mr.Suspense=d,mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,mr.cloneElement=function(V,ce,I){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var J=_({},V.props),ee=V.key,le=V.ref,ue=V._owner;if(ce!=null){if(ce.ref!==void 0&&(le=ce.ref,ue=te.current),ce.key!==void 0&&(ee=""+ce.key),V.type&&V.type.defaultProps)var ye=V.type.defaultProps;for(Ce in ce)Q.call(ce,Ce)&&!oe.hasOwnProperty(Ce)&&(J[Ce]=ce[Ce]===void 0&&ye!==void 0?ye[Ce]:ce[Ce])}var Ce=arguments.length-2;if(Ce===1)J.children=I;else if(1<Ce){ye=Array(Ce);for(var fe=0;fe<Ce;fe++)ye[fe]=arguments[fe+2];J.children=ye}return{$$typeof:e,type:V.type,key:ee,ref:le,props:J,_owner:ue}},mr.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:o,_context:V},V.Consumer=V},mr.createElement=se,mr.createFactory=function(V){var ce=se.bind(null,V);return ce.type=V,ce},mr.createRef=function(){return{current:null}},mr.forwardRef=function(V){return{$$typeof:u,render:V}},mr.isValidElement=ne,mr.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:we}},mr.memo=function(V,ce){return{$$typeof:f,type:V,compare:ce===void 0?null:ce}},mr.startTransition=function(V){var ce=ie.transition;ie.transition={};try{V()}finally{ie.transition=ce}},mr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},mr.useCallback=function(V,ce){return ge.current.useCallback(V,ce)},mr.useContext=function(V){return ge.current.useContext(V)},mr.useDebugValue=function(){},mr.useDeferredValue=function(V){return ge.current.useDeferredValue(V)},mr.useEffect=function(V,ce){return ge.current.useEffect(V,ce)},mr.useId=function(){return ge.current.useId()},mr.useImperativeHandle=function(V,ce,I){return ge.current.useImperativeHandle(V,ce,I)},mr.useInsertionEffect=function(V,ce){return ge.current.useInsertionEffect(V,ce)},mr.useLayoutEffect=function(V,ce){return ge.current.useLayoutEffect(V,ce)},mr.useMemo=function(V,ce){return ge.current.useMemo(V,ce)},mr.useReducer=function(V,ce,I){return ge.current.useReducer(V,ce,I)},mr.useRef=function(V){return ge.current.useRef(V)},mr.useState=function(V){return ge.current.useState(V)},mr.useSyncExternalStore=function(V,ce,I){return ge.current.useSyncExternalStore(V,ce,I)},mr.useTransition=function(){return ge.current.useTransition()},mr.version="18.2.0",mr}var cv;function Pg(){return cv||(cv=1,g0.exports=BN()),g0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function $N(){if(uv)return Gd;uv=1;var e=Pg(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,f){var p,b={},y=null,v=null;f!==void 0&&(y=""+f),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!o.hasOwnProperty(p)&&(b[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)b[p]===void 0&&(b[p]=d[p]);return{$$typeof:t,type:u,key:y,ref:v,props:b,_owner:a.current}}return Gd.Fragment=r,Gd.jsx=c,Gd.jsxs=c,Gd}var dv;function VN(){return dv||(dv=1,x0.exports=$N()),x0.exports}var s=VN(),z=Pg();const jt=kc(z);var of={},v0={exports:{}},Vi={},b0={exports:{}},y0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function WN(){return hv||(hv=1,(function(e){function t(ie,pe){var V=ie.length;ie.push(pe);e:for(;0<V;){var ce=V-1>>>1,I=ie[ce];if(0<a(I,pe))ie[ce]=pe,ie[V]=I,V=ce;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var pe=ie[0],V=ie.pop();if(V!==pe){ie[0]=V;e:for(var ce=0,I=ie.length,J=I>>>1;ce<J;){var ee=2*(ce+1)-1,le=ie[ee],ue=ee+1,ye=ie[ue];if(0>a(le,V))ue<I&&0>a(ye,le)?(ie[ce]=ye,ie[ue]=V,ce=ue):(ie[ce]=le,ie[ee]=V,ce=ee);else if(ue<I&&0>a(ye,V))ie[ce]=ye,ie[ue]=V,ce=ue;else break e}}return pe}function a(ie,pe){var V=ie.sortIndex-pe.sortIndex;return V!==0?V:ie.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var d=[],f=[],p=1,b=null,y=3,v=!1,_=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ie){for(var pe=r(f);pe!==null;){if(pe.callback===null)n(f);else if(pe.startTime<=ie)n(f),pe.sortIndex=pe.expirationTime,t(d,pe);else break;pe=r(f)}}function R(ie){if(k=!1,P(ie),!_)if(r(d)!==null)_=!0,we(Q);else{var pe=r(f);pe!==null&&ge(R,pe.startTime-ie)}}function Q(ie,pe){_=!1,k&&(k=!1,A(se),se=-1),v=!0;var V=y;try{for(P(pe),b=r(d);b!==null&&(!(b.expirationTime>pe)||ie&&!T());){var ce=b.callback;if(typeof ce=="function"){b.callback=null,y=b.priorityLevel;var I=ce(b.expirationTime<=pe);pe=e.unstable_now(),typeof I=="function"?b.callback=I:b===r(d)&&n(d),P(pe)}else n(d);b=r(d)}if(b!==null)var J=!0;else{var ee=r(f);ee!==null&&ge(R,ee.startTime-pe),J=!1}return J}finally{b=null,y=V,v=!1}}var te=!1,oe=null,se=-1,W=5,ne=-1;function T(){return!(e.unstable_now()-ne<W)}function U(){if(oe!==null){var ie=e.unstable_now();ne=ie;var pe=!0;try{pe=oe(!0,ie)}finally{pe?Y():(te=!1,oe=null)}}else te=!1}var Y;if(typeof L=="function")Y=function(){L(U)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,be=H.port2;H.port1.onmessage=U,Y=function(){be.postMessage(null)}}else Y=function(){E(U,0)};function we(ie){oe=ie,te||(te=!0,Y())}function ge(ie,pe){se=E(function(){ie(e.unstable_now())},pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_continueExecution=function(){_||v||(_=!0,we(Q))},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(ie){switch(y){case 1:case 2:case 3:var pe=3;break;default:pe=y}var V=y;y=pe;try{return ie()}finally{y=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ie,pe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var V=y;y=ie;try{return pe()}finally{y=V}},e.unstable_scheduleCallback=function(ie,pe,V){var ce=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ce+V:ce):V=ce,ie){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=V+I,ie={id:p++,callback:pe,priorityLevel:ie,startTime:V,expirationTime:I,sortIndex:-1},V>ce?(ie.sortIndex=V,t(f,ie),r(d)===null&&ie===r(f)&&(k?(A(se),se=-1):k=!0,ge(R,V-ce))):(ie.sortIndex=I,t(d,ie),_||v||(_=!0,we(Q))),ie},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(ie){var pe=y;return function(){var V=y;y=pe;try{return ie.apply(this,arguments)}finally{y=V}}}})(y0)),y0}var fv;function HN(){return fv||(fv=1,b0.exports=WN()),b0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function GN(){if(pv)return Vi;pv=1;var e=Pg(),t=HN();function r(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function o(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(a[i]=l,i=0;i<l.length;i++)n.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},b={};function y(i){return d.call(b,i)?!0:d.call(p,i)?!1:f.test(i)?b[i]=!0:(p[i]=!0,!1)}function v(i,l,h,x){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return x?!1:h!==null?!h.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function _(i,l,h,x){if(l===null||typeof l>"u"||v(i,l,h,x))return!0;if(x)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function k(i,l,h,x,N,S,D){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=x,this.attributeNamespace=N,this.mustUseProperty=h,this.propertyName=i,this.type=l,this.sanitizeURL=S,this.removeEmptyString=D}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){E[i]=new k(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];E[l]=new k(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){E[i]=new k(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){E[i]=new k(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){E[i]=new k(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){E[i]=new k(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){E[i]=new k(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){E[i]=new k(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){E[i]=new k(i,5,!1,i.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function L(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(A,L);E[l]=new k(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(A,L);E[l]=new k(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(A,L);E[l]=new k(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){E[i]=new k(i,1,!1,i.toLowerCase(),null,!1,!1)}),E.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){E[i]=new k(i,1,!1,i.toLowerCase(),null,!0,!0)});function P(i,l,h,x){var N=E.hasOwnProperty(l)?E[l]:null;(N!==null?N.type!==0:x||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(_(l,h,N,x)&&(h=null),x||N===null?y(l)&&(h===null?i.removeAttribute(l):i.setAttribute(l,""+h)):N.mustUseProperty?i[N.propertyName]=h===null?N.type===3?!1:"":h:(l=N.attributeName,x=N.attributeNamespace,h===null?i.removeAttribute(l):(N=N.type,h=N===3||N===4&&h===!0?"":""+h,x?i.setAttributeNS(x,l,h):i.setAttribute(l,h))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),te=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),T=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),ie=Symbol.iterator;function pe(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var V=Object.assign,ce;function I(i){if(ce===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);ce=l&&l[1]||""}return`
`+ce+i}var J=!1;function ee(i,l){if(!i||J)return"";J=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Ie){var x=Ie}Reflect.construct(i,[],l)}else{try{l.call()}catch(Ie){x=Ie}i.call(l.prototype)}else{try{throw Error()}catch(Ie){x=Ie}i()}}catch(Ie){if(Ie&&x&&typeof Ie.stack=="string"){for(var N=Ie.stack.split(`
`),S=x.stack.split(`
`),D=N.length-1,ae=S.length-1;1<=D&&0<=ae&&N[D]!==S[ae];)ae--;for(;1<=D&&0<=ae;D--,ae--)if(N[D]!==S[ae]){if(D!==1||ae!==1)do if(D--,ae--,0>ae||N[D]!==S[ae]){var xe=`
`+N[D].replace(" at new "," at ");return i.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",i.displayName)),xe}while(1<=D&&0<=ae);break}}}finally{J=!1,Error.prepareStackTrace=h}return(i=i?i.displayName||i.name:"")?I(i):""}function le(i){switch(i.tag){case 5:return I(i.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return i=ee(i.type,!1),i;case 11:return i=ee(i.type.render,!1),i;case 1:return i=ee(i.type,!0),i;default:return""}}function ue(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case oe:return"Fragment";case te:return"Portal";case W:return"Profiler";case se:return"StrictMode";case Y:return"Suspense";case H:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case T:return(i.displayName||"Context")+".Consumer";case ne:return(i._context.displayName||"Context")+".Provider";case U:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case be:return l=i.displayName||null,l!==null?l:ue(i.type)||"Memo";case we:l=i._payload,i=i._init;try{return ue(i(l))}catch{}}return null}function ye(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(l);case 8:return l===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ce(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function fe(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function me(i){var l=fe(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),x=""+i[l];if(!i.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var N=h.get,S=h.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return N.call(this)},set:function(D){x=""+D,S.call(this,D)}}),Object.defineProperty(i,l,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function(D){x=""+D},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Oe(i){i._valueTracker||(i._valueTracker=me(i))}function je(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var h=l.getValue(),x="";return i&&(x=fe(i)?i.checked?"true":"false":i.value),i=x,i!==h?(l.setValue(i),!0):!1}function Ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ze(i,l){var h=l.checked;return V({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??i._wrapperState.initialChecked})}function K(i,l){var h=l.defaultValue==null?"":l.defaultValue,x=l.checked!=null?l.checked:l.defaultChecked;h=Ce(l.value!=null?l.value:h),i._wrapperState={initialChecked:x,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function We(i,l){l=l.checked,l!=null&&P(i,"checked",l,!1)}function vt(i,l){We(i,l);var h=Ce(l.value),x=l.type;if(h!=null)x==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+h):i.value!==""+h&&(i.value=""+h);else if(x==="submit"||x==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?Be(i,l.type,h):l.hasOwnProperty("defaultValue")&&Be(i,l.type,Ce(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function tt(i,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var x=l.type;if(!(x!=="submit"&&x!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,h||l===i.value||(i.value=l),i.defaultValue=l}h=i.name,h!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,h!==""&&(i.name=h)}function Be(i,l,h){(l!=="number"||Ve(i.ownerDocument)!==i)&&(h==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+h&&(i.defaultValue=""+h))}var ht=Array.isArray;function Ze(i,l,h,x){if(i=i.options,l){l={};for(var N=0;N<h.length;N++)l["$"+h[N]]=!0;for(h=0;h<i.length;h++)N=l.hasOwnProperty("$"+i[h].value),i[h].selected!==N&&(i[h].selected=N),N&&x&&(i[h].defaultSelected=!0)}else{for(h=""+Ce(h),l=null,N=0;N<i.length;N++){if(i[N].value===h){i[N].selected=!0,x&&(i[N].defaultSelected=!0);return}l!==null||i[N].disabled||(l=i[N])}l!==null&&(l.selected=!0)}}function mt(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return V({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function xt(i,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(r(92));if(ht(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),h=l}i._wrapperState={initialValue:Ce(h)}}function yr(i,l){var h=Ce(l.value),x=Ce(l.defaultValue);h!=null&&(h=""+h,h!==i.value&&(i.value=h),l.defaultValue==null&&i.defaultValue!==h&&(i.defaultValue=h)),x!=null&&(i.defaultValue=""+x)}function nr(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function $t(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sr(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?$t(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Jt,at=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,x,N){MSApp.execUnsafeLocalFunction(function(){return i(l,h,x,N)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Jt=Jt||document.createElement("div"),Jt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Jt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function Mt(i,l){if(l){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=l;return}}i.textContent=l}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qr=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(i){Qr.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),ot[l]=ot[i]})});function Qt(i,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||ot.hasOwnProperty(i)&&ot[i]?(""+l).trim():l+"px"}function Gt(i,l){i=i.style;for(var h in l)if(l.hasOwnProperty(h)){var x=h.indexOf("--")===0,N=Qt(h,l[h],x);h==="float"&&(h="cssFloat"),x?i.setProperty(h,N):i[h]=N}}var Vt=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Or(i,l){if(l){if(Vt[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function yt(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Er=null;function kt(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ut=null,jr=null,Yt=null;function At(i){if(i=xo(i)){if(typeof Ut!="function")throw Error(r(280));var l=i.stateNode;l&&(l=rl(l),Ut(i.stateNode,i.type,l))}}function lr(i){jr?Yt?Yt.push(i):Yt=[i]:jr=i}function Qa(){if(jr){var i=jr,l=Yt;if(Yt=jr=null,At(i),l)for(i=0;i<l.length;i++)At(l[i])}}function zn(i,l){return i(l)}function Gi(){}var oi=!1;function Lt(i,l,h){if(oi)return i(l,h);oi=!0;try{return zn(i,l,h)}finally{oi=!1,(jr!==null||Yt!==null)&&(Gi(),Qa())}}function Us(i,l){var h=i.stateNode;if(h===null)return null;var x=rl(h);if(x===null)return null;h=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(i=i.type,x=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!x;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var wn=!1;if(u)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){wn=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{wn=!1}function Ns(i,l,h,x,N,S,D,ae,xe){var Ie=Array.prototype.slice.call(arguments,3);try{l.apply(h,Ie)}catch(Ge){this.onError(Ge)}}var gr=!1,Zr=null,an=!1,Yi=null,zs={onError:function(i){gr=!0,Zr=i}};function Bs(i,l,h,x,N,S,D,ae,xe){gr=!1,Zr=null,Ns.apply(zs,arguments)}function $s(i,l,h,x,N,S,D,ae,xe){if(Bs.apply(this,arguments),gr){if(gr){var Ie=Zr;gr=!1,Zr=null}else throw Error(r(198));an||(an=!0,Yi=Ie)}}function Nn(i){var l=i,h=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(h=l.return),i=l.return;while(i)}return l.tag===3?h:null}function li(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Vs(i){if(Nn(i)!==i)throw Error(r(188))}function Ki(i){var l=i.alternate;if(!l){if(l=Nn(i),l===null)throw Error(r(188));return l!==i?null:i}for(var h=i,x=l;;){var N=h.return;if(N===null)break;var S=N.alternate;if(S===null){if(x=N.return,x!==null){h=x;continue}break}if(N.child===S.child){for(S=N.child;S;){if(S===h)return Vs(N),i;if(S===x)return Vs(N),l;S=S.sibling}throw Error(r(188))}if(h.return!==x.return)h=N,x=S;else{for(var D=!1,ae=N.child;ae;){if(ae===h){D=!0,h=N,x=S;break}if(ae===x){D=!0,x=N,h=S;break}ae=ae.sibling}if(!D){for(ae=S.child;ae;){if(ae===h){D=!0,h=S,x=N;break}if(ae===x){D=!0,x=S,h=N;break}ae=ae.sibling}if(!D)throw Error(r(189))}}if(h.alternate!==x)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?i:l}function ci(i){return i=Ki(i),i!==null?Za(i):null}function Za(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Za(i);if(l!==null)return l;i=i.sibling}return null}var Oo=t.unstable_scheduleCallback,Io=t.unstable_cancelCallback,Mo=t.unstable_shouldYield,Eu=t.unstable_requestPaint,Mr=t.unstable_now,Cc=t.unstable_getCurrentPriorityLevel,Fo=t.unstable_ImmediatePriority,Ws=t.unstable_UserBlockingPriority,ba=t.unstable_NormalPriority,hn=t.unstable_LowPriority,ya=t.unstable_IdlePriority,Do=null,ds=null;function Ac(i){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(Do,i,void 0,(i.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:pn,gl=Math.log,Cu=Math.LN2;function pn(i){return i>>>=0,i===0?32:31-(gl(i)/Cu|0)|0}var eo=64,Hs=4194304;function Ji(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function jn(i,l){var h=i.pendingLanes;if(h===0)return 0;var x=0,N=i.suspendedLanes,S=i.pingedLanes,D=h&268435455;if(D!==0){var ae=D&~N;ae!==0?x=Ji(ae):(S&=D,S!==0&&(x=Ji(S)))}else D=h&~N,D!==0?x=Ji(D):S!==0&&(x=Ji(S));if(x===0)return 0;if(l!==0&&l!==x&&(l&N)===0&&(N=x&-x,S=l&-l,N>=S||N===16&&(S&4194240)!==0))return l;if((x&4)!==0&&(x|=h&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=x;0<l;)h=31-fn(l),N=1<<h,x|=i[h],l&=~N;return x}function js(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cr(i,l){for(var h=i.suspendedLanes,x=i.pingedLanes,N=i.expirationTimes,S=i.pendingLanes;0<S;){var D=31-fn(S),ae=1<<D,xe=N[D];xe===-1?((ae&h)===0||(ae&x)!==0)&&(N[D]=js(ae,l)):xe<=l&&(i.expiredLanes|=ae),S&=~ae}}function Gs(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Kn(){var i=eo;return eo<<=1,(eo&4194240)===0&&(eo=64),i}function qo(i){for(var l=[],h=0;31>h;h++)l.push(i);return l}function Bn(i,l,h){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-fn(l),i[l]=h}function ki(i,l){var h=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var x=i.eventTimes;for(i=i.expirationTimes;0<h;){var N=31-fn(h),S=1<<N;l[N]=0,x[N]=-1,i[N]=-1,h&=~S}}function rr(i,l){var h=i.entangledLanes|=l;for(i=i.entanglements;h;){var x=31-fn(h),N=1<<x;N&l|i[x]&l&&(i[x]|=l),h&=~N}}var hr=0;function wa(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Na,Yl,Kl,Pc,Uo,zo=!1,$n=[],Xi=null,_s=null,Jn=null,to=new Map,Et=new Map,Ei=[],Jl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bo(i,l){switch(i){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":to.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(l.pointerId)}}function _n(i,l,h,x,N,S){return i===null||i.nativeEvent!==S?(i={blockedOn:l,domEventName:h,eventSystemFlags:x,nativeEvent:S,targetContainers:[N]},l!==null&&(l=xo(l),l!==null&&Yl(l)),i):(i.eventSystemFlags|=x,l=i.targetContainers,N!==null&&l.indexOf(N)===-1&&l.push(N),i)}function Ci(i,l,h,x,N){switch(l){case"focusin":return Xi=_n(Xi,i,l,h,x,N),!0;case"dragenter":return _s=_n(_s,i,l,h,x,N),!0;case"mouseover":return Jn=_n(Jn,i,l,h,x,N),!0;case"pointerover":var S=N.pointerId;return to.set(S,_n(to.get(S)||null,i,l,h,x,N)),!0;case"gotpointercapture":return S=N.pointerId,Et.set(S,_n(Et.get(S)||null,i,l,h,x,N)),!0}return!1}function ro(i){var l=ia(i.target);if(l!==null){var h=Nn(l);if(h!==null){if(l=h.tag,l===13){if(l=li(h),l!==null){i.blockedOn=l,Uo(i.priority,function(){Kl(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ui(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var h=_a(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(h===null){h=i.nativeEvent;var x=new h.constructor(h.type,h);Er=x,h.target.dispatchEvent(x),Er=null}else return l=xo(h),l!==null&&Yl(l),i.blockedOn=h,!1;l.shift()}return!0}function $o(i,l,h){ui(i)&&h.delete(l)}function Xl(){zo=!1,Xi!==null&&ui(Xi)&&(Xi=null),_s!==null&&ui(_s)&&(_s=null),Jn!==null&&ui(Jn)&&(Jn=null),to.forEach($o),Et.forEach($o)}function Xn(i,l){i.blockedOn===l&&(i.blockedOn=null,zo||(zo=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Xl)))}function no(i){function l(N){return Xn(N,i)}if(0<$n.length){Xn($n[0],i);for(var h=1;h<$n.length;h++){var x=$n[h];x.blockedOn===i&&(x.blockedOn=null)}}for(Xi!==null&&Xn(Xi,i),_s!==null&&Xn(_s,i),Jn!==null&&Xn(Jn,i),to.forEach(l),Et.forEach(l),h=0;h<Ei.length;h++)x=Ei[h],x.blockedOn===i&&(x.blockedOn=null);for(;0<Ei.length&&(h=Ei[0],h.blockedOn===null);)ro(h),h.blockedOn===null&&Ei.shift()}var Tn=R.ReactCurrentBatchConfig,Vo=!0;function vl(i,l,h,x){var N=hr,S=Tn.transition;Tn.transition=null;try{hr=1,ja(i,l,h,x)}finally{hr=N,Tn.transition=S}}function Ql(i,l,h,x){var N=hr,S=Tn.transition;Tn.transition=null;try{hr=4,ja(i,l,h,x)}finally{hr=N,Tn.transition=S}}function ja(i,l,h,x){if(Vo){var N=_a(i,l,h,x);if(N===null)Zo(i,l,x,Ys,h),Bo(i,x);else if(Ci(N,i,l,h,x))x.stopPropagation();else if(Bo(i,x),l&4&&-1<Jl.indexOf(i)){for(;N!==null;){var S=xo(N);if(S!==null&&Na(S),S=_a(i,l,h,x),S===null&&Zo(i,l,x,Ys,h),S===N)break;N=S}N!==null&&x.stopPropagation()}else Zo(i,l,x,null,h)}}var Ys=null;function _a(i,l,h,x){if(Ys=null,i=kt(x),i=ia(i),i!==null)if(l=Nn(i),l===null)i=null;else if(h=l.tag,h===13){if(i=li(l),i!==null)return i;i=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return Ys=i,null}function so(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cc()){case Fo:return 1;case Ws:return 4;case ba:case hn:return 16;case ya:return 536870912;default:return 16}default:return 16}}var Ss=null,Qi=null,Ks=null;function bl(){if(Ks)return Ks;var i,l=Qi,h=l.length,x,N="value"in Ss?Ss.value:Ss.textContent,S=N.length;for(i=0;i<h&&l[i]===N[i];i++);var D=h-i;for(x=1;x<=D&&l[h-x]===N[S-x];x++);return Ks=N.slice(i,1<x?1-x:void 0)}function Js(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function di(){return!0}function Vr(){return!1}function Qn(i){function l(h,x,N,S,D){this._reactName=h,this._targetInst=N,this.type=x,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var ae in i)i.hasOwnProperty(ae)&&(h=i[ae],this[ae]=h?h(S):S[ae]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?di:Vr,this.isPropagationStopped=Vr,this}return V(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),l}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=Qn(Sn),w=V({},Sn,{view:0,detail:0}),M=Qn(w),re,de,_e,qe=V({},w,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_e&&(_e&&i.type==="mousemove"?(re=i.screenX-_e.screenX,de=i.screenY-_e.screenY):de=re=0,_e=i),re)},movementY:function(i){return"movementY"in i?i.movementY:de}}),$e=Qn(qe),lt=V({},qe,{dataTransfer:0}),et=Qn(lt),Tt=V({},w,{relatedTarget:0}),_t=Qn(Tt),ir=V({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ft=Qn(ir),en=V({},Sn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),tr=Qn(en),on=V({},Sn,{data:0}),ur=Qn(on),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ai={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rn(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Ai[i])?!!l[i]:!1}function io(){return Rn}var vr=V({},w,{key:function(i){if(i.key){var l=kn[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Js(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zi[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(i){return i.type==="keypress"?Js(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Js(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),hi=Qn(vr),Pi=V({},qe,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sa=Qn(Pi),ka=V({},w,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),ln=Qn(ka),Ea=V({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ca=Qn(Ea),wl=V({},qe,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ao=Qn(wl),Zn=[9,13,27,32],fi=u&&"CompositionEvent"in window,Li=null;u&&"documentMode"in document&&(Li=document.documentMode);var ea=u&&"TextEvent"in window&&!Li,ks=u&&(!fi||Li&&8<Li&&11>=Li),oo=" ",Wo=!1;function Nl(i,l){switch(i){case"keyup":return Zn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var pi=!1;function Es(i,l){switch(i){case"compositionend":return Aa(l);case"keypress":return l.which!==32?null:(Wo=!0,oo);case"textInput":return i=l.data,i===oo&&Wo?null:i;default:return null}}function Xs(i,l){if(pi)return i==="compositionend"||!fi&&Nl(i,l)?(i=bl(),Ks=Qi=Ss=null,pi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ks&&l.locale!=="ko"?null:l.data;default:return null}}var lo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ti(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!lo[i.type]:l==="textarea"}function ta(i,l,h,x){lr(x),l=El(l,"onChange"),0<l.length&&(h=new yl("onChange","change",null,h,x),i.push({event:h,listeners:l}))}var Pa=null,Ri=null;function Wr(i){Sl(i,0)}function ra(i){var l=Fa(i);if(je(l))return i}function mi(i,l){if(i==="change")return l}var xi=!1;if(u){var co;if(u){var uo="oninput"in document;if(!uo){var Oi=document.createElement("div");Oi.setAttribute("oninput","return;"),uo=typeof Oi.oninput=="function"}co=uo}else co=!1;xi=co&&(!document.documentMode||9<document.documentMode)}function Ho(){Pa&&(Pa.detachEvent("onpropertychange",gi),Ri=Pa=null)}function gi(i){if(i.propertyName==="value"&&ra(Ri)){var l=[];ta(l,Ri,i,kt(i)),Lt(Wr,l)}}function ho(i,l,h){i==="focusin"?(Ho(),Pa=l,Ri=h,Pa.attachEvent("onpropertychange",gi)):i==="focusout"&&Ho()}function vi(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ra(Ri)}function La(i,l){if(i==="click")return ra(l)}function On(i,l){if(i==="input"||i==="change")return ra(l)}function Ta(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var br=typeof Object.is=="function"?Object.is:Ta;function es(i,l){if(br(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var h=Object.keys(i),x=Object.keys(l);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var N=h[x];if(!d.call(l,N)||!br(i[N],l[N]))return!1}return!0}function wr(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Tr(i,l){var h=wr(i);i=0;for(var x;h;){if(h.nodeType===3){if(x=i+h.textContent.length,i<=l&&x>=l)return{node:h,offset:l-i};i=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=wr(h)}}function tn(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?tn(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function mn(){for(var i=window,l=Ve();l instanceof i.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)i=l.contentWindow;else break;l=Ve(i.document)}return l}function hs(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function Go(i){var l=mn(),h=i.focusedElem,x=i.selectionRange;if(l!==h&&h&&h.ownerDocument&&tn(h.ownerDocument.documentElement,h)){if(x!==null&&hs(h)){if(l=x.start,i=x.end,i===void 0&&(i=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(i,h.value.length);else if(i=(l=h.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var N=h.textContent.length,S=Math.min(x.start,N);x=x.end===void 0?S:Math.min(x.end,N),!i.extend&&S>x&&(N=x,x=S,S=N),N=Tr(h,S);var D=Tr(h,x);N&&D&&(i.rangeCount!==1||i.anchorNode!==N.node||i.anchorOffset!==N.offset||i.focusNode!==D.node||i.focusOffset!==D.offset)&&(l=l.createRange(),l.setStart(N.node,N.offset),i.removeAllRanges(),S>x?(i.addRange(l),i.extend(D.node,D.offset)):(l.setEnd(D.node,D.offset),i.addRange(l)))}}for(l=[],i=h;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)i=l[h],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var jl=u&&"documentMode"in document&&11>=document.documentMode,na=null,bi=null,Ra=null,Yo=!1;function Lc(i,l,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Yo||na==null||na!==Ve(x)||(x=na,"selectionStart"in x&&hs(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ra&&es(Ra,x)||(Ra=x,x=El(bi,"onSelect"),0<x.length&&(l=new yl("onSelect","select",null,l,h),i.push({event:l,listeners:x}),l.target=na)))}function _l(i,l){var h={};return h[i.toLowerCase()]=l.toLowerCase(),h["Webkit"+i]="webkit"+l,h["Moz"+i]="moz"+l,h}var Se={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionend:_l("Transition","TransitionEnd")},Cs={},sa={};u&&(sa=document.createElement("div").style,"AnimationEvent"in window||(delete Se.animationend.animation,delete Se.animationiteration.animation,delete Se.animationstart.animation),"TransitionEvent"in window||delete Se.transitionend.transition);function Ii(i){if(Cs[i])return Cs[i];if(!Se[i])return i;var l=Se[i],h;for(h in l)if(l.hasOwnProperty(h)&&h in sa)return Cs[i]=l[h];return i}var Zl=Ii("animationend"),Au=Ii("animationiteration"),ec=Ii("animationstart"),Tc=Ii("transitionend"),Rc=new Map,Oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function As(i,l){Rc.set(i,l),o(l,[i])}for(var Ko=0;Ko<Oc.length;Ko++){var ts=Oc[Ko],Ps=ts.toLowerCase(),Jo=ts[0].toUpperCase()+ts.slice(1);As(Ps,"on"+Jo)}As(Zl,"onAnimationEnd"),As(Au,"onAnimationIteration"),As(ec,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(Tc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ic=new Set("cancel close invalid load scroll toggle".split(" ").concat(yi));function Xo(i,l,h){var x=i.type||"unknown-event";i.currentTarget=h,$s(x,l,void 0,i),i.currentTarget=null}function Sl(i,l){l=(l&4)!==0;for(var h=0;h<i.length;h++){var x=i[h],N=x.event;x=x.listeners;e:{var S=void 0;if(l)for(var D=x.length-1;0<=D;D--){var ae=x[D],xe=ae.instance,Ie=ae.currentTarget;if(ae=ae.listener,xe!==S&&N.isPropagationStopped())break e;Xo(N,ae,Ie),S=xe}else for(D=0;D<x.length;D++){if(ae=x[D],xe=ae.instance,Ie=ae.currentTarget,ae=ae.listener,xe!==S&&N.isPropagationStopped())break e;Xo(N,ae,Ie),S=xe}}}if(an)throw i=Yi,an=!1,Yi=null,i}function Cr(i,l){var h=l[ns];h===void 0&&(h=l[ns]=new Set);var x=i+"__bubble";h.has(x)||(Qo(l,i,2,!1),h.add(x))}function kl(i,l,h){var x=0;l&&(x|=4),Qo(h,i,x,l)}var fo="_reactListening"+Math.random().toString(36).slice(2);function Oa(i){if(!i[fo]){i[fo]=!0,n.forEach(function(h){h!=="selectionchange"&&(Ic.has(h)||kl(h,!1,i),kl(h,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[fo]||(l[fo]=!0,kl("selectionchange",!1,l))}}function Qo(i,l,h,x){switch(so(l)){case 1:var N=vl;break;case 4:N=Ql;break;default:N=ja}h=N.bind(null,l,h,i),N=void 0,!wn||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(N=!0),x?N!==void 0?i.addEventListener(l,h,{capture:!0,passive:N}):i.addEventListener(l,h,!0):N!==void 0?i.addEventListener(l,h,{passive:N}):i.addEventListener(l,h,!1)}function Zo(i,l,h,x,N){var S=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var D=x.tag;if(D===3||D===4){var ae=x.stateNode.containerInfo;if(ae===N||ae.nodeType===8&&ae.parentNode===N)break;if(D===4)for(D=x.return;D!==null;){var xe=D.tag;if((xe===3||xe===4)&&(xe=D.stateNode.containerInfo,xe===N||xe.nodeType===8&&xe.parentNode===N))return;D=D.return}for(;ae!==null;){if(D=ia(ae),D===null)return;if(xe=D.tag,xe===5||xe===6){x=S=D;continue e}ae=ae.parentNode}}x=x.return}Lt(function(){var Ie=S,Ge=kt(h),Ye=[];e:{var He=Rc.get(i);if(He!==void 0){var rt=yl,ft=i;switch(i){case"keypress":if(Js(h)===0)break e;case"keydown":case"keyup":rt=hi;break;case"focusin":ft="focus",rt=_t;break;case"focusout":ft="blur",rt=_t;break;case"beforeblur":case"afterblur":rt=_t;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=$e;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=et;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=ln;break;case Zl:case Au:case ec:rt=Ft;break;case Tc:rt=Ca;break;case"scroll":rt=M;break;case"wheel":rt=ao;break;case"copy":case"cut":case"paste":rt=tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Sa}var gt=(l&4)!==0,Mn=!gt&&i==="scroll",Te=gt?He!==null?He+"Capture":null:He;gt=[];for(var Ne=Ie,Re;Ne!==null;){Re=Ne;var Ke=Re.stateNode;if(Re.tag===5&&Ke!==null&&(Re=Ke,Te!==null&&(Ke=Us(Ne,Te),Ke!=null&&gt.push(el(Ne,Ke,Re)))),Mn)break;Ne=Ne.return}0<gt.length&&(He=new rt(He,ft,null,h,Ge),Ye.push({event:He,listeners:gt}))}}if((l&7)===0){e:{if(He=i==="mouseover"||i==="pointerover",rt=i==="mouseout"||i==="pointerout",He&&h!==Er&&(ft=h.relatedTarget||h.fromElement)&&(ia(ft)||ft[In]))break e;if((rt||He)&&(He=Ge.window===Ge?Ge:(He=Ge.ownerDocument)?He.defaultView||He.parentWindow:window,rt?(ft=h.relatedTarget||h.toElement,rt=Ie,ft=ft?ia(ft):null,ft!==null&&(Mn=Nn(ft),ft!==Mn||ft.tag!==5&&ft.tag!==6)&&(ft=null)):(rt=null,ft=Ie),rt!==ft)){if(gt=$e,Ke="onMouseLeave",Te="onMouseEnter",Ne="mouse",(i==="pointerout"||i==="pointerover")&&(gt=Sa,Ke="onPointerLeave",Te="onPointerEnter",Ne="pointer"),Mn=rt==null?He:Fa(rt),Re=ft==null?He:Fa(ft),He=new gt(Ke,Ne+"leave",rt,h,Ge),He.target=Mn,He.relatedTarget=Re,Ke=null,ia(Ge)===Ie&&(gt=new gt(Te,Ne+"enter",ft,h,Ge),gt.target=Re,gt.relatedTarget=Mn,Ke=gt),Mn=Ke,rt&&ft)t:{for(gt=rt,Te=ft,Ne=0,Re=gt;Re;Re=Ia(Re))Ne++;for(Re=0,Ke=Te;Ke;Ke=Ia(Ke))Re++;for(;0<Ne-Re;)gt=Ia(gt),Ne--;for(;0<Re-Ne;)Te=Ia(Te),Re--;for(;Ne--;){if(gt===Te||Te!==null&&gt===Te.alternate)break t;gt=Ia(gt),Te=Ia(Te)}gt=null}else gt=null;rt!==null&&Mc(Ye,He,rt,gt,!1),ft!==null&&Mn!==null&&Mc(Ye,Mn,ft,gt,!0)}}e:{if(He=Ie?Fa(Ie):window,rt=He.nodeName&&He.nodeName.toLowerCase(),rt==="select"||rt==="input"&&He.type==="file")var bt=mi;else if(Ti(He))if(xi)bt=On;else{bt=vi;var Rt=ho}else(rt=He.nodeName)&&rt.toLowerCase()==="input"&&(He.type==="checkbox"||He.type==="radio")&&(bt=La);if(bt&&(bt=bt(i,Ie))){ta(Ye,bt,h,Ge);break e}Rt&&Rt(i,He,Ie),i==="focusout"&&(Rt=He._wrapperState)&&Rt.controlled&&He.type==="number"&&Be(He,"number",He.value)}switch(Rt=Ie?Fa(Ie):window,i){case"focusin":(Ti(Rt)||Rt.contentEditable==="true")&&(na=Rt,bi=Ie,Ra=null);break;case"focusout":Ra=bi=na=null;break;case"mousedown":Yo=!0;break;case"contextmenu":case"mouseup":case"dragend":Yo=!1,Lc(Ye,h,Ge);break;case"selectionchange":if(jl)break;case"keydown":case"keyup":Lc(Ye,h,Ge)}var Ot;if(fi)e:{switch(i){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else pi?Nl(i,h)&&(Wt="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(Wt="onCompositionStart");Wt&&(ks&&h.locale!=="ko"&&(pi||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&pi&&(Ot=bl()):(Ss=Ge,Qi="value"in Ss?Ss.value:Ss.textContent,pi=!0)),Rt=El(Ie,Wt),0<Rt.length&&(Wt=new ur(Wt,i,null,h,Ge),Ye.push({event:Wt,listeners:Rt}),Ot?Wt.data=Ot:(Ot=Aa(h),Ot!==null&&(Wt.data=Ot)))),(Ot=ea?Es(i,h):Xs(i,h))&&(Ie=El(Ie,"onBeforeInput"),0<Ie.length&&(Ge=new ur("onBeforeInput","beforeinput",null,h,Ge),Ye.push({event:Ge,listeners:Ie}),Ge.data=Ot))}Sl(Ye,l)})}function el(i,l,h){return{instance:i,listener:l,currentTarget:h}}function El(i,l){for(var h=l+"Capture",x=[];i!==null;){var N=i,S=N.stateNode;N.tag===5&&S!==null&&(N=S,S=Us(i,h),S!=null&&x.unshift(el(i,S,N)),S=Us(i,l),S!=null&&x.push(el(i,S,N))),i=i.return}return x}function Ia(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Mc(i,l,h,x,N){for(var S=l._reactName,D=[];h!==null&&h!==x;){var ae=h,xe=ae.alternate,Ie=ae.stateNode;if(xe!==null&&xe===x)break;ae.tag===5&&Ie!==null&&(ae=Ie,N?(xe=Us(h,S),xe!=null&&D.unshift(el(h,xe,ae))):N||(xe=Us(h,S),xe!=null&&D.push(el(h,xe,ae)))),h=h.return}D.length!==0&&i.push({event:l,listeners:D})}var Pu=/\r\n?/g,Lu=/\u0000|\uFFFD/g;function Fc(i){return(typeof i=="string"?i:""+i).replace(Pu,`
`).replace(Lu,"")}function Cl(i,l,h){if(l=Fc(l),Fc(i)!==l&&h)throw Error(r(425))}function po(){}var tl=null,Ma=null;function tc(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var rc=typeof setTimeout=="function"?setTimeout:void 0,Dc=typeof clearTimeout=="function"?clearTimeout:void 0,qc=typeof Promise=="function"?Promise:void 0,Tu=typeof queueMicrotask=="function"?queueMicrotask:typeof qc<"u"?function(i){return qc.resolve(null).then(i).catch(Ru)}:rc;function Ru(i){setTimeout(function(){throw i})}function nc(i,l){var h=l,x=0;do{var N=h.nextSibling;if(i.removeChild(h),N&&N.nodeType===8)if(h=N.data,h==="/$"){if(x===0){i.removeChild(N),no(l);return}x--}else h!=="$"&&h!=="$?"&&h!=="$!"||x++;h=N}while(h);no(l)}function Vn(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function Ls(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return i;l--}else h==="/$"&&l++}i=i.previousSibling}return null}var rs=Math.random().toString(36).slice(2),wi="__reactFiber$"+rs,mo="__reactProps$"+rs,In="__reactContainer$"+rs,ns="__reactEvents$"+rs,Ou="__reactListeners$"+rs,Iu="__reactHandles$"+rs;function ia(i){var l=i[wi];if(l)return l;for(var h=i.parentNode;h;){if(l=h[In]||h[wi]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(i=Ls(i);i!==null;){if(h=i[wi])return h;i=Ls(i)}return l}i=h,h=i.parentNode}return null}function xo(i){return i=i[wi]||i[In],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Fa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function rl(i){return i[mo]||null}var sc=[],Mi=-1;function Qs(i){return{current:i}}function Nr(i){0>Mi||(i.current=sc[Mi],sc[Mi]=null,Mi--)}function _r(i,l){Mi++,sc[Mi]=i.current,i.current=l}var aa={},En=Qs(aa),ss=Qs(!1),Da=aa;function go(i,l){var h=i.type.contextTypes;if(!h)return aa;var x=i.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===l)return x.__reactInternalMemoizedMaskedChildContext;var N={},S;for(S in h)N[S]=l[S];return x&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=N),N}function is(i){return i=i.childContextTypes,i!=null}function B(){Nr(ss),Nr(En)}function Ae(i,l,h){if(En.current!==aa)throw Error(r(168));_r(En,l),_r(ss,h)}function Xe(i,l,h){var x=i.stateNode;if(l=l.childContextTypes,typeof x.getChildContext!="function")return h;x=x.getChildContext();for(var N in x)if(!(N in l))throw Error(r(108,ye(i)||"Unknown",N));return V({},h,x)}function nt(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||aa,Da=En.current,_r(En,i),_r(ss,ss.current),!0}function Dt(i,l,h){var x=i.stateNode;if(!x)throw Error(r(169));h?(i=Xe(i,l,Da),x.__reactInternalMemoizedMergedChildContext=i,Nr(ss),Nr(En),_r(En,i)):Nr(ss),_r(ss,h)}var Bt=null,St=!1,m=!1;function g(i){Bt===null?Bt=[i]:Bt.push(i)}function j(i){St=!0,g(i)}function C(){if(!m&&Bt!==null){m=!0;var i=0,l=hr;try{var h=Bt;for(hr=1;i<h.length;i++){var x=h[i];do x=x(!0);while(x!==null)}Bt=null,St=!1}catch(N){throw Bt!==null&&(Bt=Bt.slice(i+1)),Oo(Fo,C),N}finally{hr=l,m=!1}}return null}var O=[],F=0,q=null,$=0,G=[],X=0,he=null,ke=1,Z="";function ve(i,l){O[F++]=$,O[F++]=q,q=i,$=l}function Ee(i,l,h){G[X++]=ke,G[X++]=Z,G[X++]=he,he=i;var x=ke;i=Z;var N=32-fn(x)-1;x&=~(1<<N),h+=1;var S=32-fn(l)+N;if(30<S){var D=N-N%5;S=(x&(1<<D)-1).toString(32),x>>=D,N-=D,ke=1<<32-fn(l)+N|h<<N|x,Z=S+i}else ke=1<<S|h<<N|x,Z=i}function Fe(i){i.return!==null&&(ve(i,1),Ee(i,1,0))}function Pe(i){for(;i===q;)q=O[--F],O[F]=null,$=O[--F],O[F]=null;for(;i===he;)he=G[--X],G[X]=null,Z=G[--X],G[X]=null,ke=G[--X],G[X]=null}var Le=null,Me=null,De=!1,Ue=null;function ut(i,l){var h=$a(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=i,l=i.deletions,l===null?(i.deletions=[h],i.flags|=16):l.push(h)}function st(i,l){switch(i.tag){case 5:var h=i.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,Le=i,Me=Vn(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,Le=i,Me=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=he!==null?{id:ke,overflow:Z}:null,i.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=$a(18,null,null,0),h.stateNode=l,h.return=i,i.child=h,Le=i,Me=null,!0):!1;default:return!1}}function Xt(i){return(i.mode&1)!==0&&(i.flags&128)===0}function dt(i){if(De){var l=Me;if(l){var h=l;if(!st(i,l)){if(Xt(i))throw Error(r(418));l=Vn(h.nextSibling);var x=Le;l&&st(i,l)?ut(x,h):(i.flags=i.flags&-4097|2,De=!1,Le=i)}}else{if(Xt(i))throw Error(r(418));i.flags=i.flags&-4097|2,De=!1,Le=i}}}function dr(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Le=i}function cn(i){if(i!==Le)return!1;if(!De)return dr(i),De=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!tc(i.type,i.memoizedProps)),l&&(l=Me)){if(Xt(i))throw Zt(),Error(r(418));for(;l;)ut(i,l),l=Vn(l.nextSibling)}if(dr(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"){if(l===0){Me=Vn(i.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}i=i.nextSibling}Me=null}}else Me=Le?Vn(i.stateNode.nextSibling):null;return!0}function Zt(){for(var i=Me;i;)i=Vn(i.nextSibling)}function it(){Me=Le=null,De=!1}function Je(i){Ue===null?Ue=[i]:Ue.push(i)}var xn=R.ReactCurrentBatchConfig;function Pt(i,l){if(i&&i.defaultProps){l=V({},l),i=i.defaultProps;for(var h in i)l[h]===void 0&&(l[h]=i[h]);return l}return l}var or=Qs(null),Ir=null,un=null,as=null;function Hr(){as=un=Ir=null}function Wn(i){var l=or.current;Nr(or),i._currentValue=l}function os(i,l,h){for(;i!==null;){var x=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),i===h)break;i=i.return}}function Gr(i,l){Ir=i,as=un=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(zi=!0),i.firstContext=null)}function Kt(i){var l=i._currentValue;if(as!==i)if(i={context:i,memoizedValue:l,next:null},un===null){if(Ir===null)throw Error(r(308));un=i,Ir.dependencies={lanes:0,firstContext:i}}else un=un.next=i;return l}var fr=null;function Yr(i){fr===null?fr=[i]:fr.push(i)}function Ar(i,l,h,x){var N=l.interleaved;return N===null?(h.next=h,Yr(l)):(h.next=N.next,N.next=h),l.interleaved=h,zr(i,x)}function zr(i,l){i.lanes|=l;var h=i.alternate;for(h!==null&&(h.lanes|=l),h=i,i=i.return;i!==null;)i.childLanes|=l,h=i.alternate,h!==null&&(h.childLanes|=l),h=i,i=i.return;return h.tag===3?h.stateNode:null}var Hn=!1;function rn(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ts(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function pr(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function Ur(i,l,h){var x=i.updateQueue;if(x===null)return null;if(x=x.shared,(Sr&2)!==0){var N=x.pending;return N===null?l.next=l:(l.next=N.next,N.next=l),x.pending=l,zr(i,h)}return N=x.interleaved,N===null?(l.next=l,Yr(x)):(l.next=N.next,N.next=l),x.interleaved=l,zr(i,h)}function fs(i,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var x=l.lanes;x&=i.pendingLanes,h|=x,l.lanes=h,rr(i,h)}}function ps(i,l){var h=i.updateQueue,x=i.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var N=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var D={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};S===null?N=S=D:S=S.next=D,h=h.next}while(h!==null);S===null?N=S=l:S=S.next=l}else N=S=l;h={baseState:x.baseState,firstBaseUpdate:N,lastBaseUpdate:S,shared:x.shared,effects:x.effects},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=l:i.next=l,h.lastBaseUpdate=l}function ms(i,l,h,x){var N=i.updateQueue;Hn=!1;var S=N.firstBaseUpdate,D=N.lastBaseUpdate,ae=N.shared.pending;if(ae!==null){N.shared.pending=null;var xe=ae,Ie=xe.next;xe.next=null,D===null?S=Ie:D.next=Ie,D=xe;var Ge=i.alternate;Ge!==null&&(Ge=Ge.updateQueue,ae=Ge.lastBaseUpdate,ae!==D&&(ae===null?Ge.firstBaseUpdate=Ie:ae.next=Ie,Ge.lastBaseUpdate=xe))}if(S!==null){var Ye=N.baseState;D=0,Ge=Ie=xe=null,ae=S;do{var He=ae.lane,rt=ae.eventTime;if((x&He)===He){Ge!==null&&(Ge=Ge.next={eventTime:rt,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var ft=i,gt=ae;switch(He=l,rt=h,gt.tag){case 1:if(ft=gt.payload,typeof ft=="function"){Ye=ft.call(rt,Ye,He);break e}Ye=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=gt.payload,He=typeof ft=="function"?ft.call(rt,Ye,He):ft,He==null)break e;Ye=V({},Ye,He);break e;case 2:Hn=!0}}ae.callback!==null&&ae.lane!==0&&(i.flags|=64,He=N.effects,He===null?N.effects=[ae]:He.push(ae))}else rt={eventTime:rt,lane:He,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Ge===null?(Ie=Ge=rt,xe=Ye):Ge=Ge.next=rt,D|=He;if(ae=ae.next,ae===null){if(ae=N.shared.pending,ae===null)break;He=ae,ae=He.next,He.next=null,N.lastBaseUpdate=He,N.shared.pending=null}}while(!0);if(Ge===null&&(xe=Ye),N.baseState=xe,N.firstBaseUpdate=Ie,N.lastBaseUpdate=Ge,l=N.shared.interleaved,l!==null){N=l;do D|=N.lane,N=N.next;while(N!==l)}else S===null&&(N.shared.lanes=0);Jc|=D,i.lanes=D,i.memoizedState=Ye}}function Zs(i,l,h){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var x=i[l],N=x.callback;if(N!==null){if(x.callback=null,x=h,typeof N!="function")throw Error(r(191,N));N.call(x)}}}var Rs=new e.Component().refs;function Os(i,l,h,x){l=i.memoizedState,h=h(x,l),h=h==null?l:V({},l,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var Rr={isMounted:function(i){return(i=i._reactInternals)?Nn(i)===i:!1},enqueueSetState:function(i,l,h){i=i._reactInternals;var x=ji(),N=uc(i),S=pr(x,N);S.payload=l,h!=null&&(S.callback=h),l=Ur(i,S,N),l!==null&&(jo(l,i,N,x),fs(l,i,N))},enqueueReplaceState:function(i,l,h){i=i._reactInternals;var x=ji(),N=uc(i),S=pr(x,N);S.tag=1,S.payload=l,h!=null&&(S.callback=h),l=Ur(i,S,N),l!==null&&(jo(l,i,N,x),fs(l,i,N))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var h=ji(),x=uc(i),N=pr(h,x);N.tag=2,l!=null&&(N.callback=l),l=Ur(i,N,x),l!==null&&(jo(l,i,x,h),fs(l,i,x))}};function ei(i,l,h,x,N,S,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(x,S,D):l.prototype&&l.prototype.isPureReactComponent?!es(h,x)||!es(N,S):!0}function Fi(i,l,h){var x=!1,N=aa,S=l.contextType;return typeof S=="object"&&S!==null?S=Kt(S):(N=is(l)?Da:En.current,x=l.contextTypes,S=(x=x!=null)?go(i,N):aa),l=new l(h,S),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Rr,i.stateNode=l,l._reactInternals=i,x&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=N,i.__reactInternalMemoizedMaskedChildContext=S),l}function nl(i,l,h,x){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,x),l.state!==i&&Rr.enqueueReplaceState(l,l.state,null)}function oa(i,l,h,x){var N=i.stateNode;N.props=h,N.state=i.memoizedState,N.refs=Rs,rn(i);var S=l.contextType;typeof S=="object"&&S!==null?N.context=Kt(S):(S=is(l)?Da:En.current,N.context=go(i,S)),N.state=i.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Os(i,l,S,h),N.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(l=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),l!==N.state&&Rr.enqueueReplaceState(N,N.state,null),ms(i,h,N,x),N.state=i.memoizedState),typeof N.componentDidMount=="function"&&(i.flags|=4194308)}function gn(i,l,h){if(i=h.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var x=h.stateNode}if(!x)throw Error(r(147,i));var N=x,S=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===S?l.ref:(l=function(D){var ae=N.refs;ae===Rs&&(ae=N.refs={}),D===null?delete ae[S]:ae[S]=D},l._stringRef=S,l)}if(typeof i!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,i))}return i}function Al(i,l){throw i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function Mu(i){var l=i._init;return l(i._payload)}function Uc(i){function l(Te,Ne){if(i){var Re=Te.deletions;Re===null?(Te.deletions=[Ne],Te.flags|=16):Re.push(Ne)}}function h(Te,Ne){if(!i)return null;for(;Ne!==null;)l(Te,Ne),Ne=Ne.sibling;return null}function x(Te,Ne){for(Te=new Map;Ne!==null;)Ne.key!==null?Te.set(Ne.key,Ne):Te.set(Ne.index,Ne),Ne=Ne.sibling;return Te}function N(Te,Ne){return Te=hc(Te,Ne),Te.index=0,Te.sibling=null,Te}function S(Te,Ne,Re){return Te.index=Re,i?(Re=Te.alternate,Re!==null?(Re=Re.index,Re<Ne?(Te.flags|=2,Ne):Re):(Te.flags|=2,Ne)):(Te.flags|=1048576,Ne)}function D(Te){return i&&Te.alternate===null&&(Te.flags|=2),Te}function ae(Te,Ne,Re,Ke){return Ne===null||Ne.tag!==6?(Ne=u0(Re,Te.mode,Ke),Ne.return=Te,Ne):(Ne=N(Ne,Re),Ne.return=Te,Ne)}function xe(Te,Ne,Re,Ke){var bt=Re.type;return bt===oe?Ge(Te,Ne,Re.props.children,Ke,Re.key):Ne!==null&&(Ne.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===we&&Mu(bt)===Ne.type)?(Ke=N(Ne,Re.props),Ke.ref=gn(Te,Ne,Re),Ke.return=Te,Ke):(Ke=Xh(Re.type,Re.key,Re.props,null,Te.mode,Ke),Ke.ref=gn(Te,Ne,Re),Ke.return=Te,Ke)}function Ie(Te,Ne,Re,Ke){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==Re.containerInfo||Ne.stateNode.implementation!==Re.implementation?(Ne=d0(Re,Te.mode,Ke),Ne.return=Te,Ne):(Ne=N(Ne,Re.children||[]),Ne.return=Te,Ne)}function Ge(Te,Ne,Re,Ke,bt){return Ne===null||Ne.tag!==7?(Ne=eu(Re,Te.mode,Ke,bt),Ne.return=Te,Ne):(Ne=N(Ne,Re),Ne.return=Te,Ne)}function Ye(Te,Ne,Re){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return Ne=u0(""+Ne,Te.mode,Re),Ne.return=Te,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case Q:return Re=Xh(Ne.type,Ne.key,Ne.props,null,Te.mode,Re),Re.ref=gn(Te,null,Ne),Re.return=Te,Re;case te:return Ne=d0(Ne,Te.mode,Re),Ne.return=Te,Ne;case we:var Ke=Ne._init;return Ye(Te,Ke(Ne._payload),Re)}if(ht(Ne)||pe(Ne))return Ne=eu(Ne,Te.mode,Re,null),Ne.return=Te,Ne;Al(Te,Ne)}return null}function He(Te,Ne,Re,Ke){var bt=Ne!==null?Ne.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return bt!==null?null:ae(Te,Ne,""+Re,Ke);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case Q:return Re.key===bt?xe(Te,Ne,Re,Ke):null;case te:return Re.key===bt?Ie(Te,Ne,Re,Ke):null;case we:return bt=Re._init,He(Te,Ne,bt(Re._payload),Ke)}if(ht(Re)||pe(Re))return bt!==null?null:Ge(Te,Ne,Re,Ke,null);Al(Te,Re)}return null}function rt(Te,Ne,Re,Ke,bt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return Te=Te.get(Re)||null,ae(Ne,Te,""+Ke,bt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case Q:return Te=Te.get(Ke.key===null?Re:Ke.key)||null,xe(Ne,Te,Ke,bt);case te:return Te=Te.get(Ke.key===null?Re:Ke.key)||null,Ie(Ne,Te,Ke,bt);case we:var Rt=Ke._init;return rt(Te,Ne,Re,Rt(Ke._payload),bt)}if(ht(Ke)||pe(Ke))return Te=Te.get(Re)||null,Ge(Ne,Te,Ke,bt,null);Al(Ne,Ke)}return null}function ft(Te,Ne,Re,Ke){for(var bt=null,Rt=null,Ot=Ne,Wt=Ne=0,gs=null;Ot!==null&&Wt<Re.length;Wt++){Ot.index>Wt?(gs=Ot,Ot=null):gs=Ot.sibling;var Pr=He(Te,Ot,Re[Wt],Ke);if(Pr===null){Ot===null&&(Ot=gs);break}i&&Ot&&Pr.alternate===null&&l(Te,Ot),Ne=S(Pr,Ne,Wt),Rt===null?bt=Pr:Rt.sibling=Pr,Rt=Pr,Ot=gs}if(Wt===Re.length)return h(Te,Ot),De&&ve(Te,Wt),bt;if(Ot===null){for(;Wt<Re.length;Wt++)Ot=Ye(Te,Re[Wt],Ke),Ot!==null&&(Ne=S(Ot,Ne,Wt),Rt===null?bt=Ot:Rt.sibling=Ot,Rt=Ot);return De&&ve(Te,Wt),bt}for(Ot=x(Te,Ot);Wt<Re.length;Wt++)gs=rt(Ot,Te,Wt,Re[Wt],Ke),gs!==null&&(i&&gs.alternate!==null&&Ot.delete(gs.key===null?Wt:gs.key),Ne=S(gs,Ne,Wt),Rt===null?bt=gs:Rt.sibling=gs,Rt=gs);return i&&Ot.forEach(function(fc){return l(Te,fc)}),De&&ve(Te,Wt),bt}function gt(Te,Ne,Re,Ke){var bt=pe(Re);if(typeof bt!="function")throw Error(r(150));if(Re=bt.call(Re),Re==null)throw Error(r(151));for(var Rt=bt=null,Ot=Ne,Wt=Ne=0,gs=null,Pr=Re.next();Ot!==null&&!Pr.done;Wt++,Pr=Re.next()){Ot.index>Wt?(gs=Ot,Ot=null):gs=Ot.sibling;var fc=He(Te,Ot,Pr.value,Ke);if(fc===null){Ot===null&&(Ot=gs);break}i&&Ot&&fc.alternate===null&&l(Te,Ot),Ne=S(fc,Ne,Wt),Rt===null?bt=fc:Rt.sibling=fc,Rt=fc,Ot=gs}if(Pr.done)return h(Te,Ot),De&&ve(Te,Wt),bt;if(Ot===null){for(;!Pr.done;Wt++,Pr=Re.next())Pr=Ye(Te,Pr.value,Ke),Pr!==null&&(Ne=S(Pr,Ne,Wt),Rt===null?bt=Pr:Rt.sibling=Pr,Rt=Pr);return De&&ve(Te,Wt),bt}for(Ot=x(Te,Ot);!Pr.done;Wt++,Pr=Re.next())Pr=rt(Ot,Te,Wt,Pr.value,Ke),Pr!==null&&(i&&Pr.alternate!==null&&Ot.delete(Pr.key===null?Wt:Pr.key),Ne=S(Pr,Ne,Wt),Rt===null?bt=Pr:Rt.sibling=Pr,Rt=Pr);return i&&Ot.forEach(function(qN){return l(Te,qN)}),De&&ve(Te,Wt),bt}function Mn(Te,Ne,Re,Ke){if(typeof Re=="object"&&Re!==null&&Re.type===oe&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case Q:e:{for(var bt=Re.key,Rt=Ne;Rt!==null;){if(Rt.key===bt){if(bt=Re.type,bt===oe){if(Rt.tag===7){h(Te,Rt.sibling),Ne=N(Rt,Re.props.children),Ne.return=Te,Te=Ne;break e}}else if(Rt.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===we&&Mu(bt)===Rt.type){h(Te,Rt.sibling),Ne=N(Rt,Re.props),Ne.ref=gn(Te,Rt,Re),Ne.return=Te,Te=Ne;break e}h(Te,Rt);break}else l(Te,Rt);Rt=Rt.sibling}Re.type===oe?(Ne=eu(Re.props.children,Te.mode,Ke,Re.key),Ne.return=Te,Te=Ne):(Ke=Xh(Re.type,Re.key,Re.props,null,Te.mode,Ke),Ke.ref=gn(Te,Ne,Re),Ke.return=Te,Te=Ke)}return D(Te);case te:e:{for(Rt=Re.key;Ne!==null;){if(Ne.key===Rt)if(Ne.tag===4&&Ne.stateNode.containerInfo===Re.containerInfo&&Ne.stateNode.implementation===Re.implementation){h(Te,Ne.sibling),Ne=N(Ne,Re.children||[]),Ne.return=Te,Te=Ne;break e}else{h(Te,Ne);break}else l(Te,Ne);Ne=Ne.sibling}Ne=d0(Re,Te.mode,Ke),Ne.return=Te,Te=Ne}return D(Te);case we:return Rt=Re._init,Mn(Te,Ne,Rt(Re._payload),Ke)}if(ht(Re))return ft(Te,Ne,Re,Ke);if(pe(Re))return gt(Te,Ne,Re,Ke);Al(Te,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,Ne!==null&&Ne.tag===6?(h(Te,Ne.sibling),Ne=N(Ne,Re),Ne.return=Te,Te=Ne):(h(Te,Ne),Ne=u0(Re,Te.mode,Ke),Ne.return=Te,Te=Ne),D(Te)):h(Te,Ne)}return Mn}var qa=Uc(!0),Rh=Uc(!1),zc={},Di=Qs(zc),qi=Qs(zc),Bc=Qs(zc);function Pl(i){if(i===zc)throw Error(r(174));return i}function Md(i,l){switch(_r(Bc,l),_r(qi,i),_r(Di,zc),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:sr(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=sr(l,i)}Nr(Di),_r(Di,l)}function Ll(){Nr(Di),Nr(qi),Nr(Bc)}function $c(i){Pl(Bc.current);var l=Pl(Di.current),h=sr(l,i.type);l!==h&&(_r(qi,i),_r(Di,h))}function Fu(i){qi.current===i&&(Nr(Di),Nr(qi))}var Kr=Qs(0);function Tl(i){for(var l=i;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Vc=[];function Rl(){for(var i=0;i<Vc.length;i++)Vc[i]._workInProgressVersionPrimary=null;Vc.length=0}var Wc=R.ReactCurrentDispatcher,Fd=R.ReactCurrentBatchConfig,Ua=0,Jr=null,vn=null,Br=null,Hc=!1,ic=!1,Gc=0,Oh=0;function bn(){throw Error(r(321))}function Dd(i,l){if(l===null)return!1;for(var h=0;h<l.length&&h<i.length;h++)if(!br(i[h],l[h]))return!1;return!0}function Du(i,l,h,x,N,S){if(Ua=S,Jr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Wc.current=i===null||i.memoizedState===null?dN:hN,i=h(x,N),ic){S=0;do{if(ic=!1,Gc=0,25<=S)throw Error(r(301));S+=1,Br=vn=null,l.updateQueue=null,Wc.current=fN,i=h(x,N)}while(ic)}if(Wc.current=Dh,l=vn!==null&&vn.next!==null,Ua=0,Br=vn=Jr=null,Hc=!1,l)throw Error(r(300));return i}function qd(){var i=Gc!==0;return Gc=0,i}function la(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?Jr.memoizedState=Br=i:Br=Br.next=i,Br}function Ui(){if(vn===null){var i=Jr.alternate;i=i!==null?i.memoizedState:null}else i=vn.next;var l=Br===null?Jr.memoizedState:Br.next;if(l!==null)Br=l,vn=i;else{if(i===null)throw Error(r(310));vn=i,i={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},Br===null?Jr.memoizedState=Br=i:Br=Br.next=i}return Br}function vo(i,l){return typeof l=="function"?l(i):l}function Yc(i){var l=Ui(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=i;var x=vn,N=x.baseQueue,S=h.pending;if(S!==null){if(N!==null){var D=N.next;N.next=S.next,S.next=D}x.baseQueue=N=S,h.pending=null}if(N!==null){S=N.next,x=x.baseState;var ae=D=null,xe=null,Ie=S;do{var Ge=Ie.lane;if((Ua&Ge)===Ge)xe!==null&&(xe=xe.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),x=Ie.hasEagerState?Ie.eagerState:i(x,Ie.action);else{var Ye={lane:Ge,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};xe===null?(ae=xe=Ye,D=x):xe=xe.next=Ye,Jr.lanes|=Ge,Jc|=Ge}Ie=Ie.next}while(Ie!==null&&Ie!==S);xe===null?D=x:xe.next=ae,br(x,l.memoizedState)||(zi=!0),l.memoizedState=x,l.baseState=D,l.baseQueue=xe,h.lastRenderedState=x}if(i=h.interleaved,i!==null){N=i;do S=N.lane,Jr.lanes|=S,Jc|=S,N=N.next;while(N!==i)}else N===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function ac(i){var l=Ui(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=i;var x=h.dispatch,N=h.pending,S=l.memoizedState;if(N!==null){h.pending=null;var D=N=N.next;do S=i(S,D.action),D=D.next;while(D!==N);br(S,l.memoizedState)||(zi=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),h.lastRenderedState=S}return[S,x]}function za(){}function bo(i,l){var h=Jr,x=Ui(),N=l(),S=!br(x.memoizedState,N);if(S&&(x.memoizedState=N,zi=!0),x=x.queue,Dp(qu.bind(null,h,x,i),[i]),x.getSnapshot!==l||S||Br!==null&&Br.memoizedState.tag&1){if(h.flags|=2048,Ol(9,Kc.bind(null,h,x,N,l),void 0,null),xs===null)throw Error(r(349));(Ua&30)!==0||yo(h,l,N)}return N}function yo(i,l,h){i.flags|=16384,i={getSnapshot:l,value:h},l=Jr.updateQueue,l===null?(l={lastEffect:null,stores:null},Jr.updateQueue=l,l.stores=[i]):(h=l.stores,h===null?l.stores=[i]:h.push(i))}function Kc(i,l,h,x){l.value=h,l.getSnapshot=x,Ud(l)&&Ih(i)}function qu(i,l,h){return h(function(){Ud(l)&&Ih(i)})}function Ud(i){var l=i.getSnapshot;i=i.value;try{var h=l();return!br(i,h)}catch{return!0}}function Ih(i){var l=zr(i,1);l!==null&&jo(l,i,1,-1)}function Uu(i){var l=la();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:i},l.queue=i,i=i.dispatch=uN.bind(null,Jr,i),[l.memoizedState,i]}function Ol(i,l,h,x){return i={tag:i,create:l,destroy:h,deps:x,next:null},l=Jr.updateQueue,l===null?(l={lastEffect:null,stores:null},Jr.updateQueue=l,l.lastEffect=i.next=i):(h=l.lastEffect,h===null?l.lastEffect=i.next=i:(x=h.next,h.next=i,i.next=x,l.lastEffect=i)),i}function s1(){return Ui().memoizedState}function Mh(i,l,h,x){var N=la();Jr.flags|=i,N.memoizedState=Ol(1|l,h,void 0,x===void 0?null:x)}function Fh(i,l,h,x){var N=Ui();x=x===void 0?null:x;var S=void 0;if(vn!==null){var D=vn.memoizedState;if(S=D.destroy,x!==null&&Dd(x,D.deps)){N.memoizedState=Ol(l,h,S,x);return}}Jr.flags|=i,N.memoizedState=Ol(1|l,h,S,x)}function i1(i,l){return Mh(8390656,8,i,l)}function Dp(i,l){return Fh(2048,8,i,l)}function a1(i,l){return Fh(4,2,i,l)}function o1(i,l){return Fh(4,4,i,l)}function l1(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function c1(i,l,h){return h=h!=null?h.concat([i]):null,Fh(4,4,l1.bind(null,l,i),h)}function qp(){}function u1(i,l){var h=Ui();l=l===void 0?null:l;var x=h.memoizedState;return x!==null&&l!==null&&Dd(l,x[1])?x[0]:(h.memoizedState=[i,l],i)}function d1(i,l){var h=Ui();l=l===void 0?null:l;var x=h.memoizedState;return x!==null&&l!==null&&Dd(l,x[1])?x[0]:(i=i(),h.memoizedState=[i,l],i)}function h1(i,l,h){return(Ua&21)===0?(i.baseState&&(i.baseState=!1,zi=!0),i.memoizedState=h):(br(h,l)||(h=Kn(),Jr.lanes|=h,Jc|=h,i.baseState=!0),l)}function lN(i,l){var h=hr;hr=h!==0&&4>h?h:4,i(!0);var x=Fd.transition;Fd.transition={};try{i(!1),l()}finally{hr=h,Fd.transition=x}}function f1(){return Ui().memoizedState}function cN(i,l,h){var x=uc(i);if(h={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null},p1(i))m1(l,h);else if(h=Ar(i,l,h,x),h!==null){var N=ji();jo(h,i,x,N),x1(h,l,x)}}function uN(i,l,h){var x=uc(i),N={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null};if(p1(i))m1(l,N);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var D=l.lastRenderedState,ae=S(D,h);if(N.hasEagerState=!0,N.eagerState=ae,br(ae,D)){var xe=l.interleaved;xe===null?(N.next=N,Yr(l)):(N.next=xe.next,xe.next=N),l.interleaved=N;return}}catch{}finally{}h=Ar(i,l,N,x),h!==null&&(N=ji(),jo(h,i,x,N),x1(h,l,x))}}function p1(i){var l=i.alternate;return i===Jr||l!==null&&l===Jr}function m1(i,l){ic=Hc=!0;var h=i.pending;h===null?l.next=l:(l.next=h.next,h.next=l),i.pending=l}function x1(i,l,h){if((h&4194240)!==0){var x=l.lanes;x&=i.pendingLanes,h|=x,l.lanes=h,rr(i,h)}}var Dh={readContext:Kt,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},dN={readContext:Kt,useCallback:function(i,l){return la().memoizedState=[i,l===void 0?null:l],i},useContext:Kt,useEffect:i1,useImperativeHandle:function(i,l,h){return h=h!=null?h.concat([i]):null,Mh(4194308,4,l1.bind(null,l,i),h)},useLayoutEffect:function(i,l){return Mh(4194308,4,i,l)},useInsertionEffect:function(i,l){return Mh(4,2,i,l)},useMemo:function(i,l){var h=la();return l=l===void 0?null:l,i=i(),h.memoizedState=[i,l],i},useReducer:function(i,l,h){var x=la();return l=h!==void 0?h(l):l,x.memoizedState=x.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},x.queue=i,i=i.dispatch=cN.bind(null,Jr,i),[x.memoizedState,i]},useRef:function(i){var l=la();return i={current:i},l.memoizedState=i},useState:Uu,useDebugValue:qp,useDeferredValue:function(i){return la().memoizedState=i},useTransition:function(){var i=Uu(!1),l=i[0];return i=lN.bind(null,i[1]),la().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,h){var x=Jr,N=la();if(De){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),xs===null)throw Error(r(349));(Ua&30)!==0||yo(x,l,h)}N.memoizedState=h;var S={value:h,getSnapshot:l};return N.queue=S,i1(qu.bind(null,x,S,i),[i]),x.flags|=2048,Ol(9,Kc.bind(null,x,S,h,l),void 0,null),h},useId:function(){var i=la(),l=xs.identifierPrefix;if(De){var h=Z,x=ke;h=(x&~(1<<32-fn(x)-1)).toString(32)+h,l=":"+l+"R"+h,h=Gc++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=Oh++,l=":"+l+"r"+h.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},hN={readContext:Kt,useCallback:u1,useContext:Kt,useEffect:Dp,useImperativeHandle:c1,useInsertionEffect:a1,useLayoutEffect:o1,useMemo:d1,useReducer:Yc,useRef:s1,useState:function(){return Yc(vo)},useDebugValue:qp,useDeferredValue:function(i){var l=Ui();return h1(l,vn.memoizedState,i)},useTransition:function(){var i=Yc(vo)[0],l=Ui().memoizedState;return[i,l]},useMutableSource:za,useSyncExternalStore:bo,useId:f1,unstable_isNewReconciler:!1},fN={readContext:Kt,useCallback:u1,useContext:Kt,useEffect:Dp,useImperativeHandle:c1,useInsertionEffect:a1,useLayoutEffect:o1,useMemo:d1,useReducer:ac,useRef:s1,useState:function(){return ac(vo)},useDebugValue:qp,useDeferredValue:function(i){var l=Ui();return vn===null?l.memoizedState=i:h1(l,vn.memoizedState,i)},useTransition:function(){var i=ac(vo)[0],l=Ui().memoizedState;return[i,l]},useMutableSource:za,useSyncExternalStore:bo,useId:f1,unstable_isNewReconciler:!1};function zu(i,l){try{var h="",x=l;do h+=le(x),x=x.return;while(x);var N=h}catch(S){N=`
Error generating stack: `+S.message+`
`+S.stack}return{value:i,source:l,stack:N,digest:null}}function Up(i,l,h){return{value:i,source:null,stack:h??null,digest:l??null}}function zp(i,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var pN=typeof WeakMap=="function"?WeakMap:Map;function g1(i,l,h){h=pr(-1,h),h.tag=3,h.payload={element:null};var x=l.value;return h.callback=function(){Wh||(Wh=!0,r0=x),zp(i,l)},h}function v1(i,l,h){h=pr(-1,h),h.tag=3;var x=i.type.getDerivedStateFromError;if(typeof x=="function"){var N=l.value;h.payload=function(){return x(N)},h.callback=function(){zp(i,l)}}var S=i.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(h.callback=function(){zp(i,l),typeof x!="function"&&(lc===null?lc=new Set([this]):lc.add(this));var D=l.stack;this.componentDidCatch(l.value,{componentStack:D!==null?D:""})}),h}function b1(i,l,h){var x=i.pingCache;if(x===null){x=i.pingCache=new pN;var N=new Set;x.set(l,N)}else N=x.get(l),N===void 0&&(N=new Set,x.set(l,N));N.has(h)||(N.add(h),i=CN.bind(null,i,l,h),l.then(i,i))}function y1(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function w1(i,l,h,x,N){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=pr(-1,1),l.tag=2,Ur(h,l,1))),h.lanes|=1),i):(i.flags|=65536,i.lanes=N,i)}var mN=R.ReactCurrentOwner,zi=!1;function Ni(i,l,h,x){l.child=i===null?Rh(l,null,h,x):qa(l,i.child,h,x)}function N1(i,l,h,x,N){h=h.render;var S=l.ref;return Gr(l,N),x=Du(i,l,h,x,S,N),h=qd(),i!==null&&!zi?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~N,Il(i,l,N)):(De&&h&&Fe(l),l.flags|=1,Ni(i,l,x,N),l.child)}function j1(i,l,h,x,N){if(i===null){var S=h.type;return typeof S=="function"&&!c0(S)&&S.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=S,_1(i,l,S,x,N)):(i=Xh(h.type,null,x,l,l.mode,N),i.ref=l.ref,i.return=l,l.child=i)}if(S=i.child,(i.lanes&N)===0){var D=S.memoizedProps;if(h=h.compare,h=h!==null?h:es,h(D,x)&&i.ref===l.ref)return Il(i,l,N)}return l.flags|=1,i=hc(S,x),i.ref=l.ref,i.return=l,l.child=i}function _1(i,l,h,x,N){if(i!==null){var S=i.memoizedProps;if(es(S,x)&&i.ref===l.ref)if(zi=!1,l.pendingProps=x=S,(i.lanes&N)!==0)(i.flags&131072)!==0&&(zi=!0);else return l.lanes=i.lanes,Il(i,l,N)}return Bp(i,l,h,x,N)}function S1(i,l,h){var x=l.pendingProps,N=x.children,S=i!==null?i.memoizedState:null;if(x.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},_r($u,ca),ca|=h;else{if((h&1073741824)===0)return i=S!==null?S.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,_r($u,ca),ca|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=S!==null?S.baseLanes:h,_r($u,ca),ca|=x}else S!==null?(x=S.baseLanes|h,l.memoizedState=null):x=h,_r($u,ca),ca|=x;return Ni(i,l,N,h),l.child}function k1(i,l){var h=l.ref;(i===null&&h!==null||i!==null&&i.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function Bp(i,l,h,x,N){var S=is(h)?Da:En.current;return S=go(l,S),Gr(l,N),h=Du(i,l,h,x,S,N),x=qd(),i!==null&&!zi?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~N,Il(i,l,N)):(De&&x&&Fe(l),l.flags|=1,Ni(i,l,h,N),l.child)}function E1(i,l,h,x,N){if(is(h)){var S=!0;nt(l)}else S=!1;if(Gr(l,N),l.stateNode===null)Uh(i,l),Fi(l,h,x),oa(l,h,x,N),x=!0;else if(i===null){var D=l.stateNode,ae=l.memoizedProps;D.props=ae;var xe=D.context,Ie=h.contextType;typeof Ie=="object"&&Ie!==null?Ie=Kt(Ie):(Ie=is(h)?Da:En.current,Ie=go(l,Ie));var Ge=h.getDerivedStateFromProps,Ye=typeof Ge=="function"||typeof D.getSnapshotBeforeUpdate=="function";Ye||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(ae!==x||xe!==Ie)&&nl(l,D,x,Ie),Hn=!1;var He=l.memoizedState;D.state=He,ms(l,x,D,N),xe=l.memoizedState,ae!==x||He!==xe||ss.current||Hn?(typeof Ge=="function"&&(Os(l,h,Ge,x),xe=l.memoizedState),(ae=Hn||ei(l,h,ae,x,He,xe,Ie))?(Ye||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(l.flags|=4194308)):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=xe),D.props=x,D.state=xe,D.context=Ie,x=ae):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{D=l.stateNode,Ts(i,l),ae=l.memoizedProps,Ie=l.type===l.elementType?ae:Pt(l.type,ae),D.props=Ie,Ye=l.pendingProps,He=D.context,xe=h.contextType,typeof xe=="object"&&xe!==null?xe=Kt(xe):(xe=is(h)?Da:En.current,xe=go(l,xe));var rt=h.getDerivedStateFromProps;(Ge=typeof rt=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(ae!==Ye||He!==xe)&&nl(l,D,x,xe),Hn=!1,He=l.memoizedState,D.state=He,ms(l,x,D,N);var ft=l.memoizedState;ae!==Ye||He!==ft||ss.current||Hn?(typeof rt=="function"&&(Os(l,h,rt,x),ft=l.memoizedState),(Ie=Hn||ei(l,h,Ie,x,He,ft,xe)||!1)?(Ge||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(x,ft,xe),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(x,ft,xe)),typeof D.componentDidUpdate=="function"&&(l.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof D.componentDidUpdate!="function"||ae===i.memoizedProps&&He===i.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||ae===i.memoizedProps&&He===i.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=ft),D.props=x,D.state=ft,D.context=xe,x=Ie):(typeof D.componentDidUpdate!="function"||ae===i.memoizedProps&&He===i.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||ae===i.memoizedProps&&He===i.memoizedState||(l.flags|=1024),x=!1)}return $p(i,l,h,x,S,N)}function $p(i,l,h,x,N,S){k1(i,l);var D=(l.flags&128)!==0;if(!x&&!D)return N&&Dt(l,h,!1),Il(i,l,S);x=l.stateNode,mN.current=l;var ae=D&&typeof h.getDerivedStateFromError!="function"?null:x.render();return l.flags|=1,i!==null&&D?(l.child=qa(l,i.child,null,S),l.child=qa(l,null,ae,S)):Ni(i,l,ae,S),l.memoizedState=x.state,N&&Dt(l,h,!0),l.child}function C1(i){var l=i.stateNode;l.pendingContext?Ae(i,l.pendingContext,l.pendingContext!==l.context):l.context&&Ae(i,l.context,!1),Md(i,l.containerInfo)}function A1(i,l,h,x,N){return it(),Je(N),l.flags|=256,Ni(i,l,h,x),l.child}var Vp={dehydrated:null,treeContext:null,retryLane:0};function Wp(i){return{baseLanes:i,cachePool:null,transitions:null}}function P1(i,l,h){var x=l.pendingProps,N=Kr.current,S=!1,D=(l.flags&128)!==0,ae;if((ae=D)||(ae=i!==null&&i.memoizedState===null?!1:(N&2)!==0),ae?(S=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(N|=1),_r(Kr,N&1),i===null)return dt(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(D=x.children,i=x.fallback,S?(x=l.mode,S=l.child,D={mode:"hidden",children:D},(x&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=D):S=Qh(D,x,0,null),i=eu(i,x,h,null),S.return=l,i.return=l,S.sibling=i,l.child=S,l.child.memoizedState=Wp(h),l.memoizedState=Vp,i):Hp(l,D));if(N=i.memoizedState,N!==null&&(ae=N.dehydrated,ae!==null))return xN(i,l,D,x,ae,N,h);if(S){S=x.fallback,D=l.mode,N=i.child,ae=N.sibling;var xe={mode:"hidden",children:x.children};return(D&1)===0&&l.child!==N?(x=l.child,x.childLanes=0,x.pendingProps=xe,l.deletions=null):(x=hc(N,xe),x.subtreeFlags=N.subtreeFlags&14680064),ae!==null?S=hc(ae,S):(S=eu(S,D,h,null),S.flags|=2),S.return=l,x.return=l,x.sibling=S,l.child=x,x=S,S=l.child,D=i.child.memoizedState,D=D===null?Wp(h):{baseLanes:D.baseLanes|h,cachePool:null,transitions:D.transitions},S.memoizedState=D,S.childLanes=i.childLanes&~h,l.memoizedState=Vp,x}return S=i.child,i=S.sibling,x=hc(S,{mode:"visible",children:x.children}),(l.mode&1)===0&&(x.lanes=h),x.return=l,x.sibling=null,i!==null&&(h=l.deletions,h===null?(l.deletions=[i],l.flags|=16):h.push(i)),l.child=x,l.memoizedState=null,x}function Hp(i,l){return l=Qh({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function qh(i,l,h,x){return x!==null&&Je(x),qa(l,i.child,null,h),i=Hp(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function xN(i,l,h,x,N,S,D){if(h)return l.flags&256?(l.flags&=-257,x=Up(Error(r(422))),qh(i,l,D,x)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(S=x.fallback,N=l.mode,x=Qh({mode:"visible",children:x.children},N,0,null),S=eu(S,N,D,null),S.flags|=2,x.return=l,S.return=l,x.sibling=S,l.child=x,(l.mode&1)!==0&&qa(l,i.child,null,D),l.child.memoizedState=Wp(D),l.memoizedState=Vp,S);if((l.mode&1)===0)return qh(i,l,D,null);if(N.data==="$!"){if(x=N.nextSibling&&N.nextSibling.dataset,x)var ae=x.dgst;return x=ae,S=Error(r(419)),x=Up(S,x,void 0),qh(i,l,D,x)}if(ae=(D&i.childLanes)!==0,zi||ae){if(x=xs,x!==null){switch(D&-D){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(x.suspendedLanes|D))!==0?0:N,N!==0&&N!==S.retryLane&&(S.retryLane=N,zr(i,N),jo(x,i,N,-1))}return l0(),x=Up(Error(r(421))),qh(i,l,D,x)}return N.data==="$?"?(l.flags|=128,l.child=i.child,l=AN.bind(null,i),N._reactRetry=l,null):(i=S.treeContext,Me=Vn(N.nextSibling),Le=l,De=!0,Ue=null,i!==null&&(G[X++]=ke,G[X++]=Z,G[X++]=he,ke=i.id,Z=i.overflow,he=l),l=Hp(l,x.children),l.flags|=4096,l)}function L1(i,l,h){i.lanes|=l;var x=i.alternate;x!==null&&(x.lanes|=l),os(i.return,l,h)}function Gp(i,l,h,x,N){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:N}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=x,S.tail=h,S.tailMode=N)}function T1(i,l,h){var x=l.pendingProps,N=x.revealOrder,S=x.tail;if(Ni(i,l,x.children,h),x=Kr.current,(x&2)!==0)x=x&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&L1(i,h,l);else if(i.tag===19)L1(i,h,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}x&=1}if(_r(Kr,x),(l.mode&1)===0)l.memoizedState=null;else switch(N){case"forwards":for(h=l.child,N=null;h!==null;)i=h.alternate,i!==null&&Tl(i)===null&&(N=h),h=h.sibling;h=N,h===null?(N=l.child,l.child=null):(N=h.sibling,h.sibling=null),Gp(l,!1,N,h,S);break;case"backwards":for(h=null,N=l.child,l.child=null;N!==null;){if(i=N.alternate,i!==null&&Tl(i)===null){l.child=N;break}i=N.sibling,N.sibling=h,h=N,N=i}Gp(l,!0,h,null,S);break;case"together":Gp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Uh(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Il(i,l,h){if(i!==null&&(l.dependencies=i.dependencies),Jc|=l.lanes,(h&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,h=hc(i,i.pendingProps),l.child=h,h.return=l;i.sibling!==null;)i=i.sibling,h=h.sibling=hc(i,i.pendingProps),h.return=l;h.sibling=null}return l.child}function gN(i,l,h){switch(l.tag){case 3:C1(l),it();break;case 5:$c(l);break;case 1:is(l.type)&&nt(l);break;case 4:Md(l,l.stateNode.containerInfo);break;case 10:var x=l.type._context,N=l.memoizedProps.value;_r(or,x._currentValue),x._currentValue=N;break;case 13:if(x=l.memoizedState,x!==null)return x.dehydrated!==null?(_r(Kr,Kr.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?P1(i,l,h):(_r(Kr,Kr.current&1),i=Il(i,l,h),i!==null?i.sibling:null);_r(Kr,Kr.current&1);break;case 19:if(x=(h&l.childLanes)!==0,(i.flags&128)!==0){if(x)return T1(i,l,h);l.flags|=128}if(N=l.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),_r(Kr,Kr.current),x)break;return null;case 22:case 23:return l.lanes=0,S1(i,l,h)}return Il(i,l,h)}var R1,Yp,O1,I1;R1=function(i,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Yp=function(){},O1=function(i,l,h,x){var N=i.memoizedProps;if(N!==x){i=l.stateNode,Pl(Di.current);var S=null;switch(h){case"input":N=ze(i,N),x=ze(i,x),S=[];break;case"select":N=V({},N,{value:void 0}),x=V({},x,{value:void 0}),S=[];break;case"textarea":N=mt(i,N),x=mt(i,x),S=[];break;default:typeof N.onClick!="function"&&typeof x.onClick=="function"&&(i.onclick=po)}Or(h,x);var D;h=null;for(Ie in N)if(!x.hasOwnProperty(Ie)&&N.hasOwnProperty(Ie)&&N[Ie]!=null)if(Ie==="style"){var ae=N[Ie];for(D in ae)ae.hasOwnProperty(D)&&(h||(h={}),h[D]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(a.hasOwnProperty(Ie)?S||(S=[]):(S=S||[]).push(Ie,null));for(Ie in x){var xe=x[Ie];if(ae=N!=null?N[Ie]:void 0,x.hasOwnProperty(Ie)&&xe!==ae&&(xe!=null||ae!=null))if(Ie==="style")if(ae){for(D in ae)!ae.hasOwnProperty(D)||xe&&xe.hasOwnProperty(D)||(h||(h={}),h[D]="");for(D in xe)xe.hasOwnProperty(D)&&ae[D]!==xe[D]&&(h||(h={}),h[D]=xe[D])}else h||(S||(S=[]),S.push(Ie,h)),h=xe;else Ie==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,ae=ae?ae.__html:void 0,xe!=null&&ae!==xe&&(S=S||[]).push(Ie,xe)):Ie==="children"?typeof xe!="string"&&typeof xe!="number"||(S=S||[]).push(Ie,""+xe):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ie)?(xe!=null&&Ie==="onScroll"&&Cr("scroll",i),S||ae===xe||(S=[])):(S=S||[]).push(Ie,xe))}h&&(S=S||[]).push("style",h);var Ie=S;(l.updateQueue=Ie)&&(l.flags|=4)}},I1=function(i,l,h,x){h!==x&&(l.flags|=4)};function zd(i,l){if(!De)switch(i.tailMode){case"hidden":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:x.sibling=null}}function ti(i){var l=i.alternate!==null&&i.alternate.child===i.child,h=0,x=0;if(l)for(var N=i.child;N!==null;)h|=N.lanes|N.childLanes,x|=N.subtreeFlags&14680064,x|=N.flags&14680064,N.return=i,N=N.sibling;else for(N=i.child;N!==null;)h|=N.lanes|N.childLanes,x|=N.subtreeFlags,x|=N.flags,N.return=i,N=N.sibling;return i.subtreeFlags|=x,i.childLanes=h,l}function vN(i,l,h){var x=l.pendingProps;switch(Pe(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(l),null;case 1:return is(l.type)&&B(),ti(l),null;case 3:return x=l.stateNode,Ll(),Nr(ss),Nr(En),Rl(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(i===null||i.child===null)&&(cn(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ue!==null&&(i0(Ue),Ue=null))),Yp(i,l),ti(l),null;case 5:Fu(l);var N=Pl(Bc.current);if(h=l.type,i!==null&&l.stateNode!=null)O1(i,l,h,x,N),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!x){if(l.stateNode===null)throw Error(r(166));return ti(l),null}if(i=Pl(Di.current),cn(l)){x=l.stateNode,h=l.type;var S=l.memoizedProps;switch(x[wi]=l,x[mo]=S,i=(l.mode&1)!==0,h){case"dialog":Cr("cancel",x),Cr("close",x);break;case"iframe":case"object":case"embed":Cr("load",x);break;case"video":case"audio":for(N=0;N<yi.length;N++)Cr(yi[N],x);break;case"source":Cr("error",x);break;case"img":case"image":case"link":Cr("error",x),Cr("load",x);break;case"details":Cr("toggle",x);break;case"input":K(x,S),Cr("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!S.multiple},Cr("invalid",x);break;case"textarea":xt(x,S),Cr("invalid",x)}Or(h,S),N=null;for(var D in S)if(S.hasOwnProperty(D)){var ae=S[D];D==="children"?typeof ae=="string"?x.textContent!==ae&&(S.suppressHydrationWarning!==!0&&Cl(x.textContent,ae,i),N=["children",ae]):typeof ae=="number"&&x.textContent!==""+ae&&(S.suppressHydrationWarning!==!0&&Cl(x.textContent,ae,i),N=["children",""+ae]):a.hasOwnProperty(D)&&ae!=null&&D==="onScroll"&&Cr("scroll",x)}switch(h){case"input":Oe(x),tt(x,S,!0);break;case"textarea":Oe(x),nr(x);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(x.onclick=po)}x=N,l.updateQueue=x,x!==null&&(l.flags|=4)}else{D=N.nodeType===9?N:N.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=$t(h)),i==="http://www.w3.org/1999/xhtml"?h==="script"?(i=D.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof x.is=="string"?i=D.createElement(h,{is:x.is}):(i=D.createElement(h),h==="select"&&(D=i,x.multiple?D.multiple=!0:x.size&&(D.size=x.size))):i=D.createElementNS(i,h),i[wi]=l,i[mo]=x,R1(i,l,!1,!1),l.stateNode=i;e:{switch(D=yt(h,x),h){case"dialog":Cr("cancel",i),Cr("close",i),N=x;break;case"iframe":case"object":case"embed":Cr("load",i),N=x;break;case"video":case"audio":for(N=0;N<yi.length;N++)Cr(yi[N],i);N=x;break;case"source":Cr("error",i),N=x;break;case"img":case"image":case"link":Cr("error",i),Cr("load",i),N=x;break;case"details":Cr("toggle",i),N=x;break;case"input":K(i,x),N=ze(i,x),Cr("invalid",i);break;case"option":N=x;break;case"select":i._wrapperState={wasMultiple:!!x.multiple},N=V({},x,{value:void 0}),Cr("invalid",i);break;case"textarea":xt(i,x),N=mt(i,x),Cr("invalid",i);break;default:N=x}Or(h,N),ae=N;for(S in ae)if(ae.hasOwnProperty(S)){var xe=ae[S];S==="style"?Gt(i,xe):S==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,xe!=null&&at(i,xe)):S==="children"?typeof xe=="string"?(h!=="textarea"||xe!=="")&&Mt(i,xe):typeof xe=="number"&&Mt(i,""+xe):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(a.hasOwnProperty(S)?xe!=null&&S==="onScroll"&&Cr("scroll",i):xe!=null&&P(i,S,xe,D))}switch(h){case"input":Oe(i),tt(i,x,!1);break;case"textarea":Oe(i),nr(i);break;case"option":x.value!=null&&i.setAttribute("value",""+Ce(x.value));break;case"select":i.multiple=!!x.multiple,S=x.value,S!=null?Ze(i,!!x.multiple,S,!1):x.defaultValue!=null&&Ze(i,!!x.multiple,x.defaultValue,!0);break;default:typeof N.onClick=="function"&&(i.onclick=po)}switch(h){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return ti(l),null;case 6:if(i&&l.stateNode!=null)I1(i,l,i.memoizedProps,x);else{if(typeof x!="string"&&l.stateNode===null)throw Error(r(166));if(h=Pl(Bc.current),Pl(Di.current),cn(l)){if(x=l.stateNode,h=l.memoizedProps,x[wi]=l,(S=x.nodeValue!==h)&&(i=Le,i!==null))switch(i.tag){case 3:Cl(x.nodeValue,h,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Cl(x.nodeValue,h,(i.mode&1)!==0)}S&&(l.flags|=4)}else x=(h.nodeType===9?h:h.ownerDocument).createTextNode(x),x[wi]=l,l.stateNode=x}return ti(l),null;case 13:if(Nr(Kr),x=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(De&&Me!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Zt(),it(),l.flags|=98560,S=!1;else if(S=cn(l),x!==null&&x.dehydrated!==null){if(i===null){if(!S)throw Error(r(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[wi]=l}else it(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ti(l),S=!1}else Ue!==null&&(i0(Ue),Ue=null),S=!0;if(!S)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(x=x!==null,x!==(i!==null&&i.memoizedState!==null)&&x&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(Kr.current&1)!==0?ls===0&&(ls=3):l0())),l.updateQueue!==null&&(l.flags|=4),ti(l),null);case 4:return Ll(),Yp(i,l),i===null&&Oa(l.stateNode.containerInfo),ti(l),null;case 10:return Wn(l.type._context),ti(l),null;case 17:return is(l.type)&&B(),ti(l),null;case 19:if(Nr(Kr),S=l.memoizedState,S===null)return ti(l),null;if(x=(l.flags&128)!==0,D=S.rendering,D===null)if(x)zd(S,!1);else{if(ls!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(D=Tl(i),D!==null){for(l.flags|=128,zd(S,!1),x=D.updateQueue,x!==null&&(l.updateQueue=x,l.flags|=4),l.subtreeFlags=0,x=h,h=l.child;h!==null;)S=h,i=x,S.flags&=14680066,D=S.alternate,D===null?(S.childLanes=0,S.lanes=i,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=D.childLanes,S.lanes=D.lanes,S.child=D.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=D.memoizedProps,S.memoizedState=D.memoizedState,S.updateQueue=D.updateQueue,S.type=D.type,i=D.dependencies,S.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),h=h.sibling;return _r(Kr,Kr.current&1|2),l.child}i=i.sibling}S.tail!==null&&Mr()>Vu&&(l.flags|=128,x=!0,zd(S,!1),l.lanes=4194304)}else{if(!x)if(i=Tl(D),i!==null){if(l.flags|=128,x=!0,h=i.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),zd(S,!0),S.tail===null&&S.tailMode==="hidden"&&!D.alternate&&!De)return ti(l),null}else 2*Mr()-S.renderingStartTime>Vu&&h!==1073741824&&(l.flags|=128,x=!0,zd(S,!1),l.lanes=4194304);S.isBackwards?(D.sibling=l.child,l.child=D):(h=S.last,h!==null?h.sibling=D:l.child=D,S.last=D)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=Mr(),l.sibling=null,h=Kr.current,_r(Kr,x?h&1|2:h&1),l):(ti(l),null);case 22:case 23:return o0(),x=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==x&&(l.flags|=8192),x&&(l.mode&1)!==0?(ca&1073741824)!==0&&(ti(l),l.subtreeFlags&6&&(l.flags|=8192)):ti(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function bN(i,l){switch(Pe(l),l.tag){case 1:return is(l.type)&&B(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Ll(),Nr(ss),Nr(En),Rl(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Fu(l),null;case 13:if(Nr(Kr),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));it()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Nr(Kr),null;case 4:return Ll(),null;case 10:return Wn(l.type._context),null;case 22:case 23:return o0(),null;case 24:return null;default:return null}}var zh=!1,ri=!1,yN=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Bu(i,l){var h=i.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(x){Cn(i,l,x)}else h.current=null}function Kp(i,l,h){try{h()}catch(x){Cn(i,l,x)}}var M1=!1;function wN(i,l){if(tl=Vo,i=mn(),hs(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var N=x.anchorOffset,S=x.focusNode;x=x.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var D=0,ae=-1,xe=-1,Ie=0,Ge=0,Ye=i,He=null;t:for(;;){for(var rt;Ye!==h||N!==0&&Ye.nodeType!==3||(ae=D+N),Ye!==S||x!==0&&Ye.nodeType!==3||(xe=D+x),Ye.nodeType===3&&(D+=Ye.nodeValue.length),(rt=Ye.firstChild)!==null;)He=Ye,Ye=rt;for(;;){if(Ye===i)break t;if(He===h&&++Ie===N&&(ae=D),He===S&&++Ge===x&&(xe=D),(rt=Ye.nextSibling)!==null)break;Ye=He,He=Ye.parentNode}Ye=rt}h=ae===-1||xe===-1?null:{start:ae,end:xe}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ma={focusedElem:i,selectionRange:h},Vo=!1,ct=l;ct!==null;)if(l=ct,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,ct=i;else for(;ct!==null;){l=ct;try{var ft=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ft!==null){var gt=ft.memoizedProps,Mn=ft.memoizedState,Te=l.stateNode,Ne=Te.getSnapshotBeforeUpdate(l.elementType===l.type?gt:Pt(l.type,gt),Mn);Te.__reactInternalSnapshotBeforeUpdate=Ne}break;case 3:var Re=l.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ke){Cn(l,l.return,Ke)}if(i=l.sibling,i!==null){i.return=l.return,ct=i;break}ct=l.return}return ft=M1,M1=!1,ft}function Bd(i,l,h){var x=l.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var N=x=x.next;do{if((N.tag&i)===i){var S=N.destroy;N.destroy=void 0,S!==void 0&&Kp(l,h,S)}N=N.next}while(N!==x)}}function Bh(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&i)===i){var x=h.create;h.destroy=x()}h=h.next}while(h!==l)}}function Jp(i){var l=i.ref;if(l!==null){var h=i.stateNode;switch(i.tag){case 5:i=h;break;default:i=h}typeof l=="function"?l(i):l.current=i}}function F1(i){var l=i.alternate;l!==null&&(i.alternate=null,F1(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[wi],delete l[mo],delete l[ns],delete l[Ou],delete l[Iu])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function D1(i){return i.tag===5||i.tag===3||i.tag===4}function q1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||D1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xp(i,l,h){var x=i.tag;if(x===5||x===6)i=i.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(i,l):h.insertBefore(i,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(i,h)):(l=h,l.appendChild(i)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=po));else if(x!==4&&(i=i.child,i!==null))for(Xp(i,l,h),i=i.sibling;i!==null;)Xp(i,l,h),i=i.sibling}function Qp(i,l,h){var x=i.tag;if(x===5||x===6)i=i.stateNode,l?h.insertBefore(i,l):h.appendChild(i);else if(x!==4&&(i=i.child,i!==null))for(Qp(i,l,h),i=i.sibling;i!==null;)Qp(i,l,h),i=i.sibling}var Is=null,wo=!1;function oc(i,l,h){for(h=h.child;h!==null;)U1(i,l,h),h=h.sibling}function U1(i,l,h){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(Do,h)}catch{}switch(h.tag){case 5:ri||Bu(h,l);case 6:var x=Is,N=wo;Is=null,oc(i,l,h),Is=x,wo=N,Is!==null&&(wo?(i=Is,h=h.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)):Is.removeChild(h.stateNode));break;case 18:Is!==null&&(wo?(i=Is,h=h.stateNode,i.nodeType===8?nc(i.parentNode,h):i.nodeType===1&&nc(i,h),no(i)):nc(Is,h.stateNode));break;case 4:x=Is,N=wo,Is=h.stateNode.containerInfo,wo=!0,oc(i,l,h),Is=x,wo=N;break;case 0:case 11:case 14:case 15:if(!ri&&(x=h.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){N=x=x.next;do{var S=N,D=S.destroy;S=S.tag,D!==void 0&&((S&2)!==0||(S&4)!==0)&&Kp(h,l,D),N=N.next}while(N!==x)}oc(i,l,h);break;case 1:if(!ri&&(Bu(h,l),x=h.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=h.memoizedProps,x.state=h.memoizedState,x.componentWillUnmount()}catch(ae){Cn(h,l,ae)}oc(i,l,h);break;case 21:oc(i,l,h);break;case 22:h.mode&1?(ri=(x=ri)||h.memoizedState!==null,oc(i,l,h),ri=x):oc(i,l,h);break;default:oc(i,l,h)}}function z1(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var h=i.stateNode;h===null&&(h=i.stateNode=new yN),l.forEach(function(x){var N=PN.bind(null,i,x);h.has(x)||(h.add(x),x.then(N,N))})}}function No(i,l){var h=l.deletions;if(h!==null)for(var x=0;x<h.length;x++){var N=h[x];try{var S=i,D=l,ae=D;e:for(;ae!==null;){switch(ae.tag){case 5:Is=ae.stateNode,wo=!1;break e;case 3:Is=ae.stateNode.containerInfo,wo=!0;break e;case 4:Is=ae.stateNode.containerInfo,wo=!0;break e}ae=ae.return}if(Is===null)throw Error(r(160));U1(S,D,N),Is=null,wo=!1;var xe=N.alternate;xe!==null&&(xe.return=null),N.return=null}catch(Ie){Cn(N,l,Ie)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)B1(l,i),l=l.sibling}function B1(i,l){var h=i.alternate,x=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(No(l,i),sl(i),x&4){try{Bd(3,i,i.return),Bh(3,i)}catch(gt){Cn(i,i.return,gt)}try{Bd(5,i,i.return)}catch(gt){Cn(i,i.return,gt)}}break;case 1:No(l,i),sl(i),x&512&&h!==null&&Bu(h,h.return);break;case 5:if(No(l,i),sl(i),x&512&&h!==null&&Bu(h,h.return),i.flags&32){var N=i.stateNode;try{Mt(N,"")}catch(gt){Cn(i,i.return,gt)}}if(x&4&&(N=i.stateNode,N!=null)){var S=i.memoizedProps,D=h!==null?h.memoizedProps:S,ae=i.type,xe=i.updateQueue;if(i.updateQueue=null,xe!==null)try{ae==="input"&&S.type==="radio"&&S.name!=null&&We(N,S),yt(ae,D);var Ie=yt(ae,S);for(D=0;D<xe.length;D+=2){var Ge=xe[D],Ye=xe[D+1];Ge==="style"?Gt(N,Ye):Ge==="dangerouslySetInnerHTML"?at(N,Ye):Ge==="children"?Mt(N,Ye):P(N,Ge,Ye,Ie)}switch(ae){case"input":vt(N,S);break;case"textarea":yr(N,S);break;case"select":var He=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!S.multiple;var rt=S.value;rt!=null?Ze(N,!!S.multiple,rt,!1):He!==!!S.multiple&&(S.defaultValue!=null?Ze(N,!!S.multiple,S.defaultValue,!0):Ze(N,!!S.multiple,S.multiple?[]:"",!1))}N[mo]=S}catch(gt){Cn(i,i.return,gt)}}break;case 6:if(No(l,i),sl(i),x&4){if(i.stateNode===null)throw Error(r(162));N=i.stateNode,S=i.memoizedProps;try{N.nodeValue=S}catch(gt){Cn(i,i.return,gt)}}break;case 3:if(No(l,i),sl(i),x&4&&h!==null&&h.memoizedState.isDehydrated)try{no(l.containerInfo)}catch(gt){Cn(i,i.return,gt)}break;case 4:No(l,i),sl(i);break;case 13:No(l,i),sl(i),N=i.child,N.flags&8192&&(S=N.memoizedState!==null,N.stateNode.isHidden=S,!S||N.alternate!==null&&N.alternate.memoizedState!==null||(t0=Mr())),x&4&&z1(i);break;case 22:if(Ge=h!==null&&h.memoizedState!==null,i.mode&1?(ri=(Ie=ri)||Ge,No(l,i),ri=Ie):No(l,i),sl(i),x&8192){if(Ie=i.memoizedState!==null,(i.stateNode.isHidden=Ie)&&!Ge&&(i.mode&1)!==0)for(ct=i,Ge=i.child;Ge!==null;){for(Ye=ct=Ge;ct!==null;){switch(He=ct,rt=He.child,He.tag){case 0:case 11:case 14:case 15:Bd(4,He,He.return);break;case 1:Bu(He,He.return);var ft=He.stateNode;if(typeof ft.componentWillUnmount=="function"){x=He,h=He.return;try{l=x,ft.props=l.memoizedProps,ft.state=l.memoizedState,ft.componentWillUnmount()}catch(gt){Cn(x,h,gt)}}break;case 5:Bu(He,He.return);break;case 22:if(He.memoizedState!==null){W1(Ye);continue}}rt!==null?(rt.return=He,ct=rt):W1(Ye)}Ge=Ge.sibling}e:for(Ge=null,Ye=i;;){if(Ye.tag===5){if(Ge===null){Ge=Ye;try{N=Ye.stateNode,Ie?(S=N.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(ae=Ye.stateNode,xe=Ye.memoizedProps.style,D=xe!=null&&xe.hasOwnProperty("display")?xe.display:null,ae.style.display=Qt("display",D))}catch(gt){Cn(i,i.return,gt)}}}else if(Ye.tag===6){if(Ge===null)try{Ye.stateNode.nodeValue=Ie?"":Ye.memoizedProps}catch(gt){Cn(i,i.return,gt)}}else if((Ye.tag!==22&&Ye.tag!==23||Ye.memoizedState===null||Ye===i)&&Ye.child!==null){Ye.child.return=Ye,Ye=Ye.child;continue}if(Ye===i)break e;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===i)break e;Ge===Ye&&(Ge=null),Ye=Ye.return}Ge===Ye&&(Ge=null),Ye.sibling.return=Ye.return,Ye=Ye.sibling}}break;case 19:No(l,i),sl(i),x&4&&z1(i);break;case 21:break;default:No(l,i),sl(i)}}function sl(i){var l=i.flags;if(l&2){try{e:{for(var h=i.return;h!==null;){if(D1(h)){var x=h;break e}h=h.return}throw Error(r(160))}switch(x.tag){case 5:var N=x.stateNode;x.flags&32&&(Mt(N,""),x.flags&=-33);var S=q1(i);Qp(i,S,N);break;case 3:case 4:var D=x.stateNode.containerInfo,ae=q1(i);Xp(i,ae,D);break;default:throw Error(r(161))}}catch(xe){Cn(i,i.return,xe)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function NN(i,l,h){ct=i,$1(i)}function $1(i,l,h){for(var x=(i.mode&1)!==0;ct!==null;){var N=ct,S=N.child;if(N.tag===22&&x){var D=N.memoizedState!==null||zh;if(!D){var ae=N.alternate,xe=ae!==null&&ae.memoizedState!==null||ri;ae=zh;var Ie=ri;if(zh=D,(ri=xe)&&!Ie)for(ct=N;ct!==null;)D=ct,xe=D.child,D.tag===22&&D.memoizedState!==null?H1(N):xe!==null?(xe.return=D,ct=xe):H1(N);for(;S!==null;)ct=S,$1(S),S=S.sibling;ct=N,zh=ae,ri=Ie}V1(i)}else(N.subtreeFlags&8772)!==0&&S!==null?(S.return=N,ct=S):V1(i)}}function V1(i){for(;ct!==null;){var l=ct;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:ri||Bh(5,l);break;case 1:var x=l.stateNode;if(l.flags&4&&!ri)if(h===null)x.componentDidMount();else{var N=l.elementType===l.type?h.memoizedProps:Pt(l.type,h.memoizedProps);x.componentDidUpdate(N,h.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var S=l.updateQueue;S!==null&&Zs(l,S,x);break;case 3:var D=l.updateQueue;if(D!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}Zs(l,D,h)}break;case 5:var ae=l.stateNode;if(h===null&&l.flags&4){h=ae;var xe=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":xe.autoFocus&&h.focus();break;case"img":xe.src&&(h.src=xe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Ie=l.alternate;if(Ie!==null){var Ge=Ie.memoizedState;if(Ge!==null){var Ye=Ge.dehydrated;Ye!==null&&no(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ri||l.flags&512&&Jp(l)}catch(He){Cn(l,l.return,He)}}if(l===i){ct=null;break}if(h=l.sibling,h!==null){h.return=l.return,ct=h;break}ct=l.return}}function W1(i){for(;ct!==null;){var l=ct;if(l===i){ct=null;break}var h=l.sibling;if(h!==null){h.return=l.return,ct=h;break}ct=l.return}}function H1(i){for(;ct!==null;){var l=ct;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{Bh(4,l)}catch(xe){Cn(l,h,xe)}break;case 1:var x=l.stateNode;if(typeof x.componentDidMount=="function"){var N=l.return;try{x.componentDidMount()}catch(xe){Cn(l,N,xe)}}var S=l.return;try{Jp(l)}catch(xe){Cn(l,S,xe)}break;case 5:var D=l.return;try{Jp(l)}catch(xe){Cn(l,D,xe)}}}catch(xe){Cn(l,l.return,xe)}if(l===i){ct=null;break}var ae=l.sibling;if(ae!==null){ae.return=l.return,ct=ae;break}ct=l.return}}var jN=Math.ceil,$h=R.ReactCurrentDispatcher,Zp=R.ReactCurrentOwner,Ba=R.ReactCurrentBatchConfig,Sr=0,xs=null,Gn=null,Ms=0,ca=0,$u=Qs(0),ls=0,$d=null,Jc=0,Vh=0,e0=0,Vd=null,Bi=null,t0=0,Vu=1/0,Ml=null,Wh=!1,r0=null,lc=null,Hh=!1,cc=null,Gh=0,Wd=0,n0=null,Yh=-1,Kh=0;function ji(){return(Sr&6)!==0?Mr():Yh!==-1?Yh:Yh=Mr()}function uc(i){return(i.mode&1)===0?1:(Sr&2)!==0&&Ms!==0?Ms&-Ms:xn.transition!==null?(Kh===0&&(Kh=Kn()),Kh):(i=hr,i!==0||(i=window.event,i=i===void 0?16:so(i.type)),i)}function jo(i,l,h,x){if(50<Wd)throw Wd=0,n0=null,Error(r(185));Bn(i,h,x),((Sr&2)===0||i!==xs)&&(i===xs&&((Sr&2)===0&&(Vh|=h),ls===4&&dc(i,Ms)),$i(i,x),h===1&&Sr===0&&(l.mode&1)===0&&(Vu=Mr()+500,St&&C()))}function $i(i,l){var h=i.callbackNode;cr(i,l);var x=jn(i,i===xs?Ms:0);if(x===0)h!==null&&Io(h),i.callbackNode=null,i.callbackPriority=0;else if(l=x&-x,i.callbackPriority!==l){if(h!=null&&Io(h),l===1)i.tag===0?j(Y1.bind(null,i)):g(Y1.bind(null,i)),Tu(function(){(Sr&6)===0&&C()}),h=null;else{switch(wa(x)){case 1:h=Fo;break;case 4:h=Ws;break;case 16:h=ba;break;case 536870912:h=ya;break;default:h=ba}h=rv(h,G1.bind(null,i))}i.callbackPriority=l,i.callbackNode=h}}function G1(i,l){if(Yh=-1,Kh=0,(Sr&6)!==0)throw Error(r(327));var h=i.callbackNode;if(Wu()&&i.callbackNode!==h)return null;var x=jn(i,i===xs?Ms:0);if(x===0)return null;if((x&30)!==0||(x&i.expiredLanes)!==0||l)l=Jh(i,x);else{l=x;var N=Sr;Sr|=2;var S=J1();(xs!==i||Ms!==l)&&(Ml=null,Vu=Mr()+500,Qc(i,l));do try{kN();break}catch(ae){K1(i,ae)}while(!0);Hr(),$h.current=S,Sr=N,Gn!==null?l=0:(xs=null,Ms=0,l=ls)}if(l!==0){if(l===2&&(N=Gs(i),N!==0&&(x=N,l=s0(i,N))),l===1)throw h=$d,Qc(i,0),dc(i,x),$i(i,Mr()),h;if(l===6)dc(i,x);else{if(N=i.current.alternate,(x&30)===0&&!_N(N)&&(l=Jh(i,x),l===2&&(S=Gs(i),S!==0&&(x=S,l=s0(i,S))),l===1))throw h=$d,Qc(i,0),dc(i,x),$i(i,Mr()),h;switch(i.finishedWork=N,i.finishedLanes=x,l){case 0:case 1:throw Error(r(345));case 2:Zc(i,Bi,Ml);break;case 3:if(dc(i,x),(x&130023424)===x&&(l=t0+500-Mr(),10<l)){if(jn(i,0)!==0)break;if(N=i.suspendedLanes,(N&x)!==x){ji(),i.pingedLanes|=i.suspendedLanes&N;break}i.timeoutHandle=rc(Zc.bind(null,i,Bi,Ml),l);break}Zc(i,Bi,Ml);break;case 4:if(dc(i,x),(x&4194240)===x)break;for(l=i.eventTimes,N=-1;0<x;){var D=31-fn(x);S=1<<D,D=l[D],D>N&&(N=D),x&=~S}if(x=N,x=Mr()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*jN(x/1960))-x,10<x){i.timeoutHandle=rc(Zc.bind(null,i,Bi,Ml),x);break}Zc(i,Bi,Ml);break;case 5:Zc(i,Bi,Ml);break;default:throw Error(r(329))}}}return $i(i,Mr()),i.callbackNode===h?G1.bind(null,i):null}function s0(i,l){var h=Vd;return i.current.memoizedState.isDehydrated&&(Qc(i,l).flags|=256),i=Jh(i,l),i!==2&&(l=Bi,Bi=h,l!==null&&i0(l)),i}function i0(i){Bi===null?Bi=i:Bi.push.apply(Bi,i)}function _N(i){for(var l=i;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var x=0;x<h.length;x++){var N=h[x],S=N.getSnapshot;N=N.value;try{if(!br(S(),N))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function dc(i,l){for(l&=~e0,l&=~Vh,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var h=31-fn(l),x=1<<h;i[h]=-1,l&=~x}}function Y1(i){if((Sr&6)!==0)throw Error(r(327));Wu();var l=jn(i,0);if((l&1)===0)return $i(i,Mr()),null;var h=Jh(i,l);if(i.tag!==0&&h===2){var x=Gs(i);x!==0&&(l=x,h=s0(i,x))}if(h===1)throw h=$d,Qc(i,0),dc(i,l),$i(i,Mr()),h;if(h===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Zc(i,Bi,Ml),$i(i,Mr()),null}function a0(i,l){var h=Sr;Sr|=1;try{return i(l)}finally{Sr=h,Sr===0&&(Vu=Mr()+500,St&&C())}}function Xc(i){cc!==null&&cc.tag===0&&(Sr&6)===0&&Wu();var l=Sr;Sr|=1;var h=Ba.transition,x=hr;try{if(Ba.transition=null,hr=1,i)return i()}finally{hr=x,Ba.transition=h,Sr=l,(Sr&6)===0&&C()}}function o0(){ca=$u.current,Nr($u)}function Qc(i,l){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;if(h!==-1&&(i.timeoutHandle=-1,Dc(h)),Gn!==null)for(h=Gn.return;h!==null;){var x=h;switch(Pe(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&B();break;case 3:Ll(),Nr(ss),Nr(En),Rl();break;case 5:Fu(x);break;case 4:Ll();break;case 13:Nr(Kr);break;case 19:Nr(Kr);break;case 10:Wn(x.type._context);break;case 22:case 23:o0()}h=h.return}if(xs=i,Gn=i=hc(i.current,null),Ms=ca=l,ls=0,$d=null,e0=Vh=Jc=0,Bi=Vd=null,fr!==null){for(l=0;l<fr.length;l++)if(h=fr[l],x=h.interleaved,x!==null){h.interleaved=null;var N=x.next,S=h.pending;if(S!==null){var D=S.next;S.next=N,x.next=D}h.pending=x}fr=null}return i}function K1(i,l){do{var h=Gn;try{if(Hr(),Wc.current=Dh,Hc){for(var x=Jr.memoizedState;x!==null;){var N=x.queue;N!==null&&(N.pending=null),x=x.next}Hc=!1}if(Ua=0,Br=vn=Jr=null,ic=!1,Gc=0,Zp.current=null,h===null||h.return===null){ls=1,$d=l,Gn=null;break}e:{var S=i,D=h.return,ae=h,xe=l;if(l=Ms,ae.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var Ie=xe,Ge=ae,Ye=Ge.tag;if((Ge.mode&1)===0&&(Ye===0||Ye===11||Ye===15)){var He=Ge.alternate;He?(Ge.updateQueue=He.updateQueue,Ge.memoizedState=He.memoizedState,Ge.lanes=He.lanes):(Ge.updateQueue=null,Ge.memoizedState=null)}var rt=y1(D);if(rt!==null){rt.flags&=-257,w1(rt,D,ae,S,l),rt.mode&1&&b1(S,Ie,l),l=rt,xe=Ie;var ft=l.updateQueue;if(ft===null){var gt=new Set;gt.add(xe),l.updateQueue=gt}else ft.add(xe);break e}else{if((l&1)===0){b1(S,Ie,l),l0();break e}xe=Error(r(426))}}else if(De&&ae.mode&1){var Mn=y1(D);if(Mn!==null){(Mn.flags&65536)===0&&(Mn.flags|=256),w1(Mn,D,ae,S,l),Je(zu(xe,ae));break e}}S=xe=zu(xe,ae),ls!==4&&(ls=2),Vd===null?Vd=[S]:Vd.push(S),S=D;do{switch(S.tag){case 3:S.flags|=65536,l&=-l,S.lanes|=l;var Te=g1(S,xe,l);ps(S,Te);break e;case 1:ae=xe;var Ne=S.type,Re=S.stateNode;if((S.flags&128)===0&&(typeof Ne.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(lc===null||!lc.has(Re)))){S.flags|=65536,l&=-l,S.lanes|=l;var Ke=v1(S,ae,l);ps(S,Ke);break e}}S=S.return}while(S!==null)}Q1(h)}catch(bt){l=bt,Gn===h&&h!==null&&(Gn=h=h.return);continue}break}while(!0)}function J1(){var i=$h.current;return $h.current=Dh,i===null?Dh:i}function l0(){(ls===0||ls===3||ls===2)&&(ls=4),xs===null||(Jc&268435455)===0&&(Vh&268435455)===0||dc(xs,Ms)}function Jh(i,l){var h=Sr;Sr|=2;var x=J1();(xs!==i||Ms!==l)&&(Ml=null,Qc(i,l));do try{SN();break}catch(N){K1(i,N)}while(!0);if(Hr(),Sr=h,$h.current=x,Gn!==null)throw Error(r(261));return xs=null,Ms=0,ls}function SN(){for(;Gn!==null;)X1(Gn)}function kN(){for(;Gn!==null&&!Mo();)X1(Gn)}function X1(i){var l=tv(i.alternate,i,ca);i.memoizedProps=i.pendingProps,l===null?Q1(i):Gn=l,Zp.current=null}function Q1(i){var l=i;do{var h=l.alternate;if(i=l.return,(l.flags&32768)===0){if(h=vN(h,l,ca),h!==null){Gn=h;return}}else{if(h=bN(h,l),h!==null){h.flags&=32767,Gn=h;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{ls=6,Gn=null;return}}if(l=l.sibling,l!==null){Gn=l;return}Gn=l=i}while(l!==null);ls===0&&(ls=5)}function Zc(i,l,h){var x=hr,N=Ba.transition;try{Ba.transition=null,hr=1,EN(i,l,h,x)}finally{Ba.transition=N,hr=x}return null}function EN(i,l,h,x){do Wu();while(cc!==null);if((Sr&6)!==0)throw Error(r(327));h=i.finishedWork;var N=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var S=h.lanes|h.childLanes;if(ki(i,S),i===xs&&(Gn=xs=null,Ms=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Hh||(Hh=!0,rv(ba,function(){return Wu(),null})),S=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||S){S=Ba.transition,Ba.transition=null;var D=hr;hr=1;var ae=Sr;Sr|=4,Zp.current=null,wN(i,h),B1(h,i),Go(Ma),Vo=!!tl,Ma=tl=null,i.current=h,NN(h),Eu(),Sr=ae,hr=D,Ba.transition=S}else i.current=h;if(Hh&&(Hh=!1,cc=i,Gh=N),S=i.pendingLanes,S===0&&(lc=null),Ac(h.stateNode),$i(i,Mr()),l!==null)for(x=i.onRecoverableError,h=0;h<l.length;h++)N=l[h],x(N.value,{componentStack:N.stack,digest:N.digest});if(Wh)throw Wh=!1,i=r0,r0=null,i;return(Gh&1)!==0&&i.tag!==0&&Wu(),S=i.pendingLanes,(S&1)!==0?i===n0?Wd++:(Wd=0,n0=i):Wd=0,C(),null}function Wu(){if(cc!==null){var i=wa(Gh),l=Ba.transition,h=hr;try{if(Ba.transition=null,hr=16>i?16:i,cc===null)var x=!1;else{if(i=cc,cc=null,Gh=0,(Sr&6)!==0)throw Error(r(331));var N=Sr;for(Sr|=4,ct=i.current;ct!==null;){var S=ct,D=S.child;if((ct.flags&16)!==0){var ae=S.deletions;if(ae!==null){for(var xe=0;xe<ae.length;xe++){var Ie=ae[xe];for(ct=Ie;ct!==null;){var Ge=ct;switch(Ge.tag){case 0:case 11:case 15:Bd(8,Ge,S)}var Ye=Ge.child;if(Ye!==null)Ye.return=Ge,ct=Ye;else for(;ct!==null;){Ge=ct;var He=Ge.sibling,rt=Ge.return;if(F1(Ge),Ge===Ie){ct=null;break}if(He!==null){He.return=rt,ct=He;break}ct=rt}}}var ft=S.alternate;if(ft!==null){var gt=ft.child;if(gt!==null){ft.child=null;do{var Mn=gt.sibling;gt.sibling=null,gt=Mn}while(gt!==null)}}ct=S}}if((S.subtreeFlags&2064)!==0&&D!==null)D.return=S,ct=D;else e:for(;ct!==null;){if(S=ct,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Bd(9,S,S.return)}var Te=S.sibling;if(Te!==null){Te.return=S.return,ct=Te;break e}ct=S.return}}var Ne=i.current;for(ct=Ne;ct!==null;){D=ct;var Re=D.child;if((D.subtreeFlags&2064)!==0&&Re!==null)Re.return=D,ct=Re;else e:for(D=Ne;ct!==null;){if(ae=ct,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:Bh(9,ae)}}catch(bt){Cn(ae,ae.return,bt)}if(ae===D){ct=null;break e}var Ke=ae.sibling;if(Ke!==null){Ke.return=ae.return,ct=Ke;break e}ct=ae.return}}if(Sr=N,C(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(Do,i)}catch{}x=!0}return x}finally{hr=h,Ba.transition=l}}return!1}function Z1(i,l,h){l=zu(h,l),l=g1(i,l,1),i=Ur(i,l,1),l=ji(),i!==null&&(Bn(i,1,l),$i(i,l))}function Cn(i,l,h){if(i.tag===3)Z1(i,i,h);else for(;l!==null;){if(l.tag===3){Z1(l,i,h);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(lc===null||!lc.has(x))){i=zu(h,i),i=v1(l,i,1),l=Ur(l,i,1),i=ji(),l!==null&&(Bn(l,1,i),$i(l,i));break}}l=l.return}}function CN(i,l,h){var x=i.pingCache;x!==null&&x.delete(l),l=ji(),i.pingedLanes|=i.suspendedLanes&h,xs===i&&(Ms&h)===h&&(ls===4||ls===3&&(Ms&130023424)===Ms&&500>Mr()-t0?Qc(i,0):e0|=h),$i(i,l)}function ev(i,l){l===0&&((i.mode&1)===0?l=1:(l=Hs,Hs<<=1,(Hs&130023424)===0&&(Hs=4194304)));var h=ji();i=zr(i,l),i!==null&&(Bn(i,l,h),$i(i,h))}function AN(i){var l=i.memoizedState,h=0;l!==null&&(h=l.retryLane),ev(i,h)}function PN(i,l){var h=0;switch(i.tag){case 13:var x=i.stateNode,N=i.memoizedState;N!==null&&(h=N.retryLane);break;case 19:x=i.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(l),ev(i,h)}var tv;tv=function(i,l,h){if(i!==null)if(i.memoizedProps!==l.pendingProps||ss.current)zi=!0;else{if((i.lanes&h)===0&&(l.flags&128)===0)return zi=!1,gN(i,l,h);zi=(i.flags&131072)!==0}else zi=!1,De&&(l.flags&1048576)!==0&&Ee(l,$,l.index);switch(l.lanes=0,l.tag){case 2:var x=l.type;Uh(i,l),i=l.pendingProps;var N=go(l,En.current);Gr(l,h),N=Du(null,l,x,i,N,h);var S=qd();return l.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,is(x)?(S=!0,nt(l)):S=!1,l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,rn(l),N.updater=Rr,l.stateNode=N,N._reactInternals=l,oa(l,x,i,h),l=$p(null,l,x,!0,S,h)):(l.tag=0,De&&S&&Fe(l),Ni(null,l,N,h),l=l.child),l;case 16:x=l.elementType;e:{switch(Uh(i,l),i=l.pendingProps,N=x._init,x=N(x._payload),l.type=x,N=l.tag=TN(x),i=Pt(x,i),N){case 0:l=Bp(null,l,x,i,h);break e;case 1:l=E1(null,l,x,i,h);break e;case 11:l=N1(null,l,x,i,h);break e;case 14:l=j1(null,l,x,Pt(x.type,i),h);break e}throw Error(r(306,x,""))}return l;case 0:return x=l.type,N=l.pendingProps,N=l.elementType===x?N:Pt(x,N),Bp(i,l,x,N,h);case 1:return x=l.type,N=l.pendingProps,N=l.elementType===x?N:Pt(x,N),E1(i,l,x,N,h);case 3:e:{if(C1(l),i===null)throw Error(r(387));x=l.pendingProps,S=l.memoizedState,N=S.element,Ts(i,l),ms(l,x,null,h);var D=l.memoizedState;if(x=D.element,S.isDehydrated)if(S={element:x,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){N=zu(Error(r(423)),l),l=A1(i,l,x,h,N);break e}else if(x!==N){N=zu(Error(r(424)),l),l=A1(i,l,x,h,N);break e}else for(Me=Vn(l.stateNode.containerInfo.firstChild),Le=l,De=!0,Ue=null,h=Rh(l,null,x,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(it(),x===N){l=Il(i,l,h);break e}Ni(i,l,x,h)}l=l.child}return l;case 5:return $c(l),i===null&&dt(l),x=l.type,N=l.pendingProps,S=i!==null?i.memoizedProps:null,D=N.children,tc(x,N)?D=null:S!==null&&tc(x,S)&&(l.flags|=32),k1(i,l),Ni(i,l,D,h),l.child;case 6:return i===null&&dt(l),null;case 13:return P1(i,l,h);case 4:return Md(l,l.stateNode.containerInfo),x=l.pendingProps,i===null?l.child=qa(l,null,x,h):Ni(i,l,x,h),l.child;case 11:return x=l.type,N=l.pendingProps,N=l.elementType===x?N:Pt(x,N),N1(i,l,x,N,h);case 7:return Ni(i,l,l.pendingProps,h),l.child;case 8:return Ni(i,l,l.pendingProps.children,h),l.child;case 12:return Ni(i,l,l.pendingProps.children,h),l.child;case 10:e:{if(x=l.type._context,N=l.pendingProps,S=l.memoizedProps,D=N.value,_r(or,x._currentValue),x._currentValue=D,S!==null)if(br(S.value,D)){if(S.children===N.children&&!ss.current){l=Il(i,l,h);break e}}else for(S=l.child,S!==null&&(S.return=l);S!==null;){var ae=S.dependencies;if(ae!==null){D=S.child;for(var xe=ae.firstContext;xe!==null;){if(xe.context===x){if(S.tag===1){xe=pr(-1,h&-h),xe.tag=2;var Ie=S.updateQueue;if(Ie!==null){Ie=Ie.shared;var Ge=Ie.pending;Ge===null?xe.next=xe:(xe.next=Ge.next,Ge.next=xe),Ie.pending=xe}}S.lanes|=h,xe=S.alternate,xe!==null&&(xe.lanes|=h),os(S.return,h,l),ae.lanes|=h;break}xe=xe.next}}else if(S.tag===10)D=S.type===l.type?null:S.child;else if(S.tag===18){if(D=S.return,D===null)throw Error(r(341));D.lanes|=h,ae=D.alternate,ae!==null&&(ae.lanes|=h),os(D,h,l),D=S.sibling}else D=S.child;if(D!==null)D.return=S;else for(D=S;D!==null;){if(D===l){D=null;break}if(S=D.sibling,S!==null){S.return=D.return,D=S;break}D=D.return}S=D}Ni(i,l,N.children,h),l=l.child}return l;case 9:return N=l.type,x=l.pendingProps.children,Gr(l,h),N=Kt(N),x=x(N),l.flags|=1,Ni(i,l,x,h),l.child;case 14:return x=l.type,N=Pt(x,l.pendingProps),N=Pt(x.type,N),j1(i,l,x,N,h);case 15:return _1(i,l,l.type,l.pendingProps,h);case 17:return x=l.type,N=l.pendingProps,N=l.elementType===x?N:Pt(x,N),Uh(i,l),l.tag=1,is(x)?(i=!0,nt(l)):i=!1,Gr(l,h),Fi(l,x,N),oa(l,x,N,h),$p(null,l,x,!0,i,h);case 19:return T1(i,l,h);case 22:return S1(i,l,h)}throw Error(r(156,l.tag))};function rv(i,l){return Oo(i,l)}function LN(i,l,h,x){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $a(i,l,h,x){return new LN(i,l,h,x)}function c0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function TN(i){if(typeof i=="function")return c0(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===be)return 14}return 2}function hc(i,l){var h=i.alternate;return h===null?(h=$a(i.tag,l,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=l,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&14680064,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,l=i.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h}function Xh(i,l,h,x,N,S){var D=2;if(x=i,typeof i=="function")c0(i)&&(D=1);else if(typeof i=="string")D=5;else e:switch(i){case oe:return eu(h.children,N,S,l);case se:D=8,N|=8;break;case W:return i=$a(12,h,l,N|2),i.elementType=W,i.lanes=S,i;case Y:return i=$a(13,h,l,N),i.elementType=Y,i.lanes=S,i;case H:return i=$a(19,h,l,N),i.elementType=H,i.lanes=S,i;case ge:return Qh(h,N,S,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ne:D=10;break e;case T:D=9;break e;case U:D=11;break e;case be:D=14;break e;case we:D=16,x=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return l=$a(D,h,l,N),l.elementType=i,l.type=x,l.lanes=S,l}function eu(i,l,h,x){return i=$a(7,i,x,l),i.lanes=h,i}function Qh(i,l,h,x){return i=$a(22,i,x,l),i.elementType=ge,i.lanes=h,i.stateNode={isHidden:!1},i}function u0(i,l,h){return i=$a(6,i,null,l),i.lanes=h,i}function d0(i,l,h){return l=$a(4,i.children!==null?i.children:[],i.key,l),l.lanes=h,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function RN(i,l,h,x,N){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qo(0),this.expirationTimes=qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.identifierPrefix=x,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function h0(i,l,h,x,N,S,D,ae,xe){return i=new RN(i,l,h,ae,xe),l===1?(l=1,S===!0&&(l|=8)):l=0,S=$a(3,null,null,l),i.current=S,S.stateNode=i,S.memoizedState={element:x,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},rn(S),i}function ON(i,l,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:x==null?null:""+x,children:i,containerInfo:l,implementation:h}}function nv(i){if(!i)return aa;i=i._reactInternals;e:{if(Nn(i)!==i||i.tag!==1)throw Error(r(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(is(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(i.tag===1){var h=i.type;if(is(h))return Xe(i,h,l)}return l}function sv(i,l,h,x,N,S,D,ae,xe){return i=h0(h,x,!0,i,N,S,D,ae,xe),i.context=nv(null),h=i.current,x=ji(),N=uc(h),S=pr(x,N),S.callback=l??null,Ur(h,S,N),i.current.lanes=N,Bn(i,N,x),$i(i,x),i}function Zh(i,l,h,x){var N=l.current,S=ji(),D=uc(N);return h=nv(h),l.context===null?l.context=h:l.pendingContext=h,l=pr(S,D),l.payload={element:i},x=x===void 0?null:x,x!==null&&(l.callback=x),i=Ur(N,l,D),i!==null&&(jo(i,N,D,S),fs(i,N,D)),D}function ef(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function iv(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<l?h:l}}function f0(i,l){iv(i,l),(i=i.alternate)&&iv(i,l)}function IN(){return null}var av=typeof reportError=="function"?reportError:function(i){console.error(i)};function p0(i){this._internalRoot=i}tf.prototype.render=p0.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));Zh(i,l,null,null)},tf.prototype.unmount=p0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Xc(function(){Zh(null,i,null,null)}),l[In]=null}};function tf(i){this._internalRoot=i}tf.prototype.unstable_scheduleHydration=function(i){if(i){var l=Pc();i={blockedOn:null,target:i,priority:l};for(var h=0;h<Ei.length&&l!==0&&l<Ei[h].priority;h++);Ei.splice(h,0,i),h===0&&ro(i)}};function m0(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function rf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ov(){}function MN(i,l,h,x,N){if(N){if(typeof x=="function"){var S=x;x=function(){var Ie=ef(D);S.call(Ie)}}var D=sv(l,x,i,0,null,!1,!1,"",ov);return i._reactRootContainer=D,i[In]=D.current,Oa(i.nodeType===8?i.parentNode:i),Xc(),D}for(;N=i.lastChild;)i.removeChild(N);if(typeof x=="function"){var ae=x;x=function(){var Ie=ef(xe);ae.call(Ie)}}var xe=h0(i,0,!1,null,null,!1,!1,"",ov);return i._reactRootContainer=xe,i[In]=xe.current,Oa(i.nodeType===8?i.parentNode:i),Xc(function(){Zh(l,xe,h,x)}),xe}function nf(i,l,h,x,N){var S=h._reactRootContainer;if(S){var D=S;if(typeof N=="function"){var ae=N;N=function(){var xe=ef(D);ae.call(xe)}}Zh(l,D,i,N)}else D=MN(h,l,i,N,x);return ef(D)}Na=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var h=Ji(l.pendingLanes);h!==0&&(rr(l,h|1),$i(l,Mr()),(Sr&6)===0&&(Vu=Mr()+500,C()))}break;case 13:Xc(function(){var x=zr(i,1);if(x!==null){var N=ji();jo(x,i,1,N)}}),f0(i,1)}},Yl=function(i){if(i.tag===13){var l=zr(i,134217728);if(l!==null){var h=ji();jo(l,i,134217728,h)}f0(i,134217728)}},Kl=function(i){if(i.tag===13){var l=uc(i),h=zr(i,l);if(h!==null){var x=ji();jo(h,i,l,x)}f0(i,l)}},Pc=function(){return hr},Uo=function(i,l){var h=hr;try{return hr=i,l()}finally{hr=h}},Ut=function(i,l,h){switch(l){case"input":if(vt(i,h),l=h.name,h.type==="radio"&&l!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var x=h[l];if(x!==i&&x.form===i.form){var N=rl(x);if(!N)throw Error(r(90));je(x),vt(x,N)}}}break;case"textarea":yr(i,h);break;case"select":l=h.value,l!=null&&Ze(i,!!h.multiple,l,!1)}},zn=a0,Gi=Xc;var FN={usingClientEntryPoint:!1,Events:[xo,Fa,rl,lr,Qa,a0]},Hd={findFiberByHostInstance:ia,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},DN={bundleType:Hd.bundleType,version:Hd.version,rendererPackageName:Hd.rendererPackageName,rendererConfig:Hd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ci(i),i===null?null:i.stateNode},findFiberByHostInstance:Hd.findFiberByHostInstance||IN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{Do=sf.inject(DN),ds=sf}catch{}}return Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FN,Vi.createPortal=function(i,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m0(l))throw Error(r(200));return ON(i,l,null,h)},Vi.createRoot=function(i,l){if(!m0(i))throw Error(r(299));var h=!1,x="",N=av;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),l=h0(i,1,!1,null,null,h,!1,x,N),i[In]=l.current,Oa(i.nodeType===8?i.parentNode:i),new p0(l)},Vi.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=ci(l),i=i===null?null:i.stateNode,i},Vi.flushSync=function(i){return Xc(i)},Vi.hydrate=function(i,l,h){if(!rf(l))throw Error(r(200));return nf(null,i,l,!0,h)},Vi.hydrateRoot=function(i,l,h){if(!m0(i))throw Error(r(405));var x=h!=null&&h.hydratedSources||null,N=!1,S="",D=av;if(h!=null&&(h.unstable_strictMode===!0&&(N=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&(D=h.onRecoverableError)),l=sv(l,null,i,1,h??null,N,!1,S,D),i[In]=l.current,Oa(i),x)for(i=0;i<x.length;i++)h=x[i],N=h._getVersion,N=N(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,N]:l.mutableSourceEagerHydrationData.push(h,N);return new tf(l)},Vi.render=function(i,l,h){if(!rf(l))throw Error(r(200));return nf(null,i,l,!1,h)},Vi.unmountComponentAtNode=function(i){if(!rf(i))throw Error(r(40));return i._reactRootContainer?(Xc(function(){nf(null,null,i,!1,function(){i._reactRootContainer=null,i[In]=null})}),!0):!1},Vi.unstable_batchedUpdates=a0,Vi.unstable_renderSubtreeIntoContainer=function(i,l,h,x){if(!rf(h))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return nf(i,l,h,!1,x)},Vi.version="18.2.0-next-9e3b772b8-20220608",Vi}var mv;function Ny(){if(mv)return v0.exports;mv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),v0.exports=GN(),v0.exports}var xv;function YN(){if(xv)return of;xv=1;var e=Ny();return of.createRoot=e.createRoot,of.hydrateRoot=e.hydrateRoot,of}var KN=YN();const JN=kc(KN),XN="modulepreload",QN=function(e){return"/"+e},gv={},ih=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=c(r.map(f=>{if(f=QN(f),f in gv)return;gv[f]=!0;const p=f.endsWith(".css"),b=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${b}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":XN,p||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),p)return new Promise((v,_)=>{y.addEventListener("load",v),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})};/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vv="popstate";function ZN(e={}){function t(n,a){let{pathname:o,search:c,hash:u}=n.location;return Cx("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:fh(a)}return t3(t,r,null,e)}function yn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function e3(){return Math.random().toString(36).substring(2,10)}function bv(e,t){return{usr:e.state,key:e.key,idx:t}}function Cx(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Pd(t):t,state:r,key:t&&t.key||n||e3()}}function fh({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Pd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function t3(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,c=a.history,u="POP",d=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function b(){u="POP";let E=p(),A=E==null?null:E-f;f=E,d&&d({action:u,location:k.location,delta:A})}function y(E,A){u="PUSH";let L=Cx(k.location,E,A);f=p()+1;let P=bv(L,f),R=k.createHref(L);try{c.pushState(P,"",R)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;a.location.assign(R)}o&&d&&d({action:u,location:k.location,delta:1})}function v(E,A){u="REPLACE";let L=Cx(k.location,E,A);f=p();let P=bv(L,f),R=k.createHref(L);c.replaceState(P,"",R),o&&d&&d({action:u,location:k.location,delta:0})}function _(E){return r3(E)}let k={get action(){return u},get location(){return e(a,c)},listen(E){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(vv,b),d=E,()=>{a.removeEventListener(vv,b),d=null}},createHref(E){return t(a,E)},createURL:_,encodeLocation(E){let A=_(E);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:v,go(E){return c.go(E)}};return k}function r3(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),yn(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:fh(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function jy(e,t,r="/"){return n3(e,t,r,!1)}function n3(e,t,r,n){let a=typeof t=="string"?Pd(t):t,o=Wl(a.pathname||"/",r);if(o==null)return null;let c=_y(e);s3(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let f=m3(o);u=f3(c[d],f,n)}return u}function _y(e,t=[],r=[],n="",a=!1){let o=(c,u,d=a,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;yn(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let b=Vl([n,p.relativePath]),y=r.concat(p);c.children&&c.children.length>0&&(yn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),_y(c.children,t,y,b,d)),!(c.path==null&&!c.index)&&t.push({path:b,score:d3(b,c.index),routesMeta:y})};return e.forEach((c,u)=>{var d;if(c.path===""||!((d=c.path)!=null&&d.includes("?")))o(c,u);else for(let f of Sy(c.path))o(c,u,!0,f)}),t}function Sy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let c=Sy(n.join("/")),u=[];return u.push(...c.map(d=>d===""?o:[o,d].join("/"))),a&&u.push(...c),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function s3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:h3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var i3=/^:[\w-]+$/,a3=3,o3=2,l3=1,c3=10,u3=-2,yv=e=>e==="*";function d3(e,t){let r=e.split("/"),n=r.length;return r.some(yv)&&(n+=u3),t&&(n+=o3),r.filter(a=>!yv(a)).reduce((a,o)=>a+(i3.test(o)?a3:o===""?l3:c3),n)}function h3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function f3(e,t,r=!1){let{routesMeta:n}=e,a={},o="/",c=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,p=o==="/"?t:t.slice(o.length)||"/",b=Bf({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),y=d.route;if(!b&&f&&r&&!n[n.length-1].route.index&&(b=Bf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Vl([o,b.pathname]),pathnameBase:b3(Vl([o,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(o=Vl([o,b.pathnameBase]))}return c}function Bf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=p3(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:b},y)=>{if(p==="*"){let _=u[y]||"";c=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const v=u[y];return b&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:e}}function p3(e,t=!1,r=!0){fl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function m3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fl(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Wl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var x3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function g3(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Pd(e):e,o;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?o=wv(r.substring(1),"/"):o=wv(r,t)):o=t,{pathname:o,search:y3(n),hash:w3(a)}}function wv(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function w0(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function v3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ky(e){let t=v3(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Ey(e,t,r,n=!1){let a;typeof e=="string"?a=Pd(e):(a={...e},yn(!a.pathname||!a.pathname.includes("?"),w0("?","pathname","search",a)),yn(!a.pathname||!a.pathname.includes("#"),w0("#","pathname","hash",a)),yn(!a.search||!a.search.includes("#"),w0("#","search","hash",a)));let o=e===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=r;else{let b=t.length-1;if(!n&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),b-=1;a.pathname=y.join("/")}u=b>=0?t[b]:"/"}let d=g3(a,u),f=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Vl=e=>e.join("/").replace(/\/\/+/g,"/"),b3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),y3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,w3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,N3=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function j3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function _3(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Cy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ay(e,t){let r=e;if(typeof r!="string"||!x3.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(Cy)try{let o=new URL(window.location.href),c=r.startsWith("//")?new URL(o.protocol+r):new URL(r),u=Wl(c.pathname,t);c.origin===o.origin&&u!=null?r=u+c.search+c.hash:a=!0}catch{fl(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Py=["POST","PUT","PATCH","DELETE"];new Set(Py);var S3=["GET",...Py];new Set(S3);var Ld=z.createContext(null);Ld.displayName="DataRouter";var xp=z.createContext(null);xp.displayName="DataRouterState";var k3=z.createContext(!1),Ly=z.createContext({isTransitioning:!1});Ly.displayName="ViewTransition";var E3=z.createContext(new Map);E3.displayName="Fetchers";var C3=z.createContext(null);C3.displayName="Await";var Xa=z.createContext(null);Xa.displayName="Navigation";var kh=z.createContext(null);kh.displayName="Location";var ml=z.createContext({outlet:null,matches:[],isDataRoute:!1});ml.displayName="Route";var Lg=z.createContext(null);Lg.displayName="RouteError";var Ty="REACT_ROUTER_ERROR",A3="REDIRECT",P3="ROUTE_ERROR_RESPONSE";function L3(e){if(e.startsWith(`${Ty}:${A3}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function T3(e){if(e.startsWith(`${Ty}:${P3}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new N3(t.status,t.statusText,t.data)}catch{}}function R3(e,{relative:t}={}){yn(Eh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=z.useContext(Xa),{hash:a,pathname:o,search:c}=Ch(e,{relative:t}),u=o;return r!=="/"&&(u=o==="/"?r:Vl([r,o])),n.createHref({pathname:u,search:c,hash:a})}function Eh(){return z.useContext(kh)!=null}function Nu(){return yn(Eh(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(kh).location}var Ry="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Oy(e){z.useContext(Xa).static||z.useLayoutEffect(e)}function O3(){let{isDataRoute:e}=z.useContext(ml);return e?Y3():I3()}function I3(){yn(Eh(),"useNavigate() may be used only in the context of a <Router> component.");let e=z.useContext(Ld),{basename:t,navigator:r}=z.useContext(Xa),{matches:n}=z.useContext(ml),{pathname:a}=Nu(),o=JSON.stringify(ky(n)),c=z.useRef(!1);return Oy(()=>{c.current=!0}),z.useCallback((d,f={})=>{if(fl(c.current,Ry),!c.current)return;if(typeof d=="number"){r.go(d);return}let p=Ey(d,JSON.parse(o),a,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Vl([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,o,a,e])}z.createContext(null);function M3(){let{matches:e}=z.useContext(ml),t=e[e.length-1];return t?t.params:{}}function Ch(e,{relative:t}={}){let{matches:r}=z.useContext(ml),{pathname:n}=Nu(),a=JSON.stringify(ky(r));return z.useMemo(()=>Ey(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function F3(e,t){return Iy(e,t)}function Iy(e,t,r,n,a){var L;yn(Eh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(Xa),{matches:c}=z.useContext(ml),u=c[c.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",b=u&&u.route;{let P=b&&b.path||"";Fy(f,!b||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=Nu(),v;if(t){let P=typeof t=="string"?Pd(t):t;yn(p==="/"||((L=P.pathname)==null?void 0:L.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${P.pathname}" was given in the \`location\` prop.`),v=P}else v=y;let _=v.pathname||"/",k=_;if(p!=="/"){let P=p.replace(/^\//,"").split("/");k="/"+_.replace(/^\//,"").split("/").slice(P.length).join("/")}let E=jy(e,{pathname:k});fl(b||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),fl(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=B3(E&&E.map(P=>Object.assign({},P,{params:Object.assign({},d,P.params),pathname:Vl([p,o.encodeLocation?o.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:Vl([p,o.encodeLocation?o.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),c,r,n,a);return t&&A?z.createElement(kh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function D3(){let e=G3(),t=j3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:o},"ErrorBoundary")," or"," ",z.createElement("code",{style:o},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),r?z.createElement("pre",{style:a},r):null,c)}var q3=z.createElement(D3,null),My=class extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=T3(e.digest);r&&(e=r)}let t=e!==void 0?z.createElement(ml.Provider,{value:this.props.routeContext},z.createElement(Lg.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?z.createElement(U3,{error:e},t):t}};My.contextType=k3;var N0=new WeakMap;function U3({children:e,error:t}){let{basename:r}=z.useContext(Xa);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=L3(t.digest);if(n){let a=N0.get(t);if(a)throw a;let o=Ay(n.location,r);if(Cy&&!N0.get(t))if(o.isExternal||n.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:n.replace}));throw N0.set(t,c),c}return z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function z3({routeContext:e,match:t,children:r}){let n=z.useContext(Ld);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(ml.Provider,{value:e},r)}function B3(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=r==null?void 0:r.errors;if(c!=null){let p=o.findIndex(b=>b.route.id&&(c==null?void 0:c[b.route.id])!==void 0);yn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(r)for(let p=0;p<o.length;p++){let b=o[p];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=p),b.route.id){let{loaderData:y,errors:v}=r,_=b.route.loader&&!y.hasOwnProperty(b.route.id)&&(!v||v[b.route.id]===void 0);if(b.route.lazy||_){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=r&&n?(p,b)=>{var y,v;n(p,{location:r.location,params:((v=(y=r.matches)==null?void 0:y[0])==null?void 0:v.params)??{},unstable_pattern:_3(r.matches),errorInfo:b})}:void 0;return o.reduceRight((p,b,y)=>{let v,_=!1,k=null,E=null;r&&(v=c&&b.route.id?c[b.route.id]:void 0,k=b.route.errorElement||q3,u&&(d<0&&y===0?(Fy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):d===y&&(_=!0,E=b.route.hydrateFallbackElement||null)));let A=t.concat(o.slice(0,y+1)),L=()=>{let P;return v?P=k:_?P=E:b.route.Component?P=z.createElement(b.route.Component,null):b.route.element?P=b.route.element:P=p,z.createElement(z3,{match:b,routeContext:{outlet:p,matches:A,isDataRoute:r!=null},children:P})};return r&&(b.route.ErrorBoundary||b.route.errorElement||y===0)?z.createElement(My,{location:r.location,revalidation:r.revalidation,component:k,error:v,children:L(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:f}):L()},null)}function Tg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $3(e){let t=z.useContext(Ld);return yn(t,Tg(e)),t}function V3(e){let t=z.useContext(xp);return yn(t,Tg(e)),t}function W3(e){let t=z.useContext(ml);return yn(t,Tg(e)),t}function Rg(e){let t=W3(e),r=t.matches[t.matches.length-1];return yn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function H3(){return Rg("useRouteId")}function G3(){var n;let e=z.useContext(Lg),t=V3("useRouteError"),r=Rg("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Y3(){let{router:e}=$3("useNavigate"),t=Rg("useNavigate"),r=z.useRef(!1);return Oy(()=>{r.current=!0}),z.useCallback(async(a,o={})=>{fl(r.current,Ry),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var Nv={};function Fy(e,t,r){!t&&!Nv[e]&&(Nv[e]=!0,fl(!1,r))}z.memo(K3);function K3({routes:e,future:t,state:r,onError:n}){return Iy(e,void 0,r,n,t)}function su(e){yn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function J3({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:o=!1,unstable_useTransitions:c}){yn(!Eh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:u,navigator:a,static:o,unstable_useTransitions:c,future:{}}),[u,a,o,c]);typeof r=="string"&&(r=Pd(r));let{pathname:f="/",search:p="",hash:b="",state:y=null,key:v="default"}=r,_=z.useMemo(()=>{let k=Wl(f,u);return k==null?null:{location:{pathname:k,search:p,hash:b,state:y,key:v},navigationType:n}},[u,f,p,b,y,v,n]);return fl(_!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${b}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:z.createElement(Xa.Provider,{value:d},z.createElement(kh.Provider,{children:t,value:_}))}function X3({children:e,location:t}){return F3(Ax(e),t)}function Ax(e,t=[]){let r=[];return z.Children.forEach(e,(n,a)=>{if(!z.isValidElement(n))return;let o=[...t,a];if(n.type===z.Fragment){r.push.apply(r,Ax(n.props.children,o));return}yn(n.type===su,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Ax(n.props.children,o)),r.push(c)}),r}var Pf="get",Lf="application/x-www-form-urlencoded";function gp(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Q3(e){return gp(e)&&e.tagName.toLowerCase()==="button"}function Z3(e){return gp(e)&&e.tagName.toLowerCase()==="form"}function ej(e){return gp(e)&&e.tagName.toLowerCase()==="input"}function tj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rj(e,t){return e.button===0&&(!t||t==="_self")&&!tj(e)}var lf=null;function nj(){if(lf===null)try{new FormData(document.createElement("form"),0),lf=!1}catch{lf=!0}return lf}var sj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function j0(e){return e!=null&&!sj.has(e)?(fl(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lf}"`),null):e}function ij(e,t){let r,n,a,o,c;if(Z3(e)){let u=e.getAttribute("action");n=u?Wl(u,t):null,r=e.getAttribute("method")||Pf,a=j0(e.getAttribute("enctype"))||Lf,o=new FormData(e)}else if(Q3(e)||ej(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(n=d?Wl(d,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Pf,a=j0(e.getAttribute("formenctype"))||j0(u.getAttribute("enctype"))||Lf,o=new FormData(u,e),!nj()){let{name:f,type:p,value:b}=e;if(p==="image"){let y=f?`${f}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else f&&o.append(f,b)}}else{if(gp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Pf,n=null,a=Lf,c=e}return o&&a==="text/plain"&&(c=o,o=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Og(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function aj(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&Wl(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function oj(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function cj(e,t,r){let n=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let c=await oj(o,r);return c.links?c.links():[]}return[]}));return fj(n.flat(1).filter(lj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function jv(e,t,r,n,a,o){let c=(d,f)=>r[f]?d.route.id!==r[f].route.id:!0,u=(d,f)=>{var p;return r[f].pathname!==d.pathname||((p=r[f].route.path)==null?void 0:p.endsWith("*"))&&r[f].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,f)=>c(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{var b;let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(c(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=r[0])==null?void 0:b.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function uj(e,t,{includeHydrateFallback:r}={}){return dj(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function dj(e){return[...new Set(e)]}function hj(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function fj(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let o=JSON.stringify(hj(a));return r.has(o)||(r.add(o),n.push({key:o,link:a})),n},[])}function Dy(){let e=z.useContext(Ld);return Og(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function pj(){let e=z.useContext(xp);return Og(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ig=z.createContext(void 0);Ig.displayName="FrameworkContext";function qy(){let e=z.useContext(Ig);return Og(e,"You must render this element inside a <HydratedRouter> element"),e}function mj(e,t){let r=z.useContext(Ig),[n,a]=z.useState(!1),[o,c]=z.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:b}=t,y=z.useRef(null);z.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let k=A=>{A.forEach(L=>{c(L.isIntersecting)})},E=new IntersectionObserver(k,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[e]),z.useEffect(()=>{if(n){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[n]);let v=()=>{a(!0)},_=()=>{a(!1),c(!1)};return r?e!=="intent"?[o,y,{}]:[o,y,{onFocus:Yd(u,v),onBlur:Yd(d,_),onMouseEnter:Yd(f,v),onMouseLeave:Yd(p,_),onTouchStart:Yd(b,v)}]:[!1,y,{}]}function Yd(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function xj({page:e,...t}){let{router:r}=Dy(),n=z.useMemo(()=>jy(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?z.createElement(vj,{page:e,matches:n,...t}):null}function gj(e){let{manifest:t,routeModules:r}=qy(),[n,a]=z.useState([]);return z.useEffect(()=>{let o=!1;return cj(e,t,r).then(c=>{o||a(c)}),()=>{o=!0}},[e,t,r]),n}function vj({page:e,matches:t,...r}){let n=Nu(),{future:a,manifest:o,routeModules:c}=qy(),{basename:u}=Dy(),{loaderData:d,matches:f}=pj(),p=z.useMemo(()=>jv(e,t,f,o,n,"data"),[e,t,f,o,n]),b=z.useMemo(()=>jv(e,t,f,o,n,"assets"),[e,t,f,o,n]),y=z.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let k=new Set,E=!1;if(t.forEach(L=>{var R;let P=o.routes[L.route.id];!P||!P.hasLoader||(!p.some(Q=>Q.route.id===L.route.id)&&L.route.id in d&&((R=c[L.route.id])!=null&&R.shouldRevalidate)||P.hasClientLoader?E=!0:k.add(L.route.id))}),k.size===0)return[];let A=aj(e,u,a.unstable_trailingSlashAwareDataRequests,"data");return E&&k.size>0&&A.searchParams.set("_routes",t.filter(L=>k.has(L.route.id)).map(L=>L.route.id).join(",")),[A.pathname+A.search]},[u,a.unstable_trailingSlashAwareDataRequests,d,n,o,p,t,e,c]),v=z.useMemo(()=>uj(b,o),[b,o]),_=gj(b);return z.createElement(z.Fragment,null,y.map(k=>z.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),v.map(k=>z.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),_.map(({key:k,link:E})=>z.createElement("link",{key:k,nonce:r.nonce,...E,crossOrigin:E.crossOrigin??r.crossOrigin})))}function bj(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var yj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yj&&(window.__reactRouterVersion="7.13.0")}catch{}function wj({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=z.useRef();a.current==null&&(a.current=ZN({window:n,v5Compat:!0}));let o=a.current,[c,u]=z.useState({action:o.action,location:o.location}),d=z.useCallback(f=>{r===!1?u(f):z.startTransition(()=>u(f))},[r]);return z.useLayoutEffect(()=>o.listen(d),[o,d]),z.createElement(J3,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:r})}var Uy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zy=z.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:o,replace:c,state:u,target:d,to:f,preventScrollReset:p,viewTransition:b,unstable_defaultShouldRevalidate:y,...v},_){let{basename:k,unstable_useTransitions:E}=z.useContext(Xa),A=typeof f=="string"&&Uy.test(f),L=Ay(f,k);f=L.to;let P=R3(f,{relative:a}),[R,Q,te]=mj(n,v),oe=Sj(f,{replace:c,state:u,target:d,preventScrollReset:p,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:y,unstable_useTransitions:E});function se(ne){t&&t(ne),ne.defaultPrevented||oe(ne)}let W=z.createElement("a",{...v,...te,href:L.absoluteURL||P,onClick:L.isExternal||o?t:se,ref:bj(_,Q),target:d,"data-discover":!A&&r==="render"?"true":void 0});return R&&!A?z.createElement(z.Fragment,null,W,z.createElement(xj,{page:P})):W});zy.displayName="Link";var Nj=z.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:o,to:c,viewTransition:u,children:d,...f},p){let b=Ch(c,{relative:f.relative}),y=Nu(),v=z.useContext(xp),{navigator:_,basename:k}=z.useContext(Xa),E=v!=null&&Pj(b)&&u===!0,A=_.encodeLocation?_.encodeLocation(b).pathname:b.pathname,L=y.pathname,P=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(L=L.toLowerCase(),P=P?P.toLowerCase():null,A=A.toLowerCase()),P&&k&&(P=Wl(P,k)||P);const R=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let Q=L===A||!a&&L.startsWith(A)&&L.charAt(R)==="/",te=P!=null&&(P===A||!a&&P.startsWith(A)&&P.charAt(A.length)==="/"),oe={isActive:Q,isPending:te,isTransitioning:E},se=Q?t:void 0,W;typeof n=="function"?W=n(oe):W=[n,Q?"active":null,te?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let ne=typeof o=="function"?o(oe):o;return z.createElement(zy,{...f,"aria-current":se,className:W,ref:p,style:ne,to:c,viewTransition:u},typeof d=="function"?d(oe):d)});Nj.displayName="NavLink";var jj=z.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:o,method:c=Pf,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:b,unstable_defaultShouldRevalidate:y,...v},_)=>{let{unstable_useTransitions:k}=z.useContext(Xa),E=Cj(),A=Aj(u,{relative:f}),L=c.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&Uy.test(u),R=Q=>{if(d&&d(Q),Q.defaultPrevented)return;Q.preventDefault();let te=Q.nativeEvent.submitter,oe=(te==null?void 0:te.getAttribute("formmethod"))||c,se=()=>E(te||Q.currentTarget,{fetcherKey:t,method:oe,navigate:r,replace:a,state:o,relative:f,preventScrollReset:p,viewTransition:b,unstable_defaultShouldRevalidate:y});k&&r!==!1?z.startTransition(()=>se()):se()};return z.createElement("form",{ref:_,method:L,action:A,onSubmit:n?d:R,...v,"data-discover":!P&&e==="render"?"true":void 0})});jj.displayName="Form";function _j(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function By(e){let t=z.useContext(Ld);return yn(t,_j(e)),t}function Sj(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=O3(),p=Nu(),b=Ch(e,{relative:o});return z.useCallback(y=>{if(rj(y,t)){y.preventDefault();let v=r!==void 0?r:fh(p)===fh(b),_=()=>f(e,{replace:v,state:n,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:u});d?z.startTransition(()=>_()):_()}},[p,f,b,r,n,t,e,a,o,c,u,d])}var kj=0,Ej=()=>`__${String(++kj)}__`;function Cj(){let{router:e}=By("useSubmit"),{basename:t}=z.useContext(Xa),r=H3(),n=e.fetch,a=e.navigate;return z.useCallback(async(o,c={})=>{let{action:u,method:d,encType:f,formData:p,body:b}=ij(o,t);if(c.navigate===!1){let y=c.fetcherKey||Ej();await n(y,r,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:b,formMethod:c.method||d,formEncType:c.encType||f,flushSync:c.flushSync})}else await a(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:b,formMethod:c.method||d,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,a,t,r])}function Aj(e,{relative:t}={}){let{basename:r}=z.useContext(Xa),n=z.useContext(ml);yn(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...Ch(e||".",{relative:t})},c=Nu();if(e==null){o.search=c.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(b=>b).forEach(b=>u.append("index",b));let p=u.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Vl([r,o.pathname])),fh(o)}function Pj(e,{relative:t}={}){let r=z.useContext(Ly);yn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=By("useViewTransitionState"),a=Ch(e,{relative:t});if(!r.isTransitioning)return!1;let o=Wl(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Wl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Bf(a.pathname,c)!=null||Bf(a.pathname,o)!=null}var Tf=Ny();const $y=kc(Tf);function _v(e,t,r){if(t===0)return e/r;const n=t/100/12;return e*n/(1-Math.pow(1+n,-r))}function Px(e){const{amount:t,rate:r,duration:n,insuranceRate:a=0}=e,o=_v(t,r,n),c=t*(a/100)*(n/12),u=o*n+c,d=o*n-t,f=5.89;let p;if(r<f){const b=_v(t,f,n);p={marketRate:f,marketMonthlyPayment:b,savings:(b-o)*n}}return{monthlyPayment:o,totalCost:u,totalInterests:d,insuranceCost:c/n,marketComparison:p}}const Lj={bonified_rate_title:"Validation Financement Bonifi",standard_rate_title:"Financement Standard",market_comparison_title:"Comparatif March",legal_mention:"Un crdit vous engage et doit tre rembours. Vrifiez vos capacits de remboursement avant de vous engager. Taux et conditions sous rserve d'acceptation du dossier."},gd={financial:Lj},Tj=["devis","rflchir","comparer","on verra","rendez-vous","plus tard","envoyez-moi","je vais voir","je dois voir","on en reparle"];function Rj(e){const[t,r]=z.useState(null),[n,a]=z.useState(!1),o=z.useCallback(u=>{if(!u)return;const d=u.toLowerCase();Tj.find(p=>d.includes(p))&&(a(!0),setTimeout(()=>a(!1),250),r({message:e==="senior"?" STOP  vocabulaire anxiogne dtect (risque d'annulation)":" Mot interdit  cela fait perdre le closing net"}))},[e]),c=z.useCallback(()=>{r(null)},[]);return{alert:t,dismissAlert:c,checkVocabulary:o,signal:n}}const Oj=[{id:"sr-1",number:1,title:"Cadrage scurit",moduleId:null,autoOpen:!1,minDuration:60,keyPhrase:"Avant les chiffres, parlons scurit",currentAction:"Cadre EDF institutionnel, ancrer scurit",doList:["Ton calme","Respiration lente","Mentionner EDF 100 ans"],dontList:["Parler prix","Crer urgence","Dire 'dernier quota'"],successSignals:["Client acquiesce","Posture se dtend"],transitionBeforeNextModule:{silence:2,phrase:"OK. Maintenant, voyons l'essentiel",instruction:"Respirer, regarder le client, attendre son regard"}},{id:"sr-2",number:2,title:"Garanties & Scurit",moduleId:"garanties",autoOpen:!0,minDuration:90,maxDuration:120,keyPhrase:"Ce qui protge vraiment votre famille",currentAction:"Pointer ' VIE' + tat franais",silences:[{duration:5,instruction:"Regarder le client laisser digrer ' vie'"},{duration:3,instruction:"Silence aprs 'EDF = tat', acquiescer"}],doList:["Transmission enfants","tat franais","Certifications"],dontList:["Fermer module avant 90s"],successSignals:["Client demande garanties","Mention enfants"],transitionBeforeNextModule:{silence:2,phrase:"On a scuris. Maintenant votre situation",instruction:"Regard  mini pause  ouvrir module Rpartition"}},{id:"sr-3",number:3,title:"Situation actuelle",moduleId:"repartition",autoOpen:!0,minDuration:60,keyPhrase:"Aujourdhui vous payez et vous ne possdez rien",currentAction:"Refaire calcul avec le client",transitionBeforeNextModule:{silence:1,phrase:"OK. Maintenant projection concrte.",instruction:"Ouvrir module Projection"}},{id:"sr-4",number:4,title:"Projection 20 ans",moduleId:"projection",autoOpen:!0,minDuration:60,keyPhrase:"Dans 20 ans : actif vs rien",currentAction:"Pointer valeur vs perte",transitionBeforeNextModule:{silence:1,phrase:"OK. Parlons du taux calmement.",instruction:"Ouvrir module Taux"}},{id:"sr-5",number:5,title:"Taux",moduleId:"taux",autoOpen:!0,minDuration:45,keyPhrase:"On vrifie, pas on force",currentAction:"Ne rien thtraliser, factuel seulement",dontList:["Appel thtral","Ultimatum 2h"],successSignals:["Client demande validation"],transitionBeforeNextModule:{silence:2,phrase:"OK. Dcision  votre rythme.",instruction:"Regarder  Silence"}},{id:"sr-6",number:6,title:"Dcision",moduleId:"decision",autoOpen:!0,minDuration:45,keyPhrase:"Cest oui / cest non  mais prenez-la pour vous",currentAction:"Laisser client parler",transitionBeforeNextModule:{silence:1,phrase:"On scurise ?",instruction:"Prsenter signature lentement"}}],Ij=[{id:"bnq-1",number:1,title:"Cadre d'analyse",moduleId:null,autoOpen:!1,minDuration:45,keyPhrase:"Ce n'est pas un achat. C'est un arbitrage.",currentAction:"Poser structure ROI, zro motion"},{id:"bnq-2",number:2,title:"Comparaison Scnarios",moduleId:"comparateur",autoOpen:!0,minDuration:75,keyPhrase:"Perte actuelle vs actif",currentAction:"Faire calculer le client lui-mme",transitionBeforeNextModule:{silence:1,phrase:"Projection long terme",instruction:"Ouvrir Projection"}},{id:"bnq-3",number:3,title:"Projection 20 ans",moduleId:"projection",autoOpen:!0,minDuration:60,keyPhrase:"Cash flow  actif  rendement",currentAction:"Pointer non fiscalis + index nergie"},{id:"bnq-4",number:4,title:"Analyse de risque",moduleId:"risque",autoOpen:!0,minDuration:60,keyPhrase:"Le vrai risque = ne rien faire",currentAction:"Tableau risque technique / rglementaire",transitionBeforeNextModule:{silence:1,phrase:"Structuration financire",instruction:"Ouvrir Taux + simulateur"}},{id:"bnq-5",number:5,title:"Structuration financire",moduleId:"taux",autoOpen:!0,minDuration:60,keyPhrase:"Opration blanche  finance par conomies",currentAction:"Pointer mensualit vs conomies"},{id:"bnq-6",number:6,title:"Dcision",moduleId:"decision",autoOpen:!0,minDuration:45,keyPhrase:"Timing = seule variable",currentAction:"Poser silence, laisser conclure"}],Mj=[{id:"std-1",number:1,title:"Choc de ralit",moduleId:null,autoOpen:!1,minDuration:45,keyPhrase:"40 ans  0  on ne possde rien",currentAction:"Refaire calcul avec lui  SILENCE"},{id:"std-2",number:2,title:"Autonomie",moduleId:"autonomie",autoOpen:!0,minDuration:60,keyPhrase:"Vous reprenez le contrle",currentAction:"Pointer % autonomie et concret"},{id:"std-3",number:3,title:"Projection",moduleId:"projection",autoOpen:!0,minDuration:60,keyPhrase:"cart mesurable  pas opinion",currentAction:"Pointer diffrence chiffres"},{id:"std-4",number:4,title:"Taux",moduleId:"taux",autoOpen:!0,minDuration:45,keyPhrase:"On voit si vous tes ligible",currentAction:"Validation factuelle, pas thtre"},{id:"std-5",number:5,title:"Dcision",moduleId:"decision",autoOpen:!0,minDuration:45,keyPhrase:"On scurise si c'est oui  sinon on s'arrte",currentAction:"Pose directe, silence"}],Fj={constat:"repartition",solution:"projection","garanties-long-terme":"garanties","prise-en-charge-admin":"garanties",budget:"taux",synthese:"comparateur",decision:"decision",autonomie:"repartition",risque:"garanties"},Dj=JSON.parse(`{"senior_fatigue_institutional_dense":{"title":"Garanties EDF  Protection long terme","intro":{"text":"EDF existe depuis 1946 et appartient  100 %  l'tat franais. Sur un projet de 20  25 ans, cela garantit la continuit de l'acteur, la stabilit des engagements et la prennit du suivi technique.","infobulle":{"senior":{"title":" Protection dans le temps","body":"Elles couvrent le matriel, la production et le suivi. EDF ne peut ni disparatre ni modifier ses engagements unilatralement."},"banquier":{"title":" Cadre de garantie","body":"Obligations de rsultat et de remplacement. Scuris juridiquement par le statut public d'EDF."},"standard":{"title":" Vous tes couvert","body":"Le matriel est garanti. La production est suivie. EDF assure la continuit sur toute la dure."}}},"toggleLabels":{"off":"Essentielle  TVA rduite","on":"Performance  Garanties maximales"},"toggleDisclaimer":"Les deux options respectent le mme cadre de protection. Les diffrences portent uniquement sur le niveau de couverture.","bannerEssentielle":{"title":"ESSENTIELLE  TVA RDUITE","items":["Panneaux garantis 25 ans","Production garantie","Fabrication franaise"]},"bannerPerformance":{"title":"PERFORMANCE  GARANTIES MAXIMALES","items":["Garanties  vie sur certains lments","Suivi renforc","Protection maximale"]},"sections":[{"id":"cadre-institutionnel","title":"EDF  100 ans, tat, continuit garantie","text":"EDF existe depuis 1946 et appartient  100 %  l'tat franais. Sur un projet de 20  25 ans, cela garantit la continuit de l'acteur, la stabilit du cadre rglementaire et la prennit des engagements.","infobulle":{"senior":{"title":" Un cadre public de confiance","body":"EDF est dtenu  100 % par l'tat franais. Cela garantit stabilit, continuit et impossibilit de disparition. Sur un projet long terme, c'est la protection la plus solide."},"banquier":{"title":" Un acteur public structurant","body":"Groupe public soumis  des obligations d'tat. Continuit garantie, cadre rglementaire stable et impossibilit de modification unilatrale des engagements."},"standard":{"title":" Ce que signifie  Groupe EDF ","body":"EDF appartient  l'tat. Ce n'est pas une socit prive opportuniste. Sur 20 ans, cela change tout : l'acteur ne peut pas disparatre."}}},{"id":"prise-en-charge-admin","title":"Un parcours entirement pris en charge","text":"Les dmarches administratives, techniques et rglementaires sont intgralement pilotes par EDF. Vous n'avez pas  intervenir ni  coordonner des intervenants.","microText":"Autorisation  Dclaration  Coordination  Suivi","infobulle":{"senior":{"title":" Dlgation scurise","body":"EDF prend la responsabilit complte du parcours. Vous n'avez pas  grer d'intervenants, de formulaires ou de dlais. Si une tape bloque, le projet s'arrte sans frais ni engagement de votre part."},"banquier":{"title":" Pilotage administratif","body":"Processus intgralement structur et pilot par EDF. Le risque administratif est transfr  EDF. Cadre contractuel et opposable."},"standard":{"title":" EDF s'occupe du parcours","body":"Vous n'avez pas  vous battre avec des formulaires ou coordonner des artisans. EDF pilote de bout en bout. Si a bloque, le projet s'arrte sans frais."}}},{"id":"validations-techniques","title":"Des validations avant engagement","text":"Avant toute installation, des vrifications techniques sont ralises. En cas de doute (structure, amiante, conformit), des contrles complmentaires sont dclenchs.","infobulle":{"senior":{"title":" Vrifications sans engagement","body":"Aucune installation n'est lance tant que les conditions ne sont pas runies. Si un doute technique apparat, EDF dclenche des contrles supplmentaires sans frais pour vous."},"banquier":{"title":" Due diligence technique","body":"Audit technique pralable obligatoire. En cas de non-conformit dtecte (amiante, structure), le projet est suspendu sans engagement financier."},"standard":{"title":" Contrles avant installation","body":"EDF vrifie tout avant de commencer. Si quelque chose cloche, le projet s'arrte. Vous ne prenez aucun risque."}}},{"id":"garanties-long-terme","title":"Une protection dans la dure","text":"Le matriel, la production et le suivi sont couverts par des garanties contractuelles. Ces garanties s'inscrivent dans un cadre long terme, avec un interlocuteur unique.","microText":"Matriel  Production  Suivi","infobulle":{"senior":{"title":" Protection dans le temps","body":"Les garanties couvrent le matriel, la production et le suivi. Elles sont dfinies contractuellement, pas commercialement. EDF assure la continuit sur toute la dure."},"banquier":{"title":" Cadre de garantie","body":"Obligations de rsultat et de remplacement. Garanties dfinies contractuellement avec des seuils vrifiables. Scuris juridiquement."},"standard":{"title":" Vous tes couvert","body":"Le matriel est garanti. La production est suivie. Si a ne produit pas, EDF intervient. Simple et clair."}}},{"id":"continuite-sav","title":"Un projet suivi dans le temps","text":"Le projet ne s'arrte pas  l'installation. Le suivi, les interventions ventuelles et la continuit du service sont assurs par EDF.","infobulle":{"senior":{"title":" Continuit garantie","body":"La continuit de l'acteur est un lment central sur un projet long terme. EDF ne peut ni disparatre ni se dsengager. C'est la protection la plus forte possible."},"banquier":{"title":" Continuit de service","body":"Obligation de continuit par statut public. Interventions et suivi assurs sur toute la dure contractuelle. Risque de contrepartie neutralis."},"standard":{"title":" EDF reste prsent","body":"Sur 20 ans, le vrai risque n'est pas le matriel. C'est que l'entreprise n'existe plus. Avec EDF, ce risque n'existe pas."}}}],"explicationsGaranties":{"performance":{"title":"Garantie de performance","text":"EDF s'engage sur un niveau de production. Si ce niveau n'est pas atteint, EDF intervient ou compense.","infobulle":{"senior":{"title":" Production surveille","body":"EDF surveille la production relle. En cas d'cart significatif par rapport aux prvisions, une analyse est dclenche. Si l'cart est confirm et imputable au matriel, EDF intervient sans frais."},"banquier":{"title":" Garantie de performance","body":"Des seuils de production sont dfinis contractuellement. En cas d'cart constat et imputable au systme, EDF intervient ou compense selon les termes du contrat."},"standard":{"title":" Production garantie","body":"Si la production baisse anormalement, c'est dtect automatiquement. EDF analyse et intervient si ncessaire. Vous ne grez rien."}}},"materiel":{"title":"Garantie matriel","text":"Remplacement pices, main d'uvre et dplacement inclus selon l'offre slectionne.","infobulle":{"senior":{"title":" Matriel garanti","body":"Remplacement des lments dfectueux, main d'uvre et dplacement inclus. Les dures varient selon l'offre : 10 ans minimum (Essentielle),  vie sur certains composants (Performance)."},"banquier":{"title":" Garantie matriel","body":"Couverture contractuelle du matriel avec remplacement pices et main d'uvre. Dures : 1025 ans selon offre.  vie sur certains lments (Performance)."},"standard":{"title":" Pices garanties","body":"Si une pice casse, elle est remplace. Main d'uvre et dplacement inclus. Dure : 10  25 ans selon ce que vous choisissez."}}}},"systemYuze":{"title":"Supervision intelligente EDF","intro":"Votre installation est surveille en continu. EDF dtecte et intervient automatiquement si ncessaire.","features":[{"title":"Surveillance continue","text":"Analyse en temps rel, panneau par panneau."},{"title":"Dtection automatique","text":"Identification des carts et intervention si ncessaire."}]},"afficheurConnecte":{"title":"Suivi de production en temps rel","text":"Production, consommation et conomies visibles  tout moment."},"resultatBanner":{"text":"EDF installe, surveille et intervient si ncessaire. Vous bnficiez de la production sans contrainte technique."},"transition":{"senior":"Le cadre du projet est maintenant pos. Nous pouvons regarder la structure financire.","banquier":"Le cadre institutionnel et les garanties tant poss, nous pouvons analyser la structure financire.","standard":"Maintenant que le cadre est clair, on peut regarder les chiffres."},"synthese":{"senior":" ce stade, le cadre du projet est pos : responsabilits, garanties, prise en charge et continuit. Il ne s'agit pas d'une promesse, mais d'un primtre contractuel clair.","banquier":"Le cadre contractuel est dfini : acteur public, garanties opposables, continuit assure. La structure est scurise.","standard":"Rcap : EDF gre tout, garantit le matriel et la production, et reste prsent sur toute la dure. C'est scuris."}},"default":{"title":"Vos garanties  Selon l'offre choisie","intro":{"text":"Avec EDF, vous tes accompagn du dbut  la fin : tude, installation, contrle, mise en service et suivi. L'objectif est simple : que votre installation produise ce qui a t prvu, dans le temps.","infobulle":{"senior":{"title":" Protection dans le temps","body":"Elles couvrent le matriel, la production et le suivi."},"banquier":{"title":" Cadre de garantie","body":"Obligations de rsultat et de remplacement. Scuris juridiquement."},"standard":{"title":" Vous tes couvert","body":"Le matriel est garanti. La production est suivie."}}},"toggleLabels":{"off":"Essentielle (TVA 5.5%)","on":"Performance (TVA 20%)"},"toggleDisclaimer":null,"bannerEssentielle":{"title":"OFFRE ESSENTIELLE  TVA RDUITE 5.5%","items":["Panneaux  25 ans","Production garantie 0.4%/an","Fabrication franaise"]},"bannerPerformance":{"title":"OFFRE PERFORMANCE  TVA 20%","items":["Garantie maximale et srnit long terme."]},"sections":[],"explicationsGaranties":{"performance":{"title":"Garantie de performance","text":"si la production est infrieure aux engagements, une compensation est prvue contractuellement.","infobulle":{"senior":{"title":" Production surveille","body":"Si elle ne produit pas ce qui est prvu, EDF intervient."},"banquier":{"title":" Garantie de performance","body":"Des seuils de production sont dfinis contractuellement."},"standard":{"title":" Production garantie","body":"Si la production baisse, c'est dtect et pris en charge."}}},"materiel":{"title":"Garantie matriel","text":"remplacement pices, main d'uvre et dplacement selon conditions de l'offre slectionne.","infobulle":{"senior":{"title":" Matriel garanti","body":"Remplacement des lments dfectueux inclus."},"banquier":{"title":" Garantie matriel","body":"Couverture contractuelle du matriel."},"standard":{"title":" Pices garanties","body":"Si une pice casse, elle est remplace."}}}},"systemYuze":{"title":"Supervision intelligente EDF","intro":"Votre installation est suivie automatiquement. En cas d'cart de production, une alerte dclenche un diagnostic et, si ncessaire, une intervention.","features":[{"title":"Surveillance continue","text":"Analyse en temps rel, panneau par panneau."},{"title":"Optimisation IA","text":"Vos habitudes sont apprises pour maximiser votre autoconsommation."}]},"afficheurConnecte":{"title":"Afficheur Connect","text":"Production  consommation  conomies  visible en temps rel."},"resultatBanner":{"text":"Rsultat : vous installez, vous produisez, vous tes accompagn. EDF suit, et intervient si ncessaire. Votre rle : profiter des conomies."},"transition":{"senior":null,"banquier":null,"standard":null},"synthese":{"senior":null,"banquier":null,"standard":null}}}`),_0={garanties:Dj};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Sv=e=>{const t=Uj(e);return t.charAt(0).toUpperCase()+t.slice(1)},Vy=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),zj=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=z.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:c,...u},d)=>z.createElement("svg",{ref:d,...Bj,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Vy("lucide",a),...!o&&!zj(u)&&{"aria-hidden":"true"},...u},[...c.map(([f,p])=>z.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=(e,t)=>{const r=z.forwardRef(({className:n,...a},o)=>z.createElement($j,{ref:o,iconNode:t,className:Vy(`lucide-${qj(Sv(e))}`,`lucide-${e}`,n),...a}));return r.displayName=Sv(e),r};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Wy=It("arrow-right",Vj);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],kv=It("award",Wj);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gj=It("ban",Hj);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Kj=It("building-2",Yj);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ha=It("calendar",Jj);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Hy=It("chart-column",Xj);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mg=It("chevron-down",Qj);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],e_=It("chevron-right",Zj);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],r_=It("chevron-up",t_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ph=It("circle-alert",n_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ev=It("circle-check-big",s_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ar=It("circle-check",i_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cv=It("circle-question-mark",a_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],l_=It("clipboard-check",o_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nh=It("clock",c_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],d_=It("cloud-upload",u_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],cl=It("coins",h_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Av=It("crown",f_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Lx=It("file-check",p_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],x_=It("file-search",m_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Tx=It("file-text",g_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],b_=It("flame",v_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],w_=It("heart",y_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Rf=It("house",N_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Wa=It("info",j_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],ad=It("landmark",__);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],k_=It("lightbulb",S_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],C_=It("loader-circle",E_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],P_=It("loader",A_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],lu=It("lock",L_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Fg=It("map-pin",T_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],O_=It("pen-line",R_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Pv=It("phone",I_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],F_=It("plane",M_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],hd=It("scale",D_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],S0=It("settings",q_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qs=It("shield-check",U_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Rx=It("shield",z_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$_=It("star",B_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],gc=It("sun",V_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],Gy=It("table-2",W_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Of=It("target",H_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Y_=It("timer",G_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],$f=It("trending-down",K_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],vc=It("trending-up",J_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cu=It("triangle-alert",X_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Z_=It("trophy",Q_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vf=It("users",eS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Va=It("wallet",tS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Ox=It("wrench",rS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vd=It("x",nS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],fa=It("zap",sS);function iS({onClose:e}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-[150]"}),s.jsx("div",{className:"fixed inset-0 z-[151] flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 border-2 border-green-500 rounded-3xl p-10 max-w-2xl w-full shadow-2xl animate-in zoom-in-95 duration-500",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-green-500/20 rounded-full blur-2xl animate-pulse"}),s.jsx("div",{className:"relative bg-gradient-to-br from-green-500 to-emerald-600 p-6 rounded-full",children:s.jsx(Z_,{className:"w-16 h-16 text-white"})})]})}),s.jsx("h2",{className:"text-4xl font-black text-center text-white mb-4",children:" Parcours Termin !"}),s.jsx("p",{className:"text-center text-slate-300 text-lg mb-8",children:"Tu as complt toutes les tapes du protocole Coach NET avec succs."}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-xl p-4 text-center",children:[s.jsx(ar,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-white mb-1",children:"10/10"}),s.jsx("p",{className:"text-xs text-slate-400",children:"tapes compltes"})]}),s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4 text-center",children:[s.jsx(vc,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-white mb-1",children:"100%"}),s.jsx("p",{className:"text-xs text-slate-400",children:"Taux de russite"})]}),s.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-4 text-center",children:[s.jsx($_,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-white mb-1",children:"Expert"}),s.jsx("p",{className:"text-xs text-slate-400",children:"Niveau atteint"})]})]}),s.jsxs("div",{className:"bg-black/40 rounded-2xl p-6 mb-8",children:[s.jsx("h3",{className:"text-sm font-bold text-green-400 uppercase tracking-wide mb-4",children:" Modules Critiques Valids"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ar,{className:"text-green-400",size:20}),s.jsx("span",{className:"text-white font-medium",children:"Rpartition nergie"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ar,{className:"text-green-400",size:20}),s.jsx("span",{className:"text-white font-medium",children:"Locataire VS Propritaire"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ar,{className:"text-green-400",size:20}),s.jsx("span",{className:"text-white font-medium",children:"Garanties & Scurit (90s+)"})]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-6 mb-8",children:s.jsxs("p",{className:"text-center text-white font-semibold text-lg",children:["Le client est maintenant"," ",s.jsx("span",{className:"text-green-400",children:"scuris motionnellement"})," ","et prt  signer."]})}),s.jsx("div",{className:"flex gap-4",children:s.jsx("button",{onClick:e,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white py-4 px-8 rounded-xl font-bold text-lg transition-all shadow-lg hover:shadow-green-500/50",children:"Fermer"})}),s.jsx("p",{className:"text-center text-slate-500 text-xs mt-6",children:"Ce parcours a t optimis par le systme Coach NET pour maximiser les taux de closing."})]})})]})}function aS({activeModule:e}){const[t,r]=z.useState(0),[n,a]=z.useState(null),o=z.useRef(Date.now()),c=z.useRef(null),u=z.useRef({orange:!1,red:!1}),d=()=>{o.current=Date.now(),r(0),a(null),u.current={orange:!1,red:!1}},f=()=>{a(null)};return z.useEffect(()=>{if(!e){c.current&&(clearInterval(c.current),c.current=null),r(0),a(null),u.current={orange:!1,red:!1};return}return o.current=Date.now(),r(0),a(null),u.current={orange:!1,red:!1},c.current=setInterval(()=>{const p=Math.floor((Date.now()-o.current)/1e3);r(p),p>=30&&!u.current.orange&&(u.current.orange=!0,a({level:"ORANGE",duration:p,title:" Silence prolong dtect",message:"Tu es sur ce module depuis 30 secondes sans avancer",impact:"Le client pourrait perdre l'attention ou douter",action:{type:"ACKNOWLEDGE",label:"OK, je continue"}})),p>=60&&!u.current.red&&(u.current.red=!0,a({level:"RED",duration:p,title:" ZONE DE DANGER - Silence critique",message:"Tu es bloqu depuis 1 minute sur ce module",impact:"Le client dcroche mentalement  risque d'abandon",action:{type:"ACKNOWLEDGE",label:"J'ai compris"}}))},1e3),()=>{c.current&&clearInterval(c.current)}},[e]),{silenceTime:t,silenceAlert:n,resetTimer:d,dismissSilenceAlert:f}}function oS(e){const t=lS(e);return{state:t,permissions:cS(t),locks:uS(t),nudges:dS(t,e),audit:fS(t,e)}}function lS(e){return e.decision.isSigned?"SECURED":e.decision.hasReachedDecisionAnchor?"DECISION_OPEN":e.decision.hasSeenProjection&&e.decision.hasSeenBudgetModule?"LUCIDITY_POINT":e.decision.hasSeenCoreProofs?"CONFRONTATION":"STRUCTURATION"}function cS(e){return{budget:!0,projection:e!=="DISCOVERY",decisionAnchor:e==="LUCIDITY_POINT"||e==="DECISION_OPEN",signature:e==="DECISION_OPEN"}}function uS(e){return{lockNavigation:e==="DECISION_OPEN"||e==="SECURED",freezeAfterSign:e==="SECURED"}}function dS(e,t){return e==="DECISION_OPEN"&&t.user.fatigueScore>70?["pause","no_urgency"]:[]}function hS(e){const t=JSON.stringify(e);let r=0;for(let n=0;n<t.length;n++){const a=t.charCodeAt(n);r=(r<<5)-r+a,r=r&r}return"AZ-"+Math.abs(r).toString(16).toUpperCase()}function fS(e,t){const r={budgetSeen:t.decision.hasSeenBudgetModule,projectionSeen:t.decision.hasSeenProjection,anchorReached:t.decision.hasReachedDecisionAnchor};return{timestamp:Date.now(),state:e,modulesSeen:t.session.openedModules,objectionsOpened:t.riskSignals.popupObjectionsOpened,decisionContext:r,decisionHash:hS({state:e,decisionContext:r,timestamp:Date.now()})}}function pS(e){return z.useMemo(()=>oS(e),[e])}function mS({activeModule:e,visitedModules:t,securityTime:r,currentStep:n,profile:a}){const[o,c]=z.useState(null);z.useEffect(()=>{if(e){if(e==="garanties"&&!t.includes("repartition")){d({level:"RED",title:" STOP - Squence casse",message:"Tu as ouvert Garanties sans faire Rpartition nergie",impact:"Le client ne ressent pas la douleur  pas d'urgence de changer",action:{type:"CLOSE_AND_OPEN",close:"garanties",open:"repartition",label:"Fermer Garanties et ouvrir Rpartition"}});return}if(e==="garanties"&&!t.includes("locataire-proprietaire")){d({level:"RED",title:" STOP - Pivot manquant",message:"Tu as ouvert Garanties sans faire le Pivot identitaire",impact:"Le client reste en mode 'locataire'  mental passif",action:{type:"CLOSE_AND_OPEN",close:"garanties",open:"locataire-proprietaire",label:"Fermer Garanties et ouvrir Locataire VS Propritaire"}});return}}},[e,t]);const u=()=>r<90?(d({level:"RED",title:" STOP - Temps minimum non respect",message:`Tu vas fermer Garanties aprs seulement ${r}s`,impact:"Le client n'est pas rassur  le doute persiste",detail:`Temps minimum requis : 90s | Temps actuel : ${r}s`,action:{type:"CANCEL_CLOSE",label:"Rester sur Garanties"}}),!1):!0,d=p=>{c(p)};return{activeAlert:o,dismissAlert:()=>{c(null)},checkSecurityTime:u}}function xS({alert:e,onDismiss:t,onAction:r}){if(!e)return null;const n=e.level==="RED",a=e.level==="ORANGE";return!n&&!a?null:s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 z-[100] backdrop-blur-sm ${n?"bg-black/80":"bg-black/60"}`}),s.jsx("div",{className:"fixed inset-0 z-[101] flex items-center justify-center p-4",children:s.jsxs("div",{className:`rounded-2xl p-8 max-w-xl w-full shadow-2xl animate-in zoom-in-95 duration-300 ${n?"bg-zinc-900 border-2 border-red-500":"bg-zinc-900 border-2 border-orange-500"}`,children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:`p-3 rounded-xl ${n?"bg-red-500/10":"bg-orange-500/10"}`,children:n?s.jsx(cu,{className:"w-8 h-8 text-red-500"}):s.jsx(ph,{className:"w-8 h-8 text-orange-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:e.title}),s.jsx("p",{className:"text-slate-300 text-base leading-relaxed",children:e.message})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(vd,{className:"w-5 h-5 text-slate-400"})})]}),s.jsxs("div",{className:`border rounded-xl p-4 mb-6 ${n?"bg-red-500/5 border-red-500/20":"bg-orange-500/5 border-orange-500/20"}`,children:[s.jsx("p",{className:`text-sm font-semibold mb-1 ${n?"text-red-400":"text-orange-400"}`,children:n?" Impact Closing NET :":" Impact potentiel :"}),s.jsx("p",{className:"text-sm text-slate-300",children:e.impact})]}),e.detail&&s.jsx("div",{className:"bg-white/5 rounded-lg p-3 mb-6",children:s.jsx("p",{className:"text-sm text-slate-400 font-mono",children:e.detail})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>r(e.action),className:`flex-1 text-white py-3 px-6 rounded-xl font-bold text-base transition-colors ${n?"bg-red-600 hover:bg-red-500":"bg-orange-600 hover:bg-orange-500"}`,children:e.action.label}),s.jsx("button",{onClick:t,className:"px-6 bg-zinc-800 hover:bg-zinc-700 text-slate-300 py-3 rounded-xl font-semibold transition-colors",children:"Ignorer"})]})]})})]})}const Lv={75:9500,92:5200,93:3400,94:3800,91:3200,95:2900,77:2600,78:3500,69:4200,13:3600,33:3800,31:3200,44:3100,59:2400,67:2800,34:2900,"06":4500,default:2200},gS=async(e,t)=>{const n=await(await fetch(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(e)}&limit=1`)).json();if(!n.features||n.features.length===0)throw new Error("Adresse introuvable");const a=n.features[0],o=a.properties.postcode.substring(0,2),c=Lv[o]||Lv.default,u=t*c,d=Math.round(u*.08);return{pricePerSqm:c,greenValue:d,city:a.properties.city,dept:o}},_i=({title:e,children:t,trigger:r,iconSize:n=16,className:a})=>{const[o,c]=z.useState(!1),u=z.useRef(null);z.useEffect(()=>{const f=p=>{u.current&&!u.current.contains(p.target)&&c(!1)};return o&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[o]),z.useEffect(()=>(o?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[o]);const d=o?s.jsxs("div",{ref:u,children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998]",onClick:()=>c(!1)}),s.jsx("div",{className:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[95vw] sm:w-[420px] md:w-[500px] max-w-[540px] z-[9999] animate-in fade-in zoom-in-95 duration-200",children:s.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 border border-blue-500/30 rounded-xl shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-blue-950/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wa,{size:20,className:"text-blue-400"}),s.jsx("h3",{className:"font-bold text-white text-sm",children:e})]}),s.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-white transition-colors p-1 rounded-lg hover:bg-white/5",children:s.jsx(vd,{size:18})})]}),s.jsx("div",{className:"p-5 text-sm text-gray-300 leading-relaxed max-h-[70vh] overflow-y-auto custom-scrollbar",children:t})]})})]}):null;return s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>c(!o),className:`inline-flex items-center justify-center text-blue-400 hover:text-blue-300 transition-colors cursor-pointer ${a||""}`,"aria-label":"Plus d'informations",children:r||s.jsx(Wa,{size:n})}),d&&$y.createPortal(d,document.body)]})},vS=({totalSavings:e,paybackYear:t,projectionYears:r})=>{const n=e>0&&t<=r;return s.jsxs("div",{className:`
      relative overflow-hidden
      min-w-[280px] px-6 py-4 rounded-2xl
      flex items-center justify-between gap-6
      backdrop-blur-md border shadow-2xl transition-all duration-300
      ${n?"bg-emerald-500/15 border-emerald-500/40 shadow-emerald-500/10":"bg-red-500/15 border-red-500/40 shadow-red-500/10"}
    `,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${n?"bg-emerald-500/20":"bg-red-500/20"}`,children:n?s.jsx(ar,{className:"w-6 h-6 text-emerald-400"}):s.jsx(ph,{className:"w-6 h-6 text-red-400"})}),s.jsxs("span",{className:`text-xs font-black uppercase tracking-widest leading-tight ${n?"text-emerald-400":"text-red-400"}`,children:["Projet",s.jsx("br",{}),"Rentable"]})]}),s.jsx("div",{className:`h-10 w-[1px] ${n?"bg-emerald-500/30":"bg-red-500/30"}`}),s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-2xl font-black text-white tracking-tighter",children:Math.round(e).toLocaleString("fr-FR")}),s.jsx("span",{className:`text-lg font-bold ${n?"text-emerald-400":"text-red-400"}`,children:""})]}),s.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tight opacity-80",children:["Gain net sur ",r," ans"]})]})]})},kr=e=>Math.round(e*100)/100,Si=(e,t=0)=>{if(e==null||e==="")return t;const r=String(e).replace(",",".").replace(/\s/g,""),n=parseFloat(r);return isNaN(n)?t:n},Dg=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),Tv=(e,t)=>{var ee,le,ue,ye,Ce,fe;const r=Si(e.currentAnnualBill,0),n=Si(e.yearlyConsumption,0),{inflationRate:a=5,projectionYears:o=20,electricityPrice:c=.25,yearlyProduction:u=7e3,selfConsumptionRate:d=70,installCost:f=18799,creditMonthlyPayment:p=0,insuranceMonthlyPayment:b=0,creditDurationMonths:y=0,buybackRate:v=.04,cashApport:_=0,interestRate:k}=t,E=kr(a),A=kr(f),L=n>0?n:c>0?r/c:0,P=kr(u*(d/100)),R=kr(u-P),Q=kr(R*v),te=L>0?kr(P/L*100):0,oe=new Date,se=oe.getMonth()===11?oe.getFullYear()+1:oe.getFullYear();let W=0,ne=_,T=0,U=A;const Y=[],H=[];_>0&&Y.push({year:se,edfBillWithoutSolar:0,creditPayment:0,edfResidue:0,totalWithSolar:0,cumulativeSavings:-_,cumulativeSpendNoSolar:0,cumulativeSpendSolar:_,cashflowDiff:-_,solarSavingsValue:0}),H.push({year:se,edfBillWithoutSolar:0,creditPayment:0,edfResidue:0,totalWithSolar:0,cumulativeSavings:-A,cumulativeSpendNoSolar:0,cumulativeSpendSolar:A,cashflowDiff:-A,solarSavingsValue:0});for(let me=0;me<30;me++){const Oe=se+me,je=Math.pow(1+E/100,me),Ve=c*je,ze=kr(Q*je),K=kr(L*Ve),We=kr(P*Ve),vt=Math.max(0,K-We),tt=me*12,Be=(me+1)*12,ht=Math.max(0,Math.min(Be,y)-Math.max(tt,0)),Ze=ht>0?kr((p+b)*ht):0,mt=kr(vt+Ze-ze);W+=K,ne+=mt,Y.push({year:Oe,edfBillWithoutSolar:K,creditPayment:Ze,edfResidue:vt,totalWithSolar:mt,cumulativeSavings:kr(W-ne),cumulativeSpendNoSolar:kr(W),cumulativeSpendSolar:kr(ne),cashflowDiff:kr(K-mt),solarSavingsValue:kr(We+ze)});const xt=kr(vt-ze);T+=K,U+=xt,H.push({year:Oe,edfBillWithoutSolar:K,creditPayment:0,edfResidue:vt,totalWithSolar:xt,cumulativeSavings:kr(T-U),cumulativeSpendNoSolar:kr(T),cumulativeSpendSolar:kr(U),cashflowDiff:kr(K-xt),solarSavingsValue:kr(We+ze)})}const be=Y.slice(0,o),we=H.slice(0,o),ge=((ee=be.at(-1))==null?void 0:ee.cumulativeSavings)??0,ie=((le=we.at(-1))==null?void 0:le.cumulativeSavings)??0,pe=Y.findIndex(me=>me.cumulativeSavings>0),V=pe===-1?30:pe+1,ce=H.findIndex(me=>me.cumulativeSavings>0),I=ce===-1?o:ce+1,J=Y[0];return{details:Y,slicedDetails:be,detailsCash:H,slicedDetailsCash:we,totalSavingsProjected:ge,totalSavings:Math.max(0,ge),totalSpendNoSolar:((ue=be.at(-1))==null?void 0:ue.cumulativeSpendNoSolar)??0,totalSpendSolar:((ye=be.at(-1))==null?void 0:ye.cumulativeSpendSolar)??0,totalSavingsProjectedCash:ie,totalSpendNoSolarCash:((Ce=we.at(-1))==null?void 0:Ce.cumulativeSpendNoSolar)??0,totalSpendSolarCash:((fe=we.at(-1))==null?void 0:fe.cumulativeSpendSolar)??0,breakEvenPoint:V,breakEvenPointCash:I,paybackYear:Math.max(0,V),costOfInactionPerSecond:Math.max(1e-4,ge/o/(365*24*3600)),averageYearlyGain:kr(Math.max(0,ge/o)),averageYearlyGainCash:kr(Math.max(0,ie/o)),newMonthlyBillYear1:kr((J.creditPayment+J.edfResidue)/12),oldMonthlyBillYear1:kr(J.edfBillWithoutSolar/12),monthlyEffortYear1:kr((J.creditPayment+J.edfResidue)/12-J.edfBillWithoutSolar/12),roiPercentage:A>0?kr(Math.max(0,ge/o/A*100)):0,roiPercentageCash:A>0?kr(Math.max(0,ie/o/A*100)):0,bankEquivalentCapital:kr(Math.max(0,ge/o/.015)),bankEquivalentCapitalCash:kr(Math.max(0,ie/o/.015)),savingsRatePercent:te,baseConsumptionKwh:L,lossIfWait1Year:kr(L*c),savingsLostIfWait1Year:kr(P*c),surplusRevenuePerYear:Q,interestRate:k??Si(e.creditInterestRate||0),year1:J}},bS=({totalCost:e})=>s.jsx("div",{className:"flex justify-center mb-8","data-testid":"expense-cards",children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl p-8 rounded-2xl border border-white/10 w-full max-w-lg text-center shadow-[0_0_40px_rgba(0,0,0,0.3)] hover:border-white/20 transition-all duration-500",children:[s.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold tracking-[0.2em] mb-2",children:"Investissement Total"}),s.jsx("p",{className:"text-4xl md:text-5xl font-black text-white tracking-tight",children:Dg(e)})]})}),yS=({mode:e,monthlyPayment:t,durationMonths:r,cashDown:n=0})=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4","data-testid":"financing-cards",children:[s.jsxs("div",{className:"bg-black/40 p-6 rounded-2xl border border-white/10 flex flex-col items-center text-center backdrop-blur-xl hover:border-white/30 transition-all duration-500 group relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),s.jsx("h3",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-[0.2em] mb-2 relative z-10",children:"Mode de Financement"}),s.jsx("p",{className:"text-xl md:text-2xl font-black text-white tracking-tight relative z-10",children:e==="loan"?"CRDIT PARTENAIRE":"AUTO-FINANCEMENT"}),e==="loan"&&s.jsx("p",{className:"text-[10px] text-blue-400 font-bold uppercase tracking-wider mt-2 bg-blue-500/10 px-3 py-1 rounded border border-blue-500/20 relative z-10",children:"Partenaire Bancaire"})]}),s.jsxs("div",{className:"bg-black/40 p-6 rounded-2xl border border-white/10 flex flex-col items-center text-center backdrop-blur-xl hover:border-white/30 transition-all duration-500 group relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),s.jsx("h3",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-[0.2em] mb-2 relative z-10",children:"Mensualit"}),s.jsx("p",{className:"text-3xl md:text-4xl font-black text-emerald-400 tracking-tighter relative z-10",children:e==="loan"?`${Dg(t)} / mois`:"0  / mois"}),e==="loan"&&r>0&&s.jsxs("p",{className:"text-[10px] text-slate-600 font-mono mt-1 relative z-10",children:["sur ",r/12," ans"]})]})]}),wS=({savingsYear10:e,savingsYear20:t,savingsYear25:r})=>{const n=[{label:"Anne 10",value:e,color:"text-blue-400"},{label:"Anne 20",value:t,color:"text-indigo-400"},{label:"Anne 25",value:r,color:"text-emerald-400"}];return s.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4","data-testid":"timeline",children:n.map((a,o)=>s.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/5 text-center transition-all hover:bg-white/10 hover:scale-[1.02]",children:[s.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 tracking-wider",children:a.label}),s.jsx("p",{className:`text-lg font-black ${a.color}`,children:Dg(a.value)})]},o))})};function vp(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function NS(e,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function u(p){try{f(n.next(p))}catch(b){c(b)}}function d(p){try{f(n.throw(p))}catch(b){c(b)}}function f(p){p.done?o(p.value):a(p.value).then(u,d)}f((n=n.apply(e,t||[])).next())})}const jS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class qg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class _S extends qg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Rv extends qg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ov extends qg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ix;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ix||(Ix={}));class SS{constructor(t,{headers:r={},customFetch:n,region:a=Ix.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=jS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return NS(this,arguments,void 0,function*(r,n={}){var a;let o,c;try{const{headers:u,method:d,body:f,signal:p,timeout:b}=n;let y={},{region:v}=n;v||(v=this.region);const _=new URL(`${this.url}/${r}`);v&&v!=="any"&&(y["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let k;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",k=f):typeof f=="string"?(y["Content-Type"]="text/plain",k=f):typeof FormData<"u"&&f instanceof FormData?k=f:(y["Content-Type"]="application/json",k=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?k=JSON.stringify(f):k=f;let E=p;b&&(c=new AbortController,o=setTimeout(()=>c.abort(),b),p?(E=c.signal,p.addEventListener("abort",()=>c.abort())):E=c.signal);const A=yield this.fetch(_.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:k,signal:E}).catch(Q=>{throw new _S(Q)}),L=A.headers.get("x-relay-error");if(L&&L==="true")throw new Rv(A);if(!A.ok)throw new Ov(A);let P=((a=A.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),R;return P==="application/json"?R=yield A.json():P==="application/octet-stream"||P==="application/pdf"?R=yield A.blob():P==="text/event-stream"?R=A:P==="multipart/form-data"?R=yield A.formData():R=yield A.text(),{data:R,error:null,response:A}}catch(u){return{data:null,error:u,response:u instanceof Ov||u instanceof Rv?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var kS=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},ES=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let c=null,u=null,d=null,f=o.status,p=o.statusText;if(o.ok){var b,y;if(r.method!=="HEAD"){var v;const A=await o.text();A===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?u=A:u=JSON.parse(A))}const k=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),E=(y=o.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");k&&E&&E.length>1&&(d=parseInt(E[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var _;const k=await o.text();try{c=JSON.parse(k),Array.isArray(c)&&o.status===404&&(u=[],c=null,f=200,p="OK")}catch{o.status===404&&k===""?(f=204,p="No Content"):c={message:k}}if(c&&r.isMaybeSingle&&(!(c==null||(_=c.details)===null||_===void 0)&&_.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&r.shouldThrowOnError)throw new kS(c)}return{error:c,data:u,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(a=a.catch(o=>{var c;let u="";const d=o==null?void 0:o.cause;if(d){var f,p,b,y;const _=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",k=(p=d==null?void 0:d.code)!==null&&p!==void 0?p:"";u=`${(b=o==null?void 0:o.name)!==null&&b!==void 0?b:"FetchError"}: ${o==null?void 0:o.message}`,u+=`

Caused by: ${(y=d==null?void 0:d.name)!==null&&y!==void 0?y:"Error"}: ${_}`,k&&(u+=` (${k})`),d!=null&&d.stack&&(u+=`
${d.stack}`)}else{var v;u=(v=o==null?void 0:o.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(c=o==null?void 0:o.name)!==null&&c!==void 0?c:"FetchError"}: ${o==null?void 0:o.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},CS=class extends ES{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const o=a?`${a}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:o="text"}={}){var c;const u=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Iv=new RegExp("[,()]");var od=class extends CS{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Iv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Iv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},AS=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let o=!1;const c=(e??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",c),n&&d.append("Prefer",`count=${n}`),new od({method:a,url:u,headers:d,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:o,headers:c}=this.cloneRequestState();if(t&&c.append("Prefer",`count=${t}`),r||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);o.searchParams.set("columns",d.join(","))}}return new od({method:a,url:o,headers:c,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var o;const c="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&u.searchParams.set("on_conflict",t),n&&d.append("Prefer",`count=${n}`),a||d.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(f.length>0){const p=[...new Set(f)].map(b=>`"${b}"`);u.searchParams.set("columns",p.join(","))}}return new od({method:c,url:u,headers:d,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new od({method:n,url:a,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new od({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},PS=class Yy{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new AS(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Yy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:o}={}){var c;let u;const d=new URL(`${this.url}/rpc/${t}`);let f;const p=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(p)),b=n&&Object.values(r).some(p);b?(u="POST",f=r):n||a?(u=n?"HEAD":"GET",Object.entries(r).filter(([v,_])=>_!==void 0).map(([v,_])=>[v,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([v,_])=>{d.searchParams.append(v,_)})):(u="POST",f=r);const y=new Headers(this.headers);return b?y.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&y.set("Prefer",`count=${o}`),new od({method:u,url:d,headers:y,schema:this.schemaName,body:f,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class LS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const TS="2.93.3",RS=`realtime-js/${TS}`,OS="1.0.0",Ky="2.0.0",Mv=Ky,Mx=1e4,IS=1e3,MS=100;var bc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bc||(bc={}));var cs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(cs||(cs={}));var Co;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Co||(Co={}));var Fx;(function(e){e.websocket="websocket"})(Fx||(Fx={}));var uu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(uu||(uu={}));class FS{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,n){var a,o;const c=t.topic,u=(a=t.ref)!==null&&a!==void 0?a:"",d=(o=t.join_ref)!==null&&o!==void 0?o:"",f=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+c.length+f.length+b.length,v=new ArrayBuffer(this.HEADER_LENGTH+y);let _=new DataView(v),k=0;_.setUint8(k++,this.KINDS.userBroadcastPush),_.setUint8(k++,d.length),_.setUint8(k++,u.length),_.setUint8(k++,c.length),_.setUint8(k++,f.length),_.setUint8(k++,b.length),_.setUint8(k++,r),Array.from(d,A=>_.setUint8(k++,A.charCodeAt(0))),Array.from(u,A=>_.setUint8(k++,A.charCodeAt(0))),Array.from(c,A=>_.setUint8(k++,A.charCodeAt(0))),Array.from(f,A=>_.setUint8(k++,A.charCodeAt(0))),Array.from(b,A=>_.setUint8(k++,A.charCodeAt(0)));var E=new Uint8Array(v.byteLength+n.byteLength);return E.set(new Uint8Array(v),0),E.set(new Uint8Array(n),v.byteLength),E.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,o,c,u,d]=n;return r({join_ref:a,ref:o,topic:c,event:u,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),o=r.getUint8(2),c=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(t.slice(d,d+a));d=d+a;const p=n.decode(t.slice(d,d+o));d=d+o;const b=n.decode(t.slice(d,d+c));d=d+c;const y=t.slice(d,t.byteLength),v=u===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,_={type:this.BROADCAST_EVENT,event:p,payload:v};return c>0&&(_.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Jy{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Xr||(Xr={}));const Fv=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,c)=>(o[c]=DS(c,e,t,a),o),{}):{}},DS=(e,t,r,n)=>{const a=t.find(u=>u.name===e),o=a==null?void 0:a.type,c=r[e];return o&&!n.includes(o)?Xy(o,c):Dx(c)},Xy=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return BS(t,r)}switch(e){case Xr.bool:return qS(t);case Xr.float4:case Xr.float8:case Xr.int2:case Xr.int4:case Xr.int8:case Xr.numeric:case Xr.oid:return US(t);case Xr.json:case Xr.jsonb:return zS(t);case Xr.timestamp:return $S(t);case Xr.abstime:case Xr.date:case Xr.daterange:case Xr.int4range:case Xr.int8range:case Xr.money:case Xr.reltime:case Xr.text:case Xr.time:case Xr.timestamptz:case Xr.timetz:case Xr.tsrange:case Xr.tstzrange:return Dx(t);default:return Dx(t)}},Dx=e=>e,qS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},US=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},BS=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const c=e.slice(1,r);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(u=>Xy(t,u))}return e},$S=e=>typeof e=="string"?e.replace(" ","T"):e,Qy=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class k0{constructor(t,r,n={},a=Mx){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Dv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Dv||(Dv={}));class ah{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ah.syncState(this.state,a,o,c),this.pendingDiffs.forEach(d=>{this.state=ah.syncDiff(this.state,d,o,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ah.syncDiff(this.state,a,o,c),u())}),this.onJoin((a,o,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:c})}),this.onLeave((a,o,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const o=this.cloneDeep(t),c=this.transformState(r),u={},d={};return this.map(o,(f,p)=>{c[f]||(d[f]=p)}),this.map(c,(f,p)=>{const b=o[f];if(b){const y=p.map(E=>E.presence_ref),v=b.map(E=>E.presence_ref),_=p.filter(E=>v.indexOf(E.presence_ref)<0),k=b.filter(E=>y.indexOf(E.presence_ref)<0);_.length>0&&(u[f]=_),k.length>0&&(d[f]=k)}else u[f]=p}),this.syncDiff(o,{joins:u,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:o,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(o,(u,d)=>{var f;const p=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),p.length>0){const b=t[u].map(v=>v.presence_ref),y=p.filter(v=>b.indexOf(v.presence_ref)<0);t[u].unshift(...y)}n(u,p,d)}),this.map(c,(u,d)=>{let f=t[u];if(!f)return;const p=d.map(b=>b.presence_ref);f=f.filter(b=>p.indexOf(b.presence_ref)<0),t[u]=f,a(u,f,d),f.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qv||(qv={}));var oh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(oh||(oh={}));var ql;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ql||(ql={}));class fd{constructor(t,r={config:{}},n){var a,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=cs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new k0(this,Co.join,this.params,this.timeout),this.rejoinTimer=new Jy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=cs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=cs.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=cs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=cs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=cs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Co.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new ah(this),this.broadcastEndpointURL=Qy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==cs.closed){const{config:{broadcast:c,presence:u,private:d}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[oh.PRESENCE]&&this.bindings[oh.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,b={},y={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(ql.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(ql.CLOSED)),this.updateJoinPayload(Object.assign({config:y},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(ql.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,E=(_=k==null?void 0:k.length)!==null&&_!==void 0?_:0,A=[];for(let L=0;L<E;L++){const P=k[L],{filter:{event:R,schema:Q,table:te,filter:oe}}=P,se=v&&v[L];if(se&&se.event===R&&fd.isFilterValueEqual(se.schema,Q)&&fd.isFilterValueEqual(se.table,te)&&fd.isFilterValueEqual(se.filter,oe))A.push(Object.assign(Object.assign({},P),{id:se.id}));else{this.unsubscribe(),this.state=cs.errored,t==null||t(ql.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,t&&t(ql.SUBSCRIBED);return}}).receive("error",v=>{this.state=cs.errored,t==null||t(ql.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ql.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===cs.joined&&t===oh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,u,d;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=cs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Co.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new k0(this,Co.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=cs.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,o=setTimeout(()=>a.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new k0(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>MS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,o;const c=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:p}=Co;if(n&&[u,d,f,p].indexOf(c)>=0&&n!==this._joinRef())return;let y=this._onMessage(c,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var _,k,E;return((_=v.filter)===null||_===void 0?void 0:_.event)==="*"||((E=(k=v.filter)===null||k===void 0?void 0:k.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===c}).map(v=>v.callback(y,n)):(o=this.bindings[c])===null||o===void 0||o.filter(v=>{var _,k,E,A,L,P;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in v){const R=v.id,Q=(_=v.filter)===null||_===void 0?void 0:_.event;return R&&((k=r.ids)===null||k===void 0?void 0:k.includes(R))&&(Q==="*"||(Q==null?void 0:Q.toLocaleLowerCase())===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const R=(L=(A=v==null?void 0:v.filter)===null||A===void 0?void 0:A.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return R==="*"||R===((P=r==null?void 0:r.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===c}).map(v=>{if(typeof y=="object"&&"ids"in y){const _=y.data,{schema:k,table:E,commit_timestamp:A,type:L,errors:P}=_;y=Object.assign(Object.assign({},{schema:k,table:E,commit_timestamp:A,eventType:L,new:{},old:{},errors:P}),this._getPayloadRecords(_))}v.callback(y,n)})}_isClosed(){return this.state===cs.closed}_isJoined(){return this.state===cs.joined}_isJoining(){return this.state===cs.joining}_isLeaving(){return this.state===cs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),o={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&fd.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Co.close,{},t)}_onError(t){this._on(Co.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=cs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Fv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Fv(t.columns,t.old_record)),r}}const E0=()=>{},cf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VS=[1e3,2e3,5e3,1e4],WS=1e4,HS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class GS{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mx,this.transport=null,this.heartbeatIntervalMs=cf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=E0,this.ref=0,this.reconnectTimer=null,this.vsn=Mv,this.logger=E0,this.conn=null,this.sendBuffer=[],this.serializer=new FS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Fx.websocket}`,this.httpEndpoint=Qy(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=LS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bc.connecting:return uu.Connecting;case bc.open:return uu.Open;case bc.closing:return uu.Closing;default:return uu.Closed}}isConnected(){return this.connectionState()===uu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(o=>o.topic===n);if(a)return a;{const o=new fd(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:a,ref:o}=t,c=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${o})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(IS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},cf.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",f)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:o,ref:c}=r,u=c?`(${c})`:"",d=o.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,o,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===bc.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===bc.open||this.conn.readyState===bc.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Co.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([HS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const o={access_token:r,version:RS};r&&a.updateJoinPayload(o),a.joinedOnce&&a._isJoined()&&a._push(Co.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Jy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},cf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,o,c,u,d,f,p,b,y,v;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Mx,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:cf.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=t==null?void 0:t.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:E0,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:Mv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(_=>VS[_-1]||WS),this.vsn){case OS:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:((_,k)=>k(JSON.stringify(_))),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:((_,k)=>k(JSON.parse(_)));break;case Ky:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var mh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function YS(e,t,r){const n=new URL(t,e);if(r)for(const[a,o]of Object.entries(r))o!==void 0&&n.searchParams.set(a,o);return n.toString()}async function KS(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function JS(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:o,headers:c}){const u=YS(e.baseUrl,n,a),d=await KS(e.auth),f=await t(u,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...d,...c},body:o?JSON.stringify(o):void 0}),p=await f.text(),b=(f.headers.get("content-type")||"").includes("application/json"),y=b&&p?JSON.parse(p):p;if(!f.ok){const v=b?y:void 0,_=v==null?void 0:v.error;throw new mh((_==null?void 0:_.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:_==null?void 0:_.type,icebergCode:_==null?void 0:_.code,details:v})}return{status:f.status,headers:f.headers,data:y}}}}function uf(e){return e.join("")}var XS=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:uf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${uf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${uf(e.namespace)}`}),!0}catch(t){if(t instanceof mh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof mh&&r.status===409)return;throw r}}};function Hu(e){return e.join("")}var QS=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hu(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof mh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof mh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},ZS=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=JS({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new XS(this.client,t),this.tableOps=new QS(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},bp=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function yp(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var df=class extends bp{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Zy=class extends bp{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const ek=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tk=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},qx=e=>{if(Array.isArray(e))return e.map(r=>qx(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=qx(n)}),t},rk=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function xh(e){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xh(e)}function nk(e,t){if(xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sk(e){var t=nk(e,"string");return xh(t)=="symbol"?t:t+""}function ik(e,t,r){return(t=sk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uv(Object(r),!0).forEach(function(n){ik(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const zv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},ak=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,o=a.status||500;if(typeof a.json=="function")a.json().then(c=>{const u=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||o+"";t(new df(zv(c),o,u,n))}).catch(()=>{if(n==="vectors"){const c=o+"";t(new df(a.statusText||`HTTP ${o} error`,o,c,n))}else{const c=o+"";t(new df(a.statusText||`HTTP ${o} error`,o,c,n))}});else{const c=o+"";t(new df(a.statusText||`HTTP ${o} error`,o,c,n))}}else t(new Zy(zv(e),e,n))},ok=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?zt(zt({},a),r):(tk(n)?(a.headers=zt({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),zt(zt({},a),r))};async function Kd(e,t,r,n,a,o,c){return new Promise((u,d)=>{e(r,ok(t,n,a,o)).then(f=>{if(!f.ok)throw f;if(n!=null&&n.noResolveJson)return f;if(c==="vectors"){const p=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!p||!p.includes("application/json"))return{}}return f.json()}).then(f=>u(f)).catch(f=>ak(f,d,n,c))})}function ew(e="storage"){return{get:async(t,r,n,a)=>Kd(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,o)=>Kd(t,"POST",r,a,o,n,e),put:async(t,r,n,a,o)=>Kd(t,"PUT",r,a,o,n,e),head:async(t,r,n,a)=>Kd(t,"HEAD",r,zt(zt({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,o)=>Kd(t,"DELETE",r,a,o,n,e)}}const lk=ew("storage"),{get:gh,post:Eo,put:Ux,head:ck,remove:Ug}=lk,ma=ew("vectors");var Td=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=ek(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(yp(r))return{data:null,error:r};throw r}}},uk=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yp(t))return{data:null,error:t};throw t}}};let tw;tw=Symbol.toStringTag;var dk=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[tw]="BlobDownloadBuilder",this.promise=null}asStream(){return new uk(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(yp(t))return{data:null,error:t};throw t}}};const hk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var fk=class extends Td{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let o;const c=zt(zt({},Bv),n);let u=zt(zt({},a.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),d&&o.append("metadata",a.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),d&&!o.has("metadata")&&o.append("metadata",a.encodeMetadata(d))):(o=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,d&&(u["x-metadata"]=a.toBase64(a.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),n!=null&&n.headers&&(u=zt(zt({},u),n.headers));const f=a._removeEmptyFolders(t),p=a._getFinalPath(f),b=await(e=="PUT"?Ux:Eo)(a.fetch,`${a.url}/object/${p}`,o,zt({headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{path:f,id:b.Id,fullPath:b.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const o=a._removeEmptyFolders(e),c=a._getFinalPath(o),u=new URL(a.url+`/object/upload/sign/${c}`);return u.searchParams.set("token",t),a.handleOperation(async()=>{let d;const f=zt({upsert:Bv.upsert},n),p=zt(zt({},a.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{path:o,fullPath:(await Ux(a.fetch,u.toString(),d,{headers:p})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=zt({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const o=await Eo(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),c=new URL(r.url+o.url),u=c.searchParams.get("token");if(!u)throw new bp("No token returned by API");return{signedUrl:c.toString(),path:e,token:u}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Eo(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Eo(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),o=await Eo(n.fetch,`${n.url}/object/sign/${a}`,zt({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${o.signedURL}${c}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await Eo(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(c=>zt(zt({},c),{},{signedUrl:c.signedURL?encodeURI(`${n.url}${c.signedURL}${o}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",o=this._getFinalPath(e),c=()=>gh(this.fetch,`${this.url}/${r}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new dk(c,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>qx(await gh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await ck(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yp(n)&&n instanceof Zy){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Ug(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=zt(zt(zt({},hk),t),{},{prefix:e||""});return await Eo(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=zt({},e);return await Eo(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const pk="2.93.3",Ah={"X-Client-Info":`storage-js/${pk}`};var mk=class extends Td{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const o=a.href.replace(/\/$/,""),c=zt(zt({},Ah),t);super(o,c,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await gh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await gh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Eo(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Ux(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Eo(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ug(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},xk=class extends Td{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=zt(zt({},Ah),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Eo(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await gh(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ug(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!rk(e))throw new bp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new ZS({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,o){const c=a[o];return typeof c!="function"?c:async(...u)=>{try{return{data:await c.apply(a,u),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}},gk=class extends Td{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=zt(zt({},Ah),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ma.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await ma.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ma.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await ma.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},vk=class extends Td{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=zt(zt({},Ah),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ma.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ma.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ma.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ma.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ma.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},bk=class extends Td{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=zt(zt({},Ah),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ma.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ma.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ma.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ma.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},yk=class extends bk{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new wk(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},wk=class extends gk{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,zt(zt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,zt(zt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Nk(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Nk=class extends vk{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,zt(zt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,zt(zt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,zt(zt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,zt(zt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,zt(zt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},jk=class extends mk{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new fk(this.url,this.headers,e,this.fetch)}get vectors(){return new yk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new xk(this.url+"/iceberg",this.headers,this.fetch)}};const rw="2.93.3",ld=30*1e3,zx=3,C0=zx*ld,_k="http://localhost:9999",Sk="supabase.auth.token",kk={"X-Client-Info":`gotrue-js/${rw}`},Bx="X-Supabase-Api-Version",nw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ek=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ck=600*1e3;class vh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function wt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ak extends vh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Pk(e){return wt(e)&&e.name==="AuthApiError"}class du extends vh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Gl extends vh{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ha extends Gl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function A0(e){return wt(e)&&e.name==="AuthSessionMissingError"}class Gu extends Gl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hf extends Gl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ff extends Gl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lk(e){return wt(e)&&e.name==="AuthImplicitGrantRedirectError"}class $v extends Gl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tk extends Gl{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class $x extends Gl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function P0(e){return wt(e)&&e.name==="AuthRetryableFetchError"}class Vv extends Gl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Vx extends Gl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wv=` 	
\r=`.split(""),Rk=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Wv.length;t+=1)e[Wv[t].charCodeAt(0)]=-2;for(let t=0;t<Wf.length;t+=1)e[Wf[t].charCodeAt(0)]=t;return e})();function Hv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Wf[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Wf[n]),t.queuedBits-=6}}function sw(e,t,r){const n=Rk[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gv(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=c=>{Mk(c,n,r)};for(let c=0;c<e.length;c+=1)sw(e.charCodeAt(c),a,o);return t.join("")}function Ok(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ik(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Ok(n,t)}}function Mk(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function bd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)sw(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Fk(e){const t=[];return Ik(e,r=>t.push(r)),new Uint8Array(t)}function fu(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Hv(a,r,n)),Hv(null,r,n),t.join("")}function Dk(e){return Math.round(Date.now()/1e3)+e}function qk(){return Symbol("auth-callback")}const Ds=()=>typeof window<"u"&&typeof document<"u",tu={tested:!1,writable:!1},iw=()=>{if(!Ds())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tu.tested)return tu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tu.tested=!0,tu.writable=!0}catch{tu.tested=!0,tu.writable=!1}return tu.writable};function Uk(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{t[o]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const aw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cd=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ru=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Fs=async(e,t)=>{await e.removeItem(t)};class wp{constructor(){this.promise=new wp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}wp.promiseConstructor=Promise;function pf(e){const t=e.split(".");if(t.length!==3)throw new Vx("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ek.test(t[n]))throw new Vx("JWT not in base64url format");return{header:JSON.parse(Gv(t[0])),payload:JSON.parse(Gv(t[1])),signature:bd(t[2]),raw:{header:t[0],payload:t[1]}}}async function Bk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $k(e,t){return new Promise((n,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await e(o);if(!t(o,null,c)){n(c);return}}catch(c){if(!t(o,c)){a(c);return}}})()})}function Vk(e){return("0"+e.toString(16)).substr(-2)}function Wk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Vk).join("")}async function Hk(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function Gk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Hk(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yu(e,t,r=!1){const n=Wk();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await cd(e,`${t}-code-verifier`,a);const o=await Gk(n);return[o,n===o?"plain":"s256"]}const Yk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kk(e){const t=e.headers.get(Bx);if(!t||!t.match(Yk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Jk(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Xk(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Qk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ku(e){if(!Qk.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function L0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zk(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function Yv(e){return JSON.parse(JSON.stringify(e))}const iu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),e6=[502,503,504];async function Kv(e){var t;if(!zk(e))throw new $x(iu(e),0);if(e6.includes(e.status))throw new $x(iu(e),e.status);let r;try{r=await e.json()}catch(o){throw new du(iu(o),o)}let n;const a=Kk(e);if(a&&a.getTime()>=nw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Vv(iu(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ha}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Vv(iu(r),e.status,r.weak_password.reasons);throw new Ak(iu(r),e.status||500,n)}const t6=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function qt(e,t,r,n){var a;const o=Object.assign({},n==null?void 0:n.headers);o[Bx]||(o[Bx]=nw["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const c=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await r6(e,t,r+u,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function r6(e,t,r,n,a,o){const c=t6(t,n,a,o);let u;try{u=await e(r,Object.assign({},c))}catch(d){throw console.error(d),new $x(iu(d),0)}if(u.ok||await Kv(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(d){await Kv(d)}}function So(e){var t;let r=null;i6(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Dk(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Jv(e){const t=So(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function n6(e){return{data:e,error:null}}function s6(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o}=e,c=vp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o},d=Object.assign({},c);return{data:{properties:u,user:d},error:null}}function Xv(e){return e}function i6(e){return e.access_token&&e.refresh_token&&e.expires_in}const T0=["global","local","others"];class a6{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=aw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=T0[0]){if(T0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${T0.join(", ")}`);try{return await qt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await qt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:wc})}catch(n){if(wt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=vp(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await qt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:s6,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(wt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await qt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wc})}catch(r){if(wt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,o,c,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await qt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Xv});if(p.error)throw p.error;const b=await p.json(),y=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);f[`${E}Page`]=k}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},b),f),error:null}}catch(f){if(wt(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Ku(t);try{return await qt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wc})}catch(r){if(wt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ku(t);try{return await qt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:wc})}catch(n){if(wt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ku(t);try{return await qt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:wc})}catch(n){if(wt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ku(t.userId);try{const{data:r,error:n}=await qt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(wt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ku(t.userId),Ku(t.id);try{return{data:await qt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,o,c,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await qt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Xv});if(p.error)throw p.error;const b=await p.json(),y=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);f[`${E}Page`]=k}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},b),f),error:null}}catch(f){if(wt(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await qt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(wt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await qt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(wt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await qt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(wt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await qt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await qt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(wt(r))return{data:null,error:r};throw r}}}function Qv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ju={debug:!!(globalThis&&iw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ow extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class o6 extends ow{}async function l6(e,t,r){Ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ju.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new o6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ju.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function c6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lw(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function u6(e){return parseInt(e,16)}function d6(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function h6(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:o=new Date,nonce:c,notBefore:u,requestId:d,resources:f,scheme:p,uri:b,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=lw(e.address),_=p?`${p}://${n}`:n,k=e.statement?`${e.statement}
`:"",E=`${_} wants you to sign in with your Ethereum account:
${v}

${k}`;let A=`URI: ${b}
Version: ${y}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(a&&(A+=`
Expiration Time: ${a.toISOString()}`),u&&(A+=`
Not Before: ${u.toISOString()}`),d&&(A+=`
Request ID: ${d}`),f){let L=`
Resources:`;for(const P of f){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);L+=`
- ${P}`}A+=L}return`${E}
${A}`}class Yn extends Error{constructor({message:t,code:r,cause:n,name:a}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=a??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Hf extends Yn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function f6({error:e,options:t}){var r,n,a;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Yn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Yn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Yn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Yn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Yn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Yn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Yn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Yn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(cw(c)){if(o.rp.id!==c)return new Yn({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Yn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Yn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Yn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Yn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function p6({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Yn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Yn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(cw(n)){if(r.rpId!==n)return new Yn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Yn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Yn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Yn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class m6{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const x6=new m6;function g6(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=vp(e,["challenge","user","excludeCredentials"]),o=bd(t).buffer,c=Object.assign(Object.assign({},r),{id:bd(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:o,user:c});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:bd(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function v6(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=vp(e,["challenge","allowCredentials"]),a=bd(t).buffer,o=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];o.allowCredentials[c]=Object.assign(Object.assign({},u),{id:bd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function b6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:fu(new Uint8Array(e.response.attestationObject)),clientDataJSON:fu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function y6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:fu(new Uint8Array(a.authenticatorData)),clientDataJSON:fu(new Uint8Array(a.clientDataJSON)),signature:fu(new Uint8Array(a.signature)),userHandle:a.userHandle?fu(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cw(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Zv(){var e,t;return!!(Ds()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function w6(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hf("Browser returned unexpected credential type",t)}:{data:null,error:new Hf("Empty credential response",t)}}catch(t){return{data:null,error:f6({error:t,options:e})}}}async function N6(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hf("Browser returned unexpected credential type",t)}:{data:null,error:new Hf("Empty credential response",t)}}catch(t){return{data:null,error:p6({error:t,options:e})}}}const j6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_6={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Gf(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const o in a){const c=a[o];if(c!==void 0)if(Array.isArray(c))n[o]=c;else if(r(c))n[o]=c;else if(t(c)){const u=n[o];t(u)?n[o]=Gf(u,c):n[o]=Gf(c)}else n[o]=c}return n}function S6(e,t){return Gf(j6,e,t||{})}function k6(e,t){return Gf(_6,e,t||{})}class E6{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},o){var c;try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!u)return{data:null,error:d};const f=a??x6.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;if(!p.name){const b=n;if(b)p.name=`${p.id}:${b}`;else{const v=(await this.client.getUser()).data.user,_=((c=v==null?void 0:v.user_metadata)===null||c===void 0?void 0:c.name)||(v==null?void 0:v.email)||(v==null?void 0:v.id)||"User";p.name=`${p.id}:${_}`}}p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=S6(u.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:b,error:y}=await w6({publicKey:p,signal:f});return b?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:b}},error:null}:{data:null,error:y}}case"request":{const p=k6(u.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:b,error:y}=await N6(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:f}));return b?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:b}},error:null}:{data:null,error:y}}}}catch(u){return wt(u)?{data:null,error:u}:{data:null,error:new du("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!r)return{data:null,error:new vh("rpId is required for WebAuthn authentication")};try{if(!Zv())return{data:null,error:new du("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:o});if(!c)return{data:null,error:u};const{webauthn:d}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(c){return wt(c)?{data:null,error:c}:{data:null,error:new du("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!r)return{data:null,error:new vh("rpId is required for WebAuthn registration")};try{if(!Zv())return{data:null,error:new du("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(p=>{var b;return(b=p.data)===null||b===void 0?void 0:b.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:o});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(c){return wt(c)?{data:null,error:c}:{data:null,error:new du("Unexpected error in register",c)}}}}c6();const C6={url:_k,storageKey:Sk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function e2(e,t,r){return await r()}const Xu={};class bh{get jwks(){var t,r;return(r=(t=Xu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Xu[this.storageKey]=Object.assign(Object.assign({},Xu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Xu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xu[this.storageKey]=Object.assign(Object.assign({},Xu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},C6),t);if(this.storageKey=o.storageKey,this.instanceID=(r=bh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,bh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Ds()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new a6({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=aw(o.fetch),this.lock=o.lock||e2,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&Ds()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=l6:this.lock=e2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new E6(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:iw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qv(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Qv(this.memoryStorage)),Ds()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c);try{await this._notifyAllSubscribers(c.data.event,c.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}this.initialize().catch(c=>{this._debug("#initialize()","error",c)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rw}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ds()&&(r=Uk(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ds()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Lk(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:c,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return wt(r)?this._returnResult({error:r}):this._returnResult({error:new du("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const o=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:So}),{data:c,error:u}=o;if(u||!c)return this._returnResult({data:{user:null,session:null},error:u});const d=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(wt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,n,a;try{let o;if("email"in t){const{email:p,password:b,options:y}=t;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await Yu(this.storage,this.storageKey)),o=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:b,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:v,code_challenge_method:_},xform:So})}else if("phone"in t){const{phone:p,password:b,options:y}=t;o=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:b,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(a=y==null?void 0:y.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:So})}else throw new hf("You must provide either an email or phone number and a password");const{data:c,error:u}=o;if(u||!c)return await Fs(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(await Fs(this.storage,`${this.storageKey}-code-verifier`),wt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:c,options:u}=t;r=await qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Jv})}else if("phone"in t){const{phone:o,password:c,options:u}=t;r=await qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Jv})}else throw new hf("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const o=new Gu;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(wt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,o,c,u,d,f,p,b,y;let v,_;if("message"in t)v=t.message,_=t.signature;else{const{chain:k,wallet:E,statement:A,options:L}=t;let P;if(Ds())if(typeof E=="object")P=E;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")P=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=E}const R=new URL((r=L==null?void 0:L.url)!==null&&r!==void 0?r:window.location.href),Q=await P.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Q||Q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const te=lw(Q[0]);let oe=(n=L==null?void 0:L.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!oe){const W=await P.request({method:"eth_chainId"});oe=u6(W)}const se={domain:R.host,address:te,statement:A,uri:R.href,version:"1",chainId:oe,nonce:(a=L==null?void 0:L.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(o=L==null?void 0:L.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=L==null?void 0:L.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=L==null?void 0:L.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=L==null?void 0:L.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=L==null?void 0:L.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=h6(se),_=await P.request({method:"personal_sign",params:[d6(v),te]})}try{const{data:k,error:E}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:_},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:So});if(E)throw E;if(!k||!k.session||!k.user){const A=new Gu;return this._returnResult({data:{user:null,session:null},error:A})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:E})}catch(k){if(wt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var r,n,a,o,c,u,d,f,p,b,y,v;let _,k;if("message"in t)_=t.message,k=t.signature;else{const{chain:E,wallet:A,statement:L,options:P}=t;let R;if(Ds())if(typeof A=="object")R=A;else{const te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))R=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=A}const Q=new URL((r=P==null?void 0:P.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const te=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),L?{statement:L}:null));let oe;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")oe=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)oe=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in oe&&"signature"in oe&&(typeof oe.signedMessage=="string"||oe.signedMessage instanceof Uint8Array)&&oe.signature instanceof Uint8Array)_=typeof oe.signedMessage=="string"?oe.signedMessage:new TextDecoder().decode(oe.signedMessage),k=oe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${Q.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(a=(n=P==null?void 0:P.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=P==null?void 0:P.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((c=P==null?void 0:P.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((u=P==null?void 0:P.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((d=P==null?void 0:P.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((f=P==null?void 0:P.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((b=(p=P==null?void 0:P.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||b===void 0)&&b.length?["Resources",...P.signInWithSolana.resources.map(oe=>`- ${oe}`)]:[]].join(`
`);const te=await R.signMessage(new TextEncoder().encode(_),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=te}}try{const{data:E,error:A}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:fu(k)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:So});if(A)throw A;if(!E||!E.session||!E.user){const L=new Gu;return this._returnResult({data:{user:null,session:null},error:L})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:A})}catch(E){if(wt(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const r=await ru(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Tk;const{data:o,error:c}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:So});if(await Fs(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const u=new Gu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:c})}catch(o){if(await Fs(this.storage,`${this.storageKey}-code-verifier`),wt(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:o,nonce:c}=t,u=await qt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:So}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new Gu;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(wt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,o,c;try{if("email"in t){const{email:u,options:d}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Yu(this.storage,this.storageKey));const{error:b}=await qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:p}=await qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(c=d==null?void 0:d.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p})}throw new hf("You must provide either an email or phone number.")}catch(u){if(await Fs(this.storage,`${this.storageKey}-code-verifier`),wt(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let a,o;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await qt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:So});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,f=c.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(wt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,o,c;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Yu(this.storage,this.storageKey));const f=await qt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:n6});return!((o=f.data)===null||o===void 0)&&o.url&&Ds()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await Fs(this.storage,`${this.storageKey}-code-verifier`),wt(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ha;const{error:a}=await qt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(wt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:o}=t,{error:c}=await qt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:n,type:a,options:o}=t,{data:c,error:u}=await qt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new hf("You must provide either an email or phone number and a type")}catch(r){if(wt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ru(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<C0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await ru(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=L0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=Zk(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wc}):await this._useSession(async r=>{var n,a,o;const{data:c,error:u}=r;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ha}:await qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:wc})})}catch(r){if(wt(r))return A0(r)&&(await this._removeSession(),await Fs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:o}=n;if(o)throw o;if(!a.session)throw new ha;const c=a.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Yu(this.storage,this.storageKey));const{data:f,error:p}=await qt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:c.access_token,xform:wc});if(p)throw p;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await Fs(this.storage,`${this.storageKey}-code-verifier`),wt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ha;const r=Date.now()/1e3;let n=r,a=!0,o=null;const{payload:c}=pf(t.access_token);if(c.exp&&(n=c.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(wt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:u}=r;if(u)throw u;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ha;const{data:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(wt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ds())throw new ff("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ff(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $v("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ff("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $v("No code detected.");const{data:L,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:o,refresh_token:c,expires_in:u,expires_at:d,token_type:f}=t;if(!o||!u||!c||!f)throw new ff("No session defined in URL");const p=Math.round(Date.now()/1e3),b=parseInt(u);let y=p+b;d&&(y=parseInt(d));const v=y-p;v*1e3<=ld&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${b}s`);const _=y-b;p-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,y,p):p-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,y,p);const{data:k,error:E}=await this._getUser(o);if(E)throw E;const A={provider_token:n,provider_refresh_token:a,access_token:o,expires_in:b,expires_at:y,refresh_token:c,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:t.type},error:null})}catch(n){if(wt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ru(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o&&!A0(o))return this._returnResult({error:o});const c=(n=a.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,t);if(u&&!(Pk(u)&&(u.status===404||u.status===401||u.status===403)||A0(u)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await Fs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=qk(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:o},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Yu(this.storage,this.storageKey,!0));try{return await qt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await Fs(this.storage,`${this.storageKey}-code-verifier`),wt(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(wt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async o=>{var c,u,d,f,p;const{data:b,error:y}=o;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await qt(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(f=b.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return Ds()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(wt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:o}}=r;if(a)throw a;const{options:c,provider:u,token:d,access_token:f,nonce:p}=t,b=await qt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:So}),{data:y,error:v}=b;return v?this._returnResult({data:{user:null,session:null},error:v}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Gu}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:v}))}catch(a){if(await Fs(this.storage,`${this.storageKey}-code-verifier`),wt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:o,error:c}=r;if(c)throw c;return await qt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(wt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await $k(async a=>(a>0&&await Bk(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await qt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:So})),(a,o)=>{const c=200*Math.pow(2,a);return o&&P0(o)&&Date.now()+c-n<ld})}catch(n){if(this._debug(r,"error",n),wt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ds()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ru(this.storage,this.storageKey);if(a&&this.userStorage){let c=await ru(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await cd(this.userStorage,this.storageKey+"-user",c)),a.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:L0()}else if(a&&!a.user&&!a.user){const c=await ru(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await Fs(this.storage,this.storageKey+"-user"),await cd(this.storage,this.storageKey,a)):a.user=L0()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const o=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<C0;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${C0}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),P0(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(a.access_token);!u&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ha;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new wp;const{data:o,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!o.session)throw new ha;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(a,"error",o),wt(o)){const c={data:null,error:o};return P0(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){o.push(d)}});if(await Promise.all(c),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Fs(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await cd(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const o=Yv(a);await cd(this.storage,this.storageKey,o)}else{const a=Yv(r);await cd(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Fs(this.storage,this.storageKey),await Fs(this.storage,this.storageKey+"-code-verifier"),await Fs(this.storage,this.storageKey+"-user"),this.userStorage&&await Fs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ds()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ld);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ld);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ld}ms, refresh threshold is ${zx} ticks`),a<=zx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ow)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ds()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,c]=await Yu(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(u.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);a.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?this._returnResult({data:null,error:o}):await qt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(wt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await qt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(wt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?b6(t.webauthn.credential_response):y6(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await qt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(wt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=await qt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:u}=c;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g6(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:v6(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(wt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,o;if(t)try{const{payload:v}=pf(t);let _=null;v.aal&&(_=v.aal);let k=_;const{data:{user:E},error:A}=await this.getUser(t);if(A)return this._returnResult({data:null,error:A});((n=(r=E==null?void 0:E.factors)===null||r===void 0?void 0:r.filter(R=>R.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(k="aal2");const P=v.amr||[];return{data:{currentLevel:_,nextLevel:k,currentAuthenticationMethods:P},error:null}}catch(v){if(wt(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:c},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=pf(c.access_token);let f=null;d.aal&&(f=d.aal);let p=f;((o=(a=c.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(p="aal2");const y=d.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await qt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ha})})}catch(r){if(wt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new ha});const c=await qt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&Ds()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(n){if(wt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new ha});const c=await qt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&Ds()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(n){if(wt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await qt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ha})})}catch(t){if(wt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await qt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ha})})}catch(r){if(wt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+Ck>a)return n;const{data:o,error:c}=await qt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,n=o.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:_}=await this.getSession();if(_||!v.session)return this._returnResult({data:null,error:_});n=v.session.access_token}const{header:a,payload:o,signature:c,raw:{header:u,payload:d}}=pf(n);r!=null&&r.allowExpired||Jk(o.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!f){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:o,header:a,signature:c},error:null}}const p=Xk(a.alg),b=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,b,c,Fk(`${u}.${d}`)))throw new Vx("Invalid JWT signature");return{data:{claims:o,header:a,signature:c},error:null}}catch(n){if(wt(n))return this._returnResult({data:null,error:n});throw n}}}bh.nextInstanceID={};const A6=bh,P6="2.93.3";let sh="";typeof Deno<"u"?sh="deno":typeof document<"u"?sh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sh="react-native":sh="node";const L6={"X-Client-Info":`supabase-js-${sh}/${P6}`},T6={headers:L6},R6={schema:"public"},O6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},I6={};function yh(e){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(e)}function M6(e,t){if(yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F6(e){var t=M6(e,"string");return yh(t)=="symbol"?t:t+""}function D6(e,t,r){return(t=F6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){D6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const q6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),U6=()=>Headers,z6=(e,t,r)=>{const n=q6(r),a=U6();return async(o,c)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let f=new a(c==null?void 0:c.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),n(o,Ln(Ln({},c),{},{headers:f}))}};function B6(e){return e.endsWith("/")?e:e+"/"}function $6(e,t){var r,n;const{db:a,auth:o,realtime:c,global:u}=e,{db:d,auth:f,realtime:p,global:b}=t,y={db:Ln(Ln({},d),a),auth:Ln(Ln({},f),o),realtime:Ln(Ln({},p),c),storage:{},global:Ln(Ln(Ln({},b),u),{},{headers:Ln(Ln({},(r=b==null?void 0:b.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function V6(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(B6(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var W6=class extends A6{constructor(e){super(e)}},H6=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const o=V6(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:R6,realtime:I6,auth:Ln(Ln({},O6),{},{storageKey:c}),global:T6},d=$6(r??{},u);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=z6(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Ln({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new PS(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new jk(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new SS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:o,flowType:c,lock:u,debug:d,throwOnError:f},p,b){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new W6({url:this.authUrl.href,headers:Ln(Ln({},y),p),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:c,lock:u,debug:d,throwOnError:f,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new GS(this.realtimeUrl.href,Ln(Ln({},e),{},{params:Ln(Ln({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const uw=(e,t,r)=>new H6(e,t,r);function G6(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}G6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Y6="https://ugwqfvwclwctzgtxcakp.supabase.co",K6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVnd3FmdndjbHdjdHpndHhjYWtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYyNDg4OTgsImV4cCI6MjA4MTgyNDg5OH0.sx9z3p3svG5V6djfzUXtzdOwbUU3wjIVaAyIjRoFzaE",ko=uw(Y6,K6);var J6=Object.defineProperty,Yf=Object.getOwnPropertySymbols,dw=Object.prototype.hasOwnProperty,hw=Object.prototype.propertyIsEnumerable,r2=(e,t,r)=>t in e?J6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wx=(e,t)=>{for(var r in t||(t={}))dw.call(t,r)&&r2(e,r,t[r]);if(Yf)for(var r of Yf(t))hw.call(t,r)&&r2(e,r,t[r]);return e},Hx=(e,t)=>{var r={};for(var n in e)dw.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Yf)for(var n of Yf(e))t.indexOf(n)<0&&hw.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var vu;(e=>{const t=class xr{constructor(d,f,p,b){if(this.version=d,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],d<xr.MIN_VERSION||d>xr.MAX_VERSION)throw new RangeError("Version value out of range");if(b<-1||b>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let y=[];for(let _=0;_<this.size;_++)y.push(!1);for(let _=0;_<this.size;_++)this.modules.push(y.slice()),this.isFunction.push(y.slice());this.drawFunctionPatterns();const v=this.addEccAndInterleave(p);if(this.drawCodewords(v),b==-1){let _=1e9;for(let k=0;k<8;k++){this.applyMask(k),this.drawFormatBits(k);const E=this.getPenaltyScore();E<_&&(b=k,_=E),this.applyMask(k)}}a(0<=b&&b<=7),this.mask=b,this.applyMask(b),this.drawFormatBits(b),this.isFunction=[]}static encodeText(d,f){const p=e.QrSegment.makeSegments(d);return xr.encodeSegments(p,f)}static encodeBinary(d,f){const p=e.QrSegment.makeBytes(d);return xr.encodeSegments([p],f)}static encodeSegments(d,f,p=1,b=40,y=-1,v=!0){if(!(xr.MIN_VERSION<=p&&p<=b&&b<=xr.MAX_VERSION)||y<-1||y>7)throw new RangeError("Invalid value");let _,k;for(_=p;;_++){const P=xr.getNumDataCodewords(_,f)*8,R=c.getTotalBits(d,_);if(R<=P){k=R;break}if(_>=b)throw new RangeError("Data too long")}for(const P of[xr.Ecc.MEDIUM,xr.Ecc.QUARTILE,xr.Ecc.HIGH])v&&k<=xr.getNumDataCodewords(_,P)*8&&(f=P);let E=[];for(const P of d){r(P.mode.modeBits,4,E),r(P.numChars,P.mode.numCharCountBits(_),E);for(const R of P.getData())E.push(R)}a(E.length==k);const A=xr.getNumDataCodewords(_,f)*8;a(E.length<=A),r(0,Math.min(4,A-E.length),E),r(0,(8-E.length%8)%8,E),a(E.length%8==0);for(let P=236;E.length<A;P^=253)r(P,8,E);let L=[];for(;L.length*8<E.length;)L.push(0);return E.forEach((P,R)=>L[R>>>3]|=P<<7-(R&7)),new xr(_,f,L,y)}getModule(d,f){return 0<=d&&d<this.size&&0<=f&&f<this.size&&this.modules[f][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),f=d.length;for(let p=0;p<f;p++)for(let b=0;b<f;b++)p==0&&b==0||p==0&&b==f-1||p==f-1&&b==0||this.drawAlignmentPattern(d[p],d[b]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const f=this.errorCorrectionLevel.formatBits<<3|d;let p=f;for(let y=0;y<10;y++)p=p<<1^(p>>>9)*1335;const b=(f<<10|p)^21522;a(b>>>15==0);for(let y=0;y<=5;y++)this.setFunctionModule(8,y,n(b,y));this.setFunctionModule(8,7,n(b,6)),this.setFunctionModule(8,8,n(b,7)),this.setFunctionModule(7,8,n(b,8));for(let y=9;y<15;y++)this.setFunctionModule(14-y,8,n(b,y));for(let y=0;y<8;y++)this.setFunctionModule(this.size-1-y,8,n(b,y));for(let y=8;y<15;y++)this.setFunctionModule(8,this.size-15+y,n(b,y));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let p=0;p<12;p++)d=d<<1^(d>>>11)*7973;const f=this.version<<12|d;a(f>>>18==0);for(let p=0;p<18;p++){const b=n(f,p),y=this.size-11+p%3,v=Math.floor(p/3);this.setFunctionModule(y,v,b),this.setFunctionModule(v,y,b)}}drawFinderPattern(d,f){for(let p=-4;p<=4;p++)for(let b=-4;b<=4;b++){const y=Math.max(Math.abs(b),Math.abs(p)),v=d+b,_=f+p;0<=v&&v<this.size&&0<=_&&_<this.size&&this.setFunctionModule(v,_,y!=2&&y!=4)}}drawAlignmentPattern(d,f){for(let p=-2;p<=2;p++)for(let b=-2;b<=2;b++)this.setFunctionModule(d+b,f+p,Math.max(Math.abs(b),Math.abs(p))!=1)}setFunctionModule(d,f,p){this.modules[f][d]=p,this.isFunction[f][d]=!0}addEccAndInterleave(d){const f=this.version,p=this.errorCorrectionLevel;if(d.length!=xr.getNumDataCodewords(f,p))throw new RangeError("Invalid argument");const b=xr.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][f],y=xr.ECC_CODEWORDS_PER_BLOCK[p.ordinal][f],v=Math.floor(xr.getNumRawDataModules(f)/8),_=b-v%b,k=Math.floor(v/b);let E=[];const A=xr.reedSolomonComputeDivisor(y);for(let P=0,R=0;P<b;P++){let Q=d.slice(R,R+k-y+(P<_?0:1));R+=Q.length;const te=xr.reedSolomonComputeRemainder(Q,A);P<_&&Q.push(0),E.push(Q.concat(te))}let L=[];for(let P=0;P<E[0].length;P++)E.forEach((R,Q)=>{(P!=k-y||Q>=_)&&L.push(R[P])});return a(L.length==v),L}drawCodewords(d){if(d.length!=Math.floor(xr.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let b=0;b<this.size;b++)for(let y=0;y<2;y++){const v=p-y,k=(p+1&2)==0?this.size-1-b:b;!this.isFunction[k][v]&&f<d.length*8&&(this.modules[k][v]=n(d[f>>>3],7-(f&7)),f++)}}a(f==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let p=0;p<this.size;p++){let b;switch(d){case 0:b=(p+f)%2==0;break;case 1:b=f%2==0;break;case 2:b=p%3==0;break;case 3:b=(p+f)%3==0;break;case 4:b=(Math.floor(p/3)+Math.floor(f/2))%2==0;break;case 5:b=p*f%2+p*f%3==0;break;case 6:b=(p*f%2+p*f%3)%2==0;break;case 7:b=((p+f)%2+p*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][p]&&b&&(this.modules[f][p]=!this.modules[f][p])}}getPenaltyScore(){let d=0;for(let y=0;y<this.size;y++){let v=!1,_=0,k=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[y][E]==v?(_++,_==5?d+=xr.PENALTY_N1:_>5&&d++):(this.finderPenaltyAddHistory(_,k),v||(d+=this.finderPenaltyCountPatterns(k)*xr.PENALTY_N3),v=this.modules[y][E],_=1);d+=this.finderPenaltyTerminateAndCount(v,_,k)*xr.PENALTY_N3}for(let y=0;y<this.size;y++){let v=!1,_=0,k=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[E][y]==v?(_++,_==5?d+=xr.PENALTY_N1:_>5&&d++):(this.finderPenaltyAddHistory(_,k),v||(d+=this.finderPenaltyCountPatterns(k)*xr.PENALTY_N3),v=this.modules[E][y],_=1);d+=this.finderPenaltyTerminateAndCount(v,_,k)*xr.PENALTY_N3}for(let y=0;y<this.size-1;y++)for(let v=0;v<this.size-1;v++){const _=this.modules[y][v];_==this.modules[y][v+1]&&_==this.modules[y+1][v]&&_==this.modules[y+1][v+1]&&(d+=xr.PENALTY_N2)}let f=0;for(const y of this.modules)f=y.reduce((v,_)=>v+(_?1:0),f);const p=this.size*this.size,b=Math.ceil(Math.abs(f*20-p*10)/p)-1;return a(0<=b&&b<=9),d+=b*xr.PENALTY_N4,a(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let p=[6];for(let b=this.size-7;p.length<d;b-=f)p.splice(1,0,b);return p}}static getNumRawDataModules(d){if(d<xr.MIN_VERSION||d>xr.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*d+128)*d+64;if(d>=2){const p=Math.floor(d/7)+2;f-=(25*p-10)*p-55,d>=7&&(f-=36)}return a(208<=f&&f<=29648),f}static getNumDataCodewords(d,f){return Math.floor(xr.getNumRawDataModules(d)/8)-xr.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d]*xr.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let f=[];for(let b=0;b<d-1;b++)f.push(0);f.push(1);let p=1;for(let b=0;b<d;b++){for(let y=0;y<f.length;y++)f[y]=xr.reedSolomonMultiply(f[y],p),y+1<f.length&&(f[y]^=f[y+1]);p=xr.reedSolomonMultiply(p,2)}return f}static reedSolomonComputeRemainder(d,f){let p=f.map(b=>0);for(const b of d){const y=b^p.shift();p.push(0),f.forEach((v,_)=>p[_]^=xr.reedSolomonMultiply(v,y))}return p}static reedSolomonMultiply(d,f){if(d>>>8||f>>>8)throw new RangeError("Byte out of range");let p=0;for(let b=7;b>=0;b--)p=p<<1^(p>>>7)*285,p^=(f>>>b&1)*d;return a(p>>>8==0),p}finderPenaltyCountPatterns(d){const f=d[1];a(f<=this.size*3);const p=f>0&&d[2]==f&&d[3]==f*3&&d[4]==f&&d[5]==f;return(p&&d[0]>=f*4&&d[6]>=f?1:0)+(p&&d[6]>=f*4&&d[0]>=f?1:0)}finderPenaltyTerminateAndCount(d,f,p){return d&&(this.finderPenaltyAddHistory(f,p),f=0),f+=this.size,this.finderPenaltyAddHistory(f,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(d,f){f[0]==0&&(d+=this.size),f.pop(),f.unshift(d)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(u,d,f){if(d<0||d>31||u>>>d)throw new RangeError("Value out of range");for(let p=d-1;p>=0;p--)f.push(u>>>p&1)}function n(u,d){return(u>>>d&1)!=0}function a(u){if(!u)throw new Error("Assertion error")}const o=class An{constructor(d,f,p){if(this.mode=d,this.numChars=f,this.bitData=p,f<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(d){let f=[];for(const p of d)r(p,8,f);return new An(An.Mode.BYTE,d.length,f)}static makeNumeric(d){if(!An.isNumeric(d))throw new RangeError("String contains non-numeric characters");let f=[];for(let p=0;p<d.length;){const b=Math.min(d.length-p,3);r(parseInt(d.substring(p,p+b),10),b*3+1,f),p+=b}return new An(An.Mode.NUMERIC,d.length,f)}static makeAlphanumeric(d){if(!An.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],p;for(p=0;p+2<=d.length;p+=2){let b=An.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p))*45;b+=An.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p+1)),r(b,11,f)}return p<d.length&&r(An.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p)),6,f),new An(An.Mode.ALPHANUMERIC,d.length,f)}static makeSegments(d){return d==""?[]:An.isNumeric(d)?[An.makeNumeric(d)]:An.isAlphanumeric(d)?[An.makeAlphanumeric(d)]:[An.makeBytes(An.toUtf8ByteArray(d))]}static makeEci(d){let f=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)r(d,8,f);else if(d<16384)r(2,2,f),r(d,14,f);else if(d<1e6)r(6,3,f),r(d,21,f);else throw new RangeError("ECI assignment value out of range");return new An(An.Mode.ECI,0,f)}static isNumeric(d){return An.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return An.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,f){let p=0;for(const b of d){const y=b.mode.numCharCountBits(f);if(b.numChars>=1<<y)return 1/0;p+=4+y+b.bitData.length}return p}static toUtf8ByteArray(d){d=encodeURI(d);let f=[];for(let p=0;p<d.length;p++)d.charAt(p)!="%"?f.push(d.charCodeAt(p)):(f.push(parseInt(d.substring(p+1,p+3),16)),p+=2);return f}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=o;e.QrSegment=o})(vu||(vu={}));(e=>{(t=>{const r=class{constructor(a,o){this.ordinal=a,this.formatBits=o}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(vu||(vu={}));(e=>{(t=>{const r=class{constructor(a,o){this.modeBits=a,this.numBitsCharCount=o}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(vu||(vu={}));var pd=vu;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var X6={L:pd.QrCode.Ecc.LOW,M:pd.QrCode.Ecc.MEDIUM,Q:pd.QrCode.Ecc.QUARTILE,H:pd.QrCode.Ecc.HIGH},fw=128,pw="L",mw="#FFFFFF",xw="#000000",gw=!1,vw=1,Q6=4,Z6=0,eE=.1;function bw(e,t=0){const r=[];return e.forEach(function(n,a){let o=null;n.forEach(function(c,u){if(!c&&o!==null){r.push(`M${o+t} ${a+t}h${u-o}v1H${o+t}z`),o=null;return}if(u===n.length-1){if(!c)return;o===null?r.push(`M${u+t},${a+t} h1v1H${u+t}z`):r.push(`M${o+t},${a+t} h${u+1-o}v1H${o+t}z`);return}c&&o===null&&(o=u)})}),r.join("")}function yw(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((a,o)=>o<t.x||o>=t.x+t.w?a:!1))}function tE(e,t,r,n){if(n==null)return null;const a=e.length+r*2,o=Math.floor(t*eE),c=a/t,u=(n.width||o)*c,d=(n.height||o)*c,f=n.x==null?e.length/2-u/2:n.x*c,p=n.y==null?e.length/2-d/2:n.y*c,b=n.opacity==null?1:n.opacity;let y=null;if(n.excavate){let _=Math.floor(f),k=Math.floor(p),E=Math.ceil(u+f-_),A=Math.ceil(d+p-k);y={x:_,y:k,w:E,h:A}}const v=n.crossOrigin;return{x:f,y:p,h:d,w:u,excavation:y,opacity:b,crossOrigin:v}}function rE(e,t){return t!=null?Math.max(Math.floor(t),0):e?Q6:Z6}function ww({value:e,level:t,minVersion:r,includeMargin:n,marginSize:a,imageSettings:o,size:c,boostLevel:u}){let d=jt.useMemo(()=>{const _=(Array.isArray(e)?e:[e]).reduce((k,E)=>(k.push(...pd.QrSegment.makeSegments(E)),k),[]);return pd.QrCode.encodeSegments(_,X6[t],r,void 0,void 0,u)},[e,t,r,u]);const{cells:f,margin:p,numCells:b,calculatedImageSettings:y}=jt.useMemo(()=>{let v=d.getModules();const _=rE(n,a),k=v.length+_*2,E=tE(v,c,_,o);return{cells:v,margin:_,numCells:k,calculatedImageSettings:E}},[d,c,o,n,a]);return{qrcode:d,margin:p,cells:f,numCells:b,calculatedImageSettings:y}}var nE=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),sE=jt.forwardRef(function(t,r){const n=t,{value:a,size:o=fw,level:c=pw,bgColor:u=mw,fgColor:d=xw,includeMargin:f=gw,minVersion:p=vw,boostLevel:b,marginSize:y,imageSettings:v}=n,k=Hx(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:E}=k,A=Hx(k,["style"]),L=v==null?void 0:v.src,P=jt.useRef(null),R=jt.useRef(null),Q=jt.useCallback(H=>{P.current=H,typeof r=="function"?r(H):r&&(r.current=H)},[r]),[te,oe]=jt.useState(!1),{margin:se,cells:W,numCells:ne,calculatedImageSettings:T}=ww({value:a,level:c,minVersion:p,boostLevel:b,includeMargin:f,marginSize:y,imageSettings:v,size:o});jt.useEffect(()=>{if(P.current!=null){const H=P.current,be=H.getContext("2d");if(!be)return;let we=W;const ge=R.current,ie=T!=null&&ge!==null&&ge.complete&&ge.naturalHeight!==0&&ge.naturalWidth!==0;ie&&T.excavation!=null&&(we=yw(W,T.excavation));const pe=window.devicePixelRatio||1;H.height=H.width=o*pe;const V=o/ne*pe;be.scale(V,V),be.fillStyle=u,be.fillRect(0,0,ne,ne),be.fillStyle=d,nE?be.fill(new Path2D(bw(we,se))):W.forEach(function(ce,I){ce.forEach(function(J,ee){J&&be.fillRect(ee+se,I+se,1,1)})}),T&&(be.globalAlpha=T.opacity),ie&&be.drawImage(ge,T.x+se,T.y+se,T.w,T.h)}}),jt.useEffect(()=>{oe(!1)},[L]);const U=Wx({height:o,width:o},E);let Y=null;return L!=null&&(Y=jt.createElement("img",{src:L,key:L,style:{display:"none"},onLoad:()=>{oe(!0)},ref:R,crossOrigin:T==null?void 0:T.crossOrigin})),jt.createElement(jt.Fragment,null,jt.createElement("canvas",Wx({style:U,height:o,width:o,ref:Q,role:"img"},A)),Y)});sE.displayName="QRCodeCanvas";var Nw=jt.forwardRef(function(t,r){const n=t,{value:a,size:o=fw,level:c=pw,bgColor:u=mw,fgColor:d=xw,includeMargin:f=gw,minVersion:p=vw,boostLevel:b,title:y,marginSize:v,imageSettings:_}=n,k=Hx(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:E,cells:A,numCells:L,calculatedImageSettings:P}=ww({value:a,level:c,minVersion:p,boostLevel:b,includeMargin:f,marginSize:v,imageSettings:_,size:o});let R=A,Q=null;_!=null&&P!=null&&(P.excavation!=null&&(R=yw(A,P.excavation)),Q=jt.createElement("image",{href:_.src,height:P.h,width:P.w,x:P.x+E,y:P.y+E,preserveAspectRatio:"none",opacity:P.opacity,crossOrigin:P.crossOrigin}));const te=bw(R,E);return jt.createElement("svg",Wx({height:o,width:o,viewBox:`0 0 ${L} ${L}`,ref:r,role:"img"},k),!!y&&jt.createElement("title",null,y),jt.createElement("path",{fill:u,d:`M0,0 h${L}v${L}H0z`,shapeRendering:"crispEdges"}),jt.createElement("path",{fill:d,d:te,shapeRendering:"crispEdges"}),Q)});Nw.displayName="QRCodeSVG";function iE(){const[e,t]=z.useState(0),[r,n]=z.useState([]),[a,o]=z.useState(0),c=z.useRef(null),[u,d]=z.useState(null),f={protocole:1,repartition:2,"locataire-proprietaire":3,synthese:4,realisations:5,calendrier:6,garanties:7,securisation:8,budget:9,impact:10},p=_=>{const{moduleOpen:k,moduleClosed:E}=_;if(!k)return;const A=f[k];if(A&&(r.includes(k)||(y(A,b(A)),n([...r,k])),k==="garanties"&&!c.current&&(c.current=Date.now()),E==="garanties"&&c.current)){const L=Math.floor((Date.now()-c.current)/1e3);o(L),c.current=null}},b=_=>({1:"Protocole pos ?",2:"Perte ancre ?",3:"Pivot mental valid ?",4:"Logique comprise ?",5:"Preuve sociale active ?",6:"Projection faite ?",7:"Scurit ancre ?",8:"Verrou administratif pos ?",9:"Logique de paiement valide ?",10:"Impact final ancr ?"})[_]||"tape valide ?",y=(_,k)=>{_>e&&(d({step:_,message:k}),setTimeout(()=>d(null),3e3))},v=_=>{t(_),d(null)};return z.useEffect(()=>{if(c.current){const _=setInterval(()=>{const k=Math.floor((Date.now()-c.current)/1e3);o(k)},1e3);return()=>clearInterval(_)}},[c.current]),{currentStep:e,stepNotification:u,confirmStep:v,detectStep:p,securityTime:a,visitedModules:r}}function aE({step:e,message:t,onConfirm:r,onDismiss:n}){const[a,o]=z.useState(!0),[c,u]=z.useState(100);return z.useEffect(()=>{const d=setInterval(()=>{u(p=>Math.max(0,p-3.3333333333333335))},100),f=setTimeout(()=>{o(!1),n==null||n()},3e3);return()=>{clearInterval(d),clearTimeout(f)}},[n]),a?s.jsxs("div",{className:`fixed bottom-24 right-4 z-50 
                    w-80 bg-zinc-800 border border-blue-500/30 
                    rounded-xl p-4 shadow-2xl
                    animate-in slide-in-from-bottom-4 fade-in duration-300`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(ph,{className:"w-5 h-5 text-blue-400"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:["tape ",e," dtecte"]}),s.jsx("p",{className:"text-sm text-white font-semibold",children:t})]})]}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("button",{onClick:()=>{r(e),o(!1)},className:`flex-1 bg-blue-600 hover:bg-blue-500 
                     text-white py-2 rounded-lg text-xs font-bold
                     uppercase tracking-wider transition-colors`,children:"OUI"}),s.jsx("button",{onClick:()=>{n==null||n(),o(!1)},className:`flex-1 bg-zinc-700 hover:bg-zinc-600 
                     text-white py-2 rounded-lg text-xs font-bold
                     uppercase tracking-wider transition-colors`,children:"NON"}),s.jsx("button",{onClick:()=>o(!1),className:`px-3 bg-zinc-700 hover:bg-zinc-600 
                     text-slate-400 py-2 rounded-lg text-xs
                     transition-colors`,children:""})]}),s.jsx("div",{className:"h-1 bg-black rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 transition-all duration-100",style:{width:`${c}%`}})})]}):null}const oE=e=>{const t=[],r=[],n=e==null?void 0:e.details,a=e==null?void 0:e.detailsCash;if(Array.isArray(n)&&n.length>0){const o=n[n.length-1].cumulativeSavings;Math.abs(o-((e==null?void 0:e.totalSavingsProjected)||0))>1&&t.push({severity:"ERROR",category:"TOTAUX",message:"Incohrence : totalSavingsProjected ne correspond pas au cumul final.",expected:o,actual:(e==null?void 0:e.totalSavingsProjected)||0})}if(Array.isArray(a)&&a.length>0){const o=a[a.length-1].cumulativeSavings;Math.abs(o-((e==null?void 0:e.totalSavingsProjectedCash)||0))>1&&t.push({severity:"ERROR",category:"TOTAUX CASH",message:"Incohrence : totalSavingsProjectedCash ne correspond pas au cumul final cash.",expected:o,actual:(e==null?void 0:e.totalSavingsProjectedCash)||0})}return{errors:t,warnings:r,info:[],isValid:t.length===0,score:t.length===0?100:0}},lE=e=>{const t=[],r=[],n=(a,o,c)=>{let u=-1/0;a.forEach((d,f)=>{d[o]<u&&t.push({severity:"ERROR",category:"MONOTONIE",message:`Dcroissance illogique sur ${c}.${o}  l'index ${f}.`,expected:`>= ${u}`,actual:d[o]}),u=d[o]})};return Array.isArray(e==null?void 0:e.details)&&n(e.details,"cumulativeSavings","details"),Array.isArray(e==null?void 0:e.detailsCash)&&n(e.detailsCash,"cumulativeSavings","detailsCash"),{errors:t,warnings:r,info:[],isValid:t.length===0,score:t.length===0?100:0}},cE=e=>{const t=[],r=[];return["slicedDetails","slicedDetailsCash"].forEach(a=>{const o=e==null?void 0:e[a];!Array.isArray(o)||o.length===0?t.push({severity:"ERROR",category:"GRAPHIQUES",message:`La srie graphique ${a} est vide ou manquante.`,actual:a}):o.some(c=>!Number.isFinite(c.cumulativeSavings))&&t.push({severity:"ERROR",category:"GRAPHIQUES",message:`La srie ${a} contient des valeurs non-finies (NaN/Inf).`,actual:a})}),{errors:t,warnings:r,info:[],isValid:t.length===0,score:t.length===0?100:0}},uE=e=>{const t=[],r=[],n=e==null?void 0:e.roiPercentage;return typeof n!="number"||isNaN(n)?t.push({severity:"ERROR",category:"ROI",message:"ROI invalide ou manquant.",actual:n}):n>0&&(e==null?void 0:e.totalSavingsProjected)<=0&&t.push({severity:"ERROR",category:"ROI",message:"ROI positif incohrent avec des conomies ngatives.",expected:"ROI ngatif ou nul",actual:`ROI: ${n}%, conomies: ${e==null?void 0:e.totalSavingsProjected}`}),{errors:t,warnings:r,info:[],isValid:t.length===0,score:t.length===0?100:0}},n2=[oE,lE,cE,uE],dE=e=>{const r=n2.map(n=>n(e)).reduce((n,a)=>({isValid:n.isValid&&a.isValid,score:n.score+a.score,errors:[...n.errors,...a.errors],warnings:[...n.warnings,...a.warnings],info:[...n.info,...a.info]}),{isValid:!0,score:0,errors:[],warnings:[],info:[]});return{...r,score:Math.round(r.score/n2.length)}};function jw(e){var ne;const t=[],r=[],n=[],a=e;Number(a.interestRate??3.89),Number(a.creditDurationMonths??180),Number(((ne=a.year1)==null?void 0:ne.loanMonthly)??a.creditMonthlyPayment??0),Number(a.remainingToFinance??0),Number(a.installCost??0);const o=Number(a.yearlyProduction??0),c=Number(a.selfConsumptionRate??0),u=Number(a.breakEvenPoint??0),d=Number(a.breakEvenPointCash??0),f=Number(a.roiPercentage??0),p=Number(a.roiPercentageCash??f),b=Number(a.inflationRate??5),y=Number(a.savingsRatePercent??a.selfConsumptionRate??0),v=Number(a.totalSavingsProjected??a.heritageNet??0),_=Number(a.totalSavingsProjectedCash??0),k=o*(c/100),E=o-k,A=k+E;Math.abs(A-o)>1?t.push({severity:"ERROR",category:"RPARTITION NERGIE",message:"La somme autoconso + surplus  production totale",expected:o+" kWh",actual:A.toFixed(0)+" kWh"}):n.push({severity:"INFO",category:"RPARTITION NERGIE",message:" Rpartition = 100%"}),u<1||u>25?r.push({severity:"WARNING",category:"POINT MORT",message:`Point mort crdit hors norme: ${u} ans`,expected:"Entre 1 et 25 ans",actual:u+" ans"}):n.push({severity:"INFO",category:"POINT MORT",message:` Point mort crdit: ${u} ans`}),d<1||d>25?r.push({severity:"WARNING",category:"POINT MORT CASH",message:`Point mort cash hors norme: ${d} ans`,expected:"Entre 1 et 25 ans",actual:d+" ans"}):n.push({severity:"INFO",category:"POINT MORT CASH",message:` Point mort cash: ${d} ans`}),f<0||f>30?r.push({severity:"WARNING",category:"ROI",message:`ROI crdit hors norme: ${f}%`,expected:"Entre 0% et 30%",actual:f+"%"}):n.push({severity:"INFO",category:"ROI",message:` ROI crdit: ${f}%`}),p<f?r.push({severity:"WARNING",category:"ROI CASH",message:"ROI cash infrieur au ROI crdit (anormal)",expected:`>= ${f}%`,actual:p+"%"}):n.push({severity:"INFO",category:"ROI CASH",message:` ROI cash: ${p}%`});let L=!0;const P=Array.isArray(a.details)?a.details:[];if(P.length>0)for(let T=1;T<Math.min(P.length,20);T++){const U=P[T-1],Y=P[T];if(Number(Y.cumulativeSpendNoSolar)<=Number(U.cumulativeSpendNoSolar)){L=!1,t.push({severity:"ERROR",category:"COHRENCE TEMPORELLE",message:`Dpenses Sans Solaire dcroissantes (anne ${T+1})`,expected:`> ${Number(U.cumulativeSpendNoSolar).toFixed(0)}`,actual:Number(Y.cumulativeSpendNoSolar).toFixed(0)+""});break}}L&&P.length>0&&n.push({severity:"INFO",category:"COHRENCE TEMPORELLE",message:" Dpenses Sans Solaire croissantes"});let R=!0;if(P.length>0)for(let T=1;T<Math.min(P.length,10);T++){const U=P[T-1],Y=P[T];if(b>0&&Number(Y.edfBillWithoutSolar)<=Number(U.edfBillWithoutSolar)){R=!1,t.push({severity:"ERROR",category:"INFLATION",message:`Facture sans solaire n'augmente pas (anne ${T+1}, inflation=${b}%)`,expected:`> ${Number(U.edfBillWithoutSolar).toFixed(0)}`,actual:Number(Y.edfBillWithoutSolar).toFixed(0)+""});break}}R&&P.length>0&&n.push({severity:"INFO",category:"INFLATION",message:` Inflation ${b}% applique correctement`});let Q=!1;if(P.length>0)for(let T=1;T<P.length;T++){const U=P[T-1],Y=P[T],H=Number(U.cumulativeSpendNoSolar)-Number(U.cumulativeSpendSolar),be=Number(Y.cumulativeSpendNoSolar)-Number(Y.cumulativeSpendSolar);if(H<0&&be>=0){Q=!0,n.push({severity:"INFO",category:"GRAPHIQUE GOUFFRE",message:` Croisement dtect anne ${T+1}`});break}}!Q&&P.length>0&&(Number(P[P.length-1].cumulativeSavings)>0?n.push({severity:"INFO",category:"GRAPHIQUE GOUFFRE",message:" Rentable  terme (pas de croisement visible mais cumul positif)"}):r.push({severity:"WARNING",category:"GRAPHIQUE GOUFFRE",message:"Aucun croisement dtect sur la priode"})),v<0?t.push({severity:"ERROR",category:"GAINS TOTAUX",message:"Gain total ngatif (projet non rentable)",expected:"> 0",actual:v.toFixed(0)+""}):n.push({severity:"INFO",category:"GAINS TOTAUX",message:` Gain total: ${v.toFixed(0)}`}),_<0?t.push({severity:"ERROR",category:"GAINS TOTAUX CASH",message:"Gain total cash ngatif",expected:"> 0",actual:_.toFixed(0)+""}):n.push({severity:"INFO",category:"GAINS TOTAUX CASH",message:` Gain total cash: ${_.toFixed(0)}`}),y<0||y>100?r.push({severity:"WARNING",category:"AUTONOMIE",message:`Autonomie hors norme: ${y}%`,expected:"Entre 0% et 100%",actual:y+"%"}):n.push({severity:"INFO",category:"AUTONOMIE",message:` Autonomie: ${y}%`});const te=t.length+r.length+n.length,oe=n.length,se=te>0?Math.round(oe/te*100):0,W=t.length===0;return{errors:t,warnings:r,info:n,isValid:W,score:se}}function hE(e,t){const r=[10,15,20,25],n=[];return console.group(" STRESS TEST MULTI-PRIODES"),r.forEach(a=>{const o=t(e,a),c=jw(o);n.push({Horizon:`${a} ans`,Score:`${c.score}%`,Status:c.isValid?" OK":" ERREUR","Gain Total":`${Math.round(o.totalSavingsProjected||0)}`,"ROI (%)":`${o.roiPercentage}%`,Erreurs:c.errors.length,Warnings:c.warnings.length})}),console.table(n),console.groupEnd(),n}const nn=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),xa=e=>new Intl.NumberFormat("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)+" %";function R0({title:e,children:t}){const[r,n]=z.useState(!1);return s.jsxs("span",{className:"relative inline-block ml-2",children:[s.jsx("button",{type:"button",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onClick:()=>n(!r),className:"p-1 rounded-full border border-white/10 bg-black/40 hover:bg-black/70 transition",children:s.jsx(Wa,{size:12,className:"text-slate-400"})}),r&&s.jsxs("div",{className:"absolute z-[999] top-full mt-2 right-0 w-72 bg-black/95 border border-white/10 rounded-xl p-3 shadow-2xl backdrop-blur-xl",children:[s.jsx("div",{className:"text-[10px] uppercase tracking-wider text-slate-400 mb-1",children:e}),s.jsx("div",{className:"text-[16px] text-slate-200 leading-relaxed space-y-2",children:t})]})]})}function O0({label:e,title:t,subtitle:r}){return s.jsx("div",{className:"my-14 flex items-center justify-center",children:s.jsxs("div",{className:"w-full max-w-3xl text-center px-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"flex-1 h-px bg-white/10"}),e&&s.jsx("span",{className:"text-[10px] uppercase tracking-[0.3em] text-slate-500 font-bold",children:e}),s.jsx("div",{className:"flex-1 h-px bg-white/10"})]}),s.jsx("p",{className:"text-lg md:text-xl font-black text-white italic leading-snug",children:t}),r&&s.jsx("p",{className:"mt-2 text-[12px] text-slate-400 italic leading-relaxed",children:r})]})})}const fE=({status:e})=>{const r={draft:{label:" DRAFT",className:"bg-yellow-500/15 text-yellow-400 border-yellow-500/30"},sent:{label:" ENVOY",className:"bg-blue-500/15 text-blue-400 border-blue-500/30"},signed:{label:" SIGN",className:"bg-emerald-500/15 text-emerald-400 border-emerald-500/30"},cancelled:{label:" ANNUL",className:"bg-red-500/15 text-red-400 border-red-500/30"}}[e??""]||{label:" INCONNU",className:"bg-slate-500/10 text-slate-300 border-slate-500/20"};return s.jsx("div",{className:`inline-flex items-center px-4 py-1.5 rounded-full text-[11px] font-black tracking-widest border ${r.className}`,children:r.label})};var I0={exports:{}},M0,s2;function pE(){if(s2)return M0;s2=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return M0=e,M0}var F0,i2;function mE(){if(i2)return F0;i2=1;var e=pE();function t(){}function r(){}return r.resetWarningCache=t,F0=function(){function n(c,u,d,f,p,b){if(b!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function a(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},F0}var a2;function xE(){return a2||(a2=1,I0.exports=mE()()),I0.exports}var gE=xE();const Ct=kc(gE);var D0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var o2;function vE(){return o2||(o2=1,(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var o="",c=0;c<arguments.length;c++){var u=arguments[c];u&&(o=a(o,n(u)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var c="";for(var u in o)t.call(o,u)&&o[u]&&(c=a(c,u));return c}function a(o,c){return c?o?o+" "+c:o+c:o}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(D0)),D0.exports}var bE=vE();const Ka=kc(bE);var yE=["top","left","transform","className","children","innerRef"];function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gx.apply(this,arguments)}function wE(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Np(e){var t=e.top,r=t===void 0?0:t,n=e.left,a=n===void 0?0:n,o=e.transform,c=e.className,u=e.children,d=e.innerRef,f=wE(e,yE);return jt.createElement("g",Gx({ref:d,className:Ka("visx-group",c),transform:o||"translate("+a+", "+r+")"},f),u)}Np.propTypes={top:Ct.number,left:Ct.number,transform:Ct.string,className:Ct.string,children:Ct.node,innerRef:Ct.oneOfType([Ct.string,Ct.func,Ct.object])};var Yx=Math.PI,Kx=2*Yx,au=1e-6,NE=Kx-au;function Jx(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function zg(){return new Jx}Jx.prototype=zg.prototype={constructor:Jx,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,a,o){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function(e,t,r,n,a){e=+e,t=+t,r=+r,n=+n,a=+a;var o=this._x1,c=this._y1,u=r-e,d=n-t,f=o-e,p=c-t,b=f*f+p*p;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(b>au)if(!(Math.abs(p*u-d*f)>au)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var y=r-o,v=n-c,_=u*u+d*d,k=y*y+v*v,E=Math.sqrt(_),A=Math.sqrt(b),L=a*Math.tan((Yx-Math.acos((_+b-k)/(2*E*A)))/2),P=L/A,R=L/E;Math.abs(P-1)>au&&(this._+="L"+(e+P*f)+","+(t+P*p)),this._+="A"+a+","+a+",0,0,"+ +(p*y>f*v)+","+(this._x1=e+R*u)+","+(this._y1=t+R*d)}},arc:function(e,t,r,n,a,o){e=+e,t=+t,r=+r,o=!!o;var c=r*Math.cos(n),u=r*Math.sin(n),d=e+c,f=t+u,p=1^o,b=o?n-a:a-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+d+","+f:(Math.abs(this._x1-d)>au||Math.abs(this._y1-f)>au)&&(this._+="L"+d+","+f),r&&(b<0&&(b=b%Kx+Kx),b>NE?this._+="A"+r+","+r+",0,1,"+p+","+(e-c)+","+(t-u)+"A"+r+","+r+",0,1,"+p+","+(this._x1=d)+","+(this._y1=f):b>au&&(this._+="A"+r+","+r+",0,"+ +(b>=Yx)+","+p+","+(this._x1=e+r*Math.cos(a))+","+(this._y1=t+r*Math.sin(a))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};function pa(e){return function(){return e}}function _w(e){this._context=e}_w.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Sw(e){return new _w(e)}function kw(e){return e[0]}function Ew(e){return e[1]}function Cw(){var e=kw,t=Ew,r=pa(!0),n=null,a=Sw,o=null;function c(u){var d,f=u.length,p,b=!1,y;for(n==null&&(o=a(y=zg())),d=0;d<=f;++d)!(d<f&&r(p=u[d],d,u))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+e(p,d,u),+t(p,d,u));if(y)return o=null,y+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:pa(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:pa(+u),c):t},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:pa(!!u),c):r},c.curve=function(u){return arguments.length?(a=u,n!=null&&(o=a(n)),c):a},c.context=function(u){return arguments.length?(u==null?n=o=null:o=a(n=u),c):n},c}function jE(){var e=kw,t=null,r=pa(0),n=Ew,a=pa(!0),o=null,c=Sw,u=null;function d(p){var b,y,v,_=p.length,k,E=!1,A,L=new Array(_),P=new Array(_);for(o==null&&(u=c(A=zg())),b=0;b<=_;++b){if(!(b<_&&a(k=p[b],b,p))===E)if(E=!E)y=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),v=b-1;v>=y;--v)u.point(L[v],P[v]);u.lineEnd(),u.areaEnd()}E&&(L[b]=+e(k,b,p),P[b]=+r(k,b,p),u.point(t?+t(k,b,p):L[b],n?+n(k,b,p):P[b]))}if(A)return u=null,A+""||null}function f(){return Cw().defined(a).curve(c).context(o)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:pa(+p),t=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:pa(+p),d):e},d.x1=function(p){return arguments.length?(t=p==null?null:typeof p=="function"?p:pa(+p),d):t},d.y=function(p){return arguments.length?(r=typeof p=="function"?p:pa(+p),n=null,d):r},d.y0=function(p){return arguments.length?(r=typeof p=="function"?p:pa(+p),d):r},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:pa(+p),d):n},d.lineX0=d.lineY0=function(){return f().x(e).y(r)},d.lineY1=function(){return f().x(e).y(n)},d.lineX1=function(){return f().x(t).y(r)},d.defined=function(p){return arguments.length?(a=typeof p=="function"?p:pa(!!p),d):a},d.curve=function(p){return arguments.length?(c=p,o!=null&&(u=c(o)),d):c},d.context=function(p){return arguments.length?(p==null?o=u=null:u=c(o=p),d):o},d}function l2(e){return e<0?-1:1}function c2(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),c=(r-e._y1)/(a||n<0&&-0),u=(o*a+c*n)/(n+a);return(l2(o)+l2(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(u))||0}function u2(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function q0(e,t,r){var n=e._x0,a=e._y0,o=e._x1,c=e._y1,u=(o-n)/3;e._context.bezierCurveTo(n+u,a+u*t,o-u,c-u*r,o,c)}function Kf(e){this._context=e}Kf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:q0(this,this._t0,u2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,q0(this,u2(this,r=c2(this,e,t)),r);break;default:q0(this,this._t0,r=c2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};Object.create(Kf.prototype).point=function(e,t){Kf.prototype.point.call(this,t,e)};function mf(e){return new Kf(e)}function Ao(e,t){e(t)}function _E(e){var t=e===void 0?{}:e,r=t.x,n=t.x0,a=t.x1,o=t.y,c=t.y0,u=t.y1,d=t.defined,f=t.curve,p=jE();return r&&Ao(p.x,r),n&&Ao(p.x0,n),a&&Ao(p.x1,a),o&&Ao(p.y,o),c&&Ao(p.y0,c),u&&Ao(p.y1,u),d&&p.defined(d),f&&p.curve(f),p}function SE(e){var t=e===void 0?{}:e,r=t.x,n=t.y,a=t.defined,o=t.curve,c=Cw();return r&&Ao(c.x,r),n&&Ao(c.y,n),a&&c.defined(a),o&&c.curve(o),c}var kE=["from","to","fill","className","innerRef"];function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xx.apply(this,arguments)}function EE(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Aw(e){var t=e.from,r=t===void 0?{x:0,y:0}:t,n=e.to,a=n===void 0?{x:1,y:1}:n,o=e.fill,c=o===void 0?"transparent":o,u=e.className,d=e.innerRef,f=EE(e,kE),p=r.x===a.x||r.y===a.y;return jt.createElement("line",Xx({ref:d,className:Ka("visx-line",u),x1:r.x,y1:r.y,x2:a.x,y2:a.y,fill:c,shapeRendering:p?"crispEdges":"auto"},f))}var CE=["children","data","x","y","fill","className","curve","innerRef","defined"];function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qx.apply(this,arguments)}function AE(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function d2(e){var t=e.children,r=e.data,n=r===void 0?[]:r,a=e.x,o=e.y,c=e.fill,u=c===void 0?"transparent":c,d=e.className,f=e.curve,p=e.innerRef,b=e.defined,y=b===void 0?function(){return!0}:b,v=AE(e,CE),_=SE({x:a,y:o,defined:y,curve:f});return t?jt.createElement(jt.Fragment,null,t({path:_})):jt.createElement("path",Qx({ref:p,className:Ka("visx-linepath",d),d:_(n)||"",fill:u,strokeLinecap:"round"},v))}var PE=["x","x0","x1","y","y1","y0","yScale","data","defined","className","curve","innerRef","children"];function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(this,arguments)}function LE(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function h2(e){var t=e.x,r=e.x0,n=e.x1,a=e.y,o=e.y1,c=e.y0,u=e.yScale,d=e.data,f=d===void 0?[]:d,p=e.defined,b=p===void 0?function(){return!0}:p,y=e.className,v=e.curve,_=e.innerRef,k=e.children,E=LE(e,PE),A=_E({x:t,x0:r,x1:n,defined:b,curve:v});return c==null?A.y0(u.range()[0]):Ao(A.y0,c),a&&!o&&Ao(A.y1,a),o&&!a&&Ao(A.y1,o),k?jt.createElement(jt.Fragment,null,k({path:A})):jt.createElement("path",Zx({ref:_,className:Ka("visx-area-closed",y),d:A(f)||""},E))}var TE=["className","innerRef"];function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eg.apply(this,arguments)}function RE(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function OE(e){var t=e.className,r=e.innerRef,n=RE(e,TE);return jt.createElement("rect",eg({ref:r,className:Ka("visx-bar",t)},n))}function If(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function IE(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jp(e){let t,r,n;e.length!==2?(t=If,r=(u,d)=>If(e(u),d),n=(u,d)=>e(u)-d):(t=e===If||e===IE?e:ME,r=e,n=e);function a(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const b=f+p>>>1;r(u[b],d)<0?f=b+1:p=b}while(f<p)}return f}function o(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const b=f+p>>>1;r(u[b],d)<=0?f=b+1:p=b}while(f<p)}return f}function c(u,d,f=0,p=u.length){const b=a(u,d,f,p-1);return b>f&&n(u[b-1],d)>-n(u[b],d)?b-1:b}return{left:a,center:c,right:o}}function ME(){return 0}function FE(e){return e===null?NaN:+e}const DE=jp(If),qE=DE.right;jp(FE).center;function UE(e,t){let r,n;if(t===void 0)for(const a of e)a!=null&&(r===void 0?a>=a&&(r=n=a):(r>a&&(r=a),n<a&&(n=a)));else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&(r===void 0?o>=o&&(r=n=o):(r>o&&(r=o),n<o&&(n=o)))}return[r,n]}const zE=Math.sqrt(50),BE=Math.sqrt(10),$E=Math.sqrt(2);function Jf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),c=o>=zE?10:o>=BE?5:o>=$E?2:1;let u,d,f;return a<0?(f=Math.pow(10,-a)/c,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*c,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?Jf(e,t,r*2):[u,d,f]}function VE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,o,c]=n?Jf(t,e,r):Jf(e,t,r);if(!(o>=a))return[];const u=o-a+1,d=new Array(u);if(n)if(c<0)for(let f=0;f<u;++f)d[f]=(o-f)/-c;else for(let f=0;f<u;++f)d[f]=(o-f)*c;else if(c<0)for(let f=0;f<u;++f)d[f]=(a+f)/-c;else for(let f=0;f<u;++f)d[f]=(a+f)*c;return d}function tg(e,t,r){return t=+t,e=+e,r=+r,Jf(e,t,r)[2]}function rg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?tg(t,e,r):tg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function WE(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function Pw(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Rd(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Ph(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ec(){}var bu=.7,kd=1/bu,yd="\\s*([+-]?\\d+)\\s*",wh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HE=/^#([0-9a-f]{3,8})$/,GE=new RegExp(`^rgb\\(${yd},${yd},${yd}\\)$`),YE=new RegExp(`^rgb\\(${dl},${dl},${dl}\\)$`),KE=new RegExp(`^rgba\\(${yd},${yd},${yd},${wh}\\)$`),JE=new RegExp(`^rgba\\(${dl},${dl},${dl},${wh}\\)$`),XE=new RegExp(`^hsl\\(${wh},${dl},${dl}\\)$`),QE=new RegExp(`^hsla\\(${wh},${dl},${dl},${wh}\\)$`),f2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rd(Ec,Nh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:p2,formatHex:p2,formatHex8:ZE,formatHsl:e8,formatRgb:m2,toString:m2});function p2(){return this.rgb().formatHex()}function ZE(){return this.rgb().formatHex8()}function e8(){return Lw(this).formatHsl()}function m2(){return this.rgb().formatRgb()}function Nh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=HE.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?x2(t):r===3?new bs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GE.exec(e))?new bs(t[1],t[2],t[3],1):(t=YE.exec(e))?new bs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KE.exec(e))?xf(t[1],t[2],t[3],t[4]):(t=JE.exec(e))?xf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=XE.exec(e))?b2(t[1],t[2]/100,t[3]/100,1):(t=QE.exec(e))?b2(t[1],t[2]/100,t[3]/100,t[4]):f2.hasOwnProperty(e)?x2(f2[e]):e==="transparent"?new bs(NaN,NaN,NaN,0):null}function x2(e){return new bs(e>>16&255,e>>8&255,e&255,1)}function xf(e,t,r,n){return n<=0&&(e=t=r=NaN),new bs(e,t,r,n)}function Bg(e){return e instanceof Ec||(e=Nh(e)),e?(e=e.rgb(),new bs(e.r,e.g,e.b,e.opacity)):new bs}function ng(e,t,r,n){return arguments.length===1?Bg(e):new bs(e,t,r,n??1)}function bs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Rd(bs,ng,Ph(Ec,{brighter(e){return e=e==null?kd:Math.pow(kd,e),new bs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bu:Math.pow(bu,e),new bs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bs(mu(this.r),mu(this.g),mu(this.b),Xf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:g2,formatHex:g2,formatHex8:t8,formatRgb:v2,toString:v2}));function g2(){return`#${pu(this.r)}${pu(this.g)}${pu(this.b)}`}function t8(){return`#${pu(this.r)}${pu(this.g)}${pu(this.b)}${pu((isNaN(this.opacity)?1:this.opacity)*255)}`}function v2(){const e=Xf(this.opacity);return`${e===1?"rgb(":"rgba("}${mu(this.r)}, ${mu(this.g)}, ${mu(this.b)}${e===1?")":`, ${e})`}`}function Xf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function mu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pu(e){return e=mu(e),(e<16?"0":"")+e.toString(16)}function b2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Po(e,t,r,n)}function Lw(e){if(e instanceof Po)return new Po(e.h,e.s,e.l,e.opacity);if(e instanceof Ec||(e=Nh(e)),!e)return new Po;if(e instanceof Po)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),c=NaN,u=o-a,d=(o+a)/2;return u?(t===o?c=(r-n)/u+(r<n)*6:r===o?c=(n-t)/u+2:c=(t-r)/u+4,u/=d<.5?o+a:2-o-a,c*=60):u=d>0&&d<1?0:c,new Po(c,u,d,e.opacity)}function sg(e,t,r,n){return arguments.length===1?Lw(e):new Po(e,t,r,n??1)}function Po(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Rd(Po,sg,Ph(Ec,{brighter(e){return e=e==null?kd:Math.pow(kd,e),new Po(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bu:Math.pow(bu,e),new Po(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new bs(U0(e>=240?e-240:e+120,a,n),U0(e,a,n),U0(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Po(y2(this.h),gf(this.s),gf(this.l),Xf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xf(this.opacity);return`${e===1?"hsl(":"hsla("}${y2(this.h)}, ${gf(this.s)*100}%, ${gf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function y2(e){return e=(e||0)%360,e<0?e+360:e}function gf(e){return Math.max(0,Math.min(1,e||0))}function U0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Tw=Math.PI/180,Rw=180/Math.PI,Qf=18,Ow=.96422,Iw=1,Mw=.82521,Fw=4/29,wd=6/29,Dw=3*wd*wd,r8=wd*wd*wd;function qw(e){if(e instanceof hl)return new hl(e.l,e.a,e.b,e.opacity);if(e instanceof zl)return Uw(e);e instanceof bs||(e=Bg(e));var t=V0(e.r),r=V0(e.g),n=V0(e.b),a=z0((.2225045*t+.7168786*r+.0606169*n)/Iw),o,c;return t===r&&r===n?o=c=a:(o=z0((.4360747*t+.3850649*r+.1430804*n)/Ow),c=z0((.0139322*t+.0971045*r+.7141733*n)/Mw)),new hl(116*a-16,500*(o-a),200*(a-c),e.opacity)}function ig(e,t,r,n){return arguments.length===1?qw(e):new hl(e,t,r,n??1)}function hl(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}Rd(hl,ig,Ph(Ec,{brighter(e){return new hl(this.l+Qf*(e??1),this.a,this.b,this.opacity)},darker(e){return new hl(this.l-Qf*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=Ow*B0(t),e=Iw*B0(e),r=Mw*B0(r),new bs($0(3.1338561*t-1.6168667*e-.4906146*r),$0(-.9787684*t+1.9161415*e+.033454*r),$0(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function z0(e){return e>r8?Math.pow(e,1/3):e/Dw+Fw}function B0(e){return e>wd?e*e*e:Dw*(e-Fw)}function $0(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function V0(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function n8(e){if(e instanceof zl)return new zl(e.h,e.c,e.l,e.opacity);if(e instanceof hl||(e=qw(e)),e.a===0&&e.b===0)return new zl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Rw;return new zl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function ag(e,t,r,n){return arguments.length===1?n8(e):new zl(e,t,r,n??1)}function zl(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function Uw(e){if(isNaN(e.h))return new hl(e.l,0,0,e.opacity);var t=e.h*Tw;return new hl(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Rd(zl,ag,Ph(Ec,{brighter(e){return new zl(this.h,this.c,this.l+Qf*(e??1),this.opacity)},darker(e){return new zl(this.h,this.c,this.l-Qf*(e??1),this.opacity)},rgb(){return Uw(this).rgb()}}));var zw=-.14861,$g=1.78277,Vg=-.29227,_p=-.90649,jh=1.97294,w2=jh*_p,N2=jh*$g,j2=$g*Vg-_p*zw;function s8(e){if(e instanceof xu)return new xu(e.h,e.s,e.l,e.opacity);e instanceof bs||(e=Bg(e));var t=e.r/255,r=e.g/255,n=e.b/255,a=(j2*n+w2*t-N2*r)/(j2+w2-N2),o=n-a,c=(jh*(r-a)-Vg*o)/_p,u=Math.sqrt(c*c+o*o)/(jh*a*(1-a)),d=u?Math.atan2(c,o)*Rw-120:NaN;return new xu(d<0?d+360:d,u,a,e.opacity)}function og(e,t,r,n){return arguments.length===1?s8(e):new xu(e,t,r,n??1)}function xu(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Rd(xu,og,Ph(Ec,{brighter(e){return e=e==null?kd:Math.pow(kd,e),new xu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bu:Math.pow(bu,e),new xu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Tw,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),a=Math.sin(e);return new bs(255*(t+r*(zw*n+$g*a)),255*(t+r*(Vg*n+_p*a)),255*(t+r*(jh*n)),this.opacity)}}));const Sp=e=>()=>e;function Bw(e,t){return function(r){return e+r*t}}function i8(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Wg(e,t){var r=t-e;return r?Bw(e,r>180||r<-180?r-360*Math.round(r/360):r):Sp(isNaN(e)?t:e)}function a8(e){return(e=+e)==1?ys:function(t,r){return r-t?i8(t,r,e):Sp(isNaN(t)?r:t)}}function ys(e,t){var r=t-e;return r?Bw(e,r):Sp(isNaN(e)?t:e)}const lg=(function e(t){var r=a8(t);function n(a,o){var c=r((a=ng(a)).r,(o=ng(o)).r),u=r(a.g,o.g),d=r(a.b,o.b),f=ys(a.opacity,o.opacity);return function(p){return a.r=c(p),a.g=u(p),a.b=d(p),a.opacity=f(p),a+""}}return n.gamma=e,n})(1);function o8(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function l8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function c8(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),o=new Array(r),c;for(c=0;c<n;++c)a[c]=Hg(e[c],t[c]);for(;c<r;++c)o[c]=t[c];return function(u){for(c=0;c<n;++c)o[c]=a[c](u);return o}}function u8(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Zf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function d8(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Hg(e[a],t[a]):n[a]=t[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var cg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,W0=new RegExp(cg.source,"g");function h8(e){return function(){return e}}function f8(e){return function(t){return e(t)+""}}function p8(e,t){var r=cg.lastIndex=W0.lastIndex=0,n,a,o,c=-1,u=[],d=[];for(e=e+"",t=t+"";(n=cg.exec(e))&&(a=W0.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),u[c]?u[c]+=o:u[++c]=o),(n=n[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,d.push({i:c,x:Zf(n,a)})),r=W0.lastIndex;return r<t.length&&(o=t.slice(r),u[c]?u[c]+=o:u[++c]=o),u.length<2?d[0]?f8(d[0].x):h8(t):(t=d.length,function(f){for(var p=0,b;p<t;++p)u[(b=d[p]).i]=b.x(f);return u.join("")})}function Hg(e,t){var r=typeof t,n;return t==null||r==="boolean"?Sp(t):(r==="number"?Zf:r==="string"?(n=Nh(t))?(t=n,lg):p8:t instanceof Nh?lg:t instanceof Date?u8:l8(t)?o8:Array.isArray(t)?c8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?d8:Zf)(e,t)}function $w(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Vw(e){return function(t,r){var n=e((t=sg(t)).h,(r=sg(r)).h),a=ys(t.s,r.s),o=ys(t.l,r.l),c=ys(t.opacity,r.opacity);return function(u){return t.h=n(u),t.s=a(u),t.l=o(u),t.opacity=c(u),t+""}}}const m8=Vw(Wg);var x8=Vw(ys);function g8(e,t){var r=ys((e=ig(e)).l,(t=ig(t)).l),n=ys(e.a,t.a),a=ys(e.b,t.b),o=ys(e.opacity,t.opacity);return function(c){return e.l=r(c),e.a=n(c),e.b=a(c),e.opacity=o(c),e+""}}function Ww(e){return function(t,r){var n=e((t=ag(t)).h,(r=ag(r)).h),a=ys(t.c,r.c),o=ys(t.l,r.l),c=ys(t.opacity,r.opacity);return function(u){return t.h=n(u),t.c=a(u),t.l=o(u),t.opacity=c(u),t+""}}}const v8=Ww(Wg);var b8=Ww(ys);function Hw(e){return(function t(r){r=+r;function n(a,o){var c=e((a=og(a)).h,(o=og(o)).h),u=ys(a.s,o.s),d=ys(a.l,o.l),f=ys(a.opacity,o.opacity);return function(p){return a.h=c(p),a.s=u(p),a.l=d(Math.pow(p,r)),a.opacity=f(p),a+""}}return n.gamma=t,n})(1)}const y8=Hw(Wg);var w8=Hw(ys);function N8(e){return function(){return e}}function j8(e){return+e}var _2=[0,1];function md(e){return e}function ug(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:N8(isNaN(t)?NaN:.5)}function _8(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function S8(e,t,r){var n=e[0],a=e[1],o=t[0],c=t[1];return a<n?(n=ug(a,n),o=r(c,o)):(n=ug(n,a),o=r(o,c)),function(u){return o(n(u))}}function k8(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)a[c]=ug(e[c],e[c+1]),o[c]=r(t[c],t[c+1]);return function(u){var d=qE(e,u,1,n)-1;return o[d](a[d](u))}}function Gw(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function E8(){var e=_2,t=_2,r=Hg,n,a,o,c=md,u,d,f;function p(){var y=Math.min(e.length,t.length);return c!==md&&(c=_8(e[0],e[y-1])),u=y>2?k8:S8,d=f=null,b}function b(y){return y==null||isNaN(y=+y)?o:(d||(d=u(e.map(n),t,r)))(n(c(y)))}return b.invert=function(y){return c(a((f||(f=u(t,e.map(n),Zf)))(y)))},b.domain=function(y){return arguments.length?(e=Array.from(y,j8),p()):e.slice()},b.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},b.rangeRound=function(y){return t=Array.from(y),r=$w,p()},b.clamp=function(y){return arguments.length?(c=y?!0:md,p()):c!==md},b.interpolate=function(y){return arguments.length?(r=y,p()):r},b.unknown=function(y){return arguments.length?(o=y,b):o},function(y,v){return n=y,a=v,p()}}function Yw(){return E8()(md,md)}function C8(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ep(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ed(e){return e=ep(Math.abs(e)),e?e[1]:NaN}function A8(e,t){return function(r,n){for(var a=r.length,o=[],c=0,u=e[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),o.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=e[c=(c+1)%e.length];return o.reverse().join(t)}}function P8(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var L8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tp(e){if(!(t=L8.exec(e)))throw new Error("invalid format: "+e);var t;return new Gg({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tp.prototype=Gg.prototype;function Gg(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Gg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function T8(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Kw;function R8(e,t){var r=ep(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-(Kw=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return o===c?n:o>c?n+new Array(o-c+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+ep(e,Math.max(0,t+o-1))[0]}function S2(e,t){var r=ep(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const k2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:C8,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>S2(e*100,t),r:S2,s:R8,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function E2(e){return e}var C2=Array.prototype.map,A2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function O8(e){var t=e.grouping===void 0||e.thousands===void 0?E2:A8(C2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?E2:P8(C2.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(b){b=tp(b);var y=b.fill,v=b.align,_=b.sign,k=b.symbol,E=b.zero,A=b.width,L=b.comma,P=b.precision,R=b.trim,Q=b.type;Q==="n"?(L=!0,Q="g"):k2[Q]||(P===void 0&&(P=12),R=!0,Q="g"),(E||y==="0"&&v==="=")&&(E=!0,y="0",v="=");var te=k==="$"?r:k==="#"&&/[boxX]/.test(Q)?"0"+Q.toLowerCase():"",oe=k==="$"?n:/[%p]/.test(Q)?c:"",se=k2[Q],W=/[defgprs%]/.test(Q);P=P===void 0?6:/[gprs]/.test(Q)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function ne(T){var U=te,Y=oe,H,be,we;if(Q==="c")Y=se(T)+Y,T="";else{T=+T;var ge=T<0||1/T<0;if(T=isNaN(T)?d:se(Math.abs(T),P),R&&(T=T8(T)),ge&&+T==0&&_!=="+"&&(ge=!1),U=(ge?_==="("?_:u:_==="-"||_==="("?"":_)+U,Y=(Q==="s"?A2[8+Kw/3]:"")+Y+(ge&&_==="("?")":""),W){for(H=-1,be=T.length;++H<be;)if(we=T.charCodeAt(H),48>we||we>57){Y=(we===46?a+T.slice(H+1):T.slice(H))+Y,T=T.slice(0,H);break}}}L&&!E&&(T=t(T,1/0));var ie=U.length+T.length+Y.length,pe=ie<A?new Array(A-ie+1).join(y):"";switch(L&&E&&(T=t(pe+T,pe.length?A-Y.length:1/0),pe=""),v){case"<":T=U+T+Y+pe;break;case"=":T=U+pe+T+Y;break;case"^":T=pe.slice(0,ie=pe.length>>1)+U+T+Y+pe.slice(ie);break;default:T=pe+U+T+Y;break}return o(T)}return ne.toString=function(){return b+""},ne}function p(b,y){var v=f((b=tp(b),b.type="f",b)),_=Math.max(-8,Math.min(8,Math.floor(Ed(y)/3)))*3,k=Math.pow(10,-_),E=A2[8+_/3];return function(A){return v(k*A)+E}}return{format:f,formatPrefix:p}}var vf,Jw,Xw;I8({thousands:",",grouping:[3],currency:["$",""]});function I8(e){return vf=O8(e),Jw=vf.format,Xw=vf.formatPrefix,vf}function M8(e){return Math.max(0,-Ed(Math.abs(e)))}function F8(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ed(t)/3)))*3-Ed(Math.abs(e)))}function D8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ed(t)-Ed(e))+1}function q8(e,t,r,n){var a=rg(e,t,r),o;switch(n=tp(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=F8(a,c))&&(n.precision=o),Xw(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=D8(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=M8(a))&&(n.precision=o-(n.type==="%")*2);break}}return Jw(n)}function U8(e){var t=e.domain;return e.ticks=function(r){var n=t();return VE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return q8(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,o=n.length-1,c=n[a],u=n[o],d,f,p=10;for(u<c&&(f=c,c=u,u=f,f=a,a=o,o=f);p-- >0;){if(f=tg(c,u,r),f===d)return n[a]=c,n[o]=u,t(n);if(f>0)c=Math.floor(c/f)*f,u=Math.ceil(u/f)*f;else if(f<0)c=Math.ceil(c*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function Qw(){var e=Yw();return e.copy=function(){return Gw(e,Qw())},Pw.apply(e,arguments),U8(e)}function z8(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],o=e[n],c;return o<a&&(c=r,r=n,n=c,c=a,a=o,o=c),e[r]=t.floor(a),e[n]=t.ceil(o),e}const H0=new Date,G0=new Date;function us(e,t,r,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const c=a(o),u=a.ceil(o);return o-c<u-o?c:u},a.offset=(o,c)=>(t(o=new Date(+o),c==null?1:Math.floor(c)),o),a.range=(o,c,u)=>{const d=[];if(o=a.ceil(o),u=u==null?1:Math.floor(u),!(o<c)||!(u>0))return d;let f;do d.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<c);return d},a.filter=o=>us(c=>{if(c>=c)for(;e(c),!o(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!o(c););else for(;--u>=0;)for(;t(c,1),!o(c););}),r&&(a.count=(o,c)=>(H0.setTime(+o),G0.setTime(+c),e(H0),e(G0),Math.floor(r(H0,G0))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?c=>n(c)%o===0:c=>a.count(0,c)%o===0):a)),a}const rp=us(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?us(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):rp);rp.range;const Bl=1e3,Ya=Bl*60,$l=Ya*60,Hl=$l*24,Yg=Hl*7,P2=Hl*30,Y0=Hl*365,Nc=us(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bl)},(e,t)=>(t-e)/Bl,e=>e.getUTCSeconds());Nc.range;const kp=us(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bl)},(e,t)=>{e.setTime(+e+t*Ya)},(e,t)=>(t-e)/Ya,e=>e.getMinutes());kp.range;const Zw=us(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ya)},(e,t)=>(t-e)/Ya,e=>e.getUTCMinutes());Zw.range;const Ep=us(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bl-e.getMinutes()*Ya)},(e,t)=>{e.setTime(+e+t*$l)},(e,t)=>(t-e)/$l,e=>e.getHours());Ep.range;const e4=us(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$l)},(e,t)=>(t-e)/$l,e=>e.getUTCHours());e4.range;const Od=us(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ya)/Hl,e=>e.getDate()-1);Od.range;const Cp=us(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hl,e=>e.getUTCDate()-1);Cp.range;const B8=us(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hl,e=>Math.floor(e/Hl));B8.range;function ju(e){return us(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ya)/Yg)}const Lh=ju(0),np=ju(1),$8=ju(2),V8=ju(3),Cd=ju(4),W8=ju(5),H8=ju(6);Lh.range;np.range;$8.range;V8.range;Cd.range;W8.range;H8.range;function _u(e){return us(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Yg)}const Kg=_u(0),sp=_u(1),G8=_u(2),Y8=_u(3),Ad=_u(4),K8=_u(5),J8=_u(6);Kg.range;sp.range;G8.range;Y8.range;Ad.range;K8.range;J8.range;const Ap=us(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ap.range;const t4=us(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());t4.range;const pl=us(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:us(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});pl.range;const _c=us(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_c.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:us(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});_c.range;function X8(e,t,r,n,a,o){const c=[[Nc,1,Bl],[Nc,5,5*Bl],[Nc,15,15*Bl],[Nc,30,30*Bl],[o,1,Ya],[o,5,5*Ya],[o,15,15*Ya],[o,30,30*Ya],[a,1,$l],[a,3,3*$l],[a,6,6*$l],[a,12,12*$l],[n,1,Hl],[n,2,2*Hl],[r,1,Yg],[t,1,P2],[t,3,3*P2],[e,1,Y0]];function u(f,p,b){const y=p<f;y&&([f,p]=[p,f]);const v=b&&typeof b.range=="function"?b:d(f,p,b),_=v?v.range(f,+p+1):[];return y?_.reverse():_}function d(f,p,b){const y=Math.abs(p-f)/b,v=jp(([,,E])=>E).right(c,y);if(v===c.length)return e.every(rg(f/Y0,p/Y0,b));if(v===0)return rp.every(Math.max(rg(f,p,b),1));const[_,k]=c[y/c[v-1][2]<c[v][2]/y?v-1:v];return _.every(k)}return[u,d]}const[Q8,Z8]=X8(pl,Ap,Lh,Od,Ep,kp);function K0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function J0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function eC(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,c=e.shortDays,u=e.months,d=e.shortMonths,f=Xd(a),p=Qd(a),b=Xd(o),y=Qd(o),v=Xd(c),_=Qd(c),k=Xd(u),E=Qd(u),A=Xd(d),L=Qd(d),P={a:ge,A:ie,b:pe,B:V,c:null,d:M2,e:M2,f:jC,g:RC,G:IC,H:yC,I:wC,j:NC,L:r4,m:_C,M:SC,p:ce,q:I,Q:q2,s:U2,S:kC,u:EC,U:CC,V:AC,w:PC,W:LC,x:null,X:null,y:TC,Y:OC,Z:MC,"%":D2},R={a:J,A:ee,b:le,B:ue,c:null,d:F2,e:F2,f:UC,g:JC,G:QC,H:FC,I:DC,j:qC,L:s4,m:zC,M:BC,p:ye,q:Ce,Q:q2,s:U2,S:$C,u:VC,U:WC,V:HC,w:GC,W:YC,x:null,X:null,y:KC,Y:XC,Z:ZC,"%":D2},Q={a:ne,A:T,b:U,B:Y,c:H,d:O2,e:O2,f:xC,g:R2,G:T2,H:I2,I:I2,j:hC,L:mC,m:dC,M:fC,p:W,q:uC,Q:vC,s:bC,S:pC,u:iC,U:aC,V:oC,w:sC,W:lC,x:be,X:we,y:R2,Y:T2,Z:cC,"%":gC};P.x=te(r,P),P.X=te(n,P),P.c=te(t,P),R.x=te(r,R),R.X=te(n,R),R.c=te(t,R);function te(fe,me){return function(Oe){var je=[],Ve=-1,ze=0,K=fe.length,We,vt,tt;for(Oe instanceof Date||(Oe=new Date(+Oe));++Ve<K;)fe.charCodeAt(Ve)===37&&(je.push(fe.slice(ze,Ve)),(vt=L2[We=fe.charAt(++Ve)])!=null?We=fe.charAt(++Ve):vt=We==="e"?" ":"0",(tt=me[We])&&(We=tt(Oe,vt)),je.push(We),ze=Ve+1);return je.push(fe.slice(ze,Ve)),je.join("")}}function oe(fe,me){return function(Oe){var je=Jd(1900,void 0,1),Ve=se(je,fe,Oe+="",0),ze,K;if(Ve!=Oe.length)return null;if("Q"in je)return new Date(je.Q);if("s"in je)return new Date(je.s*1e3+("L"in je?je.L:0));if(me&&!("Z"in je)&&(je.Z=0),"p"in je&&(je.H=je.H%12+je.p*12),je.m===void 0&&(je.m="q"in je?je.q:0),"V"in je){if(je.V<1||je.V>53)return null;"w"in je||(je.w=1),"Z"in je?(ze=J0(Jd(je.y,0,1)),K=ze.getUTCDay(),ze=K>4||K===0?sp.ceil(ze):sp(ze),ze=Cp.offset(ze,(je.V-1)*7),je.y=ze.getUTCFullYear(),je.m=ze.getUTCMonth(),je.d=ze.getUTCDate()+(je.w+6)%7):(ze=K0(Jd(je.y,0,1)),K=ze.getDay(),ze=K>4||K===0?np.ceil(ze):np(ze),ze=Od.offset(ze,(je.V-1)*7),je.y=ze.getFullYear(),je.m=ze.getMonth(),je.d=ze.getDate()+(je.w+6)%7)}else("W"in je||"U"in je)&&("w"in je||(je.w="u"in je?je.u%7:"W"in je?1:0),K="Z"in je?J0(Jd(je.y,0,1)).getUTCDay():K0(Jd(je.y,0,1)).getDay(),je.m=0,je.d="W"in je?(je.w+6)%7+je.W*7-(K+5)%7:je.w+je.U*7-(K+6)%7);return"Z"in je?(je.H+=je.Z/100|0,je.M+=je.Z%100,J0(je)):K0(je)}}function se(fe,me,Oe,je){for(var Ve=0,ze=me.length,K=Oe.length,We,vt;Ve<ze;){if(je>=K)return-1;if(We=me.charCodeAt(Ve++),We===37){if(We=me.charAt(Ve++),vt=Q[We in L2?me.charAt(Ve++):We],!vt||(je=vt(fe,Oe,je))<0)return-1}else if(We!=Oe.charCodeAt(je++))return-1}return je}function W(fe,me,Oe){var je=f.exec(me.slice(Oe));return je?(fe.p=p.get(je[0].toLowerCase()),Oe+je[0].length):-1}function ne(fe,me,Oe){var je=v.exec(me.slice(Oe));return je?(fe.w=_.get(je[0].toLowerCase()),Oe+je[0].length):-1}function T(fe,me,Oe){var je=b.exec(me.slice(Oe));return je?(fe.w=y.get(je[0].toLowerCase()),Oe+je[0].length):-1}function U(fe,me,Oe){var je=A.exec(me.slice(Oe));return je?(fe.m=L.get(je[0].toLowerCase()),Oe+je[0].length):-1}function Y(fe,me,Oe){var je=k.exec(me.slice(Oe));return je?(fe.m=E.get(je[0].toLowerCase()),Oe+je[0].length):-1}function H(fe,me,Oe){return se(fe,t,me,Oe)}function be(fe,me,Oe){return se(fe,r,me,Oe)}function we(fe,me,Oe){return se(fe,n,me,Oe)}function ge(fe){return c[fe.getDay()]}function ie(fe){return o[fe.getDay()]}function pe(fe){return d[fe.getMonth()]}function V(fe){return u[fe.getMonth()]}function ce(fe){return a[+(fe.getHours()>=12)]}function I(fe){return 1+~~(fe.getMonth()/3)}function J(fe){return c[fe.getUTCDay()]}function ee(fe){return o[fe.getUTCDay()]}function le(fe){return d[fe.getUTCMonth()]}function ue(fe){return u[fe.getUTCMonth()]}function ye(fe){return a[+(fe.getUTCHours()>=12)]}function Ce(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var me=te(fe+="",P);return me.toString=function(){return fe},me},parse:function(fe){var me=oe(fe+="",!1);return me.toString=function(){return fe},me},utcFormat:function(fe){var me=te(fe+="",R);return me.toString=function(){return fe},me},utcParse:function(fe){var me=oe(fe+="",!0);return me.toString=function(){return fe},me}}}var L2={"-":"",_:" ",0:"0"},ws=/^\s*\d+/,tC=/^%/,rC=/[\\^$*+?|[\]().{}]/g;function Lr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function nC(e){return e.replace(rC,"\\$&")}function Xd(e){return new RegExp("^(?:"+e.map(nC).join("|")+")","i")}function Qd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function sC(e,t,r){var n=ws.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function iC(e,t,r){var n=ws.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function aC(e,t,r){var n=ws.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function oC(e,t,r){var n=ws.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function lC(e,t,r){var n=ws.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function T2(e,t,r){var n=ws.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function R2(e,t,r){var n=ws.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function cC(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function uC(e,t,r){var n=ws.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function dC(e,t,r){var n=ws.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function O2(e,t,r){var n=ws.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function hC(e,t,r){var n=ws.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function I2(e,t,r){var n=ws.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function fC(e,t,r){var n=ws.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function pC(e,t,r){var n=ws.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function mC(e,t,r){var n=ws.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function xC(e,t,r){var n=ws.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function gC(e,t,r){var n=tC.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function vC(e,t,r){var n=ws.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function bC(e,t,r){var n=ws.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function M2(e,t){return Lr(e.getDate(),t,2)}function yC(e,t){return Lr(e.getHours(),t,2)}function wC(e,t){return Lr(e.getHours()%12||12,t,2)}function NC(e,t){return Lr(1+Od.count(pl(e),e),t,3)}function r4(e,t){return Lr(e.getMilliseconds(),t,3)}function jC(e,t){return r4(e,t)+"000"}function _C(e,t){return Lr(e.getMonth()+1,t,2)}function SC(e,t){return Lr(e.getMinutes(),t,2)}function kC(e,t){return Lr(e.getSeconds(),t,2)}function EC(e){var t=e.getDay();return t===0?7:t}function CC(e,t){return Lr(Lh.count(pl(e)-1,e),t,2)}function n4(e){var t=e.getDay();return t>=4||t===0?Cd(e):Cd.ceil(e)}function AC(e,t){return e=n4(e),Lr(Cd.count(pl(e),e)+(pl(e).getDay()===4),t,2)}function PC(e){return e.getDay()}function LC(e,t){return Lr(np.count(pl(e)-1,e),t,2)}function TC(e,t){return Lr(e.getFullYear()%100,t,2)}function RC(e,t){return e=n4(e),Lr(e.getFullYear()%100,t,2)}function OC(e,t){return Lr(e.getFullYear()%1e4,t,4)}function IC(e,t){var r=e.getDay();return e=r>=4||r===0?Cd(e):Cd.ceil(e),Lr(e.getFullYear()%1e4,t,4)}function MC(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Lr(t/60|0,"0",2)+Lr(t%60,"0",2)}function F2(e,t){return Lr(e.getUTCDate(),t,2)}function FC(e,t){return Lr(e.getUTCHours(),t,2)}function DC(e,t){return Lr(e.getUTCHours()%12||12,t,2)}function qC(e,t){return Lr(1+Cp.count(_c(e),e),t,3)}function s4(e,t){return Lr(e.getUTCMilliseconds(),t,3)}function UC(e,t){return s4(e,t)+"000"}function zC(e,t){return Lr(e.getUTCMonth()+1,t,2)}function BC(e,t){return Lr(e.getUTCMinutes(),t,2)}function $C(e,t){return Lr(e.getUTCSeconds(),t,2)}function VC(e){var t=e.getUTCDay();return t===0?7:t}function WC(e,t){return Lr(Kg.count(_c(e)-1,e),t,2)}function i4(e){var t=e.getUTCDay();return t>=4||t===0?Ad(e):Ad.ceil(e)}function HC(e,t){return e=i4(e),Lr(Ad.count(_c(e),e)+(_c(e).getUTCDay()===4),t,2)}function GC(e){return e.getUTCDay()}function YC(e,t){return Lr(sp.count(_c(e)-1,e),t,2)}function KC(e,t){return Lr(e.getUTCFullYear()%100,t,2)}function JC(e,t){return e=i4(e),Lr(e.getUTCFullYear()%100,t,2)}function XC(e,t){return Lr(e.getUTCFullYear()%1e4,t,4)}function QC(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ad(e):Ad.ceil(e),Lr(e.getUTCFullYear()%1e4,t,4)}function ZC(){return"+0000"}function D2(){return"%"}function q2(e){return+e}function U2(e){return Math.floor(+e/1e3)}var Qu,Jg;eA({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eA(e){return Qu=eC(e),Jg=Qu.format,Qu.parse,Qu.utcFormat,Qu.utcParse,Qu}function tA(e){return new Date(e)}function rA(e){return e instanceof Date?+e:+new Date(+e)}function a4(e,t,r,n,a,o,c,u,d,f){var p=Yw(),b=p.invert,y=p.domain,v=f(".%L"),_=f(":%S"),k=f("%I:%M"),E=f("%I %p"),A=f("%a %d"),L=f("%b %d"),P=f("%B"),R=f("%Y");function Q(te){return(d(te)<te?v:u(te)<te?_:c(te)<te?k:o(te)<te?E:n(te)<te?a(te)<te?A:L:r(te)<te?P:R)(te)}return p.invert=function(te){return new Date(b(te))},p.domain=function(te){return arguments.length?y(Array.from(te,rA)):y().map(tA)},p.ticks=function(te){var oe=y();return e(oe[0],oe[oe.length-1],te??10)},p.tickFormat=function(te,oe){return oe==null?Q:f(oe)},p.nice=function(te){var oe=y();return(!te||typeof te.range!="function")&&(te=t(oe[0],oe[oe.length-1],te??10)),te?y(z8(oe,te)):p},p.copy=function(){return Gw(p,a4(e,t,r,n,a,o,c,u,d,f))},p}function nA(){return Pw.apply(a4(Q8,Z8,pl,Ap,Lh,Od,Ep,kp,Nc,Jg).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sA(e,t){t.domain&&("nice"in e||"quantiles"in e||"padding"in e,e.domain(t.domain))}function iA(e,t){t.range&&("padding"in e,e.range(t.range))}function aA(e,t){"align"in e&&"align"in t&&typeof t.align<"u"&&e.align(t.align)}function oA(e,t){"base"in e&&"base"in t&&typeof t.base<"u"&&e.base(t.base)}function lA(e,t){"clamp"in e&&"clamp"in t&&typeof t.clamp<"u"&&e.clamp(t.clamp)}function cA(e,t){"constant"in e&&"constant"in t&&typeof t.constant<"u"&&e.constant(t.constant)}function uA(e,t){"exponent"in e&&"exponent"in t&&typeof t.exponent<"u"&&e.exponent(t.exponent)}var z2={lab:g8,hcl:v8,"hcl-long":b8,hsl:m8,"hsl-long":x8,cubehelix:y8,"cubehelix-long":w8,rgb:lg};function dA(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return z2[e]}var t=e.type,r=e.gamma,n=z2[t];return typeof r>"u"?n:n.gamma(r)}function hA(e,t){if("interpolate"in t&&"interpolate"in e&&typeof t.interpolate<"u"){var r=dA(t.interpolate);e.interpolate(r)}}var fA=new Date(Date.UTC(2020,1,2,3,4,5)),pA="%Y-%m-%d %H:%M";function mA(e){var t=e.tickFormat(1,pA)(fA);return t==="2020-02-02 03:04"}var B2={day:Od,hour:Ep,minute:kp,month:Ap,second:Nc,week:Lh,year:pl},$2={day:Cp,hour:e4,minute:Zw,month:t4,second:Nc,week:Kg,year:_c};function xA(e,t){if("nice"in t&&typeof t.nice<"u"&&"nice"in e){var r=t.nice;if(typeof r=="boolean")r&&e.nice();else if(typeof r=="number")e.nice(r);else{var n=e,a=mA(n);if(typeof r=="string")n.nice(a?$2[r]:B2[r]);else{var o=r.interval,c=r.step,u=(a?$2[o]:B2[o]).every(c);u!=null&&n.nice(u)}}}}function gA(e,t){"padding"in e&&"padding"in t&&typeof t.padding<"u"&&e.padding(t.padding),"paddingInner"in e&&"paddingInner"in t&&typeof t.paddingInner<"u"&&e.paddingInner(t.paddingInner),"paddingOuter"in e&&"paddingOuter"in t&&typeof t.paddingOuter<"u"&&e.paddingOuter(t.paddingOuter)}function vA(e,t){if(t.reverse){var r=e.range().slice().reverse();"padding"in e,e.range(r)}}function bA(e,t){"round"in t&&typeof t.round<"u"&&(t.round&&"interpolate"in t&&typeof t.interpolate<"u"?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate($w))}function yA(e,t){"unknown"in e&&"unknown"in t&&typeof t.unknown<"u"&&e.unknown(t.unknown)}function wA(e,t){if("zero"in t&&t.zero===!0){var r=e.domain(),n=r[0],a=r[1],o=a<n,c=o?[a,n]:[n,a],u=c[0],d=c[1],f=[Math.min(0,u),Math.max(0,d)];e.domain(o?f.reverse():f)}}var NA=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],jA={domain:sA,nice:xA,zero:wA,interpolate:hA,round:bA,align:aA,base:oA,clamp:lA,constant:cA,exponent:uA,padding:gA,range:iA,reverse:vA,unknown:yA};function o4(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=new Set(t),a=NA.filter(function(o){return n.has(o)});return function(c,u){return typeof u<"u"&&a.forEach(function(d){jA[d](c,u)}),c}}var _A=o4("domain","range","reverse","clamp","interpolate","nice","round","zero");function SA(e){return _A(Qw(),e)}var kA=o4("domain","range","reverse","clamp","interpolate","nice","round");function EA(e){return kA(nA(),e)}function CA(e){if((typeof e=="function"||typeof e=="object"&&e)&&"valueOf"in e){var t=e.valueOf();if(typeof t=="number")return t}return e}function AA(e,t){var r=e;return"ticks"in r?r.ticks(t):r.domain().filter(function(n,a,o){return t==null||o.length<=t||a%Math.round((o.length-1)/t)===0})}function PA(e){return e==null?void 0:e.toString()}var X0,V2;function LA(){if(V2)return X0;V2=1,X0=e;function e(n,a,o){n instanceof RegExp&&(n=t(n,o)),a instanceof RegExp&&(a=t(a,o));var c=r(n,a,o);return c&&{start:c[0],end:c[1],pre:o.slice(0,c[0]),body:o.slice(c[0]+n.length,c[1]),post:o.slice(c[1]+a.length)}}function t(n,a){var o=a.match(n);return o?o[0]:null}e.range=r;function r(n,a,o){var c,u,d,f,p,b=o.indexOf(n),y=o.indexOf(a,b+1),v=b;if(b>=0&&y>0){for(c=[],d=o.length;v>=0&&!p;)v==b?(c.push(v),b=o.indexOf(n,v+1)):c.length==1?p=[c.pop(),y]:(u=c.pop(),u<d&&(d=u,f=y),y=o.indexOf(a,v+1)),v=b<y&&b>=0?b:y;c.length&&(p=[d,f])}return p}return X0}var Q0,W2;function TA(){if(W2)return Q0;W2=1,Q0=e;function e(n,a,o){n instanceof RegExp&&(n=t(n,o)),a instanceof RegExp&&(a=t(a,o));var c=r(n,a,o);return c&&{start:c[0],end:c[1],pre:o.slice(0,c[0]),body:o.slice(c[0]+n.length,c[1]),post:o.slice(c[1]+a.length)}}function t(n,a){var o=a.match(n);return o?o[0]:null}e.range=r;function r(n,a,o){var c,u,d,f,p,b=o.indexOf(n),y=o.indexOf(a,b+1),v=b;if(b>=0&&y>0){if(n===a)return[b,y];for(c=[],d=o.length;v>=0&&!p;)v==b?(c.push(v),b=o.indexOf(n,v+1)):c.length==1?p=[c.pop(),y]:(u=c.pop(),u<d&&(d=u,f=y),y=o.indexOf(a,v+1)),v=b<y&&b>=0?b:y;c.length&&(p=[d,f])}return p}return Q0}var Z0,H2;function RA(){if(H2)return Z0;H2=1;var e=TA();Z0=t;function t(a,o,c){var u=a;return r(a,o).reduce(function(d,f){return d.replace(f.functionIdentifier+"("+f.matches.body+")",n(f.matches.body,f.functionIdentifier,c,u,o))},a)}function r(a,o){var c=[],u=typeof o=="string"?new RegExp("\\b("+o+")\\("):o;do{var d=u.exec(a);if(!d)return c;if(d[1]===void 0)throw new Error("Missing the first couple of parenthesis to get the function identifier in "+o);var f=d[1],p=d.index,b=e("(",")",a.substring(p));if(!b||b.start!==d[0].length-1)throw new SyntaxError(f+"(): missing closing ')' in the value '"+a+"'");c.push({matches:b,functionIdentifier:f}),a=b.post}while(u.test(a));return c}function n(a,o,c,u,d){return c(t(a,d,c),o,u)}return Z0}var em,G2;function OA(){if(G2)return em;G2=1;var e=function(t){this.value=t};return e.math={isDegree:!0,acos:function(t){return e.math.isDegree?180/Math.PI*Math.acos(t):Math.acos(t)},add:function(t,r){return t+r},asin:function(t){return e.math.isDegree?180/Math.PI*Math.asin(t):Math.asin(t)},atan:function(t){return e.math.isDegree?180/Math.PI*Math.atan(t):Math.atan(t)},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},asinh:function(t){return Math.log(t+Math.sqrt(t*t+1))},atanh:function(t){return Math.log((1+t)/(1-t))},C:function(t,r){var n=1,a=t-r,o=r;o<a&&(o=a,a=r);for(var c=o+1;c<=t;c++)n*=c;return n/e.math.fact(a)},changeSign:function(t){return-t},cos:function(t){return e.math.isDegree&&(t=e.math.toRadian(t)),Math.cos(t)},cosh:function(t){return(Math.pow(Math.E,t)+Math.pow(Math.E,-1*t))/2},div:function(t,r){return t/r},fact:function(t){if(t%1!==0)return"NaN";for(var r=1,n=2;n<=t;n++)r*=n;return r},inverse:function(t){return 1/t},log:function(t){return Math.log(t)/Math.log(10)},mod:function(t,r){return t%r},mul:function(t,r){return t*r},P:function(t,r){for(var n=1,a=Math.floor(t)-Math.floor(r)+1;a<=Math.floor(t);a++)n*=a;return n},Pi:function(t,r,n){for(var a=1,o=t;o<=r;o++)a*=Number(n.postfixEval({n:o}));return a},pow10x:function(t){for(var r=1;t--;)r*=10;return r},sigma:function(t,r,n){for(var a=0,o=t;o<=r;o++)a+=Number(n.postfixEval({n:o}));return a},sin:function(t){return e.math.isDegree&&(t=e.math.toRadian(t)),Math.sin(t)},sinh:function(t){return(Math.pow(Math.E,t)-Math.pow(Math.E,-1*t))/2},sub:function(t,r){return t-r},tan:function(t){return e.math.isDegree&&(t=e.math.toRadian(t)),Math.tan(t)},tanh:function(t){return e.sinha(t)/e.cosha(t)},toRadian:function(t){return t*Math.PI/180},and:function(t,r){return t&r}},e.Exception=function(t){this.message=t},em=e,em}var tm,Y2;function IA(){if(Y2)return tm;Y2=1;var e=OA();function t(L,P){for(var R=0;R<L.length;R++)L[R]+=P;return L}for(var r=[{token:"sin",show:"sin",type:0,value:e.math.sin},{token:"cos",show:"cos",type:0,value:e.math.cos},{token:"tan",show:"tan",type:0,value:e.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:e.math.P},{token:"C",show:"C",type:10,value:e.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:e.math.asin},{token:"acos",show:"acos",type:0,value:e.math.acos},{token:"atan",show:"atan",type:0,value:e.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:e.math.cosh},{token:"acosh",show:"acosh",type:0,value:e.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:e.math.div},{token:"!",show:"!",type:7,value:e.math.fact},{token:"tanh",show:"tanh",type:0,value:e.math.tanh},{token:"atanh",show:"atanh",type:0,value:e.math.atanh},{token:"Mod",show:" Mod ",type:2,value:e.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:e.math.mul},{token:"sinh",show:"sinh",type:0,value:e.math.sinh},{token:"asinh",show:"asinh",type:0,value:e.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:e.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:e.math.add},{token:"-",show:"-",type:9,value:e.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:e.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:e.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:e.math.and}],n={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1,15:11},a=0;a<r.length;a++)r[a].precedence=n[r[a].type];var o={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0,15:!0},c={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,15:!0},u={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0,15:!0},d={},f={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0,15:!0},p={1:!0},b=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function y(L,P,R,Q){for(var te=0;te<Q;te++)if(L[R+te]!==P[te])return!1;return!0}e.tokenTypes={FUNCTION_WITH_ONE_ARG:0,NUMBER:1,BINARY_OPERATOR_HIGH_PRECENDENCE:2,CONSTANT:3,OPENING_PARENTHESIS:4,CLOSING_PARENTHESIS:5,DECIMAL:6,POSTFIX_FUNCTION_WITH_ONE_ARG:7,FUNCTION_WITH_N_ARGS:8,BINARY_OPERATOR_LOW_PRECENDENCE:9,BINARY_OPERATOR_PERMUTATION:10,COMMA:11,EVALUATED_FUNCTION:12,EVALUATED_FUNCTION_PARAMETER:13,SPACE:14},e.addToken=function(L){for(var P=0;P<L.length;P++){var R=L[P].token.length,Q=-1;L[P].type===e.tokenTypes.FUNCTION_WITH_N_ARGS&&L[P].numberOfArguments===void 0&&(L[P].numberOfArguments=2),b[R]=b[R]||[];for(var te=0;te<b[R].length;te++)if(L[P].token===b[R][te]){Q=v(b[R][te],r);break}Q===-1?(r.push(L[P]),L[P].precedence=n[L[P].type],b.length<=L[P].token.length&&(b[L[P].token.length]=[]),b[L[P].token.length].push(L[P].token)):(r[Q]=L[P],L[P].precedence=n[L[P].type])}};function v(L,P){for(var R=0;R<P.length;R++)if(P[R].token===L)return R;return-1}function _(L){for(var P=[],R=L.length,Q,te,oe,se=0;se<R;se++)if(!(se<R-1&&L[se]===" "&&L[se+1]===" ")){for(Q="",te=L.length-se>b.length-2?b.length-1:L.length-se;te>0;te--)if(b[te]!==void 0)for(oe=0;oe<b[te].length;oe++)y(L,b[te][oe],se,te)&&(Q=b[te][oe],oe=b[te].length,te=0);if(se+=Q.length-1,Q==="")throw new e.Exception("Can't understand after "+L.slice(se));P.push(r[v(Q,r)])}return P}var k={value:e.math.changeSign,type:0,pre:21,show:"-"},E={value:")",show:")",type:5,pre:0},A={value:"(",type:4,pre:0,show:"("};return e.lex=function(L,P){var R=[A],Q=[],te=L,oe=o,se=0,W=d,ne="",T;typeof P<"u"&&e.addToken(P);var U={},Y=_(te);for(T=0;T<Y.length;T++){var H=Y[T];if(H.type===14){if(T>0&&T<Y.length-1&&Y[T+1].type===1&&(Y[T-1].type===1||Y[T-1].type===6))throw new e.Exception("Unexpected Space");continue}var be=H.token,we=H.type,ge=H.value,ie=H.precedence,pe=H.show,V=R[R.length-1],ce;for(ce=Q.length;ce--&&Q[ce]===0;)if([0,2,3,4,5,9,11,12,13].indexOf(we)!==-1){if(oe[we]!==!0)throw new e.Exception(be+" is not allowed after "+ne);R.push(E),oe=c,W=f,Q.pop()}if(oe[we]!==!0)throw new e.Exception(be+" is not allowed after "+ne);if(W[we]===!0&&(we=2,ge=e.math.mul,pe="&times;",ie=3,T=T-1),U={value:ge,type:we,pre:ie,show:pe,numberOfArguments:H.numberOfArguments},we===0)oe=o,W=d,t(Q,2),R.push(U),Y[T+1].type!==4&&(R.push(A),Q.push(2));else if(we===1)V.type===1?(V.value+=ge,t(Q,1)):R.push(U),oe=c,W=u;else if(we===2)oe=o,W=d,t(Q,2),R.push(U);else if(we===3)R.push(U),oe=c,W=f;else if(we===4)t(Q,1),se++,oe=o,W=d,R.push(U);else if(we===5){if(!se)throw new e.Exception("Closing parenthesis are more than opening one, wait What!!!");se--,oe=c,W=f,R.push(U),t(Q,1)}else if(we===6){if(V.hasDec)throw new e.Exception("Two decimals are not allowed in one number");V.type!==1&&(V={value:0,type:1,pre:0},R.push(V)),oe=p,t(Q,1),W=d,V.value+=ge,V.hasDec=!0}else we===7&&(oe=c,W=f,t(Q,1),R.push(U));we===8?(oe=o,W=d,t(Q,H.numberOfArguments+2),R.push(U),Y[T+1].type!==4&&(R.push(A),Q.push(H.numberOfArguments+2))):we===9?(V.type===9?V.value===e.math.add?(V.value=ge,V.show=pe,t(Q,1)):V.value===e.math.sub&&pe==="-"&&(V.value=e.math.add,V.show="+",t(Q,1)):V.type!==5&&V.type!==7&&V.type!==1&&V.type!==3&&V.type!==13?be==="-"&&(oe=o,W=d,t(Q,2).push(2),R.push(k),R.push(A)):(R.push(U),t(Q,2)),oe=o,W=d):we===10?(oe=o,W=d,t(Q,2),R.push(U)):we===11?(oe=o,W=d,R.push(U)):we===12?(oe=o,W=d,t(Q,6),R.push(U),Y[T+1].type!==4&&(R.push(A),Q.push(6))):we===13&&(oe=c,W=f,R.push(U)),t(Q,-1),ne=be}for(ce=Q.length;ce--;)R.push(E);if(oe[5]!==!0)throw new e.Exception("complete the expression");for(;se--;)R.push(E);return R.push(E),new e(R)},tm=e,tm}var rm,K2;function MA(){if(K2)return rm;K2=1;var e=IA();return e.prototype.toPostfix=function(){for(var t=[],r,n,a,o,c,u=[{value:"(",type:4,pre:0}],d=this.value,f=1;f<d.length;f++)if(d[f].type===1||d[f].type===3||d[f].type===13)d[f].type===1&&(d[f].value=Number(d[f].value)),t.push(d[f]);else if(d[f].type===4)u.push(d[f]);else if(d[f].type===5)for(;(n=u.pop()).type!==4;)t.push(n);else if(d[f].type===11){for(;(n=u.pop()).type!==4;)t.push(n);u.push(n)}else{r=d[f],o=r.pre,c=u[u.length-1],a=c.pre;var p=c.value=="Math.pow"&&r.value=="Math.pow";if(o>a)u.push(r);else{for(;a>=o&&!p||p&&o<a;)n=u.pop(),c=u[u.length-1],t.push(n),a=c.pre,p=r.value=="Math.pow"&&c.value=="Math.pow";u.push(r)}}return new e(t)},rm=e,rm}var nm,J2;function FA(){if(J2)return nm;J2=1;var e=MA();return e.prototype.postfixEval=function(t){t=t||{},t.PI=Math.PI,t.E=Math.E;for(var r=[],n,a,o,c=this.value,u=typeof t.n<"u",d=0;d<c.length;d++)if(c[d].type===1)r.push({value:c[d].value,type:1});else if(c[d].type===3)r.push({value:t[c[d].value],type:1});else if(c[d].type===0)typeof r[r.length-1].type>"u"?r[r.length-1].value.push(c[d]):r[r.length-1].value=c[d].value(r[r.length-1].value);else if(c[d].type===7)typeof r[r.length-1].type>"u"?r[r.length-1].value.push(c[d]):r[r.length-1].value=c[d].value(r[r.length-1].value);else if(c[d].type===8){for(var f=[],p=0;p<c[d].numberOfArguments;p++)f.push(r.pop().value);r.push({type:1,value:c[d].value.apply(c[d],f.reverse())})}else c[d].type===10?(n=r.pop(),a=r.pop(),typeof a.type>"u"?(a.value=a.concat(n),a.value.push(c[d]),r.push(a)):typeof n.type>"u"?(n.unshift(a),n.push(c[d]),r.push(n)):r.push({type:1,value:c[d].value(a.value,n.value)})):c[d].type===2||c[d].type===9?(n=r.pop(),a=r.pop(),typeof a.type>"u"?(a=a.concat(n),a.push(c[d]),r.push(a)):typeof n.type>"u"?(n.unshift(a),n.push(c[d]),r.push(n)):r.push({type:1,value:c[d].value(a.value,n.value)})):c[d].type===12?(n=r.pop(),typeof n.type<"u"&&(n=[n]),a=r.pop(),o=r.pop(),r.push({type:1,value:c[d].value(o.value,a.value,new e(n))})):c[d].type===13&&(u?r.push({value:t[c[d].value],type:3}):r.push([c[d]]));if(r.length>1)throw new e.Exception("Uncaught Syntax error");return r[0].value>1e15?"Infinity":parseFloat(r[0].value.toFixed(15))},e.eval=function(t,r,n){return typeof r>"u"?this.lex(t).toPostfix().postfixEval():typeof n>"u"?typeof r.length<"u"?this.lex(t,r).toPostfix().postfixEval():this.lex(t).toPostfix().postfixEval(r):this.lex(t,r).toPostfix().postfixEval(n)},nm=e,nm}var sm,X2;function DA(){if(X2)return sm;X2=1;var e=FA();return e.prototype.formulaEval=function(){for(var t,r,n,a=[],o=this.value,c=0;c<o.length;c++)o[c].type===1||o[c].type===3?a.push({value:o[c].type===3?o[c].show:o[c].value,type:1}):o[c].type===13?a.push({value:o[c].show,type:1}):o[c].type===0?a[a.length-1]={value:o[c].show+(o[c].show!="-"?"(":"")+a[a.length-1].value+(o[c].show!="-"?")":""),type:0}:o[c].type===7?a[a.length-1]={value:(a[a.length-1].type!=1?"(":"")+a[a.length-1].value+(a[a.length-1].type!=1?")":"")+o[c].show,type:7}:o[c].type===10?(t=a.pop(),r=a.pop(),o[c].show==="P"||o[c].show==="C"?a.push({value:"<sup>"+r.value+"</sup>"+o[c].show+"<sub>"+t.value+"</sub>",type:10}):a.push({value:(r.type!=1?"(":"")+r.value+(r.type!=1?")":"")+"<sup>"+t.value+"</sup>",type:1})):o[c].type===2||o[c].type===9?(t=a.pop(),r=a.pop(),a.push({value:(r.type!=1?"(":"")+r.value+(r.type!=1?")":"")+o[c].show+(t.type!=1?"(":"")+t.value+(t.type!=1?")":""),type:o[c].type})):o[c].type===12&&(t=a.pop(),r=a.pop(),n=a.pop(),a.push({value:o[c].show+"("+n.value+","+r.value+","+t.value+")",type:12}));return a[0].value},sm=e,sm}var im,Q2;function qA(){if(Q2)return im;Q2=1;var e=LA(),t=RA(),r=DA(),n=100,a=/(\+|\-|\*|\\|[^a-z]|)(\s*)(\()/g,o;im=c;function c(d,f){o=0,f=Math.pow(10,f===void 0?5:f),d=d.replace(/\n+/g," ");function p(y,v,_){if(o++>n)throw o=0,new Error("Call stack overflow for "+_);if(y==="")throw new Error(v+"(): '"+_+"' must contain a non-whitespace string");y=b(y,_);var k=u(y);if(k.length>1||y.indexOf("var(")>-1)return v+"("+y+")";var E=k[0]||"";E==="%"&&(y=y.replace(/\b[0-9\.]+%/g,function(P){return parseFloat(P.slice(0,-1))*.01}));var A=y.replace(new RegExp(E,"gi"),""),L;try{L=r.eval(A)}catch{return v+"("+y+")"}return E==="%"&&(L*=100),(v.length||E==="%")&&(L=Math.round(L*f)/f),L+=E,L}function b(y,v){y=y.replace(/((?:\-[a-z]+\-)?calc)/g,"");for(var _="",k=y,E;E=a.exec(k);){E[0].index>0&&(_+=k.substring(0,E[0].index));var A=e("(",")",k.substring([0].index));if(A.body==="")throw new Error("'"+y+"' must contain a non-whitespace string");var L=p(A.body,"",v);_+=A.pre+L,k=A.post}return _+k}return t(d,/((?:\-[a-z]+\-)?calc)\(/,p)}function u(d){for(var f=[],p=[],b=/[\.0-9]([%a-z]+)/gi,y=b.exec(d);y;)!y||!y[1]||(p.indexOf(y[1].toLowerCase())===-1&&(f.push(y[1]),p.push(y[1].toLowerCase())),y=b.exec(d));return f}return im}var UA=qA();const am=kc(UA);var om,Z2;function zA(){if(Z2)return om;Z2=1;var e=typeof af=="object"&&af&&af.Object===Object&&af;return om=e,om}var lm,eb;function Pp(){if(eb)return lm;eb=1;var e=zA(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return lm=r,lm}var cm,tb;function l4(){if(tb)return cm;tb=1;var e=Pp(),t=e.Symbol;return cm=t,cm}var um,rb;function BA(){if(rb)return um;rb=1;var e=l4(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function o(c){var u=r.call(c,a),d=c[a];try{c[a]=void 0;var f=!0}catch{}var p=n.call(c);return f&&(u?c[a]=d:delete c[a]),p}return um=o,um}var dm,nb;function $A(){if(nb)return dm;nb=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return dm=r,dm}var hm,sb;function c4(){if(sb)return hm;sb=1;var e=l4(),t=BA(),r=$A(),n="[object Null]",a="[object Undefined]",o=e?e.toStringTag:void 0;function c(u){return u==null?u===void 0?a:n:o&&o in Object(u)?t(u):r(u)}return hm=c,hm}var fm,ib;function Lp(){if(ib)return fm;ib=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return fm=e,fm}var pm,ab;function VA(){if(ab)return pm;ab=1;var e=c4(),t=Lp(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",o="[object Proxy]";function c(u){if(!t(u))return!1;var d=e(u);return d==n||d==a||d==r||d==o}return pm=c,pm}var mm,ob;function WA(){if(ob)return mm;ob=1;var e=Pp(),t=e["__core-js_shared__"];return mm=t,mm}var xm,lb;function HA(){if(lb)return xm;lb=1;var e=WA(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return xm=r,xm}var gm,cb;function GA(){if(cb)return gm;cb=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return gm=r,gm}var vm,ub;function YA(){if(ub)return vm;ub=1;var e=VA(),t=HA(),r=Lp(),n=GA(),a=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b(y){if(!r(y)||t(y))return!1;var v=e(y)?p:o;return v.test(n(y))}return vm=b,vm}var bm,db;function KA(){if(db)return bm;db=1;function e(t,r){return t==null?void 0:t[r]}return bm=e,bm}var ym,hb;function u4(){if(hb)return ym;hb=1;var e=YA(),t=KA();function r(n,a){var o=t(n,a);return e(o)?o:void 0}return ym=r,ym}var wm,fb;function Tp(){if(fb)return wm;fb=1;var e=u4(),t=e(Object,"create");return wm=t,wm}var Nm,pb;function JA(){if(pb)return Nm;pb=1;var e=Tp();function t(){this.__data__=e?e(null):{},this.size=0}return Nm=t,Nm}var jm,mb;function XA(){if(mb)return jm;mb=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return jm=e,jm}var _m,xb;function QA(){if(xb)return _m;xb=1;var e=Tp(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(o){var c=this.__data__;if(e){var u=c[o];return u===t?void 0:u}return n.call(c,o)?c[o]:void 0}return _m=a,_m}var Sm,gb;function ZA(){if(gb)return Sm;gb=1;var e=Tp(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var o=this.__data__;return e?o[a]!==void 0:r.call(o,a)}return Sm=n,Sm}var km,vb;function eP(){if(vb)return km;vb=1;var e=Tp(),t="__lodash_hash_undefined__";function r(n,a){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=e&&a===void 0?t:a,this}return km=r,km}var Em,bb;function tP(){if(bb)return Em;bb=1;var e=JA(),t=XA(),r=QA(),n=ZA(),a=eP();function o(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var f=c[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,Em=o,Em}var Cm,yb;function rP(){if(yb)return Cm;yb=1;function e(){this.__data__=[],this.size=0}return Cm=e,Cm}var Am,wb;function nP(){if(wb)return Am;wb=1;function e(t,r){return t===r||t!==t&&r!==r}return Am=e,Am}var Pm,Nb;function Rp(){if(Nb)return Pm;Nb=1;var e=nP();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return Pm=t,Pm}var Lm,jb;function sP(){if(jb)return Lm;jb=1;var e=Rp(),t=Array.prototype,r=t.splice;function n(a){var o=this.__data__,c=e(o,a);if(c<0)return!1;var u=o.length-1;return c==u?o.pop():r.call(o,c,1),--this.size,!0}return Lm=n,Lm}var Tm,_b;function iP(){if(_b)return Tm;_b=1;var e=Rp();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return Tm=t,Tm}var Rm,Sb;function aP(){if(Sb)return Rm;Sb=1;var e=Rp();function t(r){return e(this.__data__,r)>-1}return Rm=t,Rm}var Om,kb;function oP(){if(kb)return Om;kb=1;var e=Rp();function t(r,n){var a=this.__data__,o=e(a,r);return o<0?(++this.size,a.push([r,n])):a[o][1]=n,this}return Om=t,Om}var Im,Eb;function lP(){if(Eb)return Im;Eb=1;var e=rP(),t=sP(),r=iP(),n=aP(),a=oP();function o(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var f=c[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,Im=o,Im}var Mm,Cb;function cP(){if(Cb)return Mm;Cb=1;var e=u4(),t=Pp(),r=e(t,"Map");return Mm=r,Mm}var Fm,Ab;function uP(){if(Ab)return Fm;Ab=1;var e=tP(),t=lP(),r=cP();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Fm=n,Fm}var Dm,Pb;function dP(){if(Pb)return Dm;Pb=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Dm=e,Dm}var qm,Lb;function Op(){if(Lb)return qm;Lb=1;var e=dP();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return qm=t,qm}var Um,Tb;function hP(){if(Tb)return Um;Tb=1;var e=Op();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Um=t,Um}var zm,Rb;function fP(){if(Rb)return zm;Rb=1;var e=Op();function t(r){return e(this,r).get(r)}return zm=t,zm}var Bm,Ob;function pP(){if(Ob)return Bm;Ob=1;var e=Op();function t(r){return e(this,r).has(r)}return Bm=t,Bm}var $m,Ib;function mP(){if(Ib)return $m;Ib=1;var e=Op();function t(r,n){var a=e(this,r),o=a.size;return a.set(r,n),this.size+=a.size==o?0:1,this}return $m=t,$m}var Vm,Mb;function xP(){if(Mb)return Vm;Mb=1;var e=uP(),t=hP(),r=fP(),n=pP(),a=mP();function o(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var f=c[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,Vm=o,Vm}var Wm,Fb;function gP(){if(Fb)return Wm;Fb=1;var e=xP(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var o=function(){var c=arguments,u=a?a.apply(this,c):c[0],d=o.cache;if(d.has(u))return d.get(u);var f=n.apply(this,c);return o.cache=d.set(u,f)||d,f};return o.cache=new(r.Cache||e),o}return r.Cache=e,Wm=r,Wm}var vP=gP();const bP=kc(vP);var Db="__react_svg_text_measurement_id";function yP(e,t){try{var r=document.getElementById(Db);if(!r){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("aria-hidden","true"),n.style.width="0",n.style.height="0",n.style.position="absolute",n.style.top="-100%",n.style.left="-100%",r=document.createElementNS("http://www.w3.org/2000/svg","text"),r.setAttribute("id",Db),n.appendChild(r),document.body.appendChild(n)}return Object.assign(r.style,t),r.textContent=e,r.getComputedTextLength()}catch{return null}}const qb=bP(yP,function(e,t){return e+"_"+JSON.stringify(t)});var wP=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function NP(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Hm(e){return typeof e=="number"}function Ub(e){return typeof e=="number"&&Number.isFinite(e)||typeof e=="string"}function jP(e){var t=e.verticalAnchor,r=t===void 0?"end":t,n=e.scaleToFit,a=n===void 0?!1:n,o=e.angle,c=e.width,u=e.lineHeight,d=u===void 0?"1em":u,f=e.capHeight,p=f===void 0?"0.71em":f,b=e.children,y=e.style,v=NP(e,wP),_=v.x,k=_===void 0?0:_,E=v.y,A=E===void 0?0:E,L=!Ub(k)||!Ub(A),P=z.useMemo(function(){var W=b==null?[]:b.toString().split(/(?:(?!\u00A0+)\s+)/);return{wordsWithWidth:W.map(function(ne){return{word:ne,wordWidth:qb(ne,y)||0}}),spaceWidth:qb("",y)||0}},[b,y]),R=P.wordsWithWidth,Q=P.spaceWidth,te=z.useMemo(function(){return L?[]:c||a?R.reduce(function(W,ne){var T=ne.word,U=ne.wordWidth,Y=W[W.length-1];if(Y&&(c==null||a||(Y.width||0)+U+Q<c))Y.words.push(T),Y.width=Y.width||0,Y.width+=U+Q;else{var H={words:[T],width:U};W.push(H)}return W},[]):[{words:b==null?[]:b.toString().split(/(?:(?!\u00A0+)\s+)/)}]},[L,c,a,b,R,Q]),oe=z.useMemo(function(){var W=L?"":am(r==="start"?"calc("+p+")":r==="middle"?"calc("+(te.length-1)/2+" * -"+d+" + ("+p+" / 2))":"calc("+(te.length-1)+" * -"+d+")");return W},[L,r,p,te.length,d]),se=z.useMemo(function(){var W=[];if(L)return"";if(Hm(k)&&Hm(A)&&Hm(c)&&a&&te.length>0){var ne=te[0].width||1,T=a==="shrink-only"?Math.min(c/ne,1):c/ne,U=T,Y=k-T*k,H=A-U*A;W.push("matrix("+T+", 0, 0, "+U+", "+Y+", "+H+")")}return o&&W.push("rotate("+o+", "+k+", "+A+")"),W.length>0?W.join(" "):""},[L,k,A,c,a,te,o]);return{wordsByLines:te,startDy:oe,transform:se}}var _P=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dg.apply(this,arguments)}function SP(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var kP={overflow:"visible"};function d4(e){var t=e.dx,r=t===void 0?0:t,n=e.dy,a=n===void 0?0:n,o=e.textAnchor,c=o===void 0?"start":o,u=e.innerRef,d=e.innerTextRef;e.verticalAnchor,e.angle;var f=e.lineHeight,p=f===void 0?"1em":f;e.scaleToFit,e.capHeight,e.width;var b=SP(e,_P),y=b.x,v=y===void 0?0:y,_=b.fontSize,k=jP(e),E=k.wordsByLines,A=k.startDy,L=k.transform;return jt.createElement("svg",{ref:u,x:r,y:a,fontSize:_,style:kP},E.length>0?jt.createElement("text",dg({ref:d,transform:L},b,{textAnchor:c}),E.map(function(P,R){return jt.createElement("tspan",{key:R,x:v,dy:R===0?A:p},P.words.join(" "))})):null)}var ga={top:"top",left:"left",bottom:"bottom"};function EP(e){var t=e.labelOffset,r=e.labelProps,n=e.orientation,a=e.range,o=e.tickLabelFontSize,c=e.tickLength,u=n===ga.left||n===ga.top?-1:1,d,f,p;if(n===ga.top||n===ga.bottom){var b=n===ga.bottom&&typeof r.fontSize=="number"?r.fontSize:0;d=(Number(a[0])+Number(a[a.length-1]))/2,f=u*(c+t+o+b)}else d=u*((Number(a[0])+Number(a[a.length-1]))/2),f=-(c+t),p="rotate("+u*90+")";return{x:d,y:f,transform:p}}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lh.apply(this,arguments)}function CP(e){var t=e.hideTicks,r=e.horizontal,n=e.orientation,a=e.tickClassName,o=e.tickComponent,c=e.tickLabelProps,u=e.tickStroke,d=u===void 0?"#222":u,f=e.tickTransform,p=e.ticks,b=e.strokeWidth,y=e.tickLineProps;return p.map(function(v){var _,k=v.value,E=v.index,A=v.from,L=v.to,P=v.formattedValue,R=(_=c[E])!=null?_:{},Q=Math.max(10,typeof R.fontSize=="number"&&R.fontSize||0),te=L.y+(r&&n!==ga.top?Q:0);return jt.createElement(Np,{key:"visx-tick-"+k+"-"+E,className:Ka("visx-axis-tick",a),transform:f},!t&&jt.createElement(Aw,lh({from:A,to:L,stroke:d,strokeWidth:b,strokeLinecap:"square"},y)),o?o(lh({},R,{x:L.x,y:te,formattedValue:P})):jt.createElement(d4,lh({x:L.x,y:te},R),P))})}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(this,arguments)}var zb={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"};function AP(e){var t=e.axisFromPoint,r=e.axisLineClassName,n=e.axisToPoint,a=e.hideAxisLine,o=e.hideTicks,c=e.horizontal,u=e.label,d=u===void 0?"":u,f=e.labelClassName,p=e.labelOffset,b=p===void 0?14:p,y=e.labelProps,v=e.orientation,_=v===void 0?ga.bottom:v,k=e.scale,E=e.stroke,A=E===void 0?"#222":E,L=e.strokeDasharray,P=e.strokeWidth,R=P===void 0?1:P,Q=e.tickClassName,te=e.tickComponent,oe=e.tickLineProps,se=e.tickLabelProps,W=e.tickLength,ne=W===void 0?8:W,T=e.tickStroke,U=T===void 0?"#222":T,Y=e.tickTransform,H=e.ticks,be=e.ticksComponent,we=be===void 0?CP:be,ge=ch({},zb,y),ie=ch({},zb,typeof se=="object"?se:null),pe=H.map(function(ce){var I=ce.value,J=ce.index;return typeof se=="function"?se(I,J,H):ie}),V=Math.max.apply(Math,[10].concat(pe.map(function(ce){return typeof ce.fontSize=="number"?ce.fontSize:0})));return jt.createElement(jt.Fragment,null,we({hideTicks:o,horizontal:c,orientation:_,scale:k,tickClassName:Q,tickComponent:te,tickLabelProps:pe,tickStroke:U,tickTransform:Y,ticks:H,strokeWidth:R,tickLineProps:oe}),!a&&jt.createElement(Aw,{className:Ka("visx-axis-line",r),from:t,to:n,stroke:A,strokeWidth:R,strokeDasharray:L}),d&&jt.createElement(d4,ch({className:Ka("visx-axis-label",f)},EP({labelOffset:b,labelProps:ge,orientation:_,range:k.range(),tickLabelFontSize:V,tickLength:ne}),ge),d))}function PP(e,t){t===void 0&&(t="center");var r=e;if(t!=="start"&&"bandwidth"in r){var n=r.bandwidth();return t==="center"&&(n/=2),r.round()&&(n=Math.round(n)),function(a){var o=r(a);return typeof o=="number"?o+n:o}}return e}function LP(e){var t=e;return"tickFormat"in t?t.tickFormat():PA}var hg=(function(){function e(r){var n=r.x,a=n===void 0?0:n,o=r.y,c=o===void 0?0:o;this.x=0,this.y=0,this.x=a,this.y=c}var t=e.prototype;return t.value=function(){return{x:this.x,y:this.y}},t.toArray=function(){return[this.x,this.y]},e})();function bf(e,t){var r=e.x,n=e.y;return new hg(t?{x:r,y:n}:{x:n,y:r})}function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(this,arguments)}var Gm=0;function TP(e){return e===void 0&&(e=Gm),typeof e=="number"?{start:e,end:e}:fg({start:Gm,end:Gm},e)}var RP=["children","axisClassName","hideAxisLine","hideTicks","hideZero","innerRef","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pg.apply(this,arguments)}function OP(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function h4(e){var t=e.children,r=t===void 0?AP:t,n=e.axisClassName,a=e.hideAxisLine,o=a===void 0?!1:a,c=e.hideTicks,u=c===void 0?!1:c,d=e.hideZero,f=d===void 0?!1:d,p=e.innerRef,b=e.left,y=b===void 0?0:b,v=e.numTicks,_=v===void 0?10:v,k=e.orientation,E=k===void 0?ga.bottom:k,A=e.rangePadding,L=A===void 0?0:A,P=e.scale,R=e.tickFormat,Q=e.tickLength,te=Q===void 0?8:Q,oe=e.tickValues,se=e.top,W=se===void 0?0:se,ne=OP(e,RP),T=R??LP(P),U=E===ga.left,Y=E===ga.top,H=Y||E===ga.bottom,be=PP(P),we=U||Y?-1:1,ge=P.range(),ie=TP(L),pe=bf({x:Number(ge[0])+.5-ie.start,y:0},H),V=bf({x:Number(ge[ge.length-1])+.5+ie.end,y:0},H),ce=(oe??AA(P,_)).filter(function(J){return!f||J!==0&&J!=="0"}).map(function(J,ee){return{value:J,index:ee}}),I=ce.map(function(J){var ee=J.value,le=J.index,ue=CA(be(ee));return{value:ee,index:le,from:bf({x:ue,y:0},H),to:bf({x:ue,y:te*we},H),formattedValue:T(ee,le,ce)}});return jt.createElement(Np,{className:Ka("visx-axis",n),innerRef:p,top:W,left:y},r(pg({},ne,{axisFromPoint:pe,axisToPoint:V,hideAxisLine:o,hideTicks:u,hideZero:f,horizontal:H,numTicks:_,orientation:E,rangePadding:L,scale:P,tickFormat:T,tickLength:te,tickPosition:be,tickSign:we,ticks:I})))}var IP=["axisClassName","labelOffset","tickLength","tickLabelProps"];function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(this,arguments)}function MP(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var FP={dx:"-0.25em",dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"end"};function DP(e){var t=e.axisClassName,r=e.labelOffset,n=r===void 0?36:r,a=e.tickLength,o=a===void 0?8:a,c=e.tickLabelProps,u=MP(e,IP),d=typeof c=="function"?c:ip({},FP,c);return jt.createElement(h4,ip({axisClassName:Ka("visx-axis-left",t),labelOffset:n,orientation:ga.left,tickLabelProps:d,tickLength:o},u))}var qP=["axisClassName","labelOffset","tickLength","tickLabelProps"];function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ap.apply(this,arguments)}function UP(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var zP={dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"middle"};function BP(e){var t=e.axisClassName,r=e.labelOffset,n=r===void 0?8:r,a=e.tickLength,o=a===void 0?8:a,c=e.tickLabelProps,u=UP(e,qP),d=typeof c=="function"?c:ap({},zP,c);return jt.createElement(h4,ap({axisClassName:Ka("visx-axis-bottom",t),labelOffset:n,orientation:ga.bottom,tickLabelProps:d,tickLength:o},u))}var $P=["children","id","from","to","x1","y1","x2","y2","fromOffset","fromOpacity","toOffset","toOpacity","rotate","transform","vertical"];function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(this,arguments)}function VP(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function xg(e){var t=e.children,r=e.id,n=e.from,a=e.to,o=e.x1,c=e.y1,u=e.x2,d=e.y2,f=e.fromOffset,p=f===void 0?"0%":f,b=e.fromOpacity,y=b===void 0?1:b,v=e.toOffset,_=v===void 0?"100%":v,k=e.toOpacity,E=k===void 0?1:k,A=e.rotate,L=e.transform,P=e.vertical,R=P===void 0?!0:P,Q=VP(e,$P),te=o,oe=u,se=c,W=d;return R&&!te&&!oe&&!se&&!W&&(te="0",oe="0",se="0",W="1"),jt.createElement("defs",null,jt.createElement("linearGradient",mg({id:r,x1:te,y1:se,x2:oe,y2:W,gradientTransform:A?"rotate("+A+")":L},Q),!!t&&t,!t&&jt.createElement("stop",{offset:p,stopColor:n,stopOpacity:y}),!t&&jt.createElement("stop",{offset:_,stopColor:a,stopOpacity:E})))}xg.propTypes={id:Ct.string.isRequired,from:Ct.string,to:Ct.string,x1:Ct.oneOfType([Ct.string,Ct.number]),x2:Ct.oneOfType([Ct.string,Ct.number]),y1:Ct.oneOfType([Ct.string,Ct.number]),y2:Ct.oneOfType([Ct.string,Ct.number]),fromOffset:Ct.oneOfType([Ct.string,Ct.number]),fromOpacity:Ct.oneOfType([Ct.string,Ct.number]),toOffset:Ct.oneOfType([Ct.string,Ct.number]),toOpacity:Ct.oneOfType([Ct.string,Ct.number]),rotate:Ct.oneOfType([Ct.string,Ct.number]),transform:Ct.string,children:Ct.node,vertical:Ct.bool};var WP=["tooltipOpen"];function HP(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},op.apply(this,arguments)}function GP(e){var t=z.useState(op({tooltipOpen:!1},e)),r=t[0],n=t[1],a=z.useCallback(function(c){return n(typeof c=="function"?function(u){u.tooltipOpen;var d=HP(u,WP);return op({},c(d),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:c.tooltipLeft,tooltipTop:c.tooltipTop,tooltipData:c.tooltipData})},[n]),o=z.useCallback(function(){return n({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})},[n]);return{tooltipOpen:r.tooltipOpen,tooltipLeft:r.tooltipLeft,tooltipTop:r.tooltipTop,tooltipData:r.tooltipData,updateTooltip:n,showTooltip:a,hideTooltip:o}}var YP=["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"];function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(this,arguments)}function KP(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var Xg={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"},Qg=jt.forwardRef(function(e,t){var r=e.className,n=e.top,a=e.left,o=e.offsetLeft,c=o===void 0?10:o,u=e.offsetTop,d=u===void 0?10:u,f=e.style,p=f===void 0?Xg:f,b=e.children,y=e.unstyled,v=y===void 0?!1:y,_=e.applyPositionStyle,k=_===void 0?!1:_,E=KP(e,YP);return jt.createElement("div",lp({ref:t,className:Ka("visx-tooltip",r),style:lp({top:n==null||d==null?n:n+d,left:a==null||c==null?a:a+c},k&&{position:"absolute"},!v&&p)},E),b)});Qg.propTypes={children:Ct.node,className:Ct.string,left:Ct.number,offsetLeft:Ct.number,offsetTop:Ct.number,top:Ct.number,applyPositionStyle:Ct.bool,unstyled:Ct.bool};Qg.displayName="Tooltip";function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(this,arguments)}function JP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XP(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vg(e,t)}function vg(e,t){return vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vg(e,t)}var Bb={top:0,right:0,bottom:0,left:0,width:0,height:0};function QP(e){var t;return t=(function(r){XP(n,r);function n(o){var c;return c=r.call(this,o)||this,c.state={rect:void 0,parentRect:void 0},c.nodeRef=jt.createRef(),c.getRects=c.getRects.bind(JP(c)),c}var a=n.prototype;return a.componentDidMount=function(){var c,u=this;this.node=(c=this.nodeRef)!=null&&c.current?this.nodeRef.current:$y.findDOMNode(this),this.setState(function(){return u.getRects()})},a.getRects=function(){if(!this.node)return this.state;var c=this.node,u=c.parentNode,d=c.getBoundingClientRect?c.getBoundingClientRect():Bb,f=u!=null&&u.getBoundingClientRect?u.getBoundingClientRect():Bb;return{rect:d,parentRect:f}},a.render=function(){return jt.createElement(e,gg({nodeRef:this.nodeRef,getRects:this.getRects},this.state,this.props))},n})(jt.PureComponent),t.displayName="withBoundingRects("+(e.displayName||"")+")",t}var f4=z.createContext({isFlippedVertically:!1,isFlippedHorizontally:!1}),ZP=f4.Provider;f4.Consumer;var eL=["children","getRects","left","offsetLeft","offsetTop","parentRect","rect","style","top","unstyled","nodeRef"];function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(this,arguments)}function tL(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function p4(e){var t=e.children;e.getRects;var r=e.left,n=r===void 0?0:r,a=e.offsetLeft,o=a===void 0?10:a,c=e.offsetTop,u=c===void 0?10:c,d=e.parentRect,f=e.rect,p=e.style,b=p===void 0?Xg:p,y=e.top,v=y===void 0?0:y,_=e.unstyled,k=_===void 0?!1:_,E=e.nodeRef,A=tL(e,eL),L,P=!1,R=!1;if(f&&d){var Q=n,te=v;if(d.width){var oe=Q+o+f.width-d.width,se=f.width-Q-o;P=oe>0&&oe>se}else{var W=Q+o+f.width-window.innerWidth,ne=f.width-Q-o;P=W>0&&W>ne}if(d.height){var T=te+u+f.height-d.height,U=f.height-te-u;R=T>0&&T>U}else R=te+u+f.height>window.innerHeight;Q=P?Q-f.width-o:Q+o,te=R?te-f.height-u:te+u,Q=Math.round(Q),te=Math.round(te),L="translate("+Q+"px, "+te+"px)"}return jt.createElement(Qg,cp({ref:E,style:cp({left:0,top:0,transform:L},!k&&b)},A),jt.createElement(ZP,{value:{isFlippedVertically:!R,isFlippedHorizontally:!P}},t))}p4.propTypes={nodeRef:Ct.oneOfType([Ct.string,Ct.func,Ct.object])};const rL=QP(p4);function nL(e){return!!e&&e instanceof Element}function sL(e){return!!e&&(e instanceof SVGElement||"ownerSVGElement"in e)}function iL(e){return!!e&&"createSVGPoint"in e}function aL(e){return!!e&&"getScreenCTM"in e}function oL(e){return!!e&&"changedTouches"in e}function lL(e){return!!e&&"clientX"in e}function cL(e){return!!e&&(e instanceof Event||"nativeEvent"in e&&e.nativeEvent instanceof Event)}function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uh.apply(this,arguments)}var Ym={x:0,y:0};function uL(e){if(!e)return uh({},Ym);if(oL(e))return e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:uh({},Ym);if(lL(e))return{x:e.clientX,y:e.clientY};var t=e==null?void 0:e.target,r=t&&"getBoundingClientRect"in t?t.getBoundingClientRect():null;return r?{x:r.x+r.width/2,y:r.y+r.height/2}:uh({},Ym)}function $b(e,t){if(!e||!t)return null;var r=uL(t),n=sL(e)?e.ownerSVGElement:e,a=aL(n)?n.getScreenCTM():null;if(iL(n)&&a){var o=n.createSVGPoint();return o.x=r.x,o.y=r.y,o=o.matrixTransform(a.inverse()),new hg({x:o.x,y:o.y})}var c=e.getBoundingClientRect();return new hg({x:r.x-c.left-e.clientLeft,y:r.y-c.top-e.clientTop})}function dL(e,t){if(nL(e)&&t)return $b(e,t);if(cL(e)){var r=e,n=r.target;if(n)return $b(n,r)}return null}var Km,Vb;function hL(){if(Vb)return Km;Vb=1;var e=Pp(),t=function(){return e.Date.now()};return Km=t,Km}var Jm,Wb;function fL(){if(Wb)return Jm;Wb=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Jm=t,Jm}var Xm,Hb;function pL(){if(Hb)return Xm;Hb=1;var e=fL(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Xm=r,Xm}var Qm,Gb;function mL(){if(Gb)return Qm;Gb=1;function e(t){return t!=null&&typeof t=="object"}return Qm=e,Qm}var Zm,Yb;function xL(){if(Yb)return Zm;Yb=1;var e=c4(),t=mL(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return Zm=n,Zm}var ex,Kb;function gL(){if(Kb)return ex;Kb=1;var e=pL(),t=Lp(),r=xL(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var b=o.test(f);return b||c.test(f)?u(f.slice(2),b?2:8):a.test(f)?n:+f}return ex=d,ex}var tx,Jb;function vL(){if(Jb)return tx;Jb=1;var e=Lp(),t=hL(),r=gL(),n="Expected a function",a=Math.max,o=Math.min;function c(u,d,f){var p,b,y,v,_,k,E=0,A=!1,L=!1,P=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,e(f)&&(A=!!f.leading,L="maxWait"in f,y=L?a(r(f.maxWait)||0,d):y,P="trailing"in f?!!f.trailing:P);function R(Y){var H=p,be=b;return p=b=void 0,E=Y,v=u.apply(be,H),v}function Q(Y){return E=Y,_=setTimeout(se,d),A?R(Y):v}function te(Y){var H=Y-k,be=Y-E,we=d-H;return L?o(we,y-be):we}function oe(Y){var H=Y-k,be=Y-E;return k===void 0||H>=d||H<0||L&&be>=y}function se(){var Y=t();if(oe(Y))return W(Y);_=setTimeout(se,te(Y))}function W(Y){return _=void 0,P&&p?R(Y):(p=b=void 0,v)}function ne(){_!==void 0&&clearTimeout(_),E=0,p=k=b=_=void 0}function T(){return _===void 0?v:W(t())}function U(){var Y=t(),H=oe(Y);if(p=arguments,b=this,k=Y,H){if(_===void 0)return Q(k);if(L)return clearTimeout(_),_=setTimeout(se,d),R(k)}return _===void 0&&(_=setTimeout(se,d)),v}return U.cancel=ne,U.flush=T,U}return tx=c,tx}var bL=vL();const yL=kc(bL);function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(this,arguments)}var wL=[],Xb={width:0,height:0,top:0,left:0};function NL(e){var t=e===void 0?{}:e,r=t.initialSize,n=r===void 0?Xb:r,a=t.debounceTime,o=a===void 0?300:a,c=t.ignoreDimensions,u=c===void 0?wL:c,d=t.enableDebounceLeadingCall,f=d===void 0?!0:d,p=t.resizeObserverPolyfill,b=z.useRef(null),y=z.useRef(0),v=z.useState(up({},Xb,n)),_=v[0],k=v[1],E=z.useMemo(function(){var A=Array.isArray(u)?u:[u];return yL(function(L){k(function(P){var R=Object.keys(P),Q=R.filter(function(oe){return P[oe]!==L[oe]}),te=Q.every(function(oe){return A.includes(oe)});return te?P:L})},o,{leading:f})},[o,f,u]);return z.useEffect(function(){var A=p||window.ResizeObserver,L=new A(function(P){P.forEach(function(R){var Q,te=(Q=R==null?void 0:R.contentRect)!=null?Q:{},oe=te.left,se=te.top,W=te.width,ne=te.height;y.current=window.requestAnimationFrame(function(){E({width:W,height:ne,top:se,left:oe})})})});return b.current&&L.observe(b.current),function(){window.cancelAnimationFrame(y.current),L.disconnect(),E.cancel()}},[E,p]),up({parentRef:b,resize:E},_)}var jL=["className","children","debounceTime","ignoreDimensions","initialSize","parentSizeStyles","enableDebounceLeadingCall","resizeObserverPolyfill"],_L=["parentRef","resize"];function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(this,arguments)}function Qb(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var SL={width:"100%",height:"100%"};function m4(e){var t=e.className,r=e.children,n=e.debounceTime,a=e.ignoreDimensions,o=e.initialSize,c=e.parentSizeStyles,u=c===void 0?SL:c,d=e.enableDebounceLeadingCall,f=d===void 0?!0:d,p=e.resizeObserverPolyfill,b=Qb(e,jL),y=NL({initialSize:o,debounceTime:n,ignoreDimensions:a,enableDebounceLeadingCall:f,resizeObserverPolyfill:p}),v=y.parentRef,_=y.resize,k=Qb(y,_L);return jt.createElement("div",dp({style:u,ref:v,className:t},b),r(dp({},k,{ref:v.current,resize:_})))}m4.propTypes={className:Ct.string,children:Ct.func.isRequired};const il={securedStart:"#10B981",securedEnd:"#064E3B",securedStroke:"#34D399",exposedStart:"#EF4444",exposedEnd:"#7F1D1D",exposedStroke:"#F87171",axis:"#9CA3AF",grid:"#FFFFFF10",tooltipBg:"#0F172A"},Zb=Jg("%Y"),al=e=>new Date(e.date),Zu=e=>e.securedCA,rx=e=>e.exposedCA,nx=e=>e.securedCA+e.exposedCA,kL=jp(e=>new Date(e.date)).left,EL=({data:e,width:t,height:r})=>{const n={top:40,right:30,bottom:50,left:60},a=t-n.left-n.right,o=r-n.top-n.bottom,{showTooltip:c,hideTooltip:u,tooltipData:d,tooltipTop:f=0,tooltipLeft:p=0}=GP(),b=z.useMemo(()=>EA({domain:UE(e,al),range:[0,a]}),[e,a]),y=z.useMemo(()=>SA({domain:[0,(WE(e,nx)||1e3)*1.1],range:[o,0],nice:!0}),[e,o]),v=z.useCallback(_=>{const{x:k}=dL(_)||{x:0},E=b.invert(k-n.left),A=kL(e,E,1),L=e[A-1],P=e[A];let R=L;P&&al(P)&&(R=E.valueOf()-al(L).valueOf()>al(P).valueOf()-E.valueOf()?P:L),R&&c({tooltipData:R,tooltipLeft:b(al(R))+n.left,tooltipTop:y(nx(R))+n.top})},[c,b,y,e,n]);return t<10?null:s.jsxs(s.Fragment,{children:[s.jsxs("svg",{width:t,height:r,children:[s.jsxs("defs",{children:[s.jsx(xg,{id:"gradient-secured",from:il.securedStart,to:il.securedEnd,fromOpacity:.6,toOpacity:.05}),s.jsx(xg,{id:"gradient-exposed",from:il.exposedStart,to:il.exposedEnd,fromOpacity:.6,toOpacity:.05}),s.jsxs("filter",{id:"glow-secured",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[s.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),s.jsxs("feMerge",{children:[s.jsx("feMergeNode",{in:"coloredBlur"}),s.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),s.jsxs("filter",{id:"glow-exposed",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[s.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),s.jsxs("feMerge",{children:[s.jsx("feMergeNode",{in:"coloredBlur"}),s.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),s.jsxs(Np,{left:n.left,top:n.top,children:[y.ticks(5).map((_,k)=>s.jsx("line",{x1:0,x2:a,y1:y(_),y2:y(_),stroke:il.grid,strokeDasharray:"4 4"},`line-${_}-${k}`)),s.jsx(h2,{data:e,x:_=>b(al(_)),y:_=>y(Zu(_)),yScale:y,stroke:"transparent",fill:"url(#gradient-secured)",curve:mf}),s.jsx(d2,{data:e,x:_=>b(al(_)),y:_=>y(Zu(_)),stroke:il.securedStroke,strokeWidth:3,curve:mf,filter:"url(#glow-secured)"}),s.jsx(h2,{data:e,x:_=>b(al(_)),y0:_=>y(Zu(_)),y1:_=>y(Zu(_)+rx(_)),yScale:y,stroke:"transparent",fill:"url(#gradient-exposed)",curve:mf}),s.jsx(d2,{data:e,x:_=>b(al(_)),y:_=>y(Zu(_)+rx(_)),stroke:il.exposedStroke,strokeWidth:3,curve:mf,filter:"url(#glow-exposed)"}),s.jsx(BP,{top:o,scale:b,stroke:"transparent",tickStroke:"transparent",numTicks:t>500?10:5,tickLabelProps:()=>({fill:il.axis,fontSize:10,textAnchor:"middle",fontFamily:"sans-serif",fontWeight:600}),tickFormat:_=>Zb(_)}),s.jsx(DP,{scale:y,stroke:"transparent",tickStroke:"transparent",numTicks:5,tickLabelProps:()=>({fill:il.axis,fontSize:10,textAnchor:"end",dx:-5,dy:3,fontFamily:"sans-serif",fontWeight:600}),tickFormat:_=>`${(_/1e3).toFixed(0)}k`}),s.jsx(OE,{x:0,y:0,width:a,height:o,fill:"transparent",rx:14,onTouchStart:v,onTouchMove:v,onMouseMove:v,onMouseLeave:()=>u()}),d&&s.jsx("line",{x1:p-n.left,x2:p-n.left,y1:0,y2:o,stroke:"white",strokeOpacity:.2,strokeWidth:1,pointerEvents:"none"})]})]}),d&&s.jsx(rL,{top:f,left:p,style:{...Xg,backgroundColor:il.tooltipBg,color:"white",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",padding:"12px",boxShadow:"0 10px 30px -10px rgba(0,0,0,0.5)"},children:s.jsxs("div",{className:"flex flex-col gap-1 min-w-[140px]",children:[s.jsx("div",{className:"text-xs font-bold text-slate-400 mb-1 uppercase tracking-wider",children:Zb(al(d))}),s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-xs text-red-300 font-medium",children:" Risque"}),s.jsxs("span",{className:"text-sm font-black text-red-400",children:[rx(d).toLocaleString()," "]})]}),s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-xs text-emerald-300 font-medium",children:"Scuris"}),s.jsxs("span",{className:"text-sm font-black text-emerald-400",children:[Zu(d).toLocaleString()," "]})]}),s.jsx("div",{className:"h-[1px] bg-white/10 my-1"}),s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-xs text-white font-bold",children:"TOTAL"}),s.jsxs("span",{className:"text-sm font-black text-white",children:[nx(d).toLocaleString()," "]})]})]})})]})},CL=({data:e})=>s.jsx("div",{className:"w-full h-[350px] relative font-sans",children:s.jsx(m4,{children:({width:t,height:r})=>s.jsx(EL,{data:e,width:t,height:r})})}),Fn=({id:e,title:t,icon:r,children:n,defaultOpen:a=!1,onOpen:o,onClose:c,forceOpen:u})=>{const[d,f]=z.useState(a),[p,b]=z.useState(a||u);z.useEffect(()=>{u&&(f(!0),b(!0))},[u]);const y=()=>{const v=!d;!v&&c&&c(e)===!1||(v&&(b(!0),o&&o(e)),f(v))};return s.jsxs("div",{id:e,className:"bg-black/20 backdrop-blur-sm border border-white/5 rounded-2xl overflow-hidden mb-4",children:[s.jsxs("button",{onClick:y,className:"w-full flex items-center justify-between p-4 hover:bg-white/5 transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-white/5 rounded-lg group-hover:bg-white/10 transition-colors",children:r}),s.jsx("h3",{className:"text-lg font-black text-white uppercase tracking-tight text-left",children:t})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"hidden sm:inline text-xs text-slate-500 font-mono",children:["#",e]}),s.jsx(Mg,{className:`text-slate-400 transition-transform duration-300 ${d?"rotate-180":""}`,size:20})]})]}),p&&s.jsx("div",{className:`transition-all duration-300 ease-in-out ${d?"max-h-[5000px] opacity-100":"max-h-0 opacity-0"} overflow-hidden`,children:s.jsx("div",{className:"p-4 pt-0",children:n})})]})},Qe=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(e),ed=e=>new Intl.NumberFormat("fr-FR").format(e),e5=({checked:e,onChange:t,labelOn:r,labelOff:n})=>s.jsxs("div",{className:"flex items-center gap-3 bg-black/60 backdrop-blur-md p-1 rounded-full border border-white/10",children:[s.jsx("button",{onClick:()=>t(!1),className:`px-3 py-1 rounded-full text-xs font-bold transition-all ${e?"text-slate-500 hover:text-slate-300":"bg-slate-700 text-white shadow-sm"}`,children:n}),s.jsx("button",{onClick:()=>t(!0),className:`px-3 py-1 rounded-full text-xs font-bold transition-all ${e?"bg-blue-600 text-white shadow-sm":"text-slate-500 hover:text-slate-300"}`,children:r})]}),ua=({label:e,value:t,setValue:r,unit:n,sublabel:a,icon:o,min:c=0,step:u=1,disabled:d=!1})=>s.jsxs("div",{className:`bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-4 flex flex-col justify-between relative overflow-hidden group transition-all duration-300 hover:border-white/30 hover:shadow-[0_0_20px_rgba(255,255,255,0.1)] ${d?"opacity-50 pointer-events-none":""}`,children:[s.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none",style:{backgroundImage:"linear-gradient(0deg, rgba(255,255,255,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),s.jsx("div",{className:"relative z-10 flex justify-between items-start mb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[o&&s.jsx("span",{className:"opacity-80",children:o}),s.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:e})]})}),s.jsxs("div",{className:"relative z-10 flex items-end gap-2",children:[s.jsx("input",{type:"number",value:t,onChange:f=>r(parseFloat(f.target.value)||0),className:"bg-transparent text-2xl font-bold text-white outline-none w-full appearance-none m-0 p-0 leading-none placeholder-slate-700",step:u,min:c,disabled:d}),n&&s.jsx("span",{className:"text-slate-500 font-bold text-sm mb-1",children:n}),!d&&s.jsxs("div",{className:"flex flex-col gap-0.5 absolute right-0 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-black/60 p-1 rounded border border-white/10",children:[s.jsx("button",{onClick:()=>r(parseFloat((t+u).toFixed(2))),className:"text-slate-500 hover:text-white",children:s.jsx(r_,{size:16})}),s.jsx("button",{onClick:()=>r(parseFloat(Math.max(c,t-u).toFixed(2))),className:"text-slate-500 hover:text-white",children:s.jsx(Mg,{size:16})})]})]}),a&&s.jsx("div",{className:"relative z-10 h-4 mt-2",children:s.jsx("p",{className:"text-[10px] text-slate-600 truncate",children:a})})]}),AL=({taux:e,mensualite:t,duree:r,montantFinance:n,hasPromoCode:a})=>{var b,y,v;const o=Px({amount:n,rate:e,duration:r});if(e!==1.99||!a)return null;const c=((b=o.marketComparison)==null?void 0:b.marketRate)||5.89,u=((y=o.marketComparison)==null?void 0:y.savings)||0,d=((v=o.marketComparison)==null?void 0:v.marketMonthlyPayment)||0,f=3.89,p=Px({amount:n,rate:f,duration:r});return s.jsxs("div",{className:"bg-zinc-900/40 border border-white/10 rounded-xl p-8 my-8",children:[s.jsx("div",{className:"border-b border-white/10 pb-6 mb-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:gd.financial.bonified_rate_title}),s.jsxs("p",{className:"text-xs text-slate-500 font-mono uppercase tracking-wider",children:["Rfrence Dossier : EDF-SOL-",new Date().getFullYear(),"-",Math.random().toString(36).substr(2,6).toUpperCase()]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Date d'mission"}),s.jsx("div",{className:"text-sm font-mono text-white",children:new Date().toLocaleDateString("fr-FR")})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-5",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:"Taux Annuel Effectif Global (TAEG)"}),s.jsx("div",{className:"text-5xl font-black text-white font-mono tabular-nums mb-1",children:xa(e)}),s.jsx("div",{className:"text-xs text-emerald-400 font-mono",children:" Taux bonifi valid"})]}),s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-5",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:"Mensualit (Hors Assurance)"}),s.jsx("div",{className:"text-5xl font-black text-white font-mono tabular-nums mb-1",children:nn(o.monthlyPayment)}),s.jsxs("div",{className:"text-xs text-slate-400 font-mono",children:["sur ",r," mois"]})]}),s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-5",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:gd.financial.market_comparison_title}),s.jsx("div",{className:"text-5xl font-black text-white font-mono tabular-nums mb-1",children:nn(u)}),s.jsxs("div",{className:"text-xs text-slate-400 font-mono",children:["vs taux march ",xa(c)]})]})]}),s.jsx("div",{className:"bg-black/20 border border-white/5 rounded-lg overflow-hidden mb-6",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-white/5 border-b border-white/10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Paramtre"}),s.jsx("th",{className:"text-right p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Taux March"}),s.jsx("th",{className:"text-right p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Taux Bonifi Standard"}),s.jsx("th",{className:"text-right p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Taux Bonifi Privilgi"})]})}),s.jsxs("tbody",{className:"font-mono",children:[s.jsxs("tr",{className:"border-b border-white/5",children:[s.jsx("td",{className:"p-4 text-slate-300",children:"TAEG"}),s.jsx("td",{className:"p-4 text-right text-red-400",children:xa(c)}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:xa(f)}),s.jsx("td",{className:"p-4 text-right text-emerald-400 font-bold",children:xa(e)})]}),s.jsxs("tr",{className:"border-b border-white/5",children:[s.jsx("td",{className:"p-4 text-slate-300",children:"Mensualit"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:nn(d)}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:nn(p.monthlyPayment)}),s.jsx("td",{className:"p-4 text-right text-white font-bold",children:nn(o.monthlyPayment)})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-4 text-slate-300",children:"Cot Total Crdit"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:nn(d*r)}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:nn(p.monthlyPayment*r)}),s.jsx("td",{className:"p-4 text-right text-white font-bold",children:nn(o.monthlyPayment*r)})]}),s.jsxs("tr",{className:"bg-emerald-950/20",children:[s.jsx("td",{className:"p-4 text-slate-300 font-bold",children:"conomie Totale"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:""}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:""}),s.jsx("td",{className:"p-4 text-right text-emerald-400 font-bold",children:nn(u)})]})]})]})}),s.jsxs("div",{className:"border-t border-white/5 pt-4 flex items-start justify-between text-[10px] text-slate-600 font-mono",children:[s.jsxs("div",{children:[s.jsx("p",{className:"mb-1",children:gd.financial.legal_mention}),s.jsxs("p",{children:["Offre valable jusqu'au"," ",new Date(Date.now()+3*864e5).toLocaleDateString("fr-FR")," ","inclus"]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"font-bold text-slate-500",children:"EDF SOLUTIONS SOLAIRES"})})]})]})},PL=({taux:e,mensualite:t,duree:r,montantFinance:n,hasPromoCode:a})=>{var f,p,b;const o=Px({amount:n,rate:e,duration:r});if(e!==3.89||!a)return null;const c=((f=o.marketComparison)==null?void 0:f.marketRate)||5.89,u=((p=o.marketComparison)==null?void 0:p.savings)||0,d=((b=o.marketComparison)==null?void 0:b.marketMonthlyPayment)||0;return s.jsxs("div",{className:"bg-zinc-900/40 border border-white/10 rounded-xl p-8 my-8",children:[s.jsx("div",{className:"border-b border-white/10 pb-6 mb-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:gd.financial.standard_rate_title}),s.jsxs("p",{className:"text-xs text-slate-500 font-mono uppercase tracking-wider",children:["Rfrence Dossier : EDF-SOL-",new Date().getFullYear(),"-",Math.random().toString(36).substr(2,6).toUpperCase()]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Date d'mission"}),s.jsx("div",{className:"text-sm font-mono text-white",children:new Date().toLocaleDateString("fr-FR")})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-5",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:"Taux Annuel Effectif Global (TAEG)"}),s.jsx("div",{className:"text-5xl font-black text-white font-mono tabular-nums mb-1",children:xa(e)}),s.jsx("div",{className:"text-xs text-emerald-400 font-mono",children:" Taux bonifi valid"})]}),s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-5",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:"Mensualit (Hors Assurance)"}),s.jsx("div",{className:"text-5xl font-black text-white font-mono tabular-nums mb-1",children:nn(o.monthlyPayment)}),s.jsxs("div",{className:"text-xs text-slate-400 font-mono",children:["sur ",r," mois"]})]}),s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-5",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:gd.financial.market_comparison_title}),s.jsx("div",{className:"text-5xl font-black text-white font-mono tabular-nums mb-1",children:nn(u)}),s.jsxs("div",{className:"text-xs text-slate-400 font-mono",children:["vs march ",xa(c)]})]})]}),s.jsx("div",{className:"bg-black/20 border border-white/5 rounded-lg overflow-hidden mb-6",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-white/5 border-b border-white/10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Paramtre"}),s.jsx("th",{className:"text-right p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Taux March"}),s.jsx("th",{className:"text-right p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Taux Bonifi Standard"})]})}),s.jsxs("tbody",{className:"font-mono",children:[s.jsxs("tr",{className:"border-b border-white/5",children:[s.jsx("td",{className:"p-4 text-slate-300",children:"TAEG"}),s.jsx("td",{className:"p-4 text-right text-red-400",children:xa(c)}),s.jsx("td",{className:"p-4 text-right text-emerald-400 font-bold",children:xa(e)})]}),s.jsxs("tr",{className:"border-b border-white/5",children:[s.jsx("td",{className:"p-4 text-slate-300",children:"Mensualit"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:nn(d)}),s.jsx("td",{className:"p-4 text-right text-white font-bold",children:nn(o.monthlyPayment)})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-4 text-slate-300",children:"Cot Total Crdit"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:nn(d*r)}),s.jsx("td",{className:"p-4 text-right text-white font-bold",children:nn(o.monthlyPayment*r)})]}),s.jsxs("tr",{className:"bg-emerald-950/20",children:[s.jsx("td",{className:"p-4 text-slate-300 font-bold",children:"conomie Totale"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:""}),s.jsx("td",{className:"p-4 text-right text-emerald-400 font-bold",children:nn(u)})]})]})]})}),s.jsx("div",{className:"bg-blue-950/10 border border-blue-500/10 rounded-lg p-5 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx(qs,{className:"text-blue-400 flex-shrink-0 mt-0.5",size:18}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-white mb-3",children:"Conditions d'Accs Valides"}),s.jsxs("div",{className:"space-y-2 text-xs text-slate-300",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),s.jsx("span",{children:"Zone gographique ligible (06 - Alpes-Maritimes)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),s.jsx("span",{children:"Installation conforme RGE et normes NFC 15-100"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),s.jsx("span",{children:"Dossier valid selon critres d'ligibilit"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),s.jsxs("span",{children:["Programme actif au ",new Date().toLocaleDateString("fr-FR")]})]})]})]})]})}),s.jsxs("div",{className:"border-t border-white/5 pt-4 flex items-start justify-between text-[10px] text-slate-600 font-mono",children:[s.jsxs("div",{children:[s.jsx("p",{className:"mb-1",children:gd.financial.legal_mention}),s.jsxs("p",{children:["Offre valable jusqu'au"," ",new Date(Date.now()+3*864e5).toLocaleDateString("fr-FR")," ","inclus"]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"font-bold text-slate-500",children:"EDF SOLUTIONS SOLAIRES"})})]})]})},LL=({taux:e,mensualite:t,duree:r,montantFinance:n,hasPromoCode:a})=>{if(e!==.99||!a)return null;const o=5.89,c=3.89,u=n*(o/12/100)/(1-Math.pow(1+o/12/100,-r)),d=n*(c/12/100)/(1-Math.pow(1+c/12/100,-r)),f=Math.abs((u-t)*r);return s.jsxs("div",{className:"bg-zinc-900/40 border border-white/10 rounded-xl p-8 my-8",children:[s.jsx("div",{className:"border-b border-white/10 pb-6 mb-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Financement Exceptionnel"}),s.jsxs("p",{className:"text-xs text-slate-500 font-mono uppercase tracking-wider",children:["Rfrence Dossier : EDF-SOL-",new Date().getFullYear(),"-",Math.random().toString(36).substr(2,6).toUpperCase()]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Date d'mission"}),s.jsx("div",{className:"text-sm font-mono text-white",children:new Date().toLocaleDateString("fr-FR")})]})]})}),s.jsx("div",{className:"bg-blue-950/10 border border-blue-500/10 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-xs text-slate-300 leading-relaxed",children:"Ce dossier bnficie d'un taux prfrentiel exceptionnel dans le cadre de votre ligibilit aux conditions spcifiques du programme."})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-4",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:"TAEG"}),s.jsx("div",{className:"text-4xl font-black text-white font-mono tabular-nums",children:xa(e)}),s.jsx("div",{className:"text-xs text-emerald-400 font-mono mt-1",children:" Valid"})]}),s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-4",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:"Mensualit"}),s.jsx("div",{className:"text-4xl font-black text-white font-mono tabular-nums",children:nn(t)}),s.jsxs("div",{className:"text-xs text-slate-400 font-mono mt-1",children:["sur ",r," mois"]})]}),s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-4",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:"conomie"}),s.jsx("div",{className:"text-4xl font-black text-white font-mono tabular-nums",children:nn(f)})]}),s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-4",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:"Dure"}),s.jsxs("div",{className:"text-4xl font-black text-white font-mono tabular-nums",children:[r/12," ans"]})]})]}),s.jsx("div",{className:"bg-black/20 border border-white/5 rounded-lg overflow-hidden mb-6",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-white/5 border-b border-white/10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Paramtre"}),s.jsx("th",{className:"text-right p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Taux March"}),s.jsx("th",{className:"text-right p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Taux Bonifi Standard"}),s.jsx("th",{className:"text-right p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Taux Exceptionnel"})]})}),s.jsxs("tbody",{className:"font-mono",children:[s.jsxs("tr",{className:"border-b border-white/5",children:[s.jsx("td",{className:"p-4 text-slate-300",children:"TAEG"}),s.jsx("td",{className:"p-4 text-right text-red-400",children:xa(o)}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:xa(c)}),s.jsx("td",{className:"p-4 text-right text-emerald-400 font-bold",children:xa(e)})]}),s.jsxs("tr",{className:"border-b border-white/5",children:[s.jsx("td",{className:"p-4 text-slate-300",children:"Mensualit"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:nn(u)}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:nn(d)}),s.jsx("td",{className:"p-4 text-right text-white font-bold",children:nn(t)})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-4 text-slate-300",children:"Cot Total Crdit"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:nn(u*r)}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:nn(d*r)}),s.jsx("td",{className:"p-4 text-right text-white font-bold",children:nn(t*r)})]}),s.jsxs("tr",{className:"bg-emerald-950/20",children:[s.jsx("td",{className:"p-4 text-slate-300 font-bold",children:"conomie Totale"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:""}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:""}),s.jsx("td",{className:"p-4 text-right text-emerald-400 font-bold",children:nn(f)})]})]})]})}),s.jsx("div",{className:"bg-blue-950/10 border border-blue-500/10 rounded-lg p-5 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx(qs,{className:"text-blue-400 flex-shrink-0 mt-0.5",size:18}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-white mb-3",children:"Conditions d'Accs Valides"}),s.jsxs("div",{className:"space-y-2 text-xs text-slate-300",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),s.jsx("span",{children:"Zone gographique ligible (06 - Alpes-Maritimes)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),s.jsx("span",{children:"Installation conforme RGE et normes NFC 15-100"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),s.jsx("span",{children:"Dossier valid selon critres d'ligibilit"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),s.jsxs("span",{children:["Programme actif au ",new Date().toLocaleDateString("fr-FR")]})]})]})]})]})}),s.jsxs("div",{className:"border-t border-white/5 pt-4 flex items-start justify-between text-[10px] text-slate-600 font-mono",children:[s.jsxs("div",{children:[s.jsx("p",{className:"mb-1",children:"Document non contractuel - Sous rserve d'acceptation du dossier"}),s.jsxs("p",{children:["Offre valable jusqu'au"," ",new Date(Date.now()+3*864e5).toLocaleDateString("fr-FR")," ","inclus"]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"font-bold text-slate-500",children:"EDF SOLUTIONS SOLAIRES"})})]})]})},pc={cadreEDF:{senior:{title:"Un cadre public de confiance",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"EDF est dtenu  100 % par ltat franais."}),s.jsx("p",{className:"mb-2",children:"Cela garantit stabilit, continuit et protection dans le temps."}),s.jsx("p",{className:"text-slate-300",children:"Votre projet sinscrit dans un cadre public durable."})]})},banquier:{title:"Un acteur public structurant",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"EDF est un groupe public soumis  des obligations dtat."}),s.jsx("p",{className:"mb-2",children:"Continuit, cadre rglementaire, responsabilit long terme."}),s.jsx("p",{className:"text-slate-300",children:"Votre projet repose sur un acteur institutionnel."})]})},standard:{title:"Ce que signifie  Groupe EDF ",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"EDF appartient  ltat franais."}),s.jsx("p",{className:"mb-2",children:"Ce nest pas une socit prive opportuniste."}),s.jsx("p",{className:"text-slate-300",children:"Votre projet dpend dun cadre solide, fait pour durer."})]})}},zeroFaillite:{senior:{title:"Une continuit garantie",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Sur un projet long terme, le risque principal est la disparition de lacteur."}),s.jsx("p",{className:"text-slate-300",children:"Le cadre EDF protge votre tranquillit future."})]})},banquier:{title:"Un risque structurel neutralis",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Le premier risque dun actif long terme est la contrepartie."}),s.jsx("p",{className:"text-slate-300",children:"EDF neutralise ce risque par son statut public."})]})},standard:{title:"Pourquoi cest important",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Sur 20 ans, le vrai risque nest pas le matriel."}),s.jsx("p",{className:"text-slate-300",children:"Cest que lentreprise nexiste plus. Avec EDF, ce risque nexiste pas."})]})}},contrat:{senior:{title:"Un cadre juridique protecteur",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Votre contrat est encadr par la loi."}),s.jsx("p",{className:"text-slate-300",children:"Il protge vos droits et scurise votre engagement."})]})},banquier:{title:"Un cadre contractuel norm",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Contrat, dlais, conditions : tout est norm."}),s.jsx("p",{className:"text-slate-300",children:"Vous tes dans un cadre juridique structur."})]})},standard:{title:"Ce que a veut dire concrtement",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Ce nest pas un bon de commande flou."}),s.jsx("p",{className:"text-slate-300",children:"Cest un contrat protg par la loi."})]})}},aides:{senior:{title:"Des aides encadres par ltat",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Les aides sont dfinies et verses par ltat."}),s.jsx("p",{className:"text-slate-300",children:"Elles ne dpendent pas dune entreprise prive."})]})},banquier:{title:"Un cadre public national",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Aides dfinies par arrt, verses par organismes publics."}),s.jsx("p",{className:"text-slate-300",children:"Cadre national, non commercial."})]})},standard:{title:"Pourquoi elles sont fiables",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Les aides viennent de ltat, pas dEDF."}),s.jsx("p",{className:"text-slate-300",children:"Elles sont les mmes partout en France."})]})}}},td={engagement:{senior:{title:" Engagement de protection",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"EDF prend contractuellement le risque administratif  sa charge."}),s.jsx("p",{children:"Si une autorisation est refuse, le projet s'arrte sans frais."}),s.jsx("p",{children:"Vous engagez un cadre scuris, pas une procdure incertaine."}),s.jsx("p",{children:"Vous restez protg  chaque tape."})]})},banquier:{title:" Transfert de risque",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Le risque administratif et rglementaire est port par EDF."}),s.jsx("p",{children:"Tant que le projet n'est pas valid, aucun engagement financier n'est d."}),s.jsx("p",{children:"Le cadre est contractuel et opposable."})]})},standard:{title:" Zro risque de blocage",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Si l'installation ne peut pas se faire, le projet s'arrte simplement."}),s.jsx("p",{children:"Aucun paiement d."}),s.jsx("p",{children:"Aucune perte."}),s.jsx("p",{children:"Aucune dmarche  grer."})]})}},paiement:{senior:{title:" Engagement sans pression",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Vous ne payez rien tant que tout n'est pas valid, autoris et planifi."}),s.jsx("p",{children:"Vous ne prenez pas de risque irrversible aujourd'hui."}),s.jsx("p",{children:"Vous enclenchez un cadre protg."})]})},banquier:{title:" Condition suspensive",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Le contrat inclut des conditions suspensives administratives."}),s.jsx("p",{children:"Sans validation du dossier, aucune obligation financire n'est dclenche."})]})},standard:{title:" Paiement  la validation",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Tant que ce n'est pas autoris, vous ne payez rien."}),s.jsx("p",{children:"Vous avancez seulement quand tout est clair."})]})}},priseEnCharge:{senior:{title:" Accompagnement complet",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"EDF gre l'ensemble du dossier."}),s.jsx("p",{children:"Vous n'avez ni formulaires  suivre, ni dmarches  coordonner, ni interlocuteurs  chercher."}),s.jsx("p",{children:"Vous tes accompagn."})]})},banquier:{title:" Pilotage EDF",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Le projet est centralis, pilot et suivi par EDF."}),s.jsx("p",{children:"Chaque tape est trace, valide et contractualise."})]})},standard:{title:" EDF s'occupe de tout",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Mairie, ENEDIS, autorisations, suivi : EDF gre."}),s.jsx("p",{children:"Vous validez seulement quand c'est ncessaire."})]})}}},rd={cadre:{senior:{title:" Dlgation scurise",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"EDF prend la responsabilit complte du parcours administratif."}),s.jsx("p",{children:"Vous ntes jamais seul face aux dmarches."}),s.jsx("p",{children:"Chaque tape est encadre, vrifie et scurise."})]})},banquier:{title:" Pilotage administratif",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Le processus est intgralement structur et pilot par EDF."}),s.jsx("p",{children:"Chaque tape fait lobjet dun contrle et dune validation formelle."}),s.jsx("p",{children:"Le projet reste sous gouvernance EDF du dbut  la fin."})]})},standard:{title:" EDF soccupe du parcours",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"EDF gre tout le volet administratif."}),s.jsx("p",{children:"Vous navez pas  vous battre avec des formulaires ou des organismes."}),s.jsx("p",{children:"Vous validez seulement quand cest utile."})]})}},complexite:{senior:{title:" Complexit matrise",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Le nombre dtapes peut sembler important."}),s.jsx("p",{children:"Mais elles sont gres, planifies et suivies par EDF."}),s.jsx("p",{children:"Vous tes accompagn  chaque moment cl."})]})},banquier:{title:" Processus encadr",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Le volume dtapes correspond aux exigences rglementaires."}),s.jsx("p",{children:"Elles sont standardises, suivies et documentes."}),s.jsx("p",{children:"Vous navez pas  en assurer la coordination."})]})},standard:{title:" Plusieurs tapes, un seul interlocuteur",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Il y a plusieurs dmarches, cest normal."}),s.jsx("p",{children:"Mais tout passe par EDF."}),s.jsx("p",{children:"Vous navez rien  grer vous-mme."})]})}},securisation:{senior:{title:" Continuit et protection",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Votre projet est suivi dans le temps."}),s.jsx("p",{children:"Vous ntes pas livr  vous-mme aprs la dcision."}),s.jsx("p",{children:"EDF reste votre point dappui."})]})},banquier:{title:" Suivi long terme",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Le projet ne sarrte pas  la signature."}),s.jsx("p",{children:"Il est encadr, suivi et contrl dans la dure."}),s.jsx("p",{children:"Cest un dispositif, pas une simple prestation."})]})},standard:{title:" Pas un one-shot",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Ce nest pas on installe et au revoir."}),s.jsx("p",{children:"Le projet est suivi et accompagn."}),s.jsx("p",{children:"EDF reste prsent aprs."})]})}}},t5={standard:"Ici, on ne compare pas deux offres. On regarde simplement ce que devient votre argent dans les deux scnarios.",senior:"Ici, lobjectif nest pas de vous faire choisir. Cest de vous montrer ce que devient votre budget dans le temps, selon que vous fassiez quelque chose ou pas.",banquier:"Ce graphique ne prsente pas une offre, mais deux trajectoires financires  partir de vos chiffres."},Zd={senior:{intro:"Ce qui suit ne fait pas de prdiction. Il montre simplement ce qui se passe si vous ne faites rien  et ce qui se passe si vous agissez.",titleSub:"Deux chemins possibles pour le mme argent. Un seul vous laisse quelque chose.",closing:"Lenjeu nest pas un chiffre. Cest de ne pas se rveiller dans dix ans en regrettant davoir laiss partir ce qui aurait pu rester chez vous.",popup:{title:"Pourquoi ce module ?",body:s.jsxs(s.Fragment,{children:[s.jsxs("p",{children:["Ici, on ne parle ni doffre, ni de devis. On observe simplement"," ",s.jsx("strong",{children:"ce que deviennent vos dpenses"})," dans le temps."]}),s.jsx("p",{className:"mt-2",children:"Soit elles partent dfinitivement  sans aucun retour possible. Soit elles construisent quelque chose qui vous reste."}),s.jsx("p",{className:"mt-2 text-orange-400 font-medium",children:"La vraie question : voulez-vous garder le contrle, ou le confier dfinitivement  votre fournisseur dnergie ?"})]})}},banquier:{intro:"Deux trajectoires financires  partir des mmes flux. Une seule capitalise. Lautre dilue.",titleSub:"Comparaison dallocation de capital : dpense irrversible vs actif patrimonial.",closing:"Ce module ne parle pas dcologie. Il parle darbitrage entre consommation immdiate et capitalisation diffre.",popup:{title:"Lecture financire",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Ce visuel compare deux logiques :"}),s.jsxs("ul",{className:"list-disc ml-4 mt-2 space-y-1",children:[s.jsx("li",{children:s.jsx("strong",{children:"dpense nergtique non rcuprable"})}),s.jsx("li",{children:s.jsx("strong",{children:"raffectation dun flux vers un actif productif"})})]}),s.jsx("p",{className:"mt-3 text-blue-400 font-medium",children:"La diffrence nest pas une conomie. Cest un transfert de valeur vers votre patrimoine."})]})}},standard:{intro:"Ce qui suit ne cherche pas  forcer. Il montre simplement ce qui se passe si rien ne change  et ce qui se passe si vous agissez maintenant.",titleSub:"O vont vos dpenses selon ce que vous dcidez aujourdhui.",closing:"Au final, soit votre argent part pour toujours. Soit il reste quelque part chez vous  et vous en profitez.",popup:{title:"Comment lire ce module",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Chaque carte montre ce que vous aurez pay en nergie  diffrentes chances."}),s.jsxs("p",{className:"mt-2",children:["La diffrence entre les deux scnarios,"," ",s.jsx("strong",{children:"cest ce qui peut rester chez vous"})," au lieu de partir dfinitivement."]}),s.jsx("p",{className:"mt-3 text-emerald-400 font-medium",children:"Dans ce type de dcision, on regrette rarement davoir agi. Mais on regrette trs souvent davoir attendu."})]})}}},TL=({data:e,projectionYears:t,onReset:r,onProfileChange:n,studyId:a})=>{var Cr,kl,fo,Oa,Qo,Zo,el,El,Ia,Mc,Pu,Lu,Fc,Cl,po,tl,Ma,tc,rc,Dc,qc,Tu,Ru,nc,Vn,Ls,rs,wi,mo,In,ns,Ou,Iu,ia,xo,Fa,rl,sc,Mi,Qs,Nr,_r,aa,En,ss,Da,go,is;const o=e==null?void 0:e.greenPositioning;z.useRef(!1);const[c,u]=z.useState(t||10),[d,f]=z.useState(null),[p,b]=z.useState(localStorage.getItem("agent_zero_url")||"https://autopilote.pythonanywhere.com/decide"),[y,v]=z.useState(localStorage.getItem("agent_zero_key")||"Titanium2025!"),[_,k]=z.useState(!1),[E,A]=z.useState(0),[L,P]=z.useState(100),[R,Q]=z.useState(0),[te,oe]=z.useState([]),se=B=>{b(B),localStorage.setItem("agent_zero_url",B),localStorage.setItem("agent_zero_key",y),k(!1)},W=async B=>{try{console.log(" Envoi vers l'API:",p);const Ae={clientId:"EDF_RENO",userId:"commercial_01",profile:B.profile||"senior",modes:B.modes||{},signals:B.signals||{},alerts:B.alerts||{},state:B.state||{}};console.log(" PAYLOAD ENVOY:",Ae),console.log(" API KEY UTILISE:",y),console.log(" MODES:",Ae.modes);const Xe=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json","X-API-KEY":y},body:JSON.stringify(Ae)});if(!Xe.ok){const Dt=await Xe.text();throw new Error(`Erreur Serveur (${Xe.status}): ${Dt}`)}const nt=await Xe.json();return console.log(" Rponse Agent Zero:",nt),console.log(" Module Order:",nt.moduleOrder),console.log(" Tempo:",nt.presentationTempo),console.log(" Enable:",nt.enable),console.log(" Tooltips:",nt.tooltipsEnabled),console.log(" Summary Style:",nt.summaryStyle),console.log(" Reasoning:",nt.reasoning),nt}catch(Ae){return console.error(" chec de la connexion  l'IA:",Ae),null}},ne=B=>{const Ae=(d==null?void 0:d.moduleOrder)||[],Xe=Ae[R],nt=Ae.indexOf(B);if(d)if(console.log(` Vrification: Cible=${B} vs Attendu=${Xe} (Index: ${R})`),B===Xe)Q(Dt=>Dt+1);else if(nt>R){const Dt=nt-R;console.warn(` Saut d'tapes : ${Dt} modules ignors.`),P(Bt=>Math.max(0,Bt-5*Dt)),oe(Bt=>[...Bt,`[${new Date().toLocaleTimeString()}] Saut : ${Dt} modules ignors pour aller  ${B}`]),Q(nt+1)}else nt!==-1&&nt<R||Xe&&(P(Dt=>Math.max(0,Dt-5)),oe(Dt=>[...Dt,`[${new Date().toLocaleTimeString()}] Hors-piste : ${B}`]),console.warn(" Module hors-piste dtect"));Be(B)};z.useEffect(()=>{async function B(){var Dt,Bt,St,m,g,j,C,O,F,q,$,G,X,he,ke;console.log(" Contacting Agent Zero...");const Ae=e.speechResult||{signals:{},alerts:{},rawScores:{}},Xe={defiance:H==="senior"&&(((Dt=Ae.rawScores)==null?void 0:Dt.senior)||0)>=6&&((Bt=Ae.signals)==null?void 0:Bt.peurDeSeTromper),opportunity:H==="standard"&&!((St=Ae.signals)!=null&&St.peurDeSeTromper)&&!((m=Ae.signals)!=null&&m.indecision)&&!((g=Ae.alerts)!=null&&g.profileUncertain)&&!((j=Ae.alerts)!=null&&j.incoherentAnswers)&&!((C=Ae.alerts)!=null&&C.fatigueSuspected)&&!((O=Ae.alerts)!=null&&O.fatigueCritical),fatigueCognitive:((F=Ae.alerts)==null?void 0:F.fatigueCritical)||!1};console.log(" DEBUG OPPORTUNITY:"),console.log("  Profile:",H),console.log("  peurDeSeTromper:",(q=Ae.signals)==null?void 0:q.peurDeSeTromper),console.log("  indecision:",($=Ae.signals)==null?void 0:$.indecision),console.log("  profileUncertain:",(G=Ae.alerts)==null?void 0:G.profileUncertain),console.log("  incoherentAnswers:",(X=Ae.alerts)==null?void 0:X.incoherentAnswers),console.log("  fatigueSuspected:",(he=Ae.alerts)==null?void 0:he.fatigueSuspected),console.log("  fatigueCritical:",(ke=Ae.alerts)==null?void 0:ke.fatigueCritical),console.log("   opportunity calculated:",Xe.opportunity);const nt=await W({profile:H,modes:Xe,signals:Ae.signals||{peurDeSeTromper:!1,besoinDeChiffres:!1,urgencePercue:!1,indecision:!1},alerts:Ae.alerts||{},state:{currentModule:"constat",timeElapsedSec:420,questionsAsked:["ROI"]}});nt&&f(nt)}B()},[p]);const T=()=>{var Ae,Xe;const B={timestamp:new Date().toLocaleString(),auditId:((Ae=d==null?void 0:d.auditTrail)==null?void 0:Ae.audit_id)||`AZ-${Math.random().toString(36).toUpperCase().substr(2,9)}`,client:((Xe=d==null?void 0:d.auditTrail)==null?void 0:Xe.client)||"CLIENT_PROSPECTION",status:"STRICT_CONFORMITY_VALIDATED"};alert(` CERTIFICAT D'AUDIT GNR

ID: ${B.auditId}
Client: ${B.client}
Statut: ${B.status}

"Agent Zero empche de mal dcider."`)},[U,Y]=z.useState(e.profile??null),H=U||"senior",be=H==="senior"?Oj:H==="banquier"?Ij:Mj,we=z.useMemo(()=>{if(!(d!=null&&d.moduleOrder)||d.moduleOrder.length===0)return be;const B=d.moduleOrder.map(Ae=>{const Xe=Fj[Ae];return be.find(nt=>nt.moduleId===Xe)}).filter(Boolean);return B.length>0?B:be},[d,be]),ge=z.useMemo(()=>{var Ae,Xe,nt,Dt,Bt;const B="garanties";if((Ae=d==null?void 0:d.contentOverrides)!=null&&Ae[B])return d.contentOverrides[B];if((Xe=d==null?void 0:d.contentVariants)!=null&&Xe[B]){const St=d.contentVariants[B];return((nt=_0[B])==null?void 0:nt[St])||((Dt=_0[B])==null?void 0:Dt.default)}return(Bt=_0[B])==null?void 0:Bt.default},[d]),[ie,pe]=z.useState(null);z.useEffect(()=>{!ie&&we.length>0&&pe(we[0])},[we,ie]);const[V,ce]=z.useState(0),[I,J]=z.useState(0);we[V],z.useEffect(()=>{e.profile&&!U&&Y(e.profile)},[e.profile]);const[ee,le]=z.useState(!1),[ue,ye]=z.useState(!1),[Ce,fe]=z.useState(!1),[me,Oe]=z.useState(!1),[je,Ve]=z.useState("dashboard"),[ze,K]=z.useState(!1),[We,vt]=z.useState(!1),[tt,Be]=z.useState(null),[ht,Ze]=z.useState(!1),[mt,xt]=z.useState(!0),[yr,nr]=z.useState("hud"),[$t,sr]=z.useState(!0),{currentStep:Jt,stepNotification:at,confirmStep:Mt,detectStep:ot,securityTime:Qr,visitedModules:Qt}=iE();Rj(U);const{activeAlert:Gt,dismissAlert:Vt,checkSecurityTime:Or}=mS({activeModule:tt,visitedModules:Qt,securityTime:Qr,currentStep:Jt,profile:U}),{silenceAlert:yt,resetTimer:Er,dismissSilenceAlert:kt}=aS({activeModule:tt}),Ut=B=>{switch(B.type){case"CLOSE_AND_OPEN":Be(null),setTimeout(()=>{Be(B.open)},100),Vt();break;case"CANCEL_CLOSE":Vt();break;case"ACKNOWLEDGE":Vt(),Er();break;default:Vt()}},jr=B=>B==="garanties"?Or():!0,[Yt,At]=z.useState(typeof window<"u"?window.innerWidth<640:!1);z.useEffect(()=>{tt&&ot({moduleOpen:tt,moduleClosed:null})},[tt,ot]),z.useEffect(()=>{const B=setTimeout(()=>K(!0),1200);return()=>clearTimeout(B)},[]),z.useEffect(()=>{const B=()=>{(window.screenX||window.screenLeft)>window.screen.availWidth/2&&console.log(" HDMI dtect")};B();const Ae=setInterval(B,1e3);return()=>clearInterval(Ae)},[]),z.useEffect(()=>{tt&&U==="senior"&&tt==="where-money"&&qr("STOP_XYEARS")},[tt,U]),z.useEffect(()=>{if(typeof window>"u")return;const B=()=>{At(window.innerWidth<640)};return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]),z.useEffect(()=>{if(Jt===10&&ht===!1){const B=setTimeout(()=>{Ze(!0),console.log(" Fin de parcours dtecte")},1e3);return()=>clearTimeout(B)}},[Jt,ht]);const lr=(e==null?void 0:e.city)||null,[Qa,zn]=z.useState(!1),[Gi,oi]=z.useState(!1),[Lt,Us]=z.useState(!1),[wn,qr]=z.useState(null),Ns=()=>qr(null),[gr,Zr]=z.useState(!1),[an,Yi]=z.useState(!1),[zs,Bs]=z.useState(0),[$s,Nn]=z.useState(!0),[li,Vs]=z.useState(e.params),[Ki,ci]=z.useState(5),[Za,Oo]=z.useState(c||20),[Io,Mo]=z.useState(""),[Eu,Mr]=z.useState(""),[Cc,Fo]=z.useState(""),[Ws,ba]=z.useState(""),[hn,ya]=z.useState(null),[Do,ds]=z.useState(!1),[Ac,fn]=z.useState(!1),[gl,Cu]=z.useState(!1),[pn,eo]=z.useState(!1),[Hs,Ji]=z.useState(!1),[jn,js]=z.useState(((Cr=e==null?void 0:e.params)==null?void 0:Cr.electricityPrice)||.25),[cr,Gs]=z.useState(((kl=e==null?void 0:e.params)==null?void 0:kl.yearlyProduction)||7e3),[Kn,qo]=z.useState(((fo=e==null?void 0:e.params)==null?void 0:fo.selfConsumptionRate)||70),[Bn,ki]=z.useState(((Oa=e==null?void 0:e.params)==null?void 0:Oa.yearlyConsumption)||14e3),[rr,hr]=z.useState(((Qo=e==null?void 0:e.params)==null?void 0:Qo.installCost)||18799),[wa,Na]=z.useState(!1),[Yl,Kl]=z.useState(""),[Pc,Uo]=z.useState(!1),[zo,$n]=jt.useState(!1),[Xi,_s]=z.useState(""),[Jn,to]=z.useState(""),[Et,Ei]=z.useState(null),[Jl,Bo]=z.useState(null),[_n,Ci]=z.useState(!1),[ro,ui]=z.useState(!1),[$o,Xl]=z.useState(!1),[Xn,no]=z.useState(""),[Tn,Vo]=z.useState(""),[vl,Ql]=z.useState((e==null?void 0:e.client_id)||null),[ja,Ys]=z.useState(""),[_a,so]=z.useState("M./Mme"),[Ss,Qi]=z.useState(""),[Ks,bl]=z.useState(""),[Js,di]=z.useState("financing"),[Vr,Qn]=z.useState(!1),[Sn,yl]=z.useState(1500),w=z.useMemo(()=>({user:{profile:U||"prudent",engagementLevel:50,fatigueScore:0},session:{timeSpent:0,scrollDepth:0,openedModules:Qt||[],closedModules:[],idleMoments:0},decision:{hasSeenCoreProofs:(Qt||[]).includes("repartition"),hasSeenBudgetModule:(Qt||[]).includes("budget"),hasSeenProjection:(Qt||[]).includes("projection"),hasOpenedDetailsAccordion:!1,hasReachedDecisionAnchor:(Qt||[]).includes("decision-anchor"),hasClickedSign:!1,isSigned:_n},riskSignals:{hesitationLoops:0,backwardScrolls:0,popupObjectionsOpened:[]}}),[U,Qt,_n]);pS(w);const M=async()=>{if(!Xn.trim()){alert(" Veuillez entrer le nom du client");return}if(!Ks.trim()){alert(" Veuillez entrer l'email du commercial");return}Kl(Xn),Fo(Tn),ba(ja),Mr(Ss),Mo(Ks),ui(!0);try{await Oc(Xn,Ks,vl||void 0,Tn,ja,_a),Ci(!1)}catch(B){console.error("Erreur:",B)}finally{ui(!1)}},re=async()=>{if(console.log(" handleSendStudy APPEL"),console.log(" currentStudyId =",Et),!Et){alert(" Aucune tude gnre. Veuillez d'abord gnrer l'tude.");return}try{ui(!0);const{error:B}=await ko.from("studies").update({status:"sent"}).eq("id",Et);if(B){console.error(" Erreur lors de l'envoi:",B),alert(" Erreur lors de l'envoi de l'tude : "+B.message);return}alert(" tude envoye ! Les emails de relance seront envoys automatiquement."),console.log(" tude passe en 'sent':",Et),Bo("sent")}catch(B){console.error(" Erreur:",B),alert(" Une erreur est survenue.")}finally{ui(!1)}},de=async()=>{if(console.log(" SIGN PAYMENT VALUES",{paymentType:Js,hasDeposit:Vr,depositAmount:Sn}),!!confirm(" Confirmer que le client a SIGN le projet ?")){if(!Js||Vr===null||Vr===void 0){alert(" Mode de paiement non dfini. Impossible de signer.");return}if(Vr&&(!Sn||Sn<=0)){alert(" Montant d'acompte invalide.");return}try{ui(!0);const{data:B,error:Ae}=await ko.from("studies").select("id, status, study_data").order("created_at",{ascending:!1}).limit(1).single();if(Ae||!B){alert(" Impossible de retrouver l'tude");return}if(B.status==="signed"){alert(" Cette tude est dj signe.");return}const Xe=Number(rr||0),nt=Number(tr||0),Dt=nt>=Xe,Bt=Dt?"cash":"financing";let St;Dt?St="cash_payment":Vr&&Sn>0?St="financing_with_deposit":St="full_financing",console.log(" MAPPING DDUIT:",{totalPrice:Xe,finalCashApport:nt,isActuallyCash:Dt,financingMode:St}),console.log("SIGN MODES",{payment_mode:Bt,financingMode:St,hasDeposit:Vr,depositAmount:Sn});const{error:m}=await ko.from("studies").update({status:"signed",signed_at:new Date().toISOString(),payment_mode:Bt,payment_type:Bt,financing_mode:St,has_deposit:Vr,deposit_amount:Vr?Sn:null,study_data:{...B.study_data||{},mode:Bt,cashApport:nt},contract_secured:!1,cancellation_deadline:new Date(Date.now()+336*60*60*1e3).toISOString()}).eq("id",B.id);if(m)throw m;Ci(!0),Bo("signed"),await ko.from("decision_logs").insert({study_id:B.id,action_performed:"SIGNED_FROM_RESULTS_DASHBOARD",justification:`Signature client | mode=${Bt} | financing=${St} | apport=${nt}`}),alert(" Client sign. Dossier fig financirement.")}catch(B){console.error("SIGN ERROR:",B),alert(" Erreur lors de la signature")}finally{ui(!1)}}},[_e,qe]=z.useState(((Zo=e==null?void 0:e.params)==null?void 0:Zo.installedPower)||3.5),[$e,lt]=z.useState(((el=e==null?void 0:e.params)==null?void 0:el.houseSize)||120),[et,Tt]=z.useState(147.8),[_t,ir]=z.useState(4.7),[Ft,en]=z.useState(180),[tr,on]=z.useState(0),[ur,kn]=z.useState(18799),[Zi,Ai]=z.useState(0),[Rn,io]=z.useState(!1),[vr,hi]=z.useState(3.89),[Pi,Sa]=z.useState(!1),[ka,ln]=z.useState(180),Ea=z.useRef(!1),Ca=z.useRef(!1),wl=hi,[ao,Zn]=z.useState(!1),[fi,Li]=z.useState(0),[ea,ks]=z.useState(.04),[oo,Wo]=z.useState(!1),[Nl,Aa]=z.useState(!1),[pi,Es]=z.useState(""),[Xs,lo]=z.useState(""),[Ti,ta]=z.useState(0),[Pa,Ri]=z.useState(!1),[Wr,ra]=z.useState(!1),[mi,xi]=z.useState(""),[co,uo]=z.useState(!0),[Oi,Ho]=z.useState(!0),[gi,ho]=z.useState("financing"),[vi,La]=z.useState("mensuel"),[On,Ta]=z.useState("financing"),[br,es]=z.useState("financing"),[wr,Tr]=z.useState(!1),[tn,mn]=z.useState("standard"),[hs,Go]=z.useState("financing"),[jl]=z.useState(Date.now()),na=()=>{const B=ur,Ae=vr/100/12,Xe=Ft,nt=B*Ae/(1-Math.pow(1+Ae,-Xe)),Dt=B*.003/12;Tt(Number(nt.toFixed(2))),ir(Number(Dt.toFixed(2)))};if(!e||!e.params)return s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsx("div",{className:"text-white/50 animate-pulse font-light italic",children:"Chargement des paramtres de simulation..."})});const bi=z.useMemo(()=>{var B,Ae;return Si((B=e==null?void 0:e.params)==null?void 0:B.monthlyBill)||Si((Ae=e==null?void 0:e.params)==null?void 0:Ae.annualBill)/12||Bn*jn/12||150},[(El=e==null?void 0:e.params)==null?void 0:El.monthlyBill,(Ia=e==null?void 0:e.params)==null?void 0:Ia.annualBill,Bn,jn]);z.useEffect(()=>{na()},[vr,Ft,ur]),z.useMemo(()=>{const B=Math.round(e.params.yearlyProduction*e.params.electricityPrice*(e.params.selfConsumptionRate/100)/12),Ae=Math.round((e.params.installCost||0)*(vr/100/12)/(1-Math.pow(1+vr/100/12,-180))),Xe=Math.round(B*.3),nt=Ae+Xe,Dt=B-nt,Bt=Math.round(B*12*20*1.65),St=Math.round(B*12*40*2.1),m=Math.round(Bt-((e.params.installCost||0)+Xe*12*20));return{monthlyBill:B,loanMonthly:Ae,remainingMonthly:Xe,totalWithSolar:nt,monthlySavings:Dt,cost20Years:Bt,cost40Years:St,savings20Years:m,totalSavingsProjected:m,greenValue:Math.round((e.params.installCost||0)*1.9),heritageNet:m+Math.round((e.params.installCost||0)*1.9)}},[e.params,vr]),z.useEffect(()=>{!Ca.current&&(e!=null&&e.params)&&(ci(Si(e.params.inflationRate,5)),js(Si(e.params.electricityPrice,.25)),Gs(Si(e.params.yearlyProduction,7e3)),qo(Si(e.params.selfConsumptionRate,70)),hr(Si(e.params.installCost,18799)),Tt(Si(e.params.creditMonthlyPayment,147.8)),ir(Si(e.params.insuranceMonthlyPayment,4.7)),en(Si(e.params.creditDurationMonths,180)),on(Si(e.params.cashApport,0)),Ca.current=!0)},[e]),z.useEffect(()=>{var B;if(!Ea.current&&((B=e==null?void 0:e.params)!=null&&B.creditInterestRate)){const Ae=Si(e.params.creditInterestRate,3.89);hi(Ae),Ea.current=!0}},[]),z.useEffect(()=>{kn(Math.max(0,rr-tr))},[rr,tr]),z.useEffect(()=>{const B=(e==null?void 0:e.params)||{},Ae=B.yearlyConsumption||1e4,Xe=B.electricityPrice||.25,nt=Ae*Xe/365/24/3600,Dt=setInterval(()=>{ta(Bt=>{const St=Bt+nt;return St>1.5&&Ri(!0),St})},1e3);return()=>clearInterval(Dt)},[e]);const Ra=z.useMemo(()=>{const B=(vr||0)/100/12,Ae=Ft||0,Xe=ur||0;if(B===0||Ae===0)return Xe/(Ae||1);const nt=Xe*(B*Math.pow(1+B,Ae))/(Math.pow(1+B,Ae)-1);return isNaN(nt)?0:nt},[ur,vr,Ft]),Yo=z.useMemo(()=>{var B;return((B=e==null?void 0:e.params)==null?void 0:B.insuranceMonthlyPayment)||0},[e]),Lc=()=>{Tt(Math.round(Ra*100)/100),ir(Math.round(Yo*100)/100),ra(!1)},_l=()=>{const B=mi.toUpperCase();let Ae=vr;if(B==="PREMIUM0999")Ae=.99,ln(84);else if(B==="EDF2025")Ae=1.99,ln(72);else if(B==="STANDARD")Ae=3.89,ln(180);else{alert(" Code invalide !");return}hi(Ae),Sa(!0)};z.useEffect(()=>{if(!vr||!Ft||!ur)return;const B=vr/100/12,Ae=Ft,nt=ur*B/(1-Math.pow(1+B,-Ae));Tt(Math.round(nt*100)/100)},[vr,Ft,ur]),z.useEffect(()=>{},[et,vr,Ft]);const Se=z.useMemo(()=>{var St,m,g,j;if(!(e!=null&&e.params))return null;const B=Tv(e.params,{inflationRate:Ki,projectionYears:c,electricityPrice:jn,yearlyProduction:cr,selfConsumptionRate:Kn,installCost:rr,cashApport:tr,creditMonthlyPayment:et,insuranceMonthlyPayment:_t,creditDurationMonths:Ft,buybackRate:ea,interestRate:vr});if(!B)return null;const Ae=(St=B.details)==null?void 0:St[0];if(!Ae)return null;const Xe={year:Ae.year,edfBillWithoutSolar:Ae.edfBillWithoutSolar,creditPayment:Ae.creditPayment,edfResidue:Ae.edfResidue,totalWithSolar:Ae.totalWithSolar,cumulativeSavings:Ae.cumulativeSavings,solarSavingsValue:Ae.solarSavingsValue,monthlyBill:Math.round(Ae.edfBillWithoutSolar/12),totalWithSolarMonthly:Math.round(Ae.totalWithSolar/12),remainingMonthly:Math.round(Ae.edfResidue/12),loanMonthly:Math.round(Ae.creditPayment/12),monthlySavings:Math.round((Ae.edfBillWithoutSolar-Ae.totalWithSolar)/12)},nt=(hn==null?void 0:hn.value)||Math.round(rr*1.9),Dt=Math.min(19,c-1),Bt=Math.round(((g=(m=B.details)==null?void 0:m[Dt])==null?void 0:g.cumulativeSavings)||0);return{...B,interestRate:vr,creditDurationMonths:Ft,remainingToFinance:ur,creditMonthlyPayment:et,insuranceMonthlyPayment:_t,year1:Xe,greenValue:nt,heritageNet:Bt,greenValueData:hn,houseValue:(((j=e==null?void 0:e.params)==null?void 0:j.houseSize)||100)*((hn==null?void 0:hn.pricePerSqm)||3200),monthlyBill:Xe.monthlyBill,monthlySavings:Xe.monthlySavings,totalWithSolar:Xe.totalWithSolar,remainingBill:Xe.edfResidue}},[e,Ki,c,jn,cr,Kn,rr,tr,ur,et,_t,Ft,Zi,ea,hn,vr]);z.useEffect(()=>{if(!Se)return;const B=jw(Se);console.log(`
`),console.log(" RAPPORT DE VALIDATION"),console.log(`
`),console.log(` SCORE: ${B.score}%`),console.log(` Erreurs: ${B.errors.length}`),console.log(`  Warnings: ${B.warnings.length}`),console.log(` OK: ${B.info.length}
`),B.errors.length>0&&(console.log(" ERREURS:"),console.log(""),B.errors.forEach((Ae,Xe)=>{console.log(`${Xe+1}. ${Ae.category}: ${Ae.message}`),Ae.expected&&console.log(`   Attendu: ${Ae.expected}`),Ae.actual&&console.log(`   Actuel: ${Ae.actual}`)})),B.warnings.length>0&&(console.log(`
  WARNINGS:`),console.log(""),B.warnings.forEach((Ae,Xe)=>{console.log(`${Xe+1}. ${Ae.category}: ${Ae.message}`)})),console.log(`
 CHECKS OK:`),console.log(""),B.info.forEach((Ae,Xe)=>{console.log(`${Xe+1}. ${Ae.message}`)}),console.log(`
`),console.log(B.isValid?" VALID":" REJET"),console.log(`
`),typeof window<"u"&&(window.calculationResult=Se,window.printValidationReport=()=>(console.log(B),B))},[Se]),z.useEffect(()=>{},[Se]);const Cs=z.useMemo(()=>{var B,Ae;return(((Ae=(B=Se==null?void 0:Se.details)==null?void 0:B[0])==null?void 0:Ae.edfResidue)||0)/12},[Se]),sa=z.useMemo(()=>et+_t+Cs,[et,_t,Cs]),Ii=z.useMemo(()=>sa-bi,[sa,bi]);z.useEffect(()=>{(async()=>{var nt,Dt,Bt;const Ae=((nt=e==null?void 0:e.params)==null?void 0:nt.address)||((Dt=e==null?void 0:e.params)==null?void 0:Dt.clientAddress),Xe=((Bt=e==null?void 0:e.params)==null?void 0:Bt.houseSize)||100;if(!Ae){ya({value:Math.round(Xe*3200*.08),pricePerSqm:3200,city:"Estimation",dept:"FR",isRealData:!1});return}ds(!0);try{const St=await gS(Ae,Xe);ya({value:St.greenValue,pricePerSqm:St.pricePerSqm,city:St.city,dept:St.dept,isRealData:!0})}catch{ya({value:Math.round(Xe*3200*.08),pricePerSqm:3200,city:"Estimation",dept:"FR",isRealData:!1})}finally{ds(!1)}})()},[(Mc=e==null?void 0:e.params)==null?void 0:Mc.address,(Pu=e==null?void 0:e.params)==null?void 0:Pu.houseSize]);const Zl=z.useMemo(()=>{if(!Se)return{isValid:!1,score:0,errors:[],warnings:[],info:[]};try{return dE(Se)}catch(B){return console.error(" Erreur critique lors de la validation :",B),{isValid:!1,score:0,errors:[{severity:"ERROR",category:"SYSTME",message:"Erreur systme"}],warnings:[],info:[]}}},[Se]),[Au,ec]=z.useState(null);z.useEffect(()=>{ec(null);const B=setTimeout(()=>{ec(Zl)},2e3);return()=>clearTimeout(B)},[Zl]),z.useRef(""),z.useMemo(()=>(gi==="financing"?Se.slicedDetails:Se.slicedDetailsCash).map((Ae,Xe)=>({year:Ae.year,value:-Ae.cashflowDiff,type:Xe*12<Ft&&gi==="financing"?"investment":"profit"})),[Se,gi,Ft,c]),z.useMemo(()=>Oi?[{years:" VIE",label:"PANNEAUX",tag:"Pices + M.O. + Dplacement",icon:gc,description:"Garantie matriel, main d'uvre et dplacement  vie."},{years:" VIE",label:"ONDULEURS",tag:"Pices + M.O. + Dplacement",icon:fa,description:"Remplacement  neuf, main d'uvre et dplacement  vie."},{years:" VIE",label:"STRUCTURE",tag:"Pices + M.O. + Dplacement",icon:Ox,description:"Garantie  vie sur le systme de fixation."},{years:" VIE",label:"MATRIEL",tag:"Remplacement  neuf",icon:qs,description:"Garantie matrielle complte  vie."}]:[{years:25,label:"PANNEAUX",tag:"Performance standard",icon:gc,description:"Garantie performance 25 ans."},{years:25,label:"ONDULEURS",tag:"Pices + M.O. + Dplacement",icon:fa,description:"Garantie totale 25 ans."},{years:10,label:"STRUCTURE",tag:"Matriel + M.O. + Dplacement",icon:Ox,description:"Garantie 10 ans."},{years:25,label:"PANNEAUX",tag:"Matriel",icon:gc,description:"Garantie matrielle 25 ans."}],[Oi]);const Tc=B=>{const Ae=B-1;return Se.details[Ae]?{credit:Se.details[Ae],cash:Se.detailsCash[Ae]}:{credit:Se.year1,cash:Se.year1}};z.useEffect(()=>{if(!(e!=null&&e.params)||!Se)return;const B=(Ae,Xe)=>Tv(Ae,{...Ae,projectionYears:Xe,inflationRate:Ki,electricityPrice:jn,yearlyProduction:cr,selfConsumptionRate:Kn,installCost:rr,cashApport:tr,creditMonthlyPayment:et,insuranceMonthlyPayment:_t,creditDurationMonths:Ft,buybackRate:ea,interestRate:vr});hE(e.params,B)},[Se]),(Lu=e==null?void 0:e.params)!=null&&Lu.address,Number((Fc=e==null?void 0:e.params)==null?void 0:Fc.houseSize),Se.totalSavingsProjected;const Rc=z.useMemo(()=>(br==="financing"?Se.slicedDetails:Se.slicedDetailsCash).map(Ae=>({year:Ae.year,cumulativeSpendNoSolar:Math.round(Ae.cumulativeSpendNoSolar),cumulativeSpendSolar:Math.round(Ae.cumulativeSpendSolar)})),[Se,br,c]),Oc=async(B,Ae,Xe,nt,Dt,Bt)=>{var g;console.log(" DBUT handleGenerateStudy"),console.log(" TAT DES PRIX =",{installCost:rr,remainingToFinance:ur,cashApport:tr,typeof_installCost:typeof rr}),console.log(" PARAMS REUS:",{forcedClientName:B,forcedCommercialEmail:Ae,forcedClientId:Xe,forcedClientEmail:nt,forcedClientPhone:Dt});const St=(B||"").trim().replace(/\s+/g," ");if(St.length<2){alert(" Veuillez entrer le nom du client");return}const m=(Ae||"").trim();if(!m){alert(" Email commercial manquant");return}try{let j=Xe||null;const C=(nt||"").trim().toLowerCase(),O=(Dt||"").trim();if(console.log(" Donnes client:",{cleanedClientName:St,cleanedEmail:C,cleanedPhone:O}),!j&&C){const{data:Le,error:Me}=await ko.from("clients").select("id").eq("email",C).maybeSingle();if(Me){console.error(" Erreur recherche client:",Me),alert(" Impossible de vrifier le client existant.");return}if(Le!=null&&Le.id){j=Le.id,console.log(" Client existant:",j);const De=St.split(" "),{error:Ue}=await ko.from("clients").update({first_name:De[0]||St,last_name:De.slice(1).join(" ")||"",phone:O||null,civility:Bt||"M./Mme"}).eq("id",j);Ue?console.error(" Erreur mise  jour client:",Ue):console.log(" Client mis  jour avec:",St)}else{const De=St.split(" "),{data:Ue,error:ut}=await ko.from("clients").insert({first_name:De[0]||St,last_name:De.slice(1).join(" ")||"",email:C,phone:O||null,civility:Bt||"M./Mme"}).select("id").single();if(ut){console.error(" Erreur cration client:",ut),alert(" Impossible de crer le client : "+ut.message);return}Ue&&(j=Ue.id,console.log(" Nouveau client cr:",j))}}const F={n:St,e:Math.round(Se.totalSavingsProjected||0),a:Math.round(Kn||70),m:Math.round((et||0)+(_t||0)),t:vr||3.89,d:Ft||180,prod:cr||7e3,conso:Bn||1e4,selfCons:Kn||70,installCost:rr||18799,cashApport:tr||0,elecPrice:jn||.25,installedPower:_e||3.5,projectionYears:c,mode:"financing",warrantyMode:Oi?"performance":"essential",breakEven:Se.paybackYear||Se.breakEvenPoint||12,averageYearlyGain:Math.round((Se.totalSavingsProjected||0)/c),totalSpendNoSolar:Math.round(Se.totalSpendNoSolar||0),totalSpendSolar:Math.round(Se.totalSpendSolar||0),greenValue:Math.round((cr||7e3)*c*.5),ga:Se.yearlyGains||[],details:Se.details.map(Le=>({year:Le.year,cumulativeSpendNoSolar:Math.round(Le.cumulativeSpendNoSolar||0),cumulativeSpendSolar:Math.round(Le.cumulativeSpendSolar||0),edfBillWithoutSolar:Math.round(Le.edfBillWithoutSolar||0),creditPayment:Math.round(Le.creditPayment||0),edfResidue:Math.round(Le.edfResidue||0),totalWithSolar:Math.round(Le.totalWithSolar||0),cumulativeSavings:Math.round(Le.cumulativeSavings||0)})),detailsCash:Se.detailsCash.map(Le=>({year:Le.year,cumulativeSpendNoSolar:Math.round(Le.cumulativeSpendNoSolar||0),cumulativeSpendSolar:Math.round(Le.cumulativeSpendSolar||0),cumulativeSavings:Math.round(Le.cumulativeSavings||0),edfBillWithoutSolar:Math.round(Le.edfBillWithoutSolar||0),edfResidue:Math.round(Le.edfResidue||0),totalWithSolar:Math.round(Le.totalWithSolar||0)}))},q=new Date;if(q.setDate(q.getDate()+7),!F||typeof F!="object"){alert(" Donnes tude invalides (payload).");return}if(!St){alert(" Nom client manquant.");return}if(!m){alert(" Email commercial manquant.");return}if(!Js){alert(" Mode de paiement non dfini.");return}if(Vr==null){alert(" Statut d'acompte non dfini.");return}if(!Number.isFinite(Number(rr))){alert(" Prix total invalide.");return}const $=Number(rr),G=Number(tr)||0;let X,he;G>=$&&$>0?(X="cash",he="cash_payment"):G>0?(X="financing",he="partial_financing"):(X="financing",he="full_financing"),console.log(" INSERT FINAL =",{study_data:F,expires_at:q,client_name:St,commercial_email:m,payment_type:Js,has_deposit:Vr,total_price:$,payment_mode:X,financing_mode:he});const ke=await ko.from("studies").insert({study_data:F,expires_at:q.toISOString(),client_name:St,commercial_email:m,payment_type:String(Js),has_deposit:!!Vr,total_price:$,client_id:j,client_email:C||null,client_phone:O||null,commercial_name:null,is_active:!0,status:"draft",cash_apport:G,payment_mode:X,financing_mode:he,deposit_amount:Vr?Number(Sn):null}).select().single();if(console.log(" INSERT STUDY RESULT =",ke),ke.error||!ke.data){alert(" ERREUR SUPABASE : "+((g=ke.error)==null?void 0:g.message)),console.error(" SUPABASE ERROR FULL =",ke.error);return}const Z=ke.data.id,ve=ke.data.guest_view_token||ke.data.id,Ee=`${window.location.origin}/guest/${ve}`;console.log(" TUDE CRE AVEC SUCCS:",Z),Ei(Z),Bo("draft");const{data:Fe,error:Pe}=await ko.from("studies").update({guest_view_url:Ee}).eq("id",Z).select();if(console.log(" UPDATE RESULT:",Fe),console.log(" UPDATE ERROR:",Pe),Pe)console.error(" ERREUR COMPLTE:",JSON.stringify(Pe,null,2)),alert(` L'tude a t cre mais le passage en 'sent' a chou.

Erreur: ${Pe.message}

Changez le status manuellement en 'sent' dans Supabase.`);else{console.log(" tude passe en 'sent' - Emails post-refus programms (J+0, J+1, J+4, J+7)"),await new Promise(De=>setTimeout(De,1e3));const{data:Le,error:Me}=await ko.from("email_queue").select("email_type, status, scheduled_for").eq("study_id",Z).order("scheduled_for");console.log(" EMAILS CRS:",Le),Le&&Le.length>0?console.log(` ${Le.length} emails programms avec succs`):(console.warn(" Aucun email cr - Le trigger n'a peut-tre pas fonctionn"),alert(" L'tude est en 'sent' mais aucun email n'a t programm automatiquement."))}Es(Ee),to(Ee),Wo(!0),alert(` tude gnre avec succs !
ID: ${Z}
Client ID: ${j}
Expire le: ${q.toLocaleDateString("fr-FR")}

 4 emails post-refus programms automatiquement`)}catch(j){console.error(" Erreur catch:",j),alert(` Erreur lors de la gnration de l'tude.

${j.message}`),Uo(!1)}};z.useMemo(()=>{var nt,Dt;const B=[{id:"consos",label:"Cohrence des factures de rfrence",status:((nt=e==null?void 0:e.computed)==null?void 0:nt.monthlyBill)>0?"valid":"error",detail:(Dt=e==null?void 0:e.computed)!=null&&Dt.monthlyBill?`${Math.round(e.computed.monthlyBill)}/mois analyss`:"Analyse en cours..."},{id:"meteo",label:"Gisement solaire (PVGIS 5.2)",status:cr>0?"valid":"error",detail:`${cr||7e3} kWh/an identifis`},{id:"fiscal",label:"Conformit fiscale (TVA & Aides)",status:"valid",detail:"TVA 5.5% & Prime Autoconsommation 2025"},{id:"roi",label:"Algorithme TRI & Rentabilit",status:"valid",detail:`Rentabilit : ${(Se==null?void 0:Se.roiPercentageCash)||6.5}%`},{id:"technique",label:"Normes NFC 15-712-1",status:"valid",detail:"Conformit coffret AC/DC Protection"},{id:"patrimoine",label:"Audit Valeur Verte (DVF Notaires)",status:"valid",detail:hn!=null&&hn.city?`Localit : ${hn.city}`:"Estimation rgionale"}],Ae=B.filter(Bt=>Bt.status==="valid").length,Xe=Math.round(Ae/B.length*100);return{allChecks:B,score:Xe}},[e,cr,Se,hn]);const[As,Ko]=z.useState(!1),ts=()=>{Ko(!0),setTimeout(()=>{Ve("coach")},800)};if(z.useEffect(()=>{Nn(!0),Bs(0);const B=7;let Ae=0;const Xe=setInterval(()=>{Ae++,Bs(Ae),Ae>=B&&(clearInterval(Xe),setTimeout(()=>{Nn(!1)},800))},1200);return()=>clearInterval(Xe)},[]),!Se)return s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsx("div",{className:"text-white/50 animate-pulse",children:"Chargement..."})});const Ps=On==="financing"?Se.details:Se.detailsCash,Jo=Ps.find(B=>B.cumulativeSavings>=0),yi=Jo==null?void 0:Jo.year,Ic=((Cl=Ps[c-1])==null?void 0:Cl.cumulativeSavings)||0,Xo=On==="financing"?tr:rr,Sl=Xo>0?(Ic/Xo*100).toFixed(0):0;return s.jsxs("div",{className:"w-full",children:[s.jsxs("nav",{className:"fixed top-0 inset-x-0 z-50 bg-black/60 backdrop-blur-md border-b border-white/10 h-16 flex items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{onClick:()=>{A(B=>B+1),E>=4&&(k(!0),A(0))},className:"bg-gradient-to-br from-orange-400 to-orange-600 p-1.5 rounded-lg shadow-[0_0_15px_rgba(249,115,22,0.5)] cursor-pointer hover:scale-105 transition-transform",children:s.jsx(gc,{className:"w-5 h-5 text-white fill-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-indigo-500 bg-clip-text text-transparent leading-none",children:"Solutions Solaires"}),s.jsx("p",{className:"text-[10px] text-slate-500 font-bold tracking-widest uppercase",children:"EDF - Analyse Premium"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-white/5 border border-white/10 px-3 py-1.5 rounded-full",children:[s.jsx(qs,{size:14,className:L===100?"text-emerald-500":L>50?"text-orange-500":"text-red-500"}),s.jsxs("span",{className:`text-xs font-bold tabular-nums ${L===100?"text-emerald-500":L>50?"text-orange-500":"text-red-500"}`,children:[L,"%"]}),L<100&&s.jsx(cu,{size:12,className:"text-red-500 animate-pulse ml-1"}),s.jsx("div",{className:"w-[1px] h-3 bg-white/10 mx-1"}),s.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:"Certifi"})]}),s.jsxs("button",{onClick:()=>ra(!0),className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 text-slate-300 text-xs font-bold uppercase tracking-wider rounded border border-white/10 transition-colors",children:[s.jsx(S0,{size:14})," Modifier"]}),s.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-slate-500 text-xs font-bold uppercase tracking-wider hover:text-white transition-colors",children:[s.jsx(vc,{size:14})," Nouvelle Analyse"]}),s.jsx("button",{onClick:()=>xt(B=>!B),className:`px-3 py-1.5 rounded-lg text-[11px] font-semibold uppercase tracking-wider
             text-slate-400 hover:text-white
             bg-transparent border border-white/10
             hover:border-white/30
             transition-all`,children:mt?"ASSISTANCE ON":"ASSISTANCE OFF"})]})]}),s.jsx(s.Fragment,{children:!mt&&s.jsxs(s.Fragment,{children:[wn==="STOP_XYEARS"&&s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[9999]",children:s.jsxs("div",{className:"bg-red-600 text-white p-8 rounded-2xl shadow-2xl text-center max-w-lg w-full text-2xl font-black",children:[" STOP  Zone financire anxiogne",s.jsx("p",{className:"text-white/80 text-sm mt-2 text-center",children:"Profil Senior  interdiction douvrir ce module."}),s.jsx("button",{onClick:()=>qr(null),className:"mt-6 px-6 py-3 bg-white text-red-700 font-bold rounded-xl",children:"OK  revenir"})]})}),s.jsx(xS,{alert:Gt||yt,onDismiss:Gt?Vt:kt,onAction:B=>Gt?Ut(B):kt()}),ht&&s.jsx(iS,{onClose:()=>Ze(!1)}),at&&s.jsx(aE,{step:at.step,message:at.message,onConfirm:Mt,onDismiss:()=>{}})]})}),s.jsxs("main",{className:"w-full pt-24 pb-20 px-4 md:px-8 max-w-7xl mx-auto flex flex-col gap-8 transition-all duration-500 overflow-x-hidden",children:[d&&s.jsx("style",{children:`
              /*  TEMPO */
              :root { --agent-anim-speed: ${d.presentationTempo==="slow"?"1.2s":"0.4s"}; }
              * { transition-duration: var(--agent-anim-speed) !important; }

              /*  SCARCITY */
              ${d.enableScarcity===!1?`
                #badge-garantie, .scarcity-element { display: none !important; }
              `:""}

              /*  MODULE ORDER */
              ${(po=d.moduleOrder)==null?void 0:po.map((B,Ae)=>`
                #${B} { order: ${Ae+10}; }
              `).join(`
`)}
              
              /* Default order for unlisted modules */
              .module-section { order: 999; }
            `}),Wr&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-black/80 backdrop-blur-xl border border-white/10 w-full max-w-5xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-white/10 bg-black/40",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded bg-blue-500/10 text-blue-500",children:s.jsx(S0,{size:20})}),s.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Paramtres Financiers"})]}),s.jsx("button",{onClick:()=>ra(!1),className:"text-slate-500 hover:text-white transition-colors",children:s.jsx(vd,{size:24})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsx(ua,{label:"Puissance Installe (kWc)",value:_e,setValue:qe,step:.1,unit:"kWc",icon:s.jsx(fa,{size:14,className:"text-blue-500"}),sublabel:"Puissance des panneaux"}),s.jsx(ua,{label:"Prix lectricit (/kWh)",value:jn,setValue:js,step:.01,unit:"",icon:s.jsx(fa,{size:14,className:"text-yellow-400"}),sublabel:"Tarif actuel du kWh"}),s.jsx(ua,{label:"Consommation Annuelle (kWh)",value:Bn,setValue:ki,step:100,unit:"",icon:s.jsx(Rf,{size:14,className:"text-blue-400"}),sublabel:"Votre consommation totale"}),s.jsx(ua,{label:"Production Annuelle (kWh)",value:cr,setValue:Gs,step:100,unit:"",icon:s.jsx(gc,{size:14,className:"text-orange-400"}),sublabel:"kWh produits par an"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsx(ua,{label:"Taux d'Autoconsommation (%)",value:Kn,setValue:qo,step:1,min:0,unit:"%",icon:s.jsx(vc,{size:14,className:"text-emerald-400"}),sublabel:`${Math.round(cr*(Kn/100))} kWh autoconsomms sur ${ed(cr)} kWh produits`}),s.jsxs("div",{className:"bg-black/20 border border-emerald-500/20 rounded-2xl p-4 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-emerald-500/10 text-emerald-400",children:s.jsx(Of,{size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-emerald-400 font-bold uppercase tracking-wider mb-1",children:"Taux d'Autonomie"}),s.jsxs("p",{className:"text-2xl font-black text-white",children:[Math.round(cr*(Kn/100)/Bn*100),"%"]}),s.jsxs("p",{className:"text-[10px] text-slate-500",children:[Math.round(cr*(Kn/100))," ","kWh / ",ed(Bn)," kWh"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsx(ua,{label:"Prix rachat EDF",value:ea,setValue:ks,unit:"/kWh",sublabel:"Tarif rglement actuel",icon:s.jsx(cl,{size:14,className:"text-yellow-400"}),step:.01,min:0}),s.jsxs("div",{className:"bg-black/20 border border-yellow-500/20 rounded-2xl p-4 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-yellow-500/10 text-yellow-400",children:s.jsx(vc,{size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-yellow-400 font-bold uppercase tracking-wider mb-1",children:"Revenu Surplus"}),s.jsx("p",{className:"text-2xl font-black text-white",children:Qe(Math.round(cr*(1-Kn/100)*ea))}),s.jsxs("p",{className:"text-[10px] text-slate-500",children:[Math.round(cr*(1-Kn/100))," ","kWh vendus"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx(ua,{label:"Cot Installation ()",value:rr,setValue:hr,step:100,unit:"",icon:s.jsx(Va,{size:14,className:"text-purple-400"}),sublabel:"Prix total TTC"}),s.jsx(ua,{label:"Apport Cash ()",value:tr,setValue:on,step:100,unit:"",icon:s.jsx(cl,{size:14,className:"text-emerald-400"}),sublabel:"Montant comptant"}),s.jsx(ua,{label:"Reste  Financer ()",value:ur,setValue:kn,unit:"",icon:s.jsx(Va,{size:14,className:"text-blue-400"}),sublabel:"Montant financ",disabled:!0})]}),s.jsxs("div",{className:"bg-black/20 border border-indigo-500/20 rounded-xl p-6 relative",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[s.jsx("div",{className:"text-blue-500",children:s.jsx(Va,{size:20})}),s.jsx("h3",{className:"text-sm font-black text-white uppercase tracking-wider",children:"FINANCEMENT CRDIT"})]}),s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-4 mb-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-white",children:"Mode de Calcul"}),s.jsx("p",{className:"text-xs text-slate-500",children:Rn?"Calcul automatique de la mensualit":"Saisie manuelle de la mensualit"})]}),s.jsx(e5,{checked:Rn,onChange:io,labelOff:"Manuel",labelOn:"Auto"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsx(ua,{label:"Mensualit Crdit ()",value:Rn?Math.round(Ra*100)/100:et,setValue:Tt,step:1,unit:"",icon:s.jsx(S0,{size:14,className:"text-blue-400"}),sublabel:Rn?"Calcul automatiquement":"Montant mensuel du prt",disabled:Rn}),s.jsx(ua,{label:"Assurance (/Mois)",value:Rn?Math.round(Yo*100)/100:_t,setValue:ir,step:.1,unit:"",icon:s.jsx(qs,{size:14,className:"text-orange-400"}),sublabel:Rn?"Calcule automatiquement":"Assurance emprunteur mensuelle",disabled:Rn})]}),s.jsxs("div",{className:"px-2 mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y_,{size:14,className:"text-red-500"}),s.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Dure Crdit (Mois)"})]}),s.jsxs("div",{className:"text-3xl font-black text-white",children:[Ft," ",s.jsx("span",{className:"text-sm text-slate-500 font-bold",children:"mois"})]})]}),s.jsx("input",{type:"range",min:"12",max:"180",step:"12",value:Ft,onChange:B=>en(Number(B.target.value)),className:"w-full h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-white"}),s.jsxs("p",{className:"text-xs text-slate-600 mt-2 font-mono",children:["Soit ",(Ft/12).toFixed(1)," annes de remboursement"]})]}),Rn&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-top-4 duration-300 border-t border-white/5 pt-6",children:[s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lu,{size:14,className:vr<3.5?"text-emerald-500":"text-slate-500"}),s.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400",children:"Code de Validation"})]}),vr<3.5&&s.jsxs("span",{className:"text-[10px] font-black text-emerald-500 animate-pulse",children:[" VALID (",vr,"%)"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:mi,placeholder:"CODE...",className:"flex-1 bg-zinc-900 border border-white/10 rounded-lg px-4 py-3 text-sm text-blue-400 outline-none focus:border-blue-500 uppercase font-mono",onChange:B=>xi(B.target.value)}),s.jsxs("button",{onClick:_l,className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-lg uppercase text-xs transition-all active:scale-95 flex items-center gap-2",children:[s.jsx(ar,{size:16}),"VALIDER"]})]}),Pi&&s.jsxs("div",{className:"mt-6 p-4 bg-green-900/20 border border-green-500/30 rounded-lg",children:[s.jsx("p",{className:"text-green-400 font-semibold mb-3",children:" Code valid ! Choisissez la dure :"}),s.jsxs("select",{value:ka,onChange:B=>{const Ae=Number(B.target.value);ln(Ae)},className:"w-full p-3 bg-black/40 border border-white/10 rounded-lg text-white",children:[vr===.99&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:60,children:"5 ans (60 mois)"}),s.jsx("option",{value:84,children:"7 ans (84 mois)"})]}),vr===1.99&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:72,children:"6 ans (72 mois)"}),s.jsx("option",{value:84,children:"7 ans (84 mois)"}),s.jsx("option",{value:120,children:"10 ans (120 mois)"}),s.jsx("option",{value:180,children:"15 ans (180 mois)"})]}),vr===3.89&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:120,children:"10 ans (120 mois)"}),s.jsx("option",{value:180,children:"15 ans (180 mois)"}),s.jsx("option",{value:240,children:"20 ans (240 mois)"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsx(ua,{label:"Taux d'intrt (%)",value:vr,setValue:B=>{hi(B),wl(B)},step:.01,unit:"%",icon:s.jsx(ar,{size:14,className:"text-emerald-400"}),sublabel:"Taux annuel du crdit"}),s.jsx(ua,{label:"Taux Assurance (%)",value:fi,setValue:Li,step:.05,unit:"%",icon:s.jsx(qs,{size:14,className:"text-orange-400"}),sublabel:"Taux annuel"})]}),s.jsxs("div",{className:"bg-[#022c22] border border-emerald-500/20 rounded-xl p-4 flex flex-col md:flex-row items-center justify-between gap-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-emerald-500"}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-emerald-500/10 p-2 rounded-full text-emerald-400",children:s.jsx(ar,{size:20})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-emerald-400 font-bold uppercase tracking-wider text-xs mb-1 text-left",children:"Calcul Automatique"}),s.jsxs("div",{className:"flex gap-8",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-emerald-200/60 uppercase font-bold text-left",children:"Mensualit"}),s.jsx("p",{className:"text-xl font-black text-white",children:Qe(Ra)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-emerald-200/60 uppercase font-bold text-left",children:"Assurance"}),s.jsx("p",{className:"text-xl font-black text-white",children:Qe(Yo)})]})]})]})]}),s.jsxs("button",{onClick:Lc,className:"bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 px-6 rounded-lg uppercase tracking-wider text-xs flex items-center gap-2 shadow-lg shadow-emerald-900/50 transition-all active:scale-95",children:[s.jsx(Wy,{size:16})," Appliquer Ces Valeurs"]})]})]})]})]})]})}),je==="coach"?s.jsxs(s.Fragment,{children:[!Wr&&s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-blue-900/30 p-4 rounded-xl flex items-center gap-3 text-blue-200 text-sm hover:border-blue-500/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-500",children:[s.jsx(Wa,{size:18}),s.jsx("span",{children:"Les graphiques et calculs se mettent  jour automatiquement."})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"bg-black/60 backdrop-blur-md p-1 rounded-xl border border-white/10 inline-flex shadow-[0_0_20px_rgba(0,0,0,0.5)]",children:[10,15,20,25].map(B=>s.jsxs("button",{onClick:()=>u(B),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all ${c===B?"bg-blue-600 text-white shadow-[0_0_15px_rgba(37,99,235,0.5)]":"text-slate-500 hover:text-white"}`,children:[B," ANS"]},B))})}),s.jsx(Fn,{id:"protocole",title:"TAPE 1 : PROTOCOLE D'AUDIT TECHNIQUE ET FINANCIER",icon:s.jsx(qs,{className:$s?"animate-spin text-emerald-500":"text-emerald-500"}),defaultOpen:!1,onOpen:B=>{ne(B)},children:s.jsxs("div",{className:"bg-[#05080a] border-2 border-emerald-500/30 rounded-3xl p-6 shadow-2xl relative overflow-hidden",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 mb-8 border-b border-white/10 pb-6 relative z-10",children:[s.jsxs("div",{className:"text-left",children:[s.jsxs("h3",{className:"text-3xl font-black text-white tracking-tighter uppercase leading-none mb-2",children:["AUDIT DE CONFORMIT"," ",s.jsx("span",{className:"text-emerald-500",children:"SYSTME v2.4"})]}),s.jsx("p",{className:"text-[11px] text-slate-500 font-mono uppercase tracking-[0.3em]",children:"Certification Algorithmique EDF Solutions Solaires"})]}),s.jsxs("div",{className:"flex items-center gap-4 bg-black/50 p-4 rounded-2xl border border-white/5",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Indice de Fiabilit"}),s.jsxs("div",{className:"text-4xl font-black text-white font-mono",children:[Math.round(zs/7*100),"%"]})]}),s.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-emerald-500/20 flex items-center justify-center",children:s.jsx("div",{className:`w-3 h-3 rounded-full ${$s?"bg-orange-500 animate-ping":"bg-emerald-500 shadow-[0_0_15px_#10b981]"}`})})]})]}),s.jsx("div",{className:"space-y-3 mb-8 relative z-10",children:[{label:"Analyse des factures & Profil de consommation",val:`${Math.round(((tl=e==null?void 0:e.computed)==null?void 0:tl.monthlyBill)||208)}/mois`,detail:"Vrification des paliers d'abonnement et historique sur 12 mois.",testStatus:" 49/49 tests passed",testDetail:"5 suites  100% success"},{label:"Gisement solaire & Masques d'ombrage",val:`${cr||7e3} kWh/an`,detail:"Calcul d'irradiation hliomtrique via donnes satellites PVGIS 5.2.",testStatus:" Rpartition OK",testDetail:"Integration validated"},{label:"Audit Patrimonial & Valeur Verte",val:`+${(hn==null?void 0:hn.value)||30720}`,detail:"valuation de la plus-value immobilire certifie base DVF Notaires.",testStatus:" Patrimoine vrifi",testDetail:"Dashboard complete"},{label:"Rentabilit (TRI) & Cash-Flow",val:`${(Se==null?void 0:Se.roiPercentageCash)||6.52}%`,detail:"Modlisation financire incluant amortissement et rinvestissement.",testStatus:" ROI & Break-even",testDetail:"40 test cases"},{label:"Conformit Fiscale & ligibilit Aides",val:"TVA 5.5%",detail:"Validation Prime  l'autoconsommation et cadre Loi de Finance 2025.",testStatus:" Modules admin",testDetail:"Budget & Process"},{label:"Scurit lectrique & Normes NFC",val:"NFC 15-712-1",detail:"Vrification des protections parafoudre et dimensionnement des cbles.",testStatus:" UI Components",testDetail:"Open/close tested"},{label:"Rsilience nergie & Inflation",val:"Indexation 5%",detail:"Scnario de protection contre la hausse des tarifs rguls (25 ans).",testStatus:" Taux spciaux",testDetail:"0.99% conditional"}].map((B,Ae)=>{const Xe=Ae<zs,nt=Ae===zs;return s.jsxs("div",{className:`group transition-all duration-700 ${Ae<=zs?"opacity-100":"opacity-10"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1 px-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-2 h-2 rounded-sm rotate-45 transition-colors ${Xe?"bg-emerald-500":"bg-slate-700"}`}),s.jsx("span",{className:"text-xs font-bold text-white uppercase tracking-tight",children:B.label})]}),s.jsx("span",{className:"text-xs font-mono font-black text-emerald-500",children:Xe?B.val:"---"}),Ae<zs&&s.jsx("span",{className:"text-[10px] text-emerald-400 font-mono ml-2",children:""})]}),s.jsxs("div",{className:"relative h-6 bg-white/5 rounded-md border border-white/5 overflow-hidden flex items-center px-3",children:[s.jsx("div",{className:`absolute left-0 top-0 h-full bg-emerald-500/10 transition-all duration-[1000ms] ${Xe?"w-full border-r border-emerald-500":nt?"w-1/2 animate-pulse":"w-0"}`}),s.jsx("span",{className:"relative z-10 text-[9px] text-slate-500 font-medium italic truncate",children:Xe?B.detail:"Attente de validation..."}),Xe&&s.jsx(ar,{size:12,className:"ml-auto text-emerald-500 relative z-10"})]}),Xe&&s.jsxs("div",{className:"mt-1.5 px-2 flex items-center justify-between text-[8px]",children:[s.jsx("span",{className:"text-emerald-400/60 font-mono",children:B.testStatus}),s.jsx("span",{className:"text-slate-600 font-mono italic",children:B.testDetail})]})]},Ae)})}),!$s&&s.jsx("div",{className:"mt-8 p-6 bg-emerald-500/5 border-2 border-emerald-500/20 rounded-2xl animate-in fade-in slide-in-from-bottom-4 duration-1000",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 text-left",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-xl font-black text-white uppercase italic",children:"Certification de Visite Technique"}),s.jsx("p",{className:"text-[11px] text-slate-400 leading-tight",children:"En tant qu'expert conseil, je valide par la prsente la faisabilit technique du projet suite  l'examen de la toiture, du tableau lectrique et de l'exposition relle."})]}),s.jsxs("button",{onClick:ts,className:`flex items-center gap-4 px-8 py-5 rounded-xl font-black uppercase tracking-tighter transition-all duration-500 group ${As?"bg-emerald-500 text-black scale-105 shadow-[0_0_30px_rgba(16,185,129,0.5)]":"bg-white/10 text-white border border-white/10 hover:bg-white/20"}`,children:[s.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-all ${As?"bg-black border-black":"border-white/30"}`,children:As&&s.jsx(ar,{size:16,className:"text-emerald-500"})}),As?"PROJET CERTIFI PAR L'EXPERT":"VALIDER L'AUDIT SUR SITE"]})]})}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-white/5 flex justify-between items-center opacity-40 font-mono text-[9px] uppercase tracking-widest text-slate-500",children:[s.jsxs("div",{children:["ID_SCAN:"," ",Math.random().toString(36).substr(2,9).toUpperCase()]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-emerald-500",children:"49/49"})]}),s.jsx("span",{className:"text-slate-700",children:"|"}),s.jsx("span",{children:" EDF 2025"})]})]})]})})]}):s.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-8 duration-1000",children:s.jsxs("div",{className:"bg-[#05080a] border border-blue-500/20 p-20 rounded-[40px] text-center shadow-2xl",children:[s.jsx("div",{className:"w-20 h-20 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-blue-500/30",children:s.jsx(vc,{className:"text-blue-400 w-10 h-10"})}),s.jsxs("h2",{className:"text-5xl font-black text-white uppercase tracking-tighter mb-4",children:["Bilan Energtique ",s.jsx("span",{className:"text-blue-500",children:"Prt"})]}),s.jsx("p",{className:"text-slate-400 text-lg max-w-xl mx-auto mb-10",children:"L'audit est valid. Les projections d'conomies sont disponibles."}),s.jsx("button",{onClick:()=>Ve("coach"),className:"px-8 py-3 bg-white/5 text-slate-500 rounded-xl text-xs font-bold hover:text-white",children:" REVENIR  L'AUDIT"})]})}),s.jsx(Fn,{id:"securite-edf-groupe",title:"Scurit EDF  Groupe d'tat",icon:s.jsx(qs,{className:"text-emerald-500"}),defaultOpen:!1,children:s.jsxs("div",{className:"relative overflow-hidden rounded-[32px] border border-white/10 bg-black/40 p-8 backdrop-blur-xl",children:[s.jsx("div",{className:"pointer-events-none absolute -top-32 -right-32 h-96 w-96 bg-emerald-500/5 blur-[120px]"}),s.jsxs("div",{className:"relative z-10 mb-10 flex items-center gap-6 rounded-2xl border border-white/10 bg-gradient-to-r from-blue-950/30 to-slate-900/30 p-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-2xl bg-white p-3 shadow-2xl",children:s.jsx("span",{className:"text-2xl font-black text-[#00008f]",children:"EDF"})}),s.jsx("div",{className:"absolute -bottom-2 -right-2 flex h-8 w-8 items-center justify-center rounded-full border-2 border-black/40 bg-emerald-600",children:s.jsx(ar,{size:16,className:"text-white"})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"mb-2 text-2xl font-black uppercase tracking-tight text-white",children:"GROUPE EDF SOLUTIONS SOLAIRES"}),s.jsx(_i,{title:pc.cadreEDF[H].title,children:pc.cadreEDF[H].body})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("span",{className:"rounded-lg border border-blue-500/20 bg-blue-500/10 px-3 py-1 text-xs font-bold uppercase text-blue-300",children:"100% Public"}),s.jsx("span",{className:"rounded-lg border border-emerald-500/20 bg-emerald-500/10 px-3 py-1 text-xs font-bold uppercase text-emerald-300",children:"Contrl par l'tat"}),s.jsxs("span",{className:"flex items-center gap-1 rounded-lg border border-purple-500/20 bg-purple-500/10 px-3 py-1 text-xs font-bold uppercase text-purple-300",children:["Continuit garantie par l'tat",s.jsx(_i,{title:pc.zeroFaillite[H].title,children:pc.zeroFaillite[H].body})]})]})]})]}),s.jsxs("div",{className:"relative z-10 mb-8 grid grid-cols-1 gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/60 p-6",children:[s.jsxs("h4",{className:"mb-4 flex items-center gap-3 font-black uppercase text-white",children:[s.jsx(Tx,{size:22,className:"text-blue-400"}),"Contrat protg",s.jsx(_i,{title:pc.contrat[H].title,children:pc.contrat[H].body})]}),s.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[s.jsx("li",{children:" 14 jours de rtractation lgale"}),s.jsx("li",{children:" Aucun versement avant dmarrage"}),s.jsx("li",{children:" Protection Code de la consommation"})]})]}),s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/60 p-6",children:[s.jsxs("h4",{className:"mb-4 flex items-center gap-3 font-black uppercase text-white",children:[s.jsx(kv,{size:22,className:"text-yellow-400"}),"Installateurs certifis"]}),s.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[s.jsx("li",{children:" Certification RGE QualiPV"}),s.jsx("li",{children:" Assurance dcennale active"})]})]}),s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/60 p-6",children:[s.jsxs("h4",{className:"mb-4 flex items-center gap-3 font-black uppercase text-white",children:[s.jsx(fa,{size:22,className:"text-purple-400"}),"Raccordement scuris"]}),s.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[s.jsx("li",{children:" Contrat EDF OA garanti 20 ans"}),s.jsx("li",{children:" Inscription registre ENEDIS"}),s.jsx("li",{children:" Prix de rachat fix par l'tat"})]})]}),s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/60 p-6",children:[s.jsxs("h4",{className:"mb-4 flex items-center gap-3 font-black uppercase text-white",children:[s.jsx(cl,{size:22,className:"text-emerald-400"}),"Aides scurises",s.jsx(_i,{title:pc.aides[H].title,children:pc.aides[H].body})]}),s.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[s.jsx("li",{children:" Versement direct par l'tat"}),s.jsx("li",{children:" Prime autoconsommation garantie"}),s.jsx("li",{children:" Payable 12 mois aprs l'installation"})]})]})]})]})}),s.jsx(Fn,{id:"engagement-risque-admin",title:"Engagement EDF  Risque administratif couvert",icon:s.jsx(lu,{className:"text-emerald-500"}),defaultOpen:!1,children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-emerald-950/20 to-green-950/20 border-2 border-emerald-500/30 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-emerald-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(lu,{className:"text-emerald-400",size:28})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("h4",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"ENGAGEMENT EDF  RISQUE ADMINISTRATIF COUVERT"}),s.jsx(_i,{title:td.engagement[H].title,children:td.engagement[H].body})]}),s.jsx("div",{className:"bg-black/40 rounded-lg p-4 mb-4",children:s.jsxs("p",{className:"text-lg text-emerald-300 font-bold leading-relaxed",children:["Si un blocage administratif empche l'installation (refus mairie, ABF, ENEDIS, ou autre),"," ",s.jsx("span",{className:"text-white text-xl",children:"aucun paiement n'est exigible"}),s.jsx(_i,{title:td.paiement[H].title,className:"ml-2 inline-flex",children:td.paiement[H].body})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"text-emerald-400 flex-shrink-0",size:16}),s.jsx("span",{className:"text-slate-300",children:"Aucun paiement avant validation complte du dossier administratif"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"text-emerald-400 flex-shrink-0",size:16}),s.jsx("span",{className:"text-slate-300",children:"Annulation gratuite en cas de refus d'une autorisation administrative"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"text-emerald-400 flex-shrink-0",size:16}),s.jsx("span",{className:"text-slate-300",children:"Accompagnement juridique inclus dans le contrat EDF"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"text-emerald-400 flex-shrink-0",size:16}),s.jsxs("span",{className:"text-slate-300 flex items-center gap-1",children:["Prise en charge totale garantie EDF de toutes les dmarches",s.jsx(_i,{title:td.priseEnCharge[H].title,children:td.priseEnCharge[H].body})]})]})]})]})]})}),s.jsx("div",{className:"bg-slate-950/40 border border-slate-700/30 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-slate-700/20 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(nh,{className:"text-slate-400",size:24})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-bold text-slate-300 mb-2",children:"PLANNINGS D'INSTALLATION"}),s.jsx("p",{className:"text-sm text-slate-400 leading-relaxed mb-3",children:"Votre secteur (06 - Alpes-Maritimes) : quipes RGE actives."}),s.jsxs("p",{className:"text-sm text-slate-400 leading-relaxed mb-3",children:["Dlai moyen actuel :"," ",s.jsx("span",{className:"text-white font-semibold",children:"6-8 semaines"})," ","aprs validation administrative."]}),s.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:"Une fois valid, votre dossier est transmis au coordinateur rgional EDF."})]})]})}),s.jsx("div",{className:"bg-blue-950/20 border border-blue-500/20 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"Ce projet est valid selon les mmes standards que les installations ralises par EDF depuis plus de 25 ans chez des particuliers et des collectivits."})})]})}),s.jsx(Fn,{id:"prise-en-charge-admin",title:"Prise en charge administrative",icon:s.jsx(l_,{className:"text-blue-500"}),defaultOpen:!1,children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-[32px] p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute -top-32 -right-32 w-96 h-96 bg-blue-500/5 blur-[120px]"}),s.jsx("div",{className:"relative z-10 mb-8 p-6 bg-gradient-to-r from-blue-950/30 to-slate-900/30 border-l-4 border-blue-500/50 rounded-r-2xl",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(qs,{className:"text-blue-400 mt-1 flex-shrink-0",size:24}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"text-white text-lg font-black uppercase tracking-tight",children:"EDF GRE L'ENSEMBLE DU VOLET ADMINISTRATIF ET RGLEMENTAIRE"}),s.jsx(_i,{title:rd.cadre[H].title,children:rd.cadre[H].body})]}),s.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:"Vous n'avez rien  remplir, rien  suivre. Chaque tape est prise en main par EDF et valide par vous uniquement lorsque c'est ncessaire."})]})]})}),s.jsxs("details",{className:"relative z-10 mb-8 bg-black/60 border border-white/10 rounded-xl overflow-hidden",children:[s.jsxs("summary",{className:"px-6 py-4 cursor-pointer hover:bg-white/5 transition-colors flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-bold text-white uppercase tracking-wide flex items-center gap-2",children:[" Voir ce qu'EDF gre pour vous (optionnel)",s.jsx(_i,{title:rd.complexite[H].title,children:rd.complexite[H].body})]}),s.jsx(Mg,{className:"text-slate-400",size:20})]}),s.jsx("div",{className:"px-6 py-4 border-t border-white/10",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{step:"1",title:"Urbanisme & Mairie",desc:"Dclaration pralable de travaux (DP)"},{step:"2",title:"Architectes des Btiments de France",desc:"Validation ABF si zone protge"},{step:"3",title:"Diagnostic Amiante",desc:"Diagnostic rglementaire inclus (toitures avant 1997)"},{step:"4",title:"Installation & Pose",desc:"Par installateurs RGE certifis"},{step:"5",title:"Consuel (Comit National de Scurit)",desc:"Attestation de conformit lectrique"},{step:"6",title:"Raccordement ENEDIS",desc:"Mise en service du compteur Linky"},{step:"7",title:"Contrat OA (Obligation d'Achat)",desc:"Signature avec EDF OA - 20 ans"},{step:"8",title:"Mise en Production",desc:"Activation et suivi de production"}].map((B,Ae)=>s.jsx("div",{className:"bg-black/20 border border-white/5 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsxs("span",{className:"text-blue-400 text-xs font-bold",children:["#",B.step]})}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-bold text-white mb-1",children:B.title}),s.jsx("p",{className:"text-xs text-slate-400",children:B.desc})]})]})},Ae))})})]}),s.jsxs("div",{className:"relative z-10 p-6 bg-emerald-950/20 border border-emerald-500/20 rounded-2xl flex items-start gap-2",children:[s.jsxs("p",{className:"text-emerald-100 text-sm leading-relaxed",children:[s.jsx("strong",{className:"text-white",children:"Vous tes guid, accompagn et protg."})," ","EDF assume la responsabilit du projet  vous validez simplement les tapes importantes."]}),s.jsx(_i,{title:rd.securisation[H].title,children:rd.securisation[H].body})]})]})}),s.jsx(Fn,{id:"garanties-long-terme",title:ge.title,icon:s.jsx(qs,{className:"text-orange-500"}),defaultOpen:!1,onOpen:B=>{ne(B)},onClose:jr,children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-[32px] p-8 space-y-10",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qs,{className:"text-orange-500 w-6 h-6 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:(Ma=ge.intro)==null?void 0:Ma.text}),((rc=(tc=ge.intro)==null?void 0:tc.infobulle)==null?void 0:rc[H])&&s.jsx(_i,{title:ge.intro.infobulle[H].title,children:ge.intro.infobulle[H].body})]}),ge.toggleLabels&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-black text-white",children:"Deux niveaux de protection"}),s.jsx(e5,{checked:Oi,onChange:Ho,labelOff:ge.toggleLabels.off,labelOn:ge.toggleLabels.on})]}),ge.toggleDisclaimer&&s.jsx("div",{className:"text-xs text-slate-400 bg-blue-950/20 border-l-2 border-blue-500 p-3 rounded",children:ge.toggleDisclaimer})]}),Oi?s.jsxs("div",{className:"bg-black/60 border border-blue-900/30 rounded-xl p-4",children:[s.jsx("strong",{className:"text-blue-200 text-sm",children:(Ru=ge.bannerPerformance)==null?void 0:Ru.title}),s.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-300",children:(Vn=(nc=ge.bannerPerformance)==null?void 0:nc.items)==null?void 0:Vn.map((B,Ae)=>s.jsxs("li",{children:[" ",B]},Ae))})]}):s.jsxs("div",{className:"bg-[#021c15] border border-emerald-500/30 rounded-xl p-4",children:[s.jsx("strong",{className:"text-emerald-400 text-sm",children:(Dc=ge.bannerEssentielle)==null?void 0:Dc.title}),s.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-300",children:(Tu=(qc=ge.bannerEssentielle)==null?void 0:qc.items)==null?void 0:Tu.map((B,Ae)=>s.jsxs("li",{children:[" ",B]},Ae))})]}),((Ls=ge.sections)==null?void 0:Ls.length)>0&&s.jsx("div",{className:"space-y-6",children:ge.sections.map(B=>{var Ae;return s.jsxs("div",{className:"bg-[#0a0e14] border border-white/5 rounded-xl p-6",children:[s.jsx("h4",{className:"text-sm font-bold text-white mb-2",children:B.title}),s.jsx("p",{className:"text-xs text-slate-300 mb-2",children:B.text}),B.microText&&s.jsx("p",{className:"text-[10px] text-slate-500 uppercase",children:B.microText}),((Ae=B.infobulle)==null?void 0:Ae[H])&&s.jsx(_i,{title:B.infobulle[H].title,children:B.infobulle[H].body})]},B.id)})}),((rs=ge.synthese)==null?void 0:rs[H])&&s.jsx("div",{className:"bg-[#040912] border border-blue-900/40 p-4 rounded-xl",children:s.jsx("p",{className:"text-sm text-blue-200",children:ge.synthese[H]})}),s.jsxs("div",{id:"coach-block-gar",className:"hidden mt-4 bg-black/60 border border-white/10 rounded-lg p-3 text-[11px] text-slate-300 leading-relaxed",children:[s.jsx("p",{children:" Positionnement   Ici il n'y a rien  dcider : on scurise un projet. "}),s.jsx("p",{children:" Terrain  lire le tout en continu, sans pause, puis regarder le client."}),s.jsx("p",{children:" Silence  2 secondes."}),s.jsx("p",{className:"text-slate-500 italic",children:"(Et seulement si le client demande :  tant que le dossier n'est pas valid, vous pouvez arrter le projet sans frais )"})]})]})}),s.jsx(Fn,{id:"realisations",title:"Ralisations EDF  Familles accompagnes dans votre secteur",icon:s.jsx(Vf,{className:"text-blue-400"}),defaultOpen:!1,onOpen:B=>{ne(B)},children:s.jsxs("div",{className:"bg-slate-900/40 border border-slate-800 rounded-[32px] p-8",children:[s.jsxs("div",{className:"mb-5 flex items-center gap-2 text-slate-400 text-sm",children:[s.jsx(Fg,{className:"text-blue-400",size:16}),s.jsxs("span",{children:["Projets EDF accompagns  proximit de"," ",s.jsx("strong",{className:"text-white",children:lr||(e!=null&&e.address?e.address.split(",").pop().trim():"votre secteur")})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vf,{className:"text-blue-400",size:24}),s.jsx("h2",{className:"text-lg font-bold text-white uppercase tracking-wide",children:"Ralisations EDF  Alpes-Maritimes"})]}),s.jsx("div",{className:"px-3 py-1 bg-blue-500/10 border border-blue-500/20 rounded-full",children:s.jsx("span",{className:"text-[10px] font-bold text-blue-400 uppercase tracking-wider",children:"Donnes relles"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[{name:"Mme T.",city:"Le Cannet",gain:22400,status:"Production active",kWc:"3.5 kWc"},{name:"M. B.",city:"Mougins",gain:28900,status:"Installation raccorde",kWc:"4.5 kWc"},{name:"Famille D.",city:"Grasse",gain:39400,status:"Production active",kWc:"6 kWc"},{name:"M. & Mme L.",city:"Cannes",gain:51800,status:"Raccordement valid Enedis",kWc:"9 kWc"}].map((B,Ae)=>s.jsxs("div",{className:"bg-slate-950/50 border border-slate-800 rounded-2xl p-5 hover:border-blue-500/40 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-slate-400 text-[9px] font-semibold uppercase tracking-widest",children:B.status})]}),s.jsx("span",{className:"text-slate-600 text-[9px] font-mono",children:B.kWc})]}),s.jsx("div",{className:"text-white font-semibold text-sm mb-0.5",children:B.name}),s.jsx("div",{className:"text-slate-500 text-xs mb-4",children:B.city}),s.jsxs("div",{className:"border-t border-slate-800 pt-3",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider mb-1",children:"Projection conservatrice  base tarif EDF actuelle"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:Qe(B.gain)})]})]},Ae))}),s.jsx("div",{className:"bg-gradient-to-r from-slate-800/40 to-transparent border-l-4 border-blue-500 p-5 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg flex-shrink-0",children:s.jsx(Hy,{className:"text-blue-400",size:20})}),s.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed",children:[s.jsx("strong",{className:"text-white",children:"127 dossiers valids"})," ","ce mois-ci dans le 06."]})]})})]})}),s.jsxs(Fn,{id:"locataire-proprietaire",title:"Locataire VS Propritaire nergtique",icon:s.jsx(Av,{className:"text-blue-600"}),defaultOpen:!1,onOpen:B=>{ne(B)},children:[s.jsxs("div",{className:"relative grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-orange-700/30 rounded-[24px] p-8 relative overflow-hidden transition-all duration-300 hover:border-orange-500/40 hover:shadow-[0_0_30px_rgba(255,152,0,0.15)]",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl bg-[#1a0d05] border border-orange-800/30 flex items-center justify-center text-orange-400",children:s.jsx(Gj,{size:28})}),s.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"Modle Locatif"})]}),s.jsx("p",{className:"text-orange-200 text-sm font-medium mb-6",children:"Vous payez chaque mois pour consommer. C'est un modle d'usage."}),s.jsxs("ul",{className:"space-y-4 text-sm text-slate-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(cu,{className:"text-orange-400 w-4 h-4 mt-0.5 flex-shrink-0"}),"Le tarif suit les volutions du march et des dcisions publiques  vous ne matrisez pas l'avenir de votre facture."]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(cu,{className:"text-orange-400 w-4 h-4 mt-0.5 flex-shrink-0"}),"Aprs ",c," ans, vous aurez pay mais rien ne vous appartiendra."]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(cu,{className:"text-orange-400 w-4 h-4 mt-0.5 flex-shrink-0"}),"La relation reste mensuelle : vous tes dpendant d'lments extrieurs pour votre cot nergtique."]})]}),s.jsx("div",{className:"mt-8 h-1.5 bg-orange-900/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-orange-500 w-3/4"})}),s.jsx("div",{className:"mt-2 text-[14px] text-orange-400/60 italic",children:"Vous payez pour l'usage, sans capitaliser."})]}),s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-blue-600/30 rounded-[24px] p-8 relative overflow-hidden shadow-2xl shadow-blue-900/10 transition-all duration-300 hover:border-blue-500/50 hover:shadow-[0_0_30px_rgba(37,99,235,0.3)]",children:[s.jsx("div",{className:"absolute top-4 right-4 bg-blue-600 text-white text-[10px] font-bold px-3 py-1 rounded uppercase shadow-lg",children:"Possibilit d'volution"}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-600 flex items-center justify-center text-white shadow-lg shadow-blue-600/30",children:s.jsx(Av,{size:28})}),s.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"Modle Producteur (Propritaire)"})]}),s.jsx("p",{className:"text-blue-100 text-sm font-medium mb-6",children:"Vous devenez propritaire de votre production. Chaque kWh produit vous appartient."}),s.jsxs("ul",{className:"space-y-4 text-sm text-white",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(ar,{className:"text-emerald-400 w-4 h-4 mt-0.5 flex-shrink-0"}),"Cot stabilis par autoproduction, visibilit sur le long terme."]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(ar,{className:"text-emerald-400 w-4 h-4 mt-0.5 flex-shrink-0"}),"Vous crez un patrimoine valorisable (transmission, valeur nergtique du bien)."]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(ar,{className:"text-emerald-400 w-4 h-4 mt-0.5 flex-shrink-0"}),"Moins dpendant des volutions extrieures  vous scurisez une partie de votre nergie."]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(ar,{className:"text-emerald-400 w-4 h-4 mt-0.5 flex-shrink-0"}),"Le financement se fait au fil des conomies gnres par votre production."]})]}),s.jsx("div",{className:"mt-8 h-1.5 bg-slate-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 w-2/3"})}),s.jsx("div",{className:"mt-2 text-[14px] text-emerald-400 italic font-medium",children:"Vos conomies deviennent un actif."})]})]}),s.jsx("div",{className:"mt-8 flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-3 bg-slate-900/40 border border-white/5 rounded-xl px-6 py-3",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Ces deux modles sont lgitimes. La question est : lequel correspond  votre situation ?"})]})}),s.jsxs("div",{id:"coach-block-mod8",className:"hidden mt-4 bg-black/60 border border-white/10 rounded-lg p-3 text-[11px] text-slate-300 leading-relaxed",children:[s.jsx("p",{children:" EDF (neutre)   Ici on ne parle pas d'un achat, mais d'un modle de gestion nergtique. "}),s.jsx("p",{children:" Question   Dans votre cas, vous penchez plutt vers quel modle ? "}),s.jsx("p",{className:"italic text-slate-400",children:" Puis  SILENCE 3 secondes."})]})]}),s.jsx(Fn,{id:"repartition",title:"Origine de llectricit de votre maison",icon:s.jsx(fa,{className:"text-blue-400"}),defaultOpen:!1,children:s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-[32px] p-6 sm:p-8 space-y-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white mb-2",children:"Fonctionnement nergtique aprs installation"}),s.jsx("p",{className:"text-slate-400 text-sm leading-relaxed max-w-3xl",children:"Ce module montre concrtement comment se rpartit llectricit consomme par votre maison une fois linstallation en service."})]}),s.jsxs("div",{className:"bg-[#050505] border border-white/10 rounded-3xl p-6 sm:p-8 text-center",children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 mb-2",children:"Taux de couverture nergtique"}),s.jsxs("div",{className:"text-6xl sm:text-7xl font-black text-white tracking-tighter",children:[Se.savingsRatePercent.toFixed(0)," %"]}),s.jsx("p",{className:"text-slate-300 mt-2 text-sm",children:"de votre consommation lectrique est produite directement par votre maison."}),s.jsx("div",{className:"w-full h-3 bg-white/5 rounded-full overflow-hidden mt-5",children:s.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-700",style:{width:`${Se.savingsRatePercent}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-black/60 border border-white/10 rounded-2xl p-5",children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 mb-1",children:"Consommation actuelle"}),s.jsxs("p",{className:"text-3xl font-black text-white",children:[ed(Se.baseConsumptionKwh)," kWh/an"]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-red-500",style:{width:"100%"}})}),s.jsx("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:"Rfrence 100%  votre dpendance actuelle au rseau"})]}),s.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Ce que vous achetez au rseau chaque anne aujourd'hui."}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5 text-slate-300 text-sm",children:[Qe(Se.lossIfWait1Year)," / an"]})]}),s.jsxs("div",{className:"bg-black/60 border border-emerald-500/20 rounded-2xl p-5",children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 mb-1",children:"Production Solaire"}),s.jsxs("p",{className:"text-3xl font-black text-emerald-400",children:[ed(Se.savingsLostIfWait1Year/jn)," ","kWh/an"]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-700",style:{width:`${Se.savingsRatePercent}%`}})}),s.jsxs("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:[Se.savingsRatePercent.toFixed(0),"% de votre consommation couverte"]})]}),s.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Ce que vous produisez et consommez directement."}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5 text-emerald-400 text-sm font-bold",children:[" ",Qe(Se.savingsLostIfWait1Year)," / an conomiss"]}),s.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"lectricit que vous ne payez plus"})]}),s.jsxs("div",{className:"bg-black/60 border border-blue-500/20 rounded-2xl p-5",children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 mb-1",children:"Surplus inject rseau"}),s.jsxs("p",{className:"text-3xl font-black text-blue-400",children:[ed(Se.surplusRevenuePerYear/ea)," ","kWh/an"]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 transition-all duration-700",style:{width:`${100-Se.savingsRatePercent}%`}})}),s.jsx("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:"Part de la production automatiquement valorise par EDF"})]}),s.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:["Non consomm, vendu automatiquement. ",s.jsx("br",{}),"Contrat d'Obligation d'Achat 20 ans  cadre lgal. ",s.jsx("br",{}),"Tarif rglement : 0.04 / Watt"]}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5 text-blue-400 text-sm font-bold",children:[" ",Qe((((wi=e==null?void 0:e.params)==null?void 0:wi.installedPower)||0)*1e3*.04)," / an"]})]})]}),s.jsx("div",{className:"bg-blue-950/20 border-l-4 border-blue-500 rounded-xl p-5",children:s.jsxs("p",{className:"text-slate-200 text-sm leading-relaxed",children:[s.jsx("strong",{className:"text-white",children:"Fonctionnement rseau :"}),s.jsx("br",{}),"Llectricit produite est consomme automatiquement dans votre maison. Le surplus est inject et rachet par EDF dans le cadre du contrat dObligation dAchat (tat, 20 ans). Lorsque la production est insuffisante, le rseau prend le relais instantanment.",s.jsx("br",{}),s.jsx("br",{}),s.jsx("span",{className:"text-blue-300 font-semibold",children:"Aucun rglage. Aucun pilotage. Continuit de service garantie."})]})}),s.jsxs("div",{className:"text-center pt-2",children:[s.jsx("p",{className:"text-slate-400 italic text-sm",children:"Vos habitudes ne changent pas."}),s.jsx("p",{className:"text-white font-bold italic text-lg",children:"Seule lorigine de votre lectricit change."})]})]})}),s.jsx(O0,{label:"Cadre pos",title:"Tout ce quon a fait jusque-l sert  une seule chose.",subtitle:"tre sr quon ne se trompe pas."}),s.jsx(Fn,{id:"synthese",title:"Synthse darbitrage nergtique et patrimonial",icon:s.jsx(Ha,{className:"text-blue-400"}),defaultOpen:!1,onOpen:B=>{ne(B)},children:s.jsxs("div",{id:"Synthse d'Arbitrage nergtique",className:"space-y-6 mt-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[s.jsxs("div",{className:"lg:col-span-8 bg-[#050505] border border-white/10 rounded-[40px] p-8 shadow-2xl",children:[s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsxs("div",{className:"bg-black border border-blue-500/30 text-blue-400 px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider flex items-center gap-2",children:[s.jsx(lu,{size:18})," PROJECTION 20 ANS"]}),s.jsxs("div",{className:"bg-[#062c1e] border border-emerald-500/30 text-emerald-400 px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider flex items-center gap-2",children:[s.jsx(vc,{size:18})," 0 D'APPORT"]})]}),s.jsx("h3",{className:"text-2xl font-black uppercase italic text-white tracking-tighter",children:"Rsultat conomique entre les deux trajectoires"}),s.jsxs("div",{className:"text-5xl font-black text-white mb-8 italic tracking-tighter","data-testid":"gain-total",children:[Math.round(Se.totalSavingsProjected).toLocaleString()," ",""]}),s.jsxs("div",{className:"bg-[#0a0a0b] border border-white/5 rounded-3xl p-6 space-y-4 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ar,{className:"w-5 h-5 text-emerald-500"}),s.jsx("h3",{className:"text-[14px] font-black text-white uppercase italic tracking-widest",children:"COMMENT EST CALCUL CET CART ?"})]}),s.jsxs("div",{className:"bg-[#1a0f10] border border-red-950/30 rounded-2xl p-5 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(vc,{className:"text-red-500 w-6 h-6"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[14px] font-black text-red-500 uppercase italic tracking-wide",children:"SCNARIO SANS SOLAIRE"}),s.jsxs("div",{className:"text-[14px] text-slate-400 mt-1",children:["Dpense nergtique totale sur ",c," ans"]})]})]}),s.jsxs("div",{className:"text-4xl font-black text-red-500 italic tracking-tight","data-testid":"no-solar-total-20y",children:[Math.round((Se==null?void 0:Se.totalSpendNoSolar)??0).toLocaleString()," ",""]})]}),s.jsx("div",{className:"text-center text-[14px] font-black text-slate-600 tracking-widest uppercase italic",children:"MOINS"}),s.jsxs("div",{className:"bg-[#0f141a] border border-blue-950/30 rounded-2xl p-5 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-blue-500 flex items-center justify-center",children:s.jsx(ar,{className:"w-4 h-4 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[14px] font-black text-blue-500 uppercase italic tracking-wide",children:"SCNARIO AVEC SOLAIRE"}),s.jsx("div",{className:"text-[14px] text-slate-400 italic mt-1",children:"Rorganisation des flux + facture rsiduelle"})]})]}),s.jsxs("div",{className:"text-4xl font-black text-blue-500 italic tracking-tight","data-testid":"solar-scenario-total-20y",children:[Math.round((Se==null?void 0:Se.totalSpendSolar)??0).toLocaleString()," ",""]})]}),s.jsx("div",{className:"text-center text-[14px] font-black text-slate-600 tracking-widest uppercase italic",children:"EGAL"}),s.jsxs("div",{className:"bg-[#0d1a14] border-2 border-emerald-500/40 rounded-2xl p-6 flex items-center justify-between shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(kv,{className:"text-emerald-500 w-7 h-7"}),s.jsx("div",{className:"text-[13px] font-black text-emerald-500 uppercase tracking-wider italic",children:"VOTRE GAIN NET"})]}),s.jsxs("div",{className:"text-5xl font-black text-emerald-400 italic tracking-tight",children:["+",Math.round(Se.totalSavingsProjected).toLocaleString("fr-FR"),""]})]}),s.jsx("div",{className:"mt-3 px-4",children:s.jsx("p",{className:"text-[14px] text-slate-500 italic leading-relaxed tracking-wide",children:"Ce chiffre nest pas une promesse. Il rsulte uniquement de la projection mcanique de vos flux nergtiques actuels."})}),s.jsx("div",{className:"bg-blue-950/10 border-l-4 border-blue-500 p-4 rounded-r-xl",children:s.jsxs("p",{className:"text-[14px] text-blue-200/90 leading-relaxed italic uppercase font-medium",children:[s.jsx("span",{className:"text-blue-400 font-black",children:" TRANSITION MATRISE"})," ","VOTRE BUDGET MENSUEL RESTE STABLE ET QUILIBR. ",s.jsx("br",{}),"APRS REMBOURSEMENT DU FINANCEMENT, les conomies deviennent structurelles, PERMANENTES ET MASSIVES."]})})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-black border border-white/5 p-4 rounded-2xl",children:[s.jsx("div",{className:"text-[12px] font-black text-emerald-500 uppercase mb-1",children:"CAPITAL IMMOBILIS"}),s.jsx("div",{className:"text-xl font-black text-emerald-400 italic",children:"0"})]}),s.jsxs("div",{className:"bg-black border border-white/5 p-4 rounded-2xl",children:[s.jsx("div",{className:"text-[12px] font-black text-blue-500 uppercase mb-1 italic",children:"CART MOYEN"}),s.jsxs("div",{className:"text-xl font-black text-white italic","data-testid":"gain-yearly",children:["+",Math.round(Se.averageYearlyGain).toLocaleString()," ","/an"]})]}),s.jsxs("div",{className:"bg-black border border-white/5 p-4 rounded-2xl",children:[s.jsx("div",{className:"text-[11px] font-black text-emerald-500 uppercase mb-1 italic",children:"AUTONOMIE ATTEINTE"}),s.jsxs("div",{className:"text-xl font-black text-white italic","data-testid":"break-even",children:["An ",Se.breakEvenPoint]})]}),s.jsxs("div",{className:"bg-black border border-white/5 p-4 rounded-2xl",children:[s.jsx("div",{className:"text-[12px] font-black text-yellow-500 uppercase mb-1 italic",children:"RENDEMENT PROJET"}),s.jsxs("div",{className:"text-xl font-black text-yellow-400 italic","data-testid":"project-return",children:[(Se.averageYearlyGain/rr*100).toFixed(1),"%"]})]})]})]}),s.jsxs("div",{className:"lg:col-span-4 space-y-6 flex flex-col",children:[s.jsxs("div",{className:"bg-[#050505] border border-orange-900/30 rounded-[32px] p-8 shadow-xl flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(fa,{className:"text-orange-500 w-5 h-5"}),s.jsx("h3",{className:"text-[18px] font-black text-orange-500 uppercase tracking-widest italic",children:"NOUVEL QUILIBRE BUDGTAIRE"}),s.jsxs(R0,{title:"Pourquoi cet cart volue dans le temps ?",children:[s.jsx("p",{children:"Ce calcul est bas sur vos consommations actuelles et sur lvolution structurelle du prix de lnergie."}),s.jsx("p",{children:"Lorsque le tarif augmente, la part que vous produisez vous-mme vite un achat rseau de plus en plus cher."}),s.jsx("p",{children:"Mcaniquement, lcart entre production locale et achat dlectricit slargit au fil du temps."})]})]}),s.jsx("div",{className:"text-6xl font-black text-white mb-8 italic tracking-tighter leading-none drop-shadow-[0_0_15px_rgba(255,255,255,0.2)]","data-testid":"monthly-gain",children:(()=>{const B=Math.round((Se==null?void 0:Se.monthlyEffortYear1)||0);return`${B>0?"+":""}${B} `})()}),s.jsxs("div",{className:"space-y-4 border-t border-white/5 pt-6 mt-6",children:[s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Nouveau Budget :"}),s.jsxs("span",{className:"text-2xl font-black text-white","data-testid":"new-monthly-budget",children:[Math.round((Se==null?void 0:Se.newMonthlyBillYear1)||0).toLocaleString()," ",""]})]}),s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Ancien Budget :"}),s.jsxs("span",{className:"text-2xl font-black text-red-500","data-testid":"old-monthly-budget",children:[Math.round((Se==null?void 0:Se.oldMonthlyBillYear1)||0).toLocaleString()," ",""]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-white/10 w-full",children:[s.jsx("span",{className:"text-base font-black text-orange-500 italic uppercase tracking-wider",children:"= Rallocation"}),s.jsx("span",{className:"text-3xl font-black text-white italic","data-testid":"monthly-reallocation",children:(()=>{const B=Math.round((Se==null?void 0:Se.monthlyEffortYear1)||0);return`${B>0?"+":""}${B} `})()})]})]}),s.jsx("div",{className:"mt-6 bg-orange-500/5 border border-orange-500/20 p-4 rounded-xl",children:s.jsx("p",{className:"text-[14px] text-orange-500/90 italic uppercase font-bold text-center tracking-tighter leading-relaxed",children:"VOTRE CAPACIT D'PARGNE S'ACCLRE  CHAQUE AUGMENTATION DU TARIF DE L'NERGIE."})})]}),s.jsxs("div",{className:"bg-[#050505] border border-blue-900/30 rounded-[32px] p-8 shadow-xl flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(ad,{className:"text-blue-500 w-5 h-5"}),s.jsx("h3",{className:"text-[14px] font-black text-blue-400 uppercase tracking-widest italic",children:"RENDEMENT COMPARATIF"}),s.jsxs(R0,{title:"Comment est calcul ce rendement ?",children:[s.jsx("p",{children:"Ce rendement correspond au rapport entre linvestissement initial et lcart conomique annuel moyen gnr par le systme."}),s.jsx("p",{children:"Il est calcul uniquement  partir des flux nergtiques projets."}),s.jsx("p",{children:"Il nintgre ni revalorisation immobilire, ni hypothse patrimoniale."})]})]}),s.jsxs("p",{className:"text-[14px] text-slate-400 mb-6 italic uppercase leading-relaxed",children:["Votre investissement de"," ",s.jsx("span",{className:"text-white font-black",children:Qe(rr)})," ","gnre l'quivalent de"," ",s.jsxs("span",{className:"text-white font-black",children:[Math.round(Se.averageYearlyGain).toLocaleString()," ","/an"]})]}),s.jsxs("div",{className:"text-6xl font-black text-white mb-8 italic tracking-tighter",children:[(Se.averageYearlyGain/rr*100).toFixed(1),"%"]}),s.jsxs("div",{className:"bg-blue-950/50 border border-blue-500/40 px-4 py-4 rounded-xl mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between text-[12px] font-black uppercase",children:[s.jsx("div",{className:"text-slate-400",children:"LIVRET A"}),s.jsx("div",{className:"text-slate-500",children:"1,50%"})]}),s.jsx("div",{className:"h-px bg-white/10 my-3"}),s.jsxs("div",{className:"flex items-center justify-between text-[11px] font-black uppercase",children:[s.jsx("div",{className:"text-blue-400",children:"VOTRE PROJET"}),s.jsxs("div",{className:"text-blue-400",children:[(Se.averageYearlyGain/rr*100).toFixed(1),"%"]})]})]}),s.jsxs("p",{className:"mt-6 text-[12px] text-slate-500 italic uppercase flex items-center gap-2",children:[s.jsx(fa,{size:10,className:"text-orange-500"})," RENDEMENT CALCUL SUR LA DURE TOTALE DE PROJECTION"]})]})]})]}),s.jsx(O0,{label:"Changement de perspective",title:" partir dici, on ne parle plus dinstallation.",subtitle:"On parle de ce que devient votre maison."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 relative",children:[s.jsxs("div",{className:"bg-[#050505] border border-emerald-500/20 rounded-[32px] p-8 flex flex-col justify-between relative shadow-2xl min-h-[520px] overflow-hidden",children:[s.jsxs("div",{className:"absolute top-6 right-6 z-50",children:[s.jsxs(R0,{title:"Quest-ce quun actif nergtique ?",children:[s.jsx("p",{children:"Un actif nergtique est un quipement qui transforme un poste de dpense contrainte en capacit de production."}),s.jsx("p",{children:"Il permet de rduire durablement les charges, de scuriser une partie des flux et damliorer lautonomie nergtique du logement."}),s.jsx("p",{children:"Sa valeur repose dabord sur son usage, indpendamment de la dure de dtention du bien."})]}),s.jsx("button",{onMouseEnter:()=>ye(!0),onMouseLeave:()=>ye(!1),className:"p-3 bg-emerald-500/10 rounded-xl border border-emerald-500/20 hover:border-emerald-500/50 transition-all",children:s.jsx(Va,{size:24,className:"text-emerald-500"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black uppercase italic text-white tracking-tighter",children:"ACTIF NERGTIQUE"}),s.jsx("p",{className:"text-[14px] font-black text-emerald-500 uppercase italic mb-6",children:"VOTRE MAISON COMMENCE  PRODUIRE POUR VOUS"}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"text-7xl font-black text-emerald-400 italic tracking-tighter leading-none",children:[Math.round((Se==null?void 0:Se.savingsAfterBreakEven)||(Se==null?void 0:Se.totalSavingsProjected)*.6||0).toLocaleString("fr-FR"),""]}),s.jsx("p",{className:"text-[14px] font-black text-white uppercase italic mt-2 tracking-[0.2em]",children:"VALEUR D'USAGE CRE PAR VOTRE MAISON"}),s.jsx("p",{className:"text-[14x] text-slate-400 italic mt-1",children:"Que vous y restiez, que vous louiez ou que vous revendiez."})]}),s.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/20 rounded-xl p-4 mb-6",children:[s.jsx("p",{className:"text-[14px] font-black text-emerald-500 uppercase mb-2 tracking-widest",children:"UTILISATION LIBRE :"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[14px] text-slate-300",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(F_,{size:12,className:"text-emerald-400"}),s.jsx("span",{children:"Confort / voyages"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rf,{size:12,className:"text-emerald-400"}),s.jsx("span",{children:"Amlioration habitat"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(w_,{size:12,className:"text-emerald-400"}),s.jsx("span",{children:"Libert financire"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rx,{size:12,className:"text-emerald-400"}),s.jsx("span",{children:"Scurit budgtaire"})]})]})]})]}),s.jsx("div",{className:"mt-2 bg-[#0b1220] border border-blue-500/20 rounded-2xl p-5",children:s.jsxs("p",{className:"text-[13px] text-slate-200 italic leading-relaxed",children:[`Ce projet n'est pas pens pour "dans `,c,' ans".',s.jsx("br",{}),s.jsx("span",{className:"text-white font-bold",children:"Il est pens pour que votre maison vous cote moins et vous apporte plus ds maintenant."}),s.jsx("br",{}),s.jsx("br",{}),"La dure n'est pas une condition. C'est simplement ce qui amplifie l'effet."]})}),s.jsxs("div",{className:"mt-auto",children:[s.jsx("div",{className:"bg-white/5 rounded-2xl p-5 border border-white/10 mb-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-[11px] font-bold uppercase",children:[s.jsx("span",{className:"text-slate-400 tracking-tight max-w-[70%]",children:"Ce que votre maison vous rapporte une fois le systme amorti"}),s.jsxs("span",{className:"text-emerald-400",children:["+",Math.round((Se==null?void 0:Se.savingsAfterBreakEven)||(Se==null?void 0:Se.totalSavingsProjected)*.6||0).toLocaleString("fr-FR")," ",""]})]}),s.jsxs("div",{className:"flex justify-between text-[11px] font-bold uppercase pt-3 border-t border-white/10",children:[s.jsx("span",{className:"text-slate-400 tracking-tight max-w-[70%] italic",children:"Ce que votre maison vous permet dj d'conomiser pendant qu'elle se rembourse"}),s.jsxs("span",{className:"text-blue-400",children:["+",Math.round((Se==null?void 0:Se.totalSavingsProjected)*.4||0).toLocaleString("fr-FR")," ",""]})]})]})}),s.jsx("div",{className:"bg-blue-500/5 border border-blue-500/20 rounded-xl p-3",children:s.jsx("p",{className:"text-[12px] text-slate-400 italic",children:"Actif conomique domestique  valeur d'usage indpendante du temps de dtention"})})]})]}),s.jsx("button",{onClick:()=>Zn(!ao),className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-50 hidden md:flex items-center justify-center w-14 h-14 bg-gradient-to-br from-emerald-500/20 to-orange-500/20 backdrop-blur-xl border-2 border-white/20 rounded-full shadow-[0_0_30px_rgba(16,185,129,0.3)] hover:shadow-[0_0_50px_rgba(16,185,129,0.5)] hover:scale-110 transition-all duration-300 group","aria-label":"Afficher la transition",children:s.jsx("div",{className:"relative",children:ao?s.jsx(vd,{className:"w-5 h-5 text-white"}):s.jsx(e_,{className:"w-6 h-6 text-white group-hover:translate-x-0.5 transition-transform"})})}),s.jsxs("div",{className:"bg-[#050505] border border-orange-500/20 rounded-[32px] p-8 flex flex-col justify-between relative shadow-2xl min-h-[480px] overflow-hidden",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black uppercase italic text-white tracking-tighter",children:"POSITIONNEMENT PATRIMONIAL"}),s.jsxs("p",{className:"text-[12px] font-black text-orange-500 uppercase italic mb-2",children:["VOTRE RSIDENCE "," ",s.jsx("span",{className:"underline text-white ml-1 uppercase",children:((mo=o==null?void 0:o.city)==null?void 0:mo.toUpperCase())||((Ou=(ns=(In=e==null?void 0:e.params)==null?void 0:In.address)==null?void 0:ns.split(",")[0])==null?void 0:Ou.toUpperCase())||"SECTEUR"})]}),s.jsx("p",{className:"text-[13px] text-slate-400 italic uppercase tracking-wide",children:"Analyse d'impact nergtique sur la valeur et l'attractivit du bien"})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("div",{className:"text-orange-400 font-black uppercase tracking-widest text-sm mb-2",children:o==null?void 0:o.impactProfile}),s.jsx("p",{className:"text-[15px] text-slate-200 leading-relaxed italic max-w-[95%]",children:o==null?void 0:o.impactNarrative})]}),((o==null?void 0:o.impactPercentRange)||(o==null?void 0:o.greenValueIndicative))&&s.jsxs("div",{className:"mt-8 bg-[#111] border border-white/10 rounded-2xl p-6 space-y-4",children:[(o==null?void 0:o.impactPercentRange)&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-[11px] text-slate-400 uppercase font-bold",children:"Impact observ march :"}),s.jsx("span",{className:"text-lg font-black text-orange-400",children:o.impactPercentRange})]}),(o==null?void 0:o.greenValueIndicative)&&o.propertyClass!=="patrimonial"&&s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-white/10",children:[s.jsx("span",{className:"text-[11px] text-slate-400 uppercase font-bold",children:"Ordre de grandeur conomique :"}),s.jsxs("span",{className:"text-2xl font-black text-orange-400 italic",children:["+",o.greenValueIndicative.toLocaleString()," ",""]})]})]}),(o==null?void 0:o.propertyClass)==="patrimonial"&&s.jsx("div",{className:"mt-8 bg-blue-950/30 border border-blue-500/30 rounded-2xl p-6",children:s.jsxs("p",{className:"text-blue-300 text-[13px] italic leading-relaxed",children:["Sur ce type de patrimoine, la performance nergtique n'est pas un levier de hausse mcanique.",s.jsx("br",{}),s.jsx("strong",{className:"text-white",children:"C'est un levier de protection de valeur, de dsirabilit et de conformit long terme."})]})}),s.jsx("div",{className:"mt-6 bg-[#171412] rounded-2xl p-4 border border-white/5 shadow-inner",children:s.jsx("p",{className:"text-[11px] text-slate-500 uppercase tracking-wide font-black italic",children:"Positionnement bas sur tendances notariales, DPE & marchs locaux  ordre de grandeur non estimatif"})})]})]}),ao&&s.jsx("div",{className:"relative w-full py-6 flex items-center justify-center bg-gradient-to-r from-black via-emerald-950/10 to-black border-y border-emerald-500/20 animate-in slide-in-from-top duration-300",children:s.jsxs("div",{className:"max-w-3xl text-center px-6",children:[s.jsx("p",{className:"text-2xl md:text-3xl font-black italic text-white leading-tight mb-3",children:" partir d'ici, votre maison ne se contente plus de coter."}),s.jsx("p",{className:"text-xl md:text-2xl font-black italic text-emerald-400 leading-tight",children:"Elle commence concrtement  vous rapporter."})]})})]})}),s.jsx(Fn,{id:"budget",title:"Structure du Budget (Mensuel)",icon:s.jsx(hd,{className:"text-slate-400"}),defaultOpen:!1,onOpen:B=>{ne(B)},children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-[24px] sm:rounded-[32px] p-4 sm:p-6 md:p-8 transition-all duration-300 hover:border-blue-500/30 hover:shadow-[0_0_30px_rgba(59,130,246,0.2)]",children:[s.jsxs("div",{className:"text-[10px] sm:text-[11px] text-slate-500 italic mb-4 leading-relaxed",children:["On regarde simplement comment votre budget actuel se rorganise  sans nouvelle charge.",s.jsx("br",{}),s.jsx("span",{className:"text-slate-400",children:"On ne parle pas de payer plus. On parle de rediriger ce qui existe dj."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 mb-6 md:mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(hd,{className:"text-slate-400 w-5 h-5 sm:w-6 sm:h-6"}),s.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-black text-white uppercase tracking-tight",children:"STRUCTURE DU BUDGET (MENSUEL)"})]}),s.jsx("div",{className:"bg-black/60 backdrop-blur-md px-3 sm:px-4 py-1 sm:py-1.5 rounded text-[10px] sm:text-xs font-bold text-slate-400 border border-white/10",children:"Anne 1  Comparatif"})]}),s.jsxs("div",{className:"space-y-8 sm:space-y-10 md:space-y-12",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0 text-xs sm:text-sm font-bold uppercase text-slate-400 mb-4 sm:mb-6",children:[s.jsx("span",{children:"SITUATION ACTUELLE"}),s.jsxs("span",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.3)]",children:[Qe(Se.oldMonthlyBillYear1)," /mois"]})]}),s.jsx("div",{className:"text-[10px] sm:text-[11px] text-slate-500 italic mb-3 leading-relaxed",children:"Aujourdhui, cette somme est entirement consomme sans cration de valeur durable."}),s.jsx("div",{className:"relative h-20 sm:h-24 md:h-28 bg-gradient-to-b from-black/80 to-black/40 rounded-xl sm:rounded-2xl border border-red-900/40 overflow-hidden shadow-2xl",children:s.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-red-500 via-red-600 to-red-700 rounded-xl sm:rounded-2xl shadow-[inset_0_-4px_8px_rgba(0,0,0,0.3),inset_0_4px_8px_rgba(255,255,255,0.1)]",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-6 sm:h-8 bg-gradient-to-b from-white/20 to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-6 sm:h-8 bg-gradient-to-t from-black/40 to-transparent"}),s.jsxs("div",{className:"absolute inset-0 flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 md:px-8 gap-2 sm:gap-0",children:[s.jsx("span",{className:"text-white font-black text-sm sm:text-lg md:text-2xl uppercase tracking-wider drop-shadow-[0_4px_8px_rgba(0,0,0,0.5)]",children:"FACTURE ACTUELLE"}),s.jsx("span",{className:"text-white/30 font-black text-xs sm:text-2xl md:text-5xl uppercase tracking-tighter drop-shadow-[0_4px_8px_rgba(0,0,0,0.5)] text-right",children:"100% dpenses"})]})]})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0 mb-4 sm:mb-6",children:[s.jsx("span",{className:"text-xs sm:text-sm font-bold uppercase text-slate-400",children:"STRUCTURE du budget APRS MISE EN SERVICE"}),s.jsxs("span",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.3)] uppercase",children:[Qe(Se.year1.creditPayment/12+Se.year1.edfResidue/12)," ","/mois"]})]}),s.jsx("div",{className:"text-[10px] sm:text-[11px] text-slate-400 italic mb-3 sm:mb-4 leading-relaxed",children:"Concrtement, on ne rajoute rien dans votre budget. On ne paie rien en plus : on remplace une dpense existante par un flux qui a une utilit durable."}),s.jsxs("div",{className:"text-[10px] sm:text-[11px] text-slate-400 italic mb-3 sm:mb-4 leading-relaxed",children:[s.jsx("span",{className:"text-slate-300",children:"Rien ne sajoute. Rien ne salourdit."}),s.jsx("br",{})]}),s.jsxs("div",{className:"relative h-20 sm:h-24 md:h-28 bg-gradient-to-b from-black/80 to-black/40 rounded-xl sm:rounded-2xl border border-white/10 overflow-hidden shadow-2xl flex",children:[s.jsxs("div",{className:"relative bg-gradient-to-b from-slate-600 via-slate-700 to-slate-800 shadow-[inset_0_-4px_8px_rgba(0,0,0,0.3),inset_0_4px_8px_rgba(255,255,255,0.1)] transition-all duration-500",style:{width:`${Se.year1.creditPayment/12/(Se.year1.totalWithSolar/12)*100}%`},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-6 sm:h-8 bg-gradient-to-b from-white/10 to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-6 sm:h-8 bg-gradient-to-t from-black/40 to-transparent"}),s.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center px-3 sm:px-4 md:px-6",children:[s.jsx("span",{className:"text-[9px] sm:text-[10px] md:text-xs font-bold text-slate-300 uppercase tracking-wider mb-0.5 sm:mb-1",children:"FINANCEMENT EDF"}),s.jsx("span",{className:"text-white font-black text-sm sm:text-lg md:text-2xl drop-shadow-[0_4px_8px_rgba(0,0,0,0.5)] break-words",children:Qe(Se.year1.creditPayment/12)})]})]}),s.jsx("div",{className:"w-0.5 sm:w-1 bg-black/40"}),s.jsxs("div",{className:"relative bg-gradient-to-b from-slate-600 via-slate-700 to-slate-800 shadow-[inset_0_-4px_8px_rgba(0,0,0,0.3),inset_0_4px_8px_rgba(255,255,255,0.1)] transition-all duration-500",style:{width:`${Se.year1.edfResidue/12/(Se.year1.totalWithSolar/12)*100}%`},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-6 sm:h-8 bg-gradient-to-b from-white/10 to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-6 sm:h-8 bg-gradient-to-t from-black/40 to-transparent"}),s.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center px-3 sm:px-4 md:px-6",children:[s.jsx("span",{className:"text-[9px] sm:text-[10px] md:text-xs font-bold text-slate-300 uppercase tracking-wider mb-0.5 sm:mb-1",children:"RESTE  CHARGE"}),s.jsx("span",{className:"text-slate-300 font-black text-sm sm:text-lg md:text-2xl drop-shadow-[0_4px_8px_rgba(0,0,0,0.3)] break-words",children:Qe(Se.year1.edfResidue/12)})]})]})]}),s.jsx("br",{}),s.jsx("div",{className:"text-[14px] sm:text-[14px] text-slate-400 italic mb-3 sm:mb-4 leading-relaxed",children:"Le montant global reste quivalent. Ce qui change, cest la destination et lutilit de cette somme."})]})]})]})}),s.jsx(Fn,{id:"impact",title:"Impact sur votre budget mensuel",icon:s.jsx(Va,{className:"text-blue-400"}),defaultOpen:!1,onOpen:B=>{ne(B)},children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-[10px] sm:text-[11px] text-slate-500 italic leading-relaxed",children:["Voici comment votre budget mensuel se rorganise la premire anne.",s.jsx("br",{}),s.jsx("span",{className:"text-slate-400",children:"On ne parle pas dun cot, mais dune phase de transition avant un modle durablement plus lger."})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-red-950/30 to-black/40 border border-red-500/20 rounded-xl p-4 sm:p-5 relative group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"text-red-400 text-[9px] sm:text-[10px] uppercase font-bold tracking-wide flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400 flex-shrink-0"}),s.jsx("span",{children:"Facture actuelle"})]}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx(Wa,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-slate-500 cursor-help transition-colors hover:text-red-400"}),s.jsxs("div",{className:"absolute top-full right-0 mt-2 w-[260px] sm:w-[280px] bg-slate-900 border-2 border-red-500/30 rounded-xl p-3 shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[s.jsx("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-slate-900 border-l-2 border-t-2 border-red-500/30 transform rotate-45"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-[11px] font-bold text-red-400 mb-2 uppercase",children:" Facture actuelle"}),s.jsxs("p",{className:"text-[10px] text-slate-300 leading-relaxed",children:["C'est ce que vous payez"," ",s.jsx("strong",{className:"text-white",children:"actuellement chaque mois"})," "," votre fournisseur d'lectricit, sans installation solaire."]}),s.jsx("div",{className:"mt-2 pt-2 border-t border-white/10",children:s.jsxs("p",{className:"text-[9px] text-slate-500 italic",children:["Base de calcul :"," ",Qe(Se.lossIfWait1Year||0)," ","par an"]})})]})]})]})]}),s.jsx("div",{className:"text-white text-2xl sm:text-3xl font-black break-words",children:Qe(bi)}),s.jsx("div",{className:"text-slate-500 text-[10px] sm:text-xs mt-1",children:"/mois"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-950/30 to-black/40 border border-blue-500/20 rounded-xl p-4 sm:p-5 relative group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"text-blue-400 text-[9px] sm:text-[10px] uppercase font-bold tracking-wide flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400 flex-shrink-0"}),s.jsx("span",{children:"Vous payez"})]}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx(Wa,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-slate-500 cursor-help transition-colors hover:text-blue-400"}),s.jsxs("div",{className:"absolute top-full right-0 mt-2 w-[260px] sm:w-[280px] bg-slate-900 border-2 border-blue-500/30 rounded-xl p-3 shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[s.jsx("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-slate-900 border-l-2 border-t-2 border-blue-500/30 transform rotate-45"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-[11px] font-bold text-blue-400 mb-2 uppercase",children:" Avec installation"}),s.jsxs("div",{className:"space-y-2 text-[10px] text-slate-300",children:[s.jsxs("div",{className:"flex justify-between pb-1 border-b border-white/10",children:[s.jsx("span",{children:"Mensualit crdit"}),s.jsx("span",{className:"font-bold text-white",children:Qe(et+_t)})]}),s.jsxs("div",{className:"flex justify-between pb-1 border-b border-white/10",children:[s.jsx("span",{children:"Facture rsiduelle"}),s.jsx("span",{className:"font-bold text-white",children:Qe(Cs)})]}),s.jsxs("div",{className:"flex justify-between pt-1 bg-blue-950/30 rounded p-1.5",children:[s.jsx("span",{className:"font-bold",children:"Total"}),s.jsx("span",{className:"font-black text-blue-400",children:Qe(sa)})]})]}),s.jsx("div",{className:"mt-2 pt-2 border-t border-white/10",children:s.jsxs("p",{className:"text-[9px] text-slate-500 italic",children:["Dure crdit :"," ",Math.ceil(Ft/12)," ans"]})})]})]})]})]}),s.jsx("div",{className:"text-white text-2xl sm:text-3xl font-black break-words",children:Qe(sa)}),s.jsx("div",{className:"text-slate-500 text-[10px] sm:text-xs mt-1 leading-tight",children:"/mois (crdit + reste facture)"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-slate-950/30 to-black/40 border border-slate-600/20 rounded-xl p-4 sm:p-5 relative group sm:col-span-2 lg:col-span-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"text-slate-400 text-[9px] sm:text-[10px] uppercase font-bold tracking-wide flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-400 flex-shrink-0"}),s.jsx("span",{children:"Diffrence  1re anne"})]}),s.jsx("div",{className:"text-[9px] text-slate-500 italic mb-1",children:"Phase transitoire uniquement"}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx(Wa,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-slate-500 cursor-help transition-colors hover:text-slate-300"}),s.jsxs("div",{className:"absolute top-full right-0 mt-2 w-[260px] sm:w-[280px] bg-slate-900 border-2 border-slate-500/30 rounded-xl p-3 shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[s.jsx("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-slate-900 border-l-2 border-t-2 border-slate-500/30 transform rotate-45"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-[11px] font-bold text-slate-300 mb-2 uppercase",children:" Effort mensuel"}),s.jsx("p",{className:"text-[10px] text-slate-300 leading-relaxed mb-2",children:Ii>0?s.jsxs(s.Fragment,{children:["Vous payez"," ",s.jsxs("strong",{className:"text-orange-400",children:[Qe(Math.abs(Ii))," de plus"]})," ","par mois la premire anne pendant que vous financez l'installation."]}):s.jsxs(s.Fragment,{children:["Vous payez"," ",s.jsxs("strong",{className:"text-emerald-400",children:[Qe(Math.abs(Ii))," de moins"]})," ","par mois ds la premire anne !"]})}),s.jsxs("div",{className:"bg-emerald-950/30 rounded-lg p-2",children:[s.jsx("p",{className:"text-[9px] text-emerald-300 font-bold mb-1",children:" Aprs remboursement :"}),s.jsxs("p",{className:"text-[9px] text-slate-400",children:["Vous ne payez plus que la facture rsiduelle (~",Qe(Cs),"/mois), soit une conomie de"," ",s.jsxs("strong",{className:"text-emerald-400",children:[Qe(bi-Cs),"/mois"]})," ","!"]})]})]})]})]})]}),s.jsxs("div",{className:`text-2xl sm:text-3xl font-black break-words ${Ii>0?"text-orange-400":"text-emerald-400"}`,children:[Ii>0?"+":"",Qe(Ii)]}),s.jsx("div",{className:"text-slate-500 text-[10px] sm:text-xs mt-1 leading-tight",children:"Puis  conomies ds fin crdit"})]})]}),s.jsxs("div",{className:"text-[10px] sm:text-[11px] text-slate-400 italic leading-relaxed",children:["La premire phase correspond  une priode de construction.",s.jsx("br",{}),s.jsx("span",{className:"text-slate-500",children:"Ensuite, le systme est en place : votre budget se libre."})]}),s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl p-4 sm:p-5",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0 text-[9px] sm:text-[10px] text-slate-500 uppercase mb-3",children:[s.jsx("span",{children:"Alignement avec votre budget actuel"}),s.jsxs("span",{className:"text-white font-bold text-sm sm:text-base",children:[(sa/bi*100).toFixed(0),"%"]})]}),s.jsx("div",{className:"h-3 sm:h-4 bg-slate-800/40 rounded-full overflow-hidden border border-white/10",children:s.jsx("div",{className:`h-full transition-all duration-700 ${sa/bi>1?"bg-gradient-to-r from-orange-500 to-orange-600":"bg-gradient-to-r from-emerald-500 to-emerald-600"}`,style:{width:`${Math.min(sa/bi*100,100)}%`}})}),s.jsxs("div",{className:"flex justify-between text-[9px] sm:text-[10px] text-slate-600 mt-2",children:[s.jsx("span",{children:"0%"}),s.jsx("span",{className:"text-slate-500",children:"Budget actuel"}),s.jsx("span",{children:"150%"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-emerald-950/20 to-black/40 border border-emerald-500/20 rounded-xl p-4 sm:p-5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx($f,{className:"w-5 h-5 text-emerald-400"}),s.jsx("h3",{className:"text-sm sm:text-base font-bold text-emerald-400 uppercase",children:"Aprs remboursement du crdit"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-500 mb-1",children:"Facture mensuelle"}),s.jsx("div",{className:"text-2xl sm:text-3xl font-black text-emerald-400",children:Qe(Cs)}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"Seulement le rsiduel EDF"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-500 mb-1",children:"conomie mensuelle"}),s.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white",children:Qe(bi-Cs)}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"Par rapport  votre facture actuelle"})]})]}),s.jsxs("div",{className:"mt-3 text-[10px] text-slate-400 italic leading-relaxed",children:[" ce stade, le financement disparat.",s.jsx("br",{}),"Ce quil reste, cest un systme qui travaille pour votre budget."]})]}),s.jsx("p",{className:"text-center text-[10px] sm:text-[11px] text-slate-500 italic leading-relaxed",children:"Ces montants sont ceux de la 1re anne."})]})}),s.jsx(Fn,{id:"calendrier",title:"Calendrier de Mise en Service",icon:s.jsx(Ha,{className:"text-blue-400"}),defaultOpen:!1,onOpen:B=>{ne(B)},children:s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-[32px] p-4 sm:p-6 md:p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"p-2 sm:p-3 bg-blue-500/10 rounded-xl",children:s.jsx(Ha,{className:"text-blue-400",size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white",children:"Dlai de mise en route  Installation sous 6-8 semaines"}),s.jsx("p",{className:"text-[14px] sm:text-xs text-slate-600 mt-1 sm:mt-2 italic",children:" partir de cette date, l'installation est oprationnelle."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 md:mb-6",children:[s.jsxs("div",{className:"bg-slate-900/40 border border-white/10 rounded-xl sm:rounded-2xl p-4 sm:p-6",children:[s.jsx("div",{className:"text-slate-400 text-[9px] sm:text-[10px] font-medium mb-2 uppercase tracking-wider",children:"Cot nergtique actuel"}),s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-white mb-1 break-words",children:Qe(Se.lossIfWait1Year||0)}),s.jsx("div",{className:"text-slate-500 text-[9px] sm:text-[10px] leading-tight",children:"Facture annuelle fournisseur"})]}),s.jsxs("div",{className:"bg-slate-900/40 border border-white/10 rounded-xl sm:rounded-2xl p-4 sm:p-6",children:[s.jsx("div",{className:"text-slate-400 text-[9px] sm:text-[10px] font-medium mb-2 uppercase tracking-wider",children:"conomie disponible anne 1"}),s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-emerald-400 mb-1 break-words",children:Qe(((ia=(Iu=Se.details)==null?void 0:Iu[0])==null?void 0:ia.solarSavingsValue)||0)}),s.jsx("div",{className:"text-slate-500 text-[9px] sm:text-[10px] leading-tight",children:"Bnfice premire anne"})]}),s.jsxs("div",{className:"bg-slate-900/40 border border-emerald-500/20 rounded-xl sm:rounded-2xl p-4 sm:p-6 relative group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"text-slate-400 text-[9px] sm:text-[10px] font-medium uppercase tracking-wider flex-1",children:["conomie brute ",c," ans"]}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx(Wa,{className:"w-4 h-4 text-slate-500 cursor-help transition-colors hover:text-emerald-400","data-tooltip":"economie-brute"}),s.jsxs("div",{className:"absolute top-full right-0 mt-2 w-[280px] sm:w-[320px] bg-slate-900 border-2 border-emerald-500/30 rounded-xl p-3 sm:p-4 shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[s.jsx("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-slate-900 border-l-2 border-t-2 border-emerald-500/30 transform rotate-45"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-[11px] sm:text-xs font-bold text-emerald-400 mb-2 sm:mb-3 uppercase tracking-wide",children:" conomie brute"}),s.jsxs("div",{className:"space-y-2 sm:space-y-3 text-[10px] sm:text-[11px] text-slate-300",children:[s.jsxs("p",{className:"leading-relaxed",children:["C'est la"," ",s.jsx("strong",{className:"text-white",children:"valeur totale de l'lectricit produite"})," ","par vos panneaux sur ",c," ans."]}),s.jsxs("div",{className:"bg-emerald-950/30 rounded-lg p-2 sm:p-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-slate-400",children:"Production annuelle"}),s.jsx("span",{className:"font-bold text-emerald-400",children:(Fa=(xo=Se.details)==null?void 0:xo[0])!=null&&Fa.solarSavingsValue?Qe(Se.details[0].solarSavingsValue):"0 "})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-slate-400",children:[" ",c," ans"]}),s.jsxs("span",{className:"font-bold text-emerald-400",children:[""," ",Qe(Se.details.slice(0,c).reduce((B,Ae)=>B+Ae.solarSavingsValue,0))]})]})]}),s.jsxs("p",{className:"text-[9px] sm:text-[10px] text-slate-500 italic leading-relaxed",children:["Ce montant ne tient pas compte des cots (crdit, facture rsiduelle). C'est l'nergie"," ",s.jsx("strong",{className:"text-slate-300",children:"que vous ne payez plus"})," "," votre fournisseur."]})]})]})]})]})]}),s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-emerald-400 mb-1 break-words",children:Qe(Se.details.slice(0,c).reduce((B,Ae)=>B+Ae.solarSavingsValue,0))}),s.jsx("div",{className:"text-slate-500 text-[9px] sm:text-[10px] leading-tight",children:"nergie produite totale"})]}),s.jsxs("div",{className:"bg-slate-900/40 border border-blue-500/20 rounded-xl sm:rounded-2xl p-4 sm:p-6 relative group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"text-slate-400 text-[9px] sm:text-[10px] font-medium uppercase tracking-wider flex-1",children:["Gain net ",c," ans"]}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx(Wa,{className:"w-4 h-4 text-slate-500 cursor-help transition-colors hover:text-blue-400","data-tooltip":"gain-net"}),s.jsxs("div",{className:"absolute top-full left-auto right-0 mt-2 w-[280px] sm:w-[320px] bg-slate-900 border-2 border-blue-500/30 rounded-xl p-3 sm:p-4 shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[s.jsx("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-slate-900 border-l-2 border-t-2 border-blue-500/30 transform rotate-45"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-[11px] sm:text-xs font-bold text-blue-400 mb-2 sm:mb-3 uppercase tracking-wide",children:" Dtail du calcul"}),s.jsxs("div",{className:"space-y-2 sm:space-y-3 text-[10px] sm:text-[11px] text-slate-300",children:[s.jsxs("div",{className:"flex justify-between items-start pb-2 border-b border-white/10",children:[s.jsx("span",{className:"text-slate-400",children:"conomie brute totale"}),s.jsx("span",{className:"font-bold text-emerald-400 text-right",children:Qe(Se.details.slice(0,c).reduce((B,Ae)=>B+Ae.solarSavingsValue,0))})]}),s.jsxs("div",{className:"flex justify-between items-start pb-2 border-b border-white/10",children:[s.jsx("span",{className:"text-slate-400",children:"Cot du crdit"}),s.jsxs("span",{className:"font-bold text-red-400 text-right",children:["-",Qe(Se.details.slice(0,c).reduce((B,Ae)=>B+Ae.creditPayment,0))]})]}),s.jsxs("div",{className:"flex justify-between items-start pb-2 border-b border-white/10",children:[s.jsx("span",{className:"text-slate-400",children:"Facture rsiduelle EDF"}),s.jsxs("span",{className:"font-bold text-orange-400 text-right",children:["-",Qe(Se.details.slice(0,c).reduce((B,Ae)=>B+Ae.edfResidue,0))]})]}),s.jsxs("div",{className:"flex justify-between items-start pt-2 bg-blue-950/30 rounded-lg p-2",children:[s.jsx("span",{className:"font-bold text-white",children:"Gain net"}),s.jsx("span",{className:"font-black text-blue-400 text-sm sm:text-base",children:Qe(Se.totalSavingsProjected||0)})]})]}),s.jsx("div",{className:"mt-2 sm:mt-3 pt-2 sm:pt-3 border-t border-white/10",children:s.jsxs("p",{className:"text-[9px] sm:text-[10px] text-slate-500 italic leading-relaxed",children:["Le gain net reprsente ce qu'il vous reste"," ",s.jsx("strong",{className:"text-slate-300",children:"aprs avoir pay le crdit et la facture rsiduelle"}),", par rapport  ne rien faire."]})})]})]})]})]}),s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-400 mb-1 break-words",children:Qe(Se.totalSavingsProjected||0)}),s.jsx("div",{className:"text-slate-500 text-[9px] sm:text-[10px] leading-tight",children:"Aprs remboursement crdit"})]})]}),s.jsxs("div",{className:"bg-blue-950/20 border-l-4 border-blue-500 p-3 sm:p-4 rounded-xl mb-4 md:mb-6",children:[s.jsx("p",{className:"text-slate-300 text-[10px] sm:text-[11px] leading-relaxed italic",children:"Une fois le dossier valid, le projet entre dans le processus de mise en service. Les dlais observs sont en moyenne de six  huit semaines."}),s.jsx("p",{className:"text-slate-300 text-[10px] sm:text-[11px] leading-relaxed italic mt-2",children:"Durant cette priode, lensemble des dmarches techniques, administratives et de planification est pris en charge par EDF et ses partenaires."}),s.jsx("p",{className:"text-slate-400 text-[10px] sm:text-[11px] italic mt-2",children:"Le calendrier na pas dimpact sur le dimensionnement ni sur la logique du projet. Il fixe uniquement la date de mise en service."})]}),s.jsxs("div",{className:"p-3 sm:p-5 bg-black/30 rounded-xl border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[9px] sm:text-[10px] text-slate-400 mb-3 sm:mb-4 uppercase tracking-wider",children:[s.jsx(nh,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Impact du calendrier sur le dbut des conomies :"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-slate-300 font-bold text-base sm:text-lg break-words",children:Qe(Se.details.slice(0,1).reduce((B,Ae)=>B+Ae.solarSavingsValue,0))}),s.jsx("div",{className:"text-slate-500 text-[9px] sm:text-[10px] mt-1",children:"conomie anne 1"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-slate-300 font-bold text-base sm:text-lg break-words",children:Qe(Se.details.slice(0,3).reduce((B,Ae)=>B+Ae.solarSavingsValue,0))}),s.jsx("div",{className:"text-slate-500 text-[9px] sm:text-[10px] mt-1",children:"Cumul 3 ans"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-slate-300 font-bold text-base sm:text-lg break-words",children:Qe(Se.details.slice(0,5).reduce((B,Ae)=>B+Ae.solarSavingsValue,0))}),s.jsx("div",{className:"text-slate-500 text-[9px] sm:text-[10px] mt-1",children:"Cumul 5 ans"})]})]})]}),s.jsx("p",{className:"text-[9px] sm:text-[10px] text-slate-500 italic mt-4 sm:mt-6 text-center",children:"C'est juste du calendrier. La dcision vous appartient."})]})}),s.jsx(Fn,{id:"effet-calendrier",title:"Lecture du Temps",icon:s.jsx(Ha,{className:"text-slate-400"}),defaultOpen:!1,children:s.jsxs("div",{className:"bg-[#0b0d10] border border-white/10 rounded-2xl p-6 md:p-8",children:[s.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"Impact d'une mise en service diffre de 6 mois"}),s.jsx("p",{className:"text-sm text-slate-400 mb-8",children:"Comparaison objective de deux calendriers de dmarrage."}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-black/40 border border-emerald-500/20 p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ha,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-xs text-emerald-400 uppercase font-bold tracking-wider",children:"Scnario A  Validation immdiate"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Mise en service"}),s.jsx("div",{className:"text-lg font-black text-white",children:"6-8 semaines"}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"dlai administratif + installation"})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5",children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Production active sur les 6 mois"}),s.jsx("div",{className:"text-3xl font-black text-emerald-400",children:"~4-5 mois"}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"d'conomies gnres"})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5",children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"conomies ralises sur 6 mois"}),s.jsx("div",{className:"text-3xl font-black text-white",children:Qe(Se.savingsLostIfWait1Year/2)})]})]})]}),s.jsxs("div",{className:"bg-black/40 border border-slate-500/20 p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ha,{className:"w-4 h-4 text-slate-400"}),s.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Scnario B  Validation diffre de 6 mois"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Mise en service"}),s.jsx("div",{className:"text-lg font-black text-white",children:"6 mois + 6-8 semaines"}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"attente + dlai administratif + installation"})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5",children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Production active sur les 6 mois"}),s.jsx("div",{className:"text-3xl font-black text-slate-400",children:"0 mois"}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"installation pas encore lance"})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5",children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"conomies ralises sur 6 mois"}),s.jsx("div",{className:"text-3xl font-black text-white",children:"0 "})]})]})]})]}),s.jsx("div",{className:"bg-black/60 border border-white/10 p-6 rounded-xl",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-center",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wider mb-2",children:"Diffrentiel conomique entre les deux scnarios"}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"Le scnario A permet d'activer la production pendant ~4-5 mois sur cette priode, gnrant des conomies. Le scnario B maintient la situation actuelle pendant 6 mois supplmentaires."})]}),s.jsxs("div",{className:"text-center md:text-right",children:[s.jsx("div",{className:"text-4xl font-black text-white",children:Qe(Se.savingsLostIfWait1Year/2)}),s.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"d'cart sur 6 mois"})]})]})}),s.jsx("div",{className:"mt-6 bg-black/40 border-l-2 border-slate-600 p-5 rounded-r-xl",children:s.jsxs("p",{className:"text-xs text-slate-300 leading-relaxed",children:[s.jsx("strong",{className:"text-white",children:"Lecture :"})," les deux scnarios sont viables. La seule variable est le calendrier de mise en service.",s.jsx("br",{}),s.jsx("br",{}),"Dans le scnario A, l'installation est active aprs 6-8 semaines, puis produit pendant ~4-5 mois sur les 6 mois observs.",s.jsx("br",{}),s.jsx("br",{}),"Dans le scnario B, ces 6 mois maintiennent la situation actuelle, avant de dmarrer le processus."]})})]})}),s.jsx(Fn,{id:"projection",title:"PROJECTION FINANCIRE  CART CONSTAT",icon:s.jsx(b_,{className:"text-orange-500"}),defaultOpen:!1,forceOpen:tt==="projection",onOpen:B=>{ne(B)},children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl rounded-[24px] sm:rounded-[32px] p-4 sm:p-6 md:p-8 border border-white/10",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 sm:mb-8 md:mb-10 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[t5[H]&&s.jsx("p",{className:"text-[10px] sm:text-[11px] text-slate-400 italic mb-4 leading-relaxed",children:t5[H]}),s.jsxs("p",{className:"text-slate-500 text-[10px] sm:text-xs uppercase tracking-wide",children:["Sur ",c," ans  cart constat"]})]}),s.jsx(vS,{totalSavings:Se.totalSavings,paybackYear:Se.paybackYear,projectionYears:c})]}),s.jsx("p",{className:"text-[10px] sm:text-[11px] text-slate-400 italic mb-4 leading-relaxed",children:"Ici, on ne compare pas deux offres. On regarde simplement ce que devient votre argent dans les deux scnarios."}),s.jsx("div",{className:"h-[280px] sm:h-[340px] md:h-[360px] lg:h-[420px] w-full",children:s.jsx(CL,{data:Rc.map(B=>({date:new Date(B.year>2e3?B.year:new Date().getFullYear()+B.year,0,1).toISOString(),securedCA:B.cumulativeSpendSolar,exposedCA:B.cumulativeSpendNoSolar-B.cumulativeSpendSolar}))})}),window.innerWidth<640&&s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2 text-[9px] text-emerald-400",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400"}),s.jsxs("span",{children:["Point de croisement : ",Se.paybackYear," ans"]})]}),s.jsxs("div",{className:"mt-4 sm:mt-6 bg-black/50 border border-white/10 py-4 sm:py-5 rounded-xl text-center select-none",children:[s.jsxs("p",{className:"text-[9px] sm:text-[10px] text-slate-400 uppercase tracking-wider font-bold",children:["cart cumul sur ",c," ans"]}),s.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-emerald-400 tabular-nums break-words px-2",children:Qe(Se.totalSavings)})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 sm:gap-3 mt-4 text-[9px] sm:text-[10px] text-slate-500 opacity-60 select-none",children:[s.jsx("button",{onClick:()=>qr("inflation"),className:"underline hover:text-white transition-colors text-left",children:"Hypothse inflation"}),s.jsx("button",{onClick:()=>qr("demenagement"),className:"underline hover:text-white transition-colors text-left",children:"Et si je dmnage ?"}),s.jsx("button",{onClick:()=>qr("conjoint"),className:"underline hover:text-white transition-colors text-left",children:"Conjoint absent"}),s.jsx("button",{onClick:()=>qr("tropTard"),className:"underline hover:text-white transition-colors text-left",children:"Trop tard"}),s.jsx("button",{onClick:()=>qr("tauxRefus"),className:"underline hover:text-white transition-colors text-left",children:"Taux refus"}),s.jsx("button",{onClick:()=>qr("reflechir"),className:"underline hover:text-white transition-colors text-left",children:"Je vais rflchir"})]}),wn&&Tf.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[99999] p-4",onClick:Ns,children:s.jsxs("div",{className:"bg-[#0b0f13] border border-white/10 rounded-xl w-full max-w-[420px] p-4 sm:p-6 text-slate-200 relative max-h-[90vh] overflow-y-auto",onClick:B=>B.stopPropagation(),children:[s.jsx("button",{className:"absolute top-3 right-3 text-slate-500 hover:text-white transition w-6 h-6 flex items-center justify-center",onClick:Ns,children:""}),wn==="inflation"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-xs sm:text-sm font-bold uppercase mb-3 sm:mb-4 pr-6",children:"Hypothse inflation"}),s.jsx("p",{className:"text-[11px] sm:text-xs leading-relaxed",children:"L'hypothse retenue est prudente et issue de donnes publiques. Mme si l'inflation devait tomber  0 %, l'autoproduction reste une rduction directe de facture."}),s.jsx("p",{className:"mt-3 text-[9px] sm:text-[10px] text-slate-500",children:"EDF  projection factuelle, jamais spculative."})]}),wn==="demenagement"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-xs sm:text-sm font-bold uppercase mb-3 sm:mb-4 pr-6",children:"Et si je dmnage ?"}),s.jsx("p",{className:"text-[11px] sm:text-xs leading-relaxed",children:"L'installation devient un lment du bien. Vous pouvez transmettre ou faire valoir sa valeur."}),s.jsx("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded p-2 text-[10px] sm:text-[11px] text-emerald-400 mt-2",children:" Dcision utile, mme si la vie change."}),s.jsx("p",{className:"mt-3 text-[9px] sm:text-[10px] text-slate-500",children:"EDF  actif patrimonial, pas un achat consommable."})]}),wn==="conjoint"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-xs sm:text-sm font-bold uppercase mb-3 sm:mb-4 pr-6",children:"Conjoint absent"}),s.jsx("p",{className:"text-[11px] sm:text-xs leading-relaxed",children:"On ne valide jamais un projet patrimonial si l'un des deux n'est pas align."}),s.jsx("div",{className:"bg-black/20 border border-white/10 rounded-lg p-3 text-[11px] sm:text-xs mt-2",children:"Option douce : un rapide change  trois pour valider ensemble."}),s.jsx("p",{className:"mt-3 text-[9px] sm:text-[10px] text-slate-500",children:"Objectif : confort durable, pas dcision force."})]}),wn==="tropTard"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-xs sm:text-sm font-bold uppercase mb-3 sm:mb-4 pr-6",children:"Timing & passage"}),s.jsx("p",{className:"text-[11px] sm:text-xs leading-relaxed",children:"Il n'y a aucune obligation d'agir ce soir. Il existe juste un moment o la dcision est plus simple."}),s.jsx("div",{className:"bg-black/20 border border-white/10 rounded-lg p-3 text-[11px] sm:text-xs mt-2",children:"Scuriser l'tude = garder la main. La signature n'est jamais un pige."}),s.jsx("p",{className:"mt-3 text-[9px] sm:text-[10px] text-slate-500",children:"EDF  progression par tapes, calme."})]}),wn==="tauxRefus"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-xs sm:text-sm font-bold uppercase mb-3 sm:mb-4 pr-6",children:"Si le taux est refus"}),s.jsx("p",{className:"text-[11px] sm:text-xs leading-relaxed",children:"Tant que validation bancaire non mise, rien n'est engag. Plusieurs solutions existent."}),s.jsx("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded p-2 text-[10px] sm:text-[11px] text-emerald-400 mt-2",children:" Dcision scurise, pas dfinitive."}),s.jsx("p",{className:"mt-3 text-[9px] sm:text-[10px] text-slate-500",children:"EDF  aucun verrou sans accord clair."})]}),wn==="reflechir"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-xs sm:text-sm font-bold uppercase mb-3 sm:mb-4 pr-6",children:"Je vais rflchir"}),s.jsx("p",{className:"text-[11px] sm:text-xs leading-relaxed",children:"La rflexion est naturelle. Ce qui compte est que la dcision tienne demain  pas qu'elle soit impulsive."}),s.jsx("div",{className:"bg-emerald-500/10 border border-emerald-500/40 rounded p-2 text-[10px] sm:text-[11px] text-emerald-400 mt-2",children:" On confirme seulement ce qui ne sera pas regrett."}),s.jsx("p",{className:"mt-3 text-[9px] sm:text-[10px] text-slate-500",children:"EDF  pas de prcipitation, seulement du solide."})]})]})}),document.body),s.jsxs("div",{id:"garanties",className:"mt-4 sm:mt-6 text-center select-none scroll-mt-24",children:[s.jsx("p",{className:"text-[9px] sm:text-[10px] text-slate-400 uppercase tracking-wider font-bold",children:"Installation garantie  vie  EDF"}),s.jsx("p",{className:"text-[9px] sm:text-[10px] text-slate-500 uppercase tracking-wider",children:"Pices, main d'uvre et dplacement inclus"})]})]})}),s.jsxs(Fn,{id:"where-money",title:"Votre argent dans X ans",icon:s.jsx(Cv,{className:"text-blue-500"}),defaultOpen:!1,onOpen:B=>{ne(B)},children:[s.jsx("p",{className:"text-[10px] text-slate-400 italic mb-3 px-2",children:Zd[H].intro}),s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 border border-white/10",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 sm:mb-8 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cv,{size:24,className:"sm:w-7 sm:h-7 text-blue-500 flex-shrink-0"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg sm:text-xl md:text-2xl font-black text-white uppercase tracking-tight",children:["Votre argent dans ",c," ans"]}),s.jsx("p",{className:"text-slate-500 text-xs sm:text-sm mt-1",children:Zd[H].titleSub})]}),s.jsx(_i,{title:Zd[H].popup.title,children:Zd[H].popup.body})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur-md p-1 rounded-lg flex gap-1 border border-white/10 shadow-inner",children:[s.jsx("button",{onClick:()=>Go("financing"),className:`px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold uppercase transition-all ${hs==="financing"?"bg-blue-600 text-white":"text-slate-500 hover:text-white"}`,children:"Financement"}),s.jsx("button",{onClick:()=>Go("cash"),className:`px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold uppercase transition-all ${hs==="cash"?"bg-emerald-600 text-white":"text-slate-500 hover:text-white"}`,children:"Cash"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[5,10,c].map((B,Ae)=>{const Xe=Tc(B),nt=hs==="financing"?Xe.credit:Xe.cash,Dt=Math.abs(nt.cumulativeSpendSolar),Bt=Math.abs(nt.cumulativeSpendNoSolar),St=Bt-Dt;let m="text-orange-500",g="border-orange-500/30",j="hover:shadow-[0_0_30px_rgba(249,115,22,0.25)]";return B===10?(m="text-blue-500",g="border-blue-500/30",j="hover:shadow-[0_0_30px_rgba(59,130,246,0.25)]"):B>=20&&(m="text-emerald-500",g="border-emerald-500/30",j="hover:shadow-[0_0_30px_rgba(16,185,129,0.35)]"),s.jsxs("div",{className:`relative bg-[#0b0b0b]/60 backdrop-blur-md border ${g} rounded-xl sm:rounded-2xl p-4 sm:p-6 overflow-hidden group transition-all duration-300 hover:border-white/30 ${j}`,children:[s.jsx("div",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 text-[80px] sm:text-[100px] md:text-[130px] font-black text-white opacity-[0.03] leading-none select-none pointer-events-none",children:B}),s.jsxs("h3",{className:`${m} font-bold text-xs sm:text-sm uppercase mb-4 sm:mb-6 tracking-wider`,children:["DANS ",B," ANS"]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6 relative z-10",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-950/30 to-blue-900/10 border border-blue-500/20 p-3 sm:p-4 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[s.jsx(ar,{size:12,className:"sm:w-3.5 sm:h-3.5 text-blue-400 flex-shrink-0"}),s.jsx("span",{className:"text-[9px] sm:text-[10px] text-blue-400 font-bold uppercase tracking-wider",children:"Avec installation solaire"})]}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[8px] sm:text-[9px] text-slate-500 uppercase mb-1",children:"Total dpens en nergie"}),s.jsx("p",{className:"text-xl sm:text-2xl font-black text-white tabular-nums break-words",children:Qe(Dt)})]}),St>0&&s.jsxs("div",{className:"bg-emerald-950/30 border border-emerald-500/30 p-2 sm:p-3 rounded-lg",children:[s.jsx("p",{className:"text-[8px] sm:text-[9px] text-emerald-400 uppercase mb-1",children:"Diffrence observe"}),s.jsxs("p",{className:"text-2xl sm:text-3xl font-black text-emerald-400 tabular-nums break-words",children:["+",Qe(St)]})]}),(()=>{const C=hs==="financing"?Se.breakEvenPoint:Se.breakEvenPointCash;return St<=0&&B<C&&s.jsxs("div",{className:"bg-orange-950/30 border border-orange-500/30 p-2 sm:p-3 rounded-lg",children:[s.jsx("p",{className:"text-[8px] sm:text-[9px] text-orange-400 uppercase mb-1",children:"Phase d'quilibre"}),s.jsxs("p",{className:"text-sm sm:text-lg font-black text-orange-400 break-words",children:["Retour estim dans ",C-B," ans"]})]})})()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-red-950/40 to-red-900/20 border border-red-500/20 p-3 sm:p-4 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[s.jsx(cu,{size:12,className:"sm:w-3.5 sm:h-3.5 text-red-400 flex-shrink-0"}),s.jsx("span",{className:"text-[9px] sm:text-[10px] text-red-400 font-bold uppercase tracking-wider leading-tight",children:"Sans changement (factures actuelles)"})]}),s.jsx("p",{className:"text-[8px] sm:text-[9px] text-red-300 uppercase mb-1",children:"Dpenses en nergie (non rcuprables)"}),s.jsx("p",{className:"text-xl sm:text-2xl font-black text-red-400 tabular-nums break-words",children:Qe(Bt)}),St>0&&s.jsxs("div",{className:"mt-2 sm:mt-3 pt-2 sm:pt-3 border-t border-red-900/30",children:[s.jsx("p",{className:"text-[8px] sm:text-[9px] text-red-500 uppercase mb-1",children:"cart constat"}),s.jsx("p",{className:"text-lg sm:text-xl font-black text-red-500 tabular-nums break-words",children:Qe(St)})]})]}),B===c&&St>0&&s.jsxs("div",{className:"bg-emerald-600/15 border border-emerald-500/30 p-3 sm:p-4 rounded-xl backdrop-blur-sm",children:[s.jsx("p",{className:"text-[9px] sm:text-[10px] text-emerald-400 font-bold uppercase text-center mb-1",children:"Visualisation synthtique"}),s.jsxs("p",{className:"text-3xl sm:text-4xl font-black text-emerald-400 text-center tabular-nums break-words",children:["+",Qe(St)]}),s.jsx("p",{className:"text-[8px] sm:text-[9px] text-emerald-300 text-center mt-1 uppercase",children:"dans votre maison, au lieu de 0"})]}),B===10&&s.jsx("p",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-white/5 text-[10px] sm:text-xs text-blue-400 font-medium uppercase leading-relaxed",children:"Ce graphique est un repre. La vraie dcision concerne votre maison, votre confort et la matrise durable de vos dpenses."})]})]},`card-${B}-${Ae}`)})}),s.jsx("div",{className:"mt-6 sm:mt-8 md:mt-10 bg-gradient-to-r from-orange-950/30 to-red-950/30 border-l-4 border-orange-500 p-4 sm:p-6 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[s.jsx(nh,{size:20,className:"sm:w-6 sm:h-6 text-orange-400 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-orange-400 font-bold text-base sm:text-lg mb-2",children:["Dpense mensuelle actuelle :"," ",s.jsx("span",{className:"break-words",children:Qe(Se.oldMonthlyBillYear1)})]}),s.jsxs("p",{className:"text-slate-300 text-xs sm:text-sm leading-relaxed",children:["Aujourd'hui, chaque mois reprsente ce montant dpens en nergie. Avec installation solaire, cette mme dpense devient progressivement un investissement utile  sur"," ",c," ans."]})]})]})})]}),s.jsx("p",{className:"mt-6 text-center text-[10px] sm:text-[11px] text-slate-500 italic",children:Zd[H].closing}),Tf.createPortal(s.jsx("div",{style:{position:"fixed",bottom:"12px",left:"12px",zIndex:999999999,pointerEvents:"auto"},children:s.jsx("button",{onClick:()=>eo(B=>!B),onMouseDown:B=>B.preventDefault(),onContextMenu:B=>B.preventDefault(),style:{width:"6px",height:"6px",borderRadius:"50%",background:"rgba(100,100,100,0.15)",border:"none",cursor:"pointer",transition:"0.3s ease",padding:0,opacity:.3},onMouseEnter:B=>{B.currentTarget.style.width="58px",B.currentTarget.style.height="20px",B.currentTarget.innerText="coach",B.currentTarget.style.borderRadius="6px",B.currentTarget.style.background="rgba(0,0,0,0.75)",B.currentTarget.style.color="rgba(255,255,255,0.7)",B.currentTarget.style.fontSize="10px",B.currentTarget.style.fontWeight="500",B.currentTarget.style.padding="2px 8px",B.currentTarget.style.opacity="1"},onMouseLeave:B=>{B.currentTarget.style.width="6px",B.currentTarget.style.height="6px",B.currentTarget.innerText="",B.currentTarget.style.borderRadius="50%",B.currentTarget.style.background="rgba(100,100,100,0.15)",B.currentTarget.style.color="transparent",B.currentTarget.style.padding="0",B.currentTarget.style.opacity="0.3"}})}),document.body)]}),s.jsxs(Fn,{id:"financement-vs-cash",title:"Validation de Modalit",icon:s.jsx(Va,{className:"text-blue-500"}),defaultOpen:!1,onOpen:B=>{ne(B)},children:[s.jsxs("div",{className:"relative bg-black/40 backdrop-blur-xl rounded-[32px] p-8 border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"text-blue-500",children:s.jsx(Va,{size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"VALIDATION DE MODALIT"}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Le projet est l. Ici, on ajuste simplement la manire la plus fluide de le mettre en place."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8 mt-8",children:[s.jsxs("div",{className:"md:col-span-3 bg-black/60 backdrop-blur-md border-2 border-blue-500/50 rounded-2xl p-6 relative overflow-hidden group transition-all duration-300 hover:border-blue-500/70 hover:shadow-[0_0_40px_rgba(59,130,246,0.35)]",children:[s.jsx("div",{className:"absolute top-4 right-4 opacity-5 pointer-events-none",children:s.jsx(Va,{size:140,className:"text-blue-500"})}),s.jsxs("div",{className:"flex items-center gap-4 mb-6 relative z-10",children:[s.jsx("div",{className:"w-14 h-14 bg-blue-900/20 rounded-xl flex items-center justify-center text-blue-400 flex-shrink-0",children:s.jsx(Va,{size:28})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black text-white uppercase",children:"FINANCEMENT"}),s.jsx("p",{className:"text-blue-300 text-sm mt-1",children:"Vous mettez le projet en place sans toucher  votre capital."})]})]}),s.jsxs("div",{className:"space-y-3 mb-8 relative z-10",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 bg-black/40 rounded-lg border border-white/5",children:[s.jsxs("span",{className:"text-xs font-bold text-slate-500 uppercase",children:["Repre (",c," ans)"]}),s.jsx("span",{className:"text-2xl font-black text-white tabular-nums",children:Qe(Se.totalSavingsProjected)})]}),s.jsxs("div",{className:"flex justify-between items-center p-4 bg-black/40 rounded-lg border border-white/5",children:[s.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Seuil d'quilibre"}),s.jsx("span",{className:"text-2xl font-black text-blue-400 tabular-nums",children:Se.breakEvenPoint===1?"1 an":`${Se.breakEvenPoint} ans`})]}),s.jsxs("div",{className:"flex justify-between items-center p-4 bg-black/40 rounded-lg border border-white/5",children:[s.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"pargne mobilise"}),s.jsx("span",{className:"text-2xl font-black text-emerald-400 tabular-nums",children:"0"})]})]}),s.jsxs("div",{className:"bg-blue-950/10 border border-blue-900/20 rounded-xl p-5 relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 text-blue-400 text-sm font-bold uppercase",children:[s.jsx(ar,{size:16})," Points cls"]}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-300",children:[s.jsx(ar,{size:14,className:"text-blue-500 flex-shrink-0"}),"Votre pargne reste intacte pour d'autres projets"]}),s.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-300",children:[s.jsx(ar,{size:14,className:"text-blue-500 flex-shrink-0"}),"chancier fixe  pas de surprise future"]}),s.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-300",children:[s.jsx(ar,{size:14,className:"text-blue-500 flex-shrink-0"}),"Installation sous 4  6 semaines (dlai standard)"]})]})]}),s.jsxs("div",{className:"mt-6 bg-gradient-to-r from-blue-950/40 to-blue-900/20 border border-blue-500/30 rounded-xl p-4 relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ar,{size:14,className:"text-blue-400"}),s.jsx("span",{className:"text-xs text-blue-400 font-bold uppercase tracking-wider",children:"Modalit standard EDF"})]}),s.jsx("p",{className:"text-xs text-slate-300 leading-relaxed",children:"C'est la modalit la plus courante pour ce type de projet  aucune diffrence de service ou de garantie."})]})]}),s.jsxs("div",{className:"md:col-span-2 bg-black/60 backdrop-blur-md border border-emerald-900/30 rounded-2xl p-6 relative overflow-hidden group transition-all duration-300 hover:border-emerald-500/50 hover:shadow-[0_0_30px_rgba(16,185,129,0.25)]",children:[s.jsx("div",{className:"absolute top-4 right-4 opacity-5 pointer-events-none",children:s.jsx(cl,{size:100,className:"text-emerald-500"})}),s.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[s.jsx("div",{className:"w-12 h-12 bg-emerald-900/20 rounded-xl flex items-center justify-center text-emerald-400 flex-shrink-0",children:s.jsx(cl,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"CASH"}),s.jsx("p",{className:"text-emerald-300 text-xs mt-1",children:"Pour ceux qui veulent que le sujet soit dfinitivement rgl."})]})]}),s.jsxs("div",{className:"space-y-3 mb-6 relative z-10",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-black/40 rounded-lg border border-white/5",children:[s.jsxs("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:["Repre (",c," ans)"]}),s.jsx("span",{className:"text-xl font-black text-emerald-400 tabular-nums",children:Qe(Se.totalSavingsProjectedCash)})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-black/40 rounded-lg border border-white/5",children:[s.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Seuil d'quilibre"}),s.jsx("span",{className:"text-xl font-black text-emerald-400 tabular-nums",children:Se.breakEvenPointCash===1?"1 an":`${Se.breakEvenPointCash} ans`})]})]}),s.jsxs("div",{className:"bg-emerald-950/10 border border-emerald-900/20 rounded-xl p-4 relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 text-emerald-400 text-xs font-bold uppercase",children:[s.jsx(ar,{size:14})," Points cls"]}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-center gap-2 text-xs text-slate-300",children:[s.jsx(ar,{size:12,className:"text-emerald-500 flex-shrink-0"}),"conomie sur le cot du crdit (+",Qe(Se.totalSavingsProjectedCash-Se.totalSavingsProjected),")"]}),s.jsxs("li",{className:"flex items-center gap-2 text-xs text-slate-300",children:[s.jsx(ar,{size:12,className:"text-emerald-500 flex-shrink-0"}),"Aucune mensualit  rglement unique"]})]})]})]})]}),s.jsx("div",{className:"flex justify-center mt-10 mb-8",children:s.jsxs("div",{className:"relative px-10 py-6 rounded-2xl border border-emerald-500/40 backdrop-blur-md bg-emerald-950/40 shadow-[0_0_45px_rgba(16,185,129,0.35)]",children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-2xl shadow-[0_0_90px_20px_rgba(16,185,129,0.15)]"}),s.jsxs("div",{className:"text-[10px] text-emerald-400 font-bold uppercase tracking-wider mb-1 text-center flex items-center gap-2 justify-center",children:[s.jsx(lu,{size:12}),"DIFFRENCE CONOMIQUE"]}),s.jsxs("div",{className:"text-4xl font-black text-emerald-400 text-center tabular-nums",children:["+",Qe(Se.totalSavingsProjectedCash-Se.totalSavingsProjected)]}),s.jsx("div",{className:"text-xs text-emerald-300 mt-1 text-center",children:"C'est une diffrence relle  mais elle ne remet pas en cause la dcision."})]})}),s.jsx("div",{className:"mt-6 bg-black/40 border border-white/10 rounded-xl p-4 text-xs text-slate-400 text-center",children:"L'important, c'est que la dcision soit claire  et que sa mise en place vous reste confortable."})]}),s.jsx("div",{className:"mt-10 bg-gradient-to-r from-blue-950/40 to-black/40 border-l-4 border-blue-500 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl flex-shrink-0",children:s.jsx(Va,{className:"text-blue-400",size:24})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-blue-400 font-bold text-lg mb-2 uppercase tracking-wider",children:"MODALIT STANDARD  FINANCEMENT STRUCTUR"}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed mb-4",children:"Si vous choisissez de mettre le projet en place tout en conservant votre capital disponible  l'installation dmarre dans les 4  6 semaines."}),s.jsx("div",{className:"bg-black/40 border border-emerald-900/30 rounded-lg p-4 inline-block",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(cl,{className:"text-emerald-400 flex-shrink-0 mt-0.5",size:18}),s.jsxs("p",{className:"text-xs text-emerald-300 leading-relaxed",children:[s.jsx("strong",{children:"Si vous choisissez de solder le projet immdiatement"}),", l'option cash reste accessible  avec +",Qe(Se.totalSavingsProjectedCash-Se.totalSavingsProjected)," ","d'cart conomique sur ",c," ans."]})]})})]})]})})]}),s.jsx(Fn,{id:"comparateur",title:"Comparaison avec vos autres options",icon:s.jsx(ad,{className:"text-purple-500"}),defaultOpen:!1,forceOpen:tt==="comparateur",onOpen:B=>{ne(B)},children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-[24px] sm:rounded-[32px] p-4 sm:p-6 md:p-8 relative",children:[s.jsx("div",{className:"absolute top-0 right-0 p-6 sm:p-8 opacity-10 pointer-events-none",children:s.jsx(ad,{size:80,className:"sm:w-[100px] sm:h-[100px] md:w-[120px] md:h-[120px] text-purple-500"})}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[s.jsx("div",{className:"text-purple-500 flex-shrink-0",children:s.jsx(ad,{size:22,className:"sm:w-[26px] sm:h-[26px]"})}),s.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-black text-white uppercase tracking-tight",children:"Comparaison avec vos autres options"})]}),s.jsx("p",{className:"text-[10px] text-slate-400 italic mb-3 px-2",children:"Ici, on ne compare pas des produits. On regarde ce que devient votre argent si vous le laissez partir ou si vous le faites travailler chez vous."}),s.jsxs("div",{className:"mb-4 bg-blue-950/30 border-l-4 border-blue-500 p-3 sm:p-4 rounded text-xs sm:text-sm text-gray-300 leading-relaxed flex items-start gap-3",children:[s.jsxs("span",{className:"flex-1",children:["Tous les scnarios sont construits avec les"," ",s.jsx("strong",{children:"mmes hypothses"}),". La seule diffrence observe vient dune chose :",s.jsxs("strong",{children:[" ","continuer  acheter de lnergie, ou commencer  la produire."]})]}),s.jsxs(_i,{title:"D'o viennent ces chiffres ?",children:[s.jsxs("p",{className:"mb-3",children:["Les calculs sont bass sur"," ",s.jsx("strong",{children:"votre consommation relle"}),", les tarifs rglements en vigueur et des hypothses prudentes d'volution."]}),s.jsxs("p",{className:"mb-3",children:[s.jsx("strong",{children:"Les mmes paramtres"})," sont appliqus  tous les cas (sans solaire, Livret A, Assurance-vie, SCPI, solaire)."]}),s.jsx("p",{className:"text-blue-400 text-xs",children:"La diffrence ne vient pas du modle. Elle vient uniquement de ce que vous faites de votre argent."})]})]}),s.jsxs("div",{className:"mb-6 bg-blue-950/30 border-l-4 border-blue-500 p-3 sm:p-4 rounded text-xs sm:text-sm text-gray-300 leading-relaxed flex items-start gap-3",children:[s.jsx("span",{className:"flex-1",children:"Mme sans hausse des prix, linstallation reste pertinente : elle transforme une dpense dfinitive en une production que vous contrlez."}),s.jsxs(_i,{title:"Et si les prix n'augmentent pas ?",children:[s.jsxs("p",{className:"mb-3",children:["Si les prix restaient constants, lcart serait plus faible, mais la logique resterait la mme :",s.jsxs("strong",{children:[" ","produire cote toujours moins que racheter."]})]}),s.jsx("p",{className:"mb-3",children:"Le solaire nest pas un pari. Cest une rduction structurelle de ce que vous sortez chaque mois."}),s.jsx("p",{className:"text-blue-400 text-xs",children:"Vous reprenez le contrle dune partie de votre facture."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"bg-black/60 backdrop-blur-md border border-blue-900/20 p-4 sm:p-6 rounded-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"bg-blue-900/30 p-2 rounded-lg text-blue-400 flex-shrink-0",children:s.jsx(ad,{size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-white text-sm",children:"Livret A"}),s.jsx("p",{className:"text-[10px] text-blue-300",children:"Capital bloqu"})]})]}),s.jsx("div",{className:"text-3xl sm:text-4xl font-black text-blue-500 mb-2 break-words",children:"1.5%"}),s.jsx("div",{className:"text-[9px] sm:text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"PERFORMANCE ANNUELLE"})]}),s.jsxs("div",{className:"bg-blue-950/20 border border-blue-900/30 p-3 sm:p-4 rounded-xl",children:[s.jsxs("div",{className:"text-[9px] sm:text-[10px] text-blue-400 font-bold uppercase mb-1",children:["Gain net ",c," ans"]}),s.jsx("div",{className:"text-lg sm:text-xl font-black text-blue-400 break-words",children:Qe((rr||0)*Math.pow(1.015,c||20)-(rr||0))}),s.jsxs("div",{className:"text-[8px] sm:text-[9px] text-slate-500 mt-1",children:["(capital de ",Qe(rr)," bloqu)"]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"bg-black/60 backdrop-blur-md border border-purple-900/20 p-4 sm:p-6 rounded-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"bg-purple-900/30 p-2 rounded-lg text-purple-400 flex-shrink-0",children:s.jsx(qs,{size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-white text-sm",children:"Assurance Vie"}),s.jsx("p",{className:"text-[10px] text-purple-300",children:"Frais de gestion"})]})]}),s.jsx("div",{className:"text-3xl sm:text-4xl font-black text-purple-500 mb-2 break-words",children:"3.5%"}),s.jsx("div",{className:"text-[9px] sm:text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"PERFORMANCE ANNUELLE"})]}),s.jsxs("div",{className:"bg-purple-950/20 border border-purple-900/30 p-3 sm:p-4 rounded-xl",children:[s.jsxs("div",{className:"text-[9px] sm:text-[10px] text-purple-400 font-bold uppercase mb-1",children:["Gain net ",c," ans"]}),s.jsx("div",{className:"text-lg sm:text-xl font-black text-purple-400 break-words",children:Qe(rr*Math.pow(1.035,c)-rr)}),s.jsxs("div",{className:"text-[8px] sm:text-[9px] text-slate-500 mt-1",children:["(capital de ",Qe(rr)," bloqu)"]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"bg-black/60 backdrop-blur-md border border-orange-900/20 p-4 sm:p-6 rounded-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"bg-orange-900/30 p-2 rounded-lg text-orange-400 flex-shrink-0",children:s.jsx(Rf,{size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-white text-sm",children:"SCPI/Immobilier"}),s.jsx("p",{className:"text-[10px] text-orange-300",children:"Illiquide"})]})]}),s.jsx("div",{className:"text-3xl sm:text-4xl font-black text-orange-500 mb-2 break-words",children:"4.5%"}),s.jsx("div",{className:"text-[9px] sm:text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"PERFORMANCE ANNUELLE"})]}),s.jsxs("div",{className:"bg-orange-950/20 border border-orange-900/30 p-3 sm:p-4 rounded-xl",children:[s.jsxs("div",{className:"text-[9px] sm:text-[10px] text-orange-400 font-bold uppercase mb-1",children:["Gain net ",c," ans"]}),s.jsx("div",{className:"text-lg sm:text-xl font-black text-orange-400 break-words",children:Qe(rr*Math.pow(1.045,c)-rr)}),s.jsxs("div",{className:"text-[8px] sm:text-[9px] text-slate-500 mt-1",children:["(capital de ",Qe(rr)," bloqu)"]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"bg-[#022c22] border border-emerald-500 p-4 sm:p-6 rounded-2xl relative shadow-[0_0_30px_rgba(16,185,129,0.3)]",children:[s.jsx("div",{id:"badge-garantie",className:"absolute top-2 sm:top-3 right-2 sm:right-3 bg-emerald-900 text-emerald-300 border border-emerald-700 text-[8px] sm:text-[9px] font-bold px-2 py-0.5 rounded uppercase",children:"Garantie  VIE"}),s.jsxs("div",{className:"flex items-center gap-3 mb-4 mt-2",children:[s.jsx("div",{className:"bg-emerald-500/20 p-2 rounded-lg text-emerald-400 flex-shrink-0",children:s.jsx(gc,{size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-black text-white text-sm uppercase",children:"SOLAIRE"}),s.jsx("p",{className:"text-[10px] text-emerald-300",children:"Capital libre"})]})]}),s.jsx("div",{className:"text-3xl sm:text-4xl font-black text-emerald-400 mb-2 break-words",children:"0"}),s.jsx("div",{className:"text-[9px] sm:text-[10px] font-bold text-emerald-600 uppercase tracking-wider mb-4",children:"CAPITAL BLOQU"}),s.jsxs("div",{className:"border-t border-emerald-500/30 pt-3 text-xs font-bold text-white flex items-center gap-2",children:[s.jsx(ar,{size:14,className:"text-emerald-400 flex-shrink-0"}),s.jsx("span",{className:"leading-tight",children:"Vous rduisez votre dpendance au rseau"})]})]}),s.jsxs("div",{className:"bg-emerald-950/40 border border-emerald-500/50 p-3 sm:p-4 rounded-xl shadow-[0_0_20px_rgba(16,185,129,0.2)]",children:[s.jsxs("div",{className:"text-[9px] sm:text-[10px] text-emerald-400 font-bold uppercase mb-1",children:["cart net ",c," ans"]}),s.jsx("div",{className:"text-lg sm:text-xl font-black text-emerald-400 break-words",children:Qe(Se.totalSavingsProjected)}),s.jsxs("div",{className:"text-[8px] sm:text-[9px] text-emerald-300 mt-1 leading-tight",children:[s.jsx("strong",{children:"+ Votre pargne reste libre"})," (",Qe(rr)," disponible)"]})]})]})]}),s.jsxs("div",{className:"mt-6 sm:mt-8 bg-black/40 backdrop-blur-md border border-white/10 p-3 sm:p-4 rounded-xl flex items-start gap-3 text-xs sm:text-sm text-slate-300 leading-relaxed",children:[s.jsx(k_,{size:18,className:"sm:w-5 sm:h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-white",children:"La vraie diffrence ?"})," ","Dans les placements classiques, votre argent est immobilis pour esprer un rendement. Ici, il"," ",s.jsx("strong",{className:"text-emerald-400",children:"arrte dtre perdu"})," ","et commence  produire quelque chose dutile chez vous.",s.jsx("br",{}),s.jsx("span",{className:"text-slate-400 italic",children:"Autrement dit : soit votre argent travaille ailleurs. Soit il travaille chez vous."})]})]})]})]})}),s.jsx(Fn,{id:"bilan-total",title:`Bilan Total sur ${c} ans`,icon:s.jsx(hd,{className:"text-slate-400"}),defaultOpen:!1,onOpen:B=>{ne(B)},children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl rounded-[24px] sm:rounded-[32px] p-4 sm:p-6 md:p-8 border border-white/10 relative",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 sm:mb-8 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 sm:p-2.5 bg-white/5 rounded-xl border border-white/10 flex-shrink-0",children:s.jsx(hd,{className:"text-slate-400 w-4 h-4 sm:w-5 sm:h-5"})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-black text-white uppercase tracking-tight",children:["BILAN TOTAL SUR ",c," ANS"]}),s.jsx("p",{className:"text-[9px] sm:text-[10px] text-slate-500 mt-1 italic",children:"Ce nest plus une estimation. Cest ce que devient votre argent si rien ne change et si vous agissez."})]})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur-md p-1 rounded-lg flex gap-1 border border-white/10",children:[s.jsx("button",{onClick:()=>es("financing"),className:`px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold uppercase transition-all ${br==="financing"?"bg-blue-600 text-white":"text-slate-500 hover:text-white"}`,children:"Financement"}),s.jsx("button",{onClick:()=>es("cash"),className:`px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold uppercase transition-all ${br==="cash"?"bg-emerald-600 text-white":"text-slate-500 hover:text-white"}`,children:"Cash"})]})]}),s.jsxs("div",{className:"space-y-8 sm:space-y-10 md:space-y-12",children:[s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full bg-red-500/80 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm font-bold text-slate-300 uppercase tracking-widest",children:"Sans solaire  scnario de continuit"})]}),s.jsx("span",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-white break-words",children:Qe(br==="financing"?Se.totalSpendNoSolar:Se.totalSpendNoSolarCash)})]}),s.jsx("div",{className:"relative h-20 sm:h-24 md:h-28 bg-gradient-to-b from-black/80 to-black/40 rounded-xl sm:rounded-2xl border border-red-900/40 overflow-hidden shadow-2xl",children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-red-500 via-red-600 to-red-700 rounded-xl sm:rounded-2xl shadow-[inset_0_-4px_8px_rgba(0,0,0,0.3),inset_0_4px_8px_rgba(255,255,255,0.1)]"})}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 sm:mt-3 text-red-400 text-xs sm:text-sm italic",children:[s.jsx("div",{className:"w-1 h-1 rounded-full bg-red-400 flex-shrink-0"}),"Argent dfinitivement parti. Aucun retour possible."]})]}),s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full flex-shrink-0 ${br==="cash"?"bg-emerald-500/80":"bg-blue-500/80"}`}),s.jsx("span",{className:"text-xs sm:text-sm font-bold text-slate-300 uppercase tracking-widest",children:"Avec solaire  raffectation de votre argent"})]}),s.jsx("span",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-white break-words",children:Qe(br==="financing"?Se.totalSpendSolar:Se.totalSpendSolarCash)})]}),s.jsx("div",{className:"relative h-20 sm:h-24 md:h-28 bg-gradient-to-b from-black/80 to-black/40 rounded-xl sm:rounded-2xl border border-white/10 overflow-hidden shadow-2xl",children:s.jsx("div",{className:`absolute inset-y-0 left-0 rounded-xl sm:rounded-2xl transition-all duration-1000 ${br==="cash"?"bg-gradient-to-b from-emerald-500 via-emerald-600 to-emerald-700":"bg-gradient-to-b from-blue-500 via-blue-600 to-blue-700"}`,style:{width:`${br==="financing"?Se.totalSpendSolar/Se.totalSpendNoSolar*100:Se.totalSpendSolarCash/Se.totalSpendNoSolarCash*100}%`}})}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mt-2 sm:mt-3 gap-3",children:[s.jsxs("div",{className:`flex items-center gap-2 text-xs sm:text-sm italic ${br==="cash"?"text-emerald-400/80":"text-blue-400/80"}`,children:[s.jsx(fa,{size:12}),"Actif productif chez vous pendant 25+ ans."]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur-md border border-emerald-500/30 px-3 sm:px-5 py-2 sm:py-3 rounded-xl flex items-center gap-2 sm:gap-3",children:[s.jsx(cl,{size:14,className:"text-emerald-400 flex-shrink-0"}),s.jsx("span",{className:"text-[10px] sm:text-xs text-emerald-400/70 font-bold uppercase tracking-wider",children:"Diffrence relle :"}),s.jsx("span",{className:"text-lg sm:text-xl md:text-2xl font-black text-emerald-400 break-words",children:Qe(br==="financing"?Se.totalSavingsProjected:Se.totalSavingsProjectedCash)})]})]})]})]}),s.jsxs("div",{className:"mt-6 sm:mt-8 bg-black/60 backdrop-blur-md border border-white/10 rounded-xl p-4 sm:p-6 flex items-start gap-3 sm:gap-4",children:[s.jsx("div",{className:"p-1.5 sm:p-2 bg-white/5 rounded-lg border border-white/10 flex-shrink-0",children:s.jsx(Wa,{size:14,className:"text-slate-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-bold text-xs sm:text-sm mb-2 uppercase tracking-wider",children:"Ce que montre rellement ce bilan"}),s.jsxs("p",{className:"text-slate-400 text-xs sm:text-sm leading-relaxed",children:["Le scnario"," ",s.jsx("strong",{className:"text-red-400",children:"sans solaire"})," est celui que vous connaissez dj : votre argent part et ne revient pas. Le scnario"," ",s.jsx("strong",{className:"text-blue-400",children:"avec solaire"})," ","montre ce qui se passe quand cette mme somme commence  construire quelque chose chez vous.",s.jsx("br",{}),s.jsx("strong",{className:"text-white",children:"Ce nest pas une conomie. Cest un changement de trajectoire."})]})]})]}),s.jsxs("div",{className:"mt-4 sm:mt-6 bg-gradient-to-br from-slate-900/60 to-black/60 backdrop-blur-md border border-white/10 rounded-xl p-4 sm:p-5 flex items-start gap-3",children:[s.jsx("div",{className:"p-1.5 sm:p-2 bg-white/5 rounded-lg border border-white/10 flex-shrink-0",children:s.jsx(qs,{size:14,className:"text-slate-400"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-bold text-xs sm:text-sm mb-1 uppercase tracking-wider",children:"Cadre de lecture"}),s.jsxs("div",{className:"text-slate-400 text-xs sm:text-sm leading-relaxed",children:["Ce module ne projette ni scnario commercial, ni hypothse optimiste. Il applique simplement les"," ",s.jsx("strong",{className:"text-white",children:"mmes rgles de calcul"})," "," deux choix diffrents : continuer comme aujourdhui, ou produire une partie de votre nergie.",s.jsx("br",{}),s.jsxs("p",{className:"text-slate-400 text-xs sm:text-sm leading-relaxed",children:["Le scnario"," ",s.jsx("strong",{className:"text-red-400",children:"sans solaire"})," ","reprsente votre dpense nergtique actuelle. Le scnario"," ",s.jsx("strong",{className:"text-blue-400",children:"avec solaire"})," ","transforme cette dpense en investissement qui gnre de la valeur pendant 25+ ans."]}),s.jsx("br",{}),s.jsx("strong",{className:"text-white",children:"Ce que vous voyez nest pas une promesse  cest la consquence logique de votre situation actuelle."})]})]})]})]})}),s.jsxs(Fn,{id:"projection-table",title:`Projection Financire  ${c} ans`,icon:s.jsx(Gy,{className:"text-slate-400"}),defaultOpen:!1,forceOpen:tt==="projection",onOpen:B=>{ne(B)},children:[s.jsxs("p",{className:"text-[10px] sm:text-[16px] text-slate-300 italic mb-3 px-2 leading-relaxed",children:["Ce tableau ne sert pas  prendre la dcision. Il sert "," ",s.jsx("strong",{className:"text-white",children:"vrifier dans le temps"})," que la dcision que vous prenez aujourdhui reste cohrente, rationnelle et protectrice pour vous."]}),Tf.createPortal(s.jsx("div",{style:{position:"fixed",bottom:"12px",left:"160px",zIndex:999999999,pointerEvents:"auto"},children:s.jsx("button",{onClick:B=>{B.preventDefault(),Yi(Ae=>!Ae)},onMouseDown:B=>B.preventDefault(),onContextMenu:B=>B.preventDefault(),style:{width:"6px",height:"6px",borderRadius:"50%",background:"rgba(100,100,100,0.15)",border:"none",cursor:"pointer",transition:"0.3s ease",padding:0,opacity:.3},onMouseEnter:B=>{B.currentTarget.style.width="78px",B.currentTarget.style.height="20px",B.currentTarget.innerText="tableau",B.currentTarget.style.borderRadius="6px",B.currentTarget.style.background="rgba(0,0,0,0.75)",B.currentTarget.style.color="rgba(255,255,255,0.7)",B.currentTarget.style.fontSize="10px",B.currentTarget.style.fontWeight="500",B.currentTarget.style.padding="2px 8px",B.currentTarget.style.opacity="1"},onMouseLeave:B=>{B.currentTarget.style.width="6px",B.currentTarget.style.height="6px",B.currentTarget.innerText="",B.currentTarget.style.borderRadius="50%",B.currentTarget.style.background="rgba(100,100,100,0.15)",B.currentTarget.style.color="transparent",B.currentTarget.style.padding="0",B.currentTarget.style.opacity="0.3"}})}),document.body),an&&s.jsxs("div",{className:"mb-4 bg-blue-950/20 border border-blue-500/30 rounded-lg p-3 text-xs sm:text-sm",children:[s.jsx("p",{className:"font-bold text-blue-400 mb-1",children:(ie==null?void 0:ie.title)||"Wording terrain recommand"}),s.jsxs("p",{className:"text-slate-200 italic leading-relaxed",children:['"',(ie==null?void 0:ie.keyPhrase)||"Ce tableau n'est pas pour prendre la dcision. La dcision se prend sur ce qui se passe aujourd'hui.",'"']}),(H==="banquier"||(ie==null?void 0:ie.moduleId)==="taux")&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"cursor-pointer text-[10px] text-slate-500 uppercase",children:"Variante Chiffre (Banquier)"}),s.jsxs("p",{className:"mt-2 text-slate-400 text-[11px] italic",children:['"Anne ',Math.floor(Ft/12),` : le crdit se termine.  partir de l, la trsorerie devient positive. C'est la ligne que vous scurisez aujourd'hui."`]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[s.jsxs("div",{className:"bg-black/60 backdrop-blur-md p-1 rounded-lg flex gap-1 border border-white/10",children:[s.jsx("button",{onClick:()=>Ta("financing"),className:`px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold uppercase transition-all ${On==="financing"?"bg-blue-600 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Financement"}),s.jsx("button",{onClick:()=>Ta("cash"),className:`px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold uppercase transition-all ${On==="cash"?"bg-emerald-600 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Cash"})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur-md p-1 rounded-lg flex gap-1 border border-white/10",children:[s.jsx("button",{onClick:()=>La("annuel"),className:`px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold uppercase transition-all ${vi==="annuel"?"bg-slate-700 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Annuel"}),s.jsx("button",{onClick:()=>La("mensuel"),className:`px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold uppercase transition-all ${vi==="mensuel"?"bg-blue-600 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Mensuel"})]})]}),s.jsxs("div",{className:"mb-4 sm:mb-6 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-black/50 border border-white/10 rounded-lg p-3",children:[s.jsx("p",{className:"text-[14px] uppercase text-slate-400 tracking-wider",children:"Point de bascule"}),s.jsx("p",{className:"text-lg font-black text-white",children:yi?`Anne ${yi}`:""}),s.jsx("p",{className:"text-[14px] text-slate-400",children:"Moment o linvestissement est totalement absorb"})]}),s.jsxs("div",{className:"bg-black/50 border border-white/10 rounded-lg p-3",children:[s.jsx("p",{className:"text-[14px] uppercase text-slate-400 tracking-wider",children:"Gain total"}),s.jsx("p",{className:"text-lg font-black text-emerald-400",children:Qe(Ic)}),s.jsxs("p",{className:"text-[14px] text-slate-400",children:["Trsorerie nette  ",c," ans"]})]}),s.jsxs("div",{className:"bg-black/50 border border-white/10 rounded-lg p-3",children:[s.jsx("p",{className:"text-[14px] uppercase text-slate-400 tracking-wider",children:"Lecture investissement"}),s.jsxs("p",{className:"text-lg font-black text-blue-400",children:[Sl,"% ROI"]}),s.jsx("p",{className:"text-[14px] text-slate-400",children:"Rapport entre mise de dpart et gain final"})]})]}),s.jsxs("p",{className:"mb-3 text-[14px] text-slate-400 italic",children:["Les premires annes, vous remplacez une facture par un investissement.  partir de"," ",s.jsxs("span",{className:"text-white font-bold",children:["lanne ",yi]}),", le systme devient structurellement positif."]}),s.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:s.jsx("div",{className:"inline-block min-w-full align-middle px-4 sm:px-0",children:s.jsxs("table",{id:"detailed-finance-table",className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/10 text-[12px] sm:text-[13px] uppercase text-slate-500 font-bold tracking-wider",children:[s.jsx("th",{className:"py-2 sm:py-3 px-2 sm:px-4 whitespace-nowrap",children:"Anne"}),s.jsx("th",{className:"py-2 sm:py-3 px-2 sm:px-4 text-red-400 whitespace-nowrap",children:"Sans Solaire"}),gr&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"py-2 sm:py-3 px-2 sm:px-4 text-blue-400 whitespace-nowrap",children:"Crdit"}),s.jsx("th",{className:"py-2 sm:py-3 px-2 sm:px-4 text-yellow-400 whitespace-nowrap",children:"Facture restante"})]}),s.jsx("th",{className:"py-2 sm:py-3 px-2 sm:px-4 text-white whitespace-nowrap",children:"Avec Solaire"}),s.jsxs("th",{className:"py-2 sm:py-3 px-2 sm:px-4 text-slate-300 whitespace-nowrap",children:["Diffrence ",vi==="annuel"?"/an":"/mois"]}),s.jsx("th",{className:"py-2 sm:py-3 px-2 sm:px-4 text-emerald-400 text-right whitespace-nowrap",children:"Trsorerie cumule"})]})}),s.jsxs("tbody",{className:"text-xs sm:text-sm font-mono text-slate-300",children:[s.jsxs("tr",{className:"border-b border-white/5 bg-[#1a1505]/30",children:[s.jsx("td",{className:"py-3 sm:py-4 px-2 sm:px-4 text-yellow-500 font-bold whitespace-nowrap",children:"Anne 0"}),s.jsx("td",{className:"py-3 sm:py-4 px-2 sm:px-4 opacity-50",children:"-"}),gr&&s.jsx("td",{className:"py-3 sm:py-4 px-2 sm:px-4 opacity-50",children:"-"}),gr&&s.jsx("td",{className:"py-3 sm:py-4 px-2 sm:px-4 opacity-50",children:"-"}),s.jsxs("td",{className:"py-3 sm:py-4 px-2 sm:px-4 text-yellow-400 font-bold uppercase text-xs sm:text-sm whitespace-nowrap",children:["APPORT :"," ",Qe(On==="financing"?tr:rr)]}),s.jsxs("td",{className:"py-3 sm:py-4 px-2 sm:px-4 text-red-400 font-bold whitespace-nowrap",children:["-",Qe(On==="financing"?tr:rr)]}),s.jsxs("td",{className:"py-3 sm:py-4 px-2 sm:px-4 text-right text-red-500 font-bold whitespace-nowrap",children:["-",Qe(On==="financing"?tr:rr)]})]}),(On==="financing"?Se.details:Se.detailsCash).slice(0,c).map((B,Ae)=>{const nt=Ae<Ft/12&&On==="financing"?(et+_t)*12:0,Dt=vi==="mensuel"?12:1,Bt=B.edfBillWithoutSolar/Dt,St=nt/Dt,m=B.edfResidue/Dt,g=St+m,j=g-Bt;return s.jsxs("tr",{className:`border-b border-white/5 transition-colors ${yi===B.year?"bg-emerald-500/10 ring-1 ring-emerald-500/30":"hover:bg-white/5"}`,children:[s.jsx("td",{className:"py-2 sm:py-3 px-2 sm:px-4 text-slate-500 whitespace-nowrap",children:B.year}),s.jsx("td",{className:"py-2 sm:py-3 px-2 sm:px-4 text-red-400/80 whitespace-nowrap",children:Qe(Bt)}),gr&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"py-2 sm:py-3 px-2 sm:px-4 text-blue-400/80 whitespace-nowrap",children:Qe(St)}),s.jsx("td",{className:"py-2 sm:py-3 px-2 sm:px-4 text-yellow-400/80 whitespace-nowrap",children:Qe(m)})]}),s.jsx("td",{className:"py-2 sm:py-3 px-2 sm:px-4 font-bold text-white whitespace-nowrap",children:Qe(g)}),s.jsxs("td",{className:`py-2 sm:py-3 px-2 sm:px-4 font-bold whitespace-nowrap ${j>0?"text-white":"text-emerald-400"}`,children:[j>0?"+":"",Qe(j)]}),s.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-4 text-right font-bold whitespace-nowrap ${B.cumulativeSavings>=0?"text-emerald-500":"text-red-500"}`,children:Qe(B.cumulativeSavings)})]},`${B.year}-${Ae}`)})]}),s.jsx("tfoot",{className:"sticky bottom-0 bg-black/95 backdrop-blur-xl border-t-2 border-emerald-500/30",children:s.jsxs("tr",{children:[s.jsxs("td",{colSpan:gr?6:5,className:"py-2 sm:py-3 px-2 sm:px-4 text-right text-xs sm:text-sm font-bold text-slate-400 uppercase",children:["Gain total sur ",c," ans"]}),s.jsx("td",{className:"py-2 sm:py-3 px-2 sm:px-4 text-right text-lg sm:text-xl font-black text-emerald-400 whitespace-nowrap",children:Qe(((rl=(On==="financing"?Se.details:Se.detailsCash)[c-1])==null?void 0:rl.cumulativeSavings)||0)})]})})]})})}),s.jsx("button",{onClick:()=>Zr(!gr),className:"mt-4 text-[10px] sm:text-xs text-slate-500 hover:text-slate-300 transition-colors",children:gr?"Vue globale":"Vue complte"})]}),s.jsx(Fn,{id:"decision",title:"Lecture de trajectoire",icon:s.jsx(Of,{className:"text-slate-400"}),defaultOpen:!1,forceOpen:tt==="decision",children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-[28px] p-6 md:p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 rounded-xl bg-white/5 border border-white/10",children:s.jsx(Of,{className:"text-slate-400 w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Ce que votre tude met en vidence"}),s.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Une bascule entre deux continuits patrimoniales."}),s.jsxs("p",{className:"text-l text-slate-200 leading-relaxed",children:["Ce module ne cherche pas  projeter un gain.",s.jsx("br",{}),"Il met simplement en regard une analyse  partir de vos propres chiffres en projetant deux volutions possibles du mme bien immobilier.",s.jsx("br",{})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-red-950/20 border border-red-500/20 rounded-2xl p-4",children:[s.jsx("p",{className:"text-[14px] uppercase text-red-400 font-bold tracking-wider mb-2",children:"Continuit actuelle"}),s.jsxs("p",{className:"text-sm text-slate-200 leading-relaxed",children:["Votre fonctionnement nergtique reste identique  celui daujourdhui.",s.jsx("br",{}),s.jsx("br",{}),"Les flux que nous avons chiffrs continuent de sortir, anne aprs anne, selon la mme logique, pour assurer lusage, sans modifier la structure du bien.",s.jsx("br",{}),s.jsx("br",{}),s.jsx("strong",{className:"text-red-400",children:"Ils remplissent leur rle immdiat, mais ne produisent rien qui vous reste."}),s.jsx("br",{}),s.jsx("strong",{className:"text-red-400",children:"La maison consomme. Elle ne capitalise pas."})]})]}),s.jsxs("div",{className:"bg-slate-900/40 border border-white/10 rounded-2xl p-4 shadow-[0_0_25px_rgba(255,255,255,0.05)]",children:[s.jsx("p",{className:"text-[14px] uppercase text-slate-300 font-bold tracking-wider mb-2",children:"Ce que montre cette tude"}),s.jsxs("p",{className:"text-sm text-white leading-relaxed font-medium",children:["Les donnes sont maintenant poses.",s.jsx("br",{}),s.jsx("br",{}),"Les deux trajectoires sont visibles.",s.jsx("br",{}),s.jsx("br",{}),s.jsx("strong",{className:"text-white",children:"Ce que cette simulation met en vidence, ce nest pas un quipement, mais un changement de nature du flux :"}),s.jsx("br",{}),s.jsx("br",{}),"- le moment o une dpense peut rester un flux et augmenter une charge,",s.jsx("br",{}),s.jsx("br",{}),"- ou commencer  devenir un levier, en structurant un actif."]})]}),s.jsxs("div",{className:"bg-emerald-950/20 border border-emerald-500/20 rounded-2xl p-4",children:[s.jsx("p",{className:"text-[14px] uppercase text-emerald-400 font-bold tracking-wider mb-2",children:"Autre continuit possible"}),s.jsxs("p",{className:"text-sm text-slate-200 leading-relaxed",children:["Une partie de ce flux change de nature.",s.jsx("br",{}),s.jsx("br",{}),"Il ne disparat plus entirement : il commence  sancrer dans le bti, dans lquipement, dans la dure. Une partie de ce flux quipe la maison, amliore sa performance, et modifie son positionnement sur le march immobilier et dans le temps.",s.jsx("br",{}),s.jsx("br",{}),s.jsx("strong",{className:"text-emerald-400",children:"On ne parle pas dconomie ponctuelle, mais dune trajectoire qui se met en place, car Le logement nest plus seulement consommateur : il devient porteur de valeur, d'attractivit et de protection dans le temps."})]})]})]}),s.jsx("div",{className:"mt-7 bg-black/50 border border-white/10 rounded-2xl p-5 text-center",children:s.jsx("p",{className:"text-l text-slate-200 leading-relaxed",children:s.jsxs("strong",{className:"text-white",children:["Ce que vous avez sous les yeux nest pas une projection optimiste, mais deux manires diffrentes de laisser voluer la mme situation. ",s.jsx("br",{}),"Dans un cas, la maison reste expose  un poste de charge. Dans lautre, elle intgre un quipement qui modifie sa valeur dusage, sa valeur perue et sa valeur de march."]})})}),s.jsxs("div",{className:"mt-6 text-center",children:[s.jsx("p",{className:"text-[14px] uppercase tracking-widest text-slate-500",children:" CE STADE, Lanalyse est termine, valide dans sa cohrence."}),s.jsx("p",{className:"text-base font-black text-white mt-1",children:"Ce qui reste  clarifier nest plus technique."}),s.jsx("p",{className:"text-lg font-black text-slate-300 mt-1",children:"Cest la trajectoire que vous laissez sinscrire dans votre patrimoine."}),s.jsx("p",{className:"text-[14px] text-slate-500 mt-1 italic",children:"(Les deux existent dj. Lune est en cours. Lautre devient possible.)"})]}),s.jsxs("div",{className:"mt-6 text-center",children:[s.jsx("p",{className:"text-[20px] uppercase tracking-widest text-emerald-400",children:"Ce projet est prt."}),s.jsx("p",{className:"text-base font-black text-emerald-400",children:"La dcision est ouverte."})]})]})}),s.jsx(O0,{label:"Point de bascule",title:" ce stade, il ny a plus rien  dmontrer.",subtitle:"Il reste juste  se positionner."}),s.jsxs("div",{id:"taux",className:"scroll-mt-24",children:[s.jsx(LL,{taux:vr,mensualite:et,duree:Ft,montantFinance:ur,hasPromoCode:Pi}),s.jsx(AL,{taux:vr,mensualite:et,duree:Ft,montantFinance:ur,hasPromoCode:Pi}),s.jsx(PL,{taux:vr,mensualite:et,duree:Ft,montantFinance:ur,hasPromoCode:Pi})]}),s.jsx(Fn,{id:"054888f4-10e4-4eae-8c44-08dd0680f68",title:"PROTOCOLE DE QUALIFICATION",icon:s.jsx(qs,{className:"text-emerald-500"}),defaultOpen:!1,children:s.jsxs("div",{id:"qualification-process",className:"mb-12 bg-[#050505] rounded-[40px] border-2 border-white/5 shadow-[0_40px_80px_rgba(0,0,0,0.9)] overflow-hidden relative group",children:[s.jsx("div",{className:"absolute -top-24 -left-24 w-64 h-64 bg-emerald-500/5 blur-[100px] pointer-events-none"}),s.jsxs("div",{className:"px-10 py-6 border-b border-white/5 flex items-center justify-between bg-white/[0.02]",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500 animate-pulse"}),s.jsx("div",{className:"absolute inset-0 w-3 h-3 rounded-full bg-emerald-500 animate-ping opacity-40"})]}),s.jsx("span",{className:"text-white text-xs font-black uppercase tracking-[0.3em]",children:"PROTOCOLE DE QUALIFICATION TERMINAL"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-mono text-slate-500 bg-black/40 px-3 py-1 rounded-full border border-white/5",children:[s.jsx(nh,{size:12,className:"text-emerald-500"}),s.jsx("span",{className:"uppercase",children:"Session Active : ~15 min"})]})]}),s.jsxs("div",{className:"px-10 py-16 relative",children:[s.jsx("div",{className:"absolute top-[108px] left-[10%] right-[10%] h-[3px] bg-white/5"}),s.jsx("div",{className:"absolute top-[108px] left-[10%] h-[3px] bg-gradient-to-r from-emerald-600 via-emerald-400 to-emerald-500 shadow-[0_0_15px_rgba(16,185,129,0.4)] transition-all duration-700 ease-out",style:{width:"100%"}}),s.jsx("div",{className:"flex justify-between items-start relative z-10",children:[{label:"Audit nergtique",sub:"Analys"},{label:"tude Solaire",sub:"Gisement OK"},{label:"ligibilit Aides",sub:"Prime Auto-Consommation 0.08cts/W"},{label:"Synthse Projet",sub:"Valid"}].map((B,Ae)=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-[24px] flex items-center justify-center border-2 bg-[#050505] border-emerald-500/50 shadow-[0_0_25px_rgba(16,185,129,0.2)]",children:s.jsx(ar,{className:"text-emerald-400",size:32,strokeWidth:2.5})}),s.jsxs("div",{className:"text-center mt-6",children:[s.jsx("div",{className:"text-[11px] text-white font-black uppercase tracking-widest mb-1",children:B.label}),s.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase italic tracking-tighter",children:B.sub})]})]},Ae))})]}),s.jsx("div",{className:"px-10 py-8 bg-white/[0.02] border-t border-white/5 flex flex-col md:flex-row items-center justify-between gap-6",children:s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-500/10 border border-blue-500/20 flex items-center justify-center",children:s.jsx(O_,{className:"text-blue-400",size:24})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-black text-sm uppercase italic tracking-tight",children:"Votre projet est cohrent"}),s.jsxs("p",{className:"text-slate-500 text-[10px] uppercase font-bold tracking-widest",children:["Projet EDF confirm pour"," ",lr?lr.toUpperCase():e!=null&&e.address?e.address.split(",").pop().trim().toUpperCase():"VOTRE SECTEUR"]})]})]})})]})}),s.jsxs("button",{onClick:T,className:"w-full mt-4 bg-slate-800 hover:bg-black text-white py-3 rounded-lg font-bold text-sm transition-all flex items-center justify-center gap-2 shadow-lg",children:[s.jsx(Lx,{size:20}),"GNRER LE CERTIFICAT DE CONFORMIT (LGAL)"]}),s.jsxs("div",{className:"mt-8 p-4 bg-slate-50 border-t border-slate-200 rounded-b-xl",children:[s.jsxs("div",{className:"flex items-center justify-between opacity-75",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-700",children:s.jsx(qs,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Certification de Conformit"}),s.jsx("p",{className:"text-xs text-slate-400 italic",children:'"Agent Zero ne cherche pas  convaincre. Il empche de mal dcider."'})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-[10px] font-mono text-slate-400",children:["ID AUDIT: ",((sc=d==null?void 0:d.auditTrail)==null?void 0:sc.audit_id)||"NON-CERTIFI"]}),s.jsxs("p",{className:"text-[10px] font-mono text-slate-400 uppercase",children:["PACK: ",((Mi=d==null?void 0:d.auditTrail)==null?void 0:Mi.industry)||"STANDARD"]})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-[9px] text-slate-400 border-t border-slate-100 pt-3",children:[s.jsx("p",{children:" Gouvernance stricte : aucune donne client persiste."}),s.jsx("p",{children:" Orchestration interne : aide  la dcision conseiller."})]})]}),co&&s.jsx("div",{className:"fixed bottom-6 right-6 z-50 animate-in slide-in-from-bottom-4 duration-500",children:s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-700/10 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsxs("div",{className:"relative bg-black/80 backdrop-blur-xl border border-white/10 rounded-xl p-4 shadow-2xl max-w-[280px]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500 animate-pulse"}),s.jsx("span",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-wider",children:"Temps rel"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("button",{onClick:()=>Na(!wa),className:"p-1 bg-slate-700/40 rounded-full hover:bg-slate-700/60 transition-colors",children:s.jsx(Wa,{size:12,className:"text-slate-400"})}),s.jsx("button",{onClick:()=>uo(!1),className:"text-slate-600 hover:text-slate-400 transition-colors p-0.5",children:s.jsx(vd,{size:14})})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-[9px] text-slate-500 font-medium uppercase mb-1 tracking-wide",children:"Cot nergtique cumul"}),s.jsx("div",{className:"text-3xl font-black text-orange-400 tabular-nums tracking-tight",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:4}).format(Ti)}),s.jsx("div",{className:"text-[9px] text-slate-600 mt-1",children:"depuis l'ouverture"})]}),wa&&s.jsx("div",{className:"mb-3 bg-slate-900/60 border border-slate-700/30 rounded-lg p-3 text-left animate-in fade-in slide-in-from-top-2 duration-200",children:s.jsxs("div",{className:"text-[9px] text-slate-300 space-y-2",children:[s.jsx("p",{className:"font-bold text-slate-200 text-[10px]",children:" Comment est calcul ce compteur ?"}),s.jsxs("div",{className:"bg-black/40 p-2 rounded font-mono text-[8px] space-y-1",children:[s.jsxs("div",{className:"text-slate-400",children:["Consommation :"," ",s.jsxs("span",{className:"text-white",children:[ed(Bn)," kWh/an"]})]}),s.jsxs("div",{className:"text-slate-400",children:["Prix kWh :"," ",s.jsxs("span",{className:"text-white",children:[jn.toFixed(4),""]})]}),s.jsxs("div",{className:"border-t border-slate-700/50 mt-1.5 pt-1.5 space-y-0.5",children:[s.jsxs("div",{className:"text-slate-400",children:["Par an :"," ",s.jsx("span",{className:"text-orange-400 font-bold",children:Qe(Bn*jn)})]}),s.jsxs("div",{className:"text-slate-400",children:["Par jour :"," ",s.jsx("span",{className:"text-white",children:Qe(Bn*jn/365)})]}),s.jsxs("div",{className:"text-slate-400",children:["Par seconde :"," ",s.jsxs("span",{className:"text-white",children:[(Bn*jn/365/24/3600).toFixed(6),""]})]})]})]}),s.jsx("p",{className:"text-[8px] text-slate-500 italic leading-relaxed",children:"Ce compteur reprsente l'argent dpens en lectricit pendant votre consultation, bas sur votre consommation actuelle."})]})}),s.jsxs("div",{className:"border-t border-white/5 pt-3 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-500 text-[9px] font-medium uppercase tracking-wide",children:"Projection annuelle"}),s.jsx("span",{className:"text-sm font-bold text-white tabular-nums",children:Qe(Se.oldMonthlyBillYear1*12)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-slate-500 text-[9px] font-medium uppercase tracking-wide",children:["Sur ",c," ans"]}),s.jsx("span",{className:"text-base font-bold text-orange-400 tabular-nums",children:Qe(Se.totalSpendNoSolar)})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/5",children:s.jsx("p",{className:"text-slate-400 text-[9px] leading-relaxed text-center italic",children:"Sans action, ce cot continue indfiniment"})})]})]})}),_n&&s.jsxs("div",{className:"w-full mt-10 p-10 rounded-[28px] bg-emerald-500/10 border border-emerald-400/30 text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("div",{className:"text-2xl font-black text-white mb-2",children:"Dossier scuris"}),s.jsxs("p",{className:"text-white/70",children:["Ce projet a t valid avec votre conseiller.",s.jsx("br",{}),"Il est maintenant en cours de traitement."]})]}),s.jsx("button",{disabled:_n,onClick:async()=>{await de(),$n(!0)},className:`w-full mt-4 h-20 rounded-[26px] border shadow-xl transition-all duration-300 flex items-center justify-center gap-4
                ${_n?"bg-slate-800 border-slate-700 opacity-60 cursor-not-allowed text-slate-500":"bg-white/20 backdrop-blur-xl text-white border-white/30 hover:shadow-2xl hover:bg-white/25 active:scale-[0.98]"}
              `,children:_n?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{className:"block text-lg font-black uppercase",children:"Dossier Scuris (Sign)"})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("div",{className:"text-left leading-tight",children:s.jsx("span",{className:"block text-lg font-black uppercase",children:"Scuriser le dossier EDF"})})]})}),s.jsx("div",{className:"w-full mt-24 border-t border-white/10 pt-12 pb-32",children:s.jsxs("div",{className:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("button",{onClick:()=>alert(" Export PDF  ok"),className:"relative h-24 bg-white text-black rounded-[28px] border border-black/10 shadow-xl flex items-center justify-center gap-4 active:scale-95 hover:bg-slate-100 transition",children:[""," ",s.jsx("span",{className:"font-black uppercase tracking-widest",children:"Envoyer la Synthse"})]}),s.jsxs("button",{onClick:()=>$n(!0),className:"relative h-24 bg-gradient-to-b from-white to-slate-200 text-black rounded-[28px] border border-black/10 shadow-xl flex items-center justify-center gap-4 active:scale-95 hover:shadow-2xl transition",children:[""," ",s.jsx("span",{className:"font-black uppercase tracking-widest",children:"Gnrer la Synthse EDF"})]})]})}),zo&&s.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-black/80 backdrop-blur-md p-6",children:s.jsxs("div",{className:"w-full max-w-[480px] bg-[#1C1C1E] rounded-[40px] p-8 shadow-2xl relative border border-white/5 max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-[28px] font-bold text-white mb-2 tracking-tight",children:"Informations client"}),s.jsx("p",{className:"text-[#8E8E93] text-[15px] mb-8 font-medium leading-tight",children:"Remplissez les informations pour gnrer l'tude personnalise"}),Jl&&s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx(fE,{status:Jl})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"text-white text-[13px] font-semibold mb-2 block uppercase tracking-wide",children:"Client"}),s.jsx("div",{className:"relative mb-4",children:s.jsxs("select",{value:_a,onChange:B=>so(B.target.value),className:"w-full bg-black border-[1.5px] border-[#3A3A3C] rounded-[14px] py-3.5 px-4 text-white text-[16px] outline-none focus:border-[#0A84FF] transition-colors appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='white'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5em"},children:[s.jsx("option",{value:"M.",children:"M."}),s.jsx("option",{value:"Mme",children:"Mme"}),s.jsx("option",{value:"M./Mme",children:"M./Mme"})]})}),s.jsx("div",{className:"relative mb-4",children:s.jsx("input",{autoFocus:!0,value:Xn,onChange:B=>no(B.target.value),type:"text",placeholder:"Nom complet *",className:"w-full bg-black border-[1.5px] border-[#0A84FF] rounded-[14px] py-3.5 px-4 text-white text-[16px] outline-none shadow-[0_0_15px_rgba(10,132,255,0.1)]"})}),s.jsx("div",{className:"relative mb-4",children:s.jsx("input",{value:Tn,onChange:B=>Vo(B.target.value),type:"email",placeholder:"Email (optionnel)",className:"w-full bg-black border-[1.5px] border-[#3A3A3C] rounded-[14px] py-3.5 px-4 text-white text-[16px] outline-none focus:border-[#0A84FF] transition-colors"})}),s.jsx("div",{className:"relative mb-4",children:s.jsx("input",{value:ja,onChange:B=>Ys(B.target.value),type:"tel",placeholder:"Tlphone (optionnel)",className:"w-full bg-black border-[1.5px] border-[#3A3A3C] rounded-[14px] py-3.5 px-4 text-white text-[16px] outline-none focus:border-[#0A84FF] transition-colors"})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("label",{className:"text-white text-[13px] font-semibold mb-2 block uppercase tracking-wide",children:"Commercial"}),s.jsx("div",{className:"relative mb-4",children:s.jsx("input",{value:Ss,onChange:B=>Qi(B.target.value),type:"text",placeholder:"Nom du commercial (optionnel)",className:"w-full bg-black border-[1.5px] border-[#3A3A3C] rounded-[14px] py-3.5 px-4 text-white text-[16px] outline-none focus:border-[#0A84FF] transition-colors"})}),s.jsx("div",{className:"relative mb-4",children:s.jsx("input",{value:Ks,onChange:B=>bl(B.target.value),type:"email",placeholder:"Email commercial *",className:"w-full bg-black border-[1.5px] border-[#0A84FF] rounded-[14px] py-3.5 px-4 text-white text-[16px] outline-none shadow-[0_0_15px_rgba(10,132,255,0.1)]"})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>$n(!1),className:"flex-1 py-4 bg-[#2C2C2E] text-white font-bold rounded-[18px] text-[16px] active:scale-95 transition-all",children:"Annuler"}),s.jsx("button",{onClick:M,disabled:ro||!Xn||!Tn||!Ks,className:"flex-1 py-4 bg-[#0A84FF] text-white font-bold rounded-[18px] text-[16px] active:scale-95 transition-all disabled:opacity-40 disabled:cursor-not-allowed shadow-lg shadow-blue-500/20",children:ro?"Gnration...":"Gnrer la Synthse EDF"})]}),Jn&&s.jsxs("div",{className:"mt-8 p-6 bg-white rounded-[32px] flex flex-col items-center shadow-2xl animate-in fade-in zoom-in",children:[s.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black mb-4 tracking-widest text-center",children:"Scanner pour voir sur mobile"}),s.jsx("div",{className:"p-4 bg-white border-2 border-slate-50 rounded-2xl mb-6",children:s.jsx(Nw,{value:Jn,size:180,level:"H",includeMargin:!0})}),s.jsxs("div",{className:"flex w-full gap-3",children:[s.jsx("button",{onClick:re,disabled:ro,className:"flex-1 py-4 bg-orange-600 hover:bg-orange-500 text-white font-black rounded-2xl text-[10px] uppercase transition-transform active:scale-95 shadow-lg shadow-orange-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:ro?"Envoi...":" Envoyer la Synthse"}),s.jsx("button",{onClick:()=>{console.log(" generatedLink:",Jn),window.location.href=Jn},className:"flex-1 py-4 bg-blue-600 text-white font-black rounded-2xl text-[10px] uppercase transition-transform active:scale-95 shadow-lg shadow-blue-500/30",children:"Ouvrir"})]})]})]})}),_&&s.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",backgroundColor:"#1a1a1a",padding:"20px",borderRadius:"12px",border:"1px solid #333",zIndex:9999,boxShadow:"0 10px 25px rgba(0,0,0,0.5)",color:"white",width:"300px"},children:[s.jsx("h4",{style:{margin:"0 0 15px 0"},children:" SaaS Configuration"}),s.jsx("label",{style:{fontSize:"12px",opacity:.7},children:"API ENDPOINT URL"}),s.jsx("input",{type:"text",value:p,onChange:B=>b(B.target.value),style:{width:"100%",padding:"8px",marginTop:"5px",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#000",color:"#00ff00"}}),s.jsxs("div",{style:{marginTop:"15px"},children:[s.jsx("label",{style:{fontSize:"12px",opacity:.7,textTransform:"uppercase"},children:"Cl API (Licence)"}),s.jsx("input",{type:"text",style:{width:"100%",padding:"8px",marginTop:"5px",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#000",color:"#ff9900",fontFamily:"monospace"},value:y,onChange:B=>v(B.target.value),placeholder:"Ex: Titanium2026!EDF"})]}),s.jsxs("div",{style:{marginTop:"15px",display:"flex",gap:"10px"},children:[s.jsx("button",{onClick:()=>se(p),style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",flex:1},children:"Sauvegarder"}),s.jsx("button",{onClick:()=>k(!1),style:{backgroundColor:"#333",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer"},children:"Annuler"})]})]}),s.jsxs("div",{className:"section-complements mt-12 pb-20 border-t border-white/10 pt-8",children:[s.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tight mb-8",children:"Dtails conomiques Complmentaires"}),s.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-6",children:"Investissement"}),s.jsx(bS,{totalCost:rr||0}),s.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-6 mt-12",children:"Financement"}),s.jsx(yS,{mode:Js==="financing"?"loan":"cash",monthlyPayment:(((Nr=(Qs=Se==null?void 0:Se.details)==null?void 0:Qs[0])==null?void 0:Nr.creditPayment)||0)/12,durationMonths:((_r=e==null?void 0:e.params)==null?void 0:_r.durationMonths)||180}),s.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-6 mt-12",children:"Projection Temporelle"}),s.jsx(wS,{savingsYear10:((En=(aa=Se==null?void 0:Se.slicedDetails)==null?void 0:aa[9])==null?void 0:En.cumulativeSavings)||0,savingsYear20:((Da=(ss=Se==null?void 0:Se.slicedDetails)==null?void 0:ss[19])==null?void 0:Da.cumulativeSavings)||0,savingsYear25:((is=(go=Se==null?void 0:Se.slicedDetails)==null?void 0:go[24])==null?void 0:is.cumulativeSavings)||0})]})]})]})},RL=e=>Math.round(e*100)/100,nu=(e,t=0)=>{if(e==null||e==="")return t;const r=String(e).replace(",",".").replace(/\s/g,""),n=parseFloat(r);return isNaN(n)?t:n},OL=({onTextSubmit:e,isLoading:t})=>{const[r,n]=z.useState(!1),[a,o]=z.useState({currentBillYear:"2500",houseSize:"120",yearlyConsumption:"10000",inflation:"5",pricePerKwh:"0.2500",address:"",puissanceInstallee:"3",inclination:"25",azimuth:"0",production:"0",selfConsumption:"100",ratioLocal:"",installPrice:"18990",creditMonthly:"0",insuranceMonthly:"0",creditDuration:"180",creditRate:"5.89"});z.useEffect(()=>{const d=nu(a.currentBillYear),f=nu(a.yearlyConsumption),p=nu(a.installPrice),b=nu(a.creditRate),y=nu(a.creditDuration),v=d>0&&f>0?(d/f).toFixed(4):"0.0000";let _=0;if(p>0&&y>0)if(b>0){const k=b/100/12;_=p*k/(1-Math.pow(1+k,-y))}else _=p/y;o(k=>({...k,pricePerKwh:v,creditMonthly:RL(_).toString()}))},[a.currentBillYear,a.yearlyConsumption,a.installPrice,a.creditRate,a.creditDuration]);const c=async()=>{var d,f,p;if(!(!a.address||a.address.length<5)){n(!0);try{const y=await(await fetch(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(a.address)}&limit=1`)).json();if(!y.features||y.features.length===0){console.error(" Adresse non trouve"),alert("Adresse introuvable");return}const[v,_]=y.features[0].geometry.coordinates,k=`/api/pvgis?lat=${_}&lon=${v}&peakpower=${a.puissanceInstallee}&angle=${a.inclination}&aspect=${a.azimuth}`;console.log(" URL API:",k);const E=await fetch(k);if(!E.ok){console.error(" Erreur API:",E.status);const L=await E.text();console.error("Dtails:",L),alert("Erreur lors de l'appel PVGIS");return}const A=await E.json();if((p=(f=(d=A.outputs)==null?void 0:d.totals)==null?void 0:f.fixed)!=null&&p.E_y){const L=Math.round(A.outputs.totals.fixed.E_y*1.03128);o(P=>({...P,production:L.toString(),ratioLocal:(L/nu(P.puissanceInstallee)).toFixed(0)})),console.log(` Production: ${L} kWh/an`)}else console.error(" Structure inattendue:",A),alert("Erreur dans les donnes PVGIS")}catch(b){console.error(" Erreur complte:",b),alert(`Erreur: ${b.message}`)}finally{n(!1)}}},u=d=>{o(f=>({...f,[d.target.name]:d.target.value}))};return s.jsxs("div",{className:"w-full max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 bg-black min-h-screen text-white font-sans selection:bg-blue-500/30",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-6 sm:mb-10 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("img",{src:"/edf-logo.png",alt:"EDF",className:"h-10 sm:h-12 w-auto object-contain mb-1"}),s.jsx("span",{className:"text-[9px] sm:text-[10px] text-blue-500 font-black uppercase tracking-tighter",children:"Solutions Solaires"})]}),s.jsxs("div",{className:"bg-zinc-900/40 border border-zinc-800 px-4 sm:px-6 py-2 rounded-full flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.5)] animate-pulse"}),s.jsx("span",{className:"text-[8px] sm:text-[10px] font-bold uppercase tracking-widest text-zinc-400 italic",children:"PVGIS SARAH-2 V5.2 CONNECTED"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 sm:gap-6 lg:gap-8",children:[s.jsxs("div",{className:"col-span-1 lg:col-span-7 space-y-4 sm:space-y-6 lg:space-y-8",children:[s.jsxs("div",{className:"bg-[#0a0a0a] border border-zinc-800/60 rounded-2xl sm:rounded-[32px] p-4 sm:p-6 lg:p-8 shadow-2xl",children:[s.jsxs("h3",{className:"text-xs sm:text-sm font-black uppercase italic tracking-wider mb-4 sm:mb-8 flex items-center gap-2 sm:gap-3 text-blue-500",children:[s.jsx($f,{size:16,className:"sm:w-[18px] sm:h-[18px]"})," ","Profil nergtique"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 mb-6 sm:mb-10",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-[9px] sm:text-[10px] font-bold text-zinc-500 uppercase tracking-widest block ml-1",children:"Facture ()"}),s.jsxs("div",{className:"w-full bg-[#111] border border-zinc-800 rounded-xl sm:rounded-2xl px-4 sm:px-6 py-4 sm:py-6 focus-within:border-red-500/50 transition-all",children:[s.jsx("input",{type:"number",name:"currentBillYear",value:a.currentBillYear,onChange:u,className:"w-full bg-transparent text-4xl sm:text-5xl lg:text-6xl font-black outline-none text-blue-500"}),s.jsxs("div",{className:"text-xs sm:text-sm text-slate-400/60 font-bold mt-2",children:[(nu(a.currentBillYear)/12).toFixed(2),"/mois"]})]})]}),s.jsxs("div",{className:"space-y-3 text-left sm:text-right",children:[s.jsx("label",{className:"text-[9px] sm:text-[10px] font-bold text-slate-400 uppercase block tracking-widest ml-1 sm:mr-1",children:"Prix kWh ()"}),s.jsx("div",{className:"w-full bg-[#111] border border-zinc-800 rounded-xl sm:rounded-2xl px-4 sm:px-6 py-4 sm:py-6 text-4xl sm:text-5xl lg:text-6xl font-black text-blue-400/80 tracking-tighter tabular-nums",children:a.pricePerKwh})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 pt-4 sm:pt-6 border-t border-zinc-800/30",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-zinc-500 uppercase block italic",children:"Surface (m)"}),s.jsx("input",{type:"number",name:"houseSize",value:a.houseSize,onChange:u,className:"w-full bg-transparent text-3xl sm:text-4xl font-black text-blue-400 outline-none"})]}),s.jsxs("div",{className:"space-y-1 sm:border-l border-zinc-800/50 sm:pl-6",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-zinc-500 uppercase block italic",children:"Conso (kWh)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"number",name:"yearlyConsumption",value:a.yearlyConsumption,onChange:u,className:"w-full bg-transparent text-3xl sm:text-4xl font-black text-blue-500 outline-none"}),s.jsx("button",{className:"bg-blue-600 p-2 rounded-full hover:scale-110 transition-transform shadow-lg shadow-blue-600/20",children:s.jsx(d_,{size:14,className:"text-white"})})]})]}),s.jsxs("div",{className:"space-y-1 sm:border-l border-zinc-800/50 sm:pl-6 text-left sm:text-right",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-zinc-500 uppercase block italic",children:"Inflation %"}),s.jsx("input",{type:"number",name:"inflation",value:a.inflation,onChange:u,className:"w-full bg-transparent text-3xl sm:text-4xl font-black text-blue-400/60 outline-none sm:text-right"})]})]})]}),s.jsxs("div",{className:"bg-[#0a0a0a] border border-zinc-800/60 rounded-2xl sm:rounded-[32px] p-4 sm:p-6 lg:p-8 shadow-2xl",children:[s.jsxs("h3",{className:"text-xs sm:text-sm font-black uppercase italic tracking-wider mb-4 sm:mb-8 flex items-center gap-2 sm:gap-3 text-orange-500",children:[s.jsx(Ha,{size:16,className:"sm:w-[18px] sm:h-[18px]"})," ","Financement & Investissement"]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"bg-[#111] border border-zinc-800 p-3 sm:p-5 rounded-xl sm:rounded-2xl",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-zinc-600 uppercase block mb-2",children:"Prix Inst. ()"}),s.jsx("input",{type:"number",name:"installPrice",value:a.installPrice,onChange:u,className:"w-full bg-transparent text-xl sm:text-2xl font-black text-orange-400/80 outline-none"})]}),s.jsxs("div",{className:"bg-[#111] border border-zinc-800 p-3 sm:p-5 rounded-xl sm:rounded-2xl",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-orange-400/60 uppercase block mb-2 italic",children:"Mensualit ()"}),s.jsx("div",{className:"text-2xl sm:text-3xl font-black text-orange-400 tabular-nums",children:a.creditMonthly})]}),s.jsxs("div",{className:"bg-[#111] border border-zinc-800 p-3 sm:p-5 rounded-xl sm:rounded-2xl",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-zinc-600 uppercase block mb-2",children:"Dure (m)"}),s.jsx("input",{type:"number",name:"creditDuration",value:a.creditDuration,onChange:u,className:"w-full bg-transparent text-xl sm:text-2xl font-black outline-none"})]}),s.jsxs("div",{className:"bg-[#111] border border-zinc-800 p-3 sm:p-5 rounded-xl sm:rounded-2xl",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-zinc-600 uppercase block mb-2 italic",children:"Taux %"}),s.jsx("input",{type:"number",step:"0.01",name:"creditRate",value:a.creditRate,onChange:u,className:"w-full bg-transparent text-xl sm:text-2xl font-black text-orange-400/80 outline-none"})]})]})]})]}),s.jsx("div",{className:"col-span-1 lg:col-span-5",children:s.jsxs("div",{className:"bg-[#0a0a0a] border border-zinc-800/60 rounded-2xl sm:rounded-[32px] p-4 sm:p-6 lg:p-8 flex flex-col h-full shadow-2xl",children:[s.jsxs("h3",{className:"text-xs sm:text-sm font-black uppercase italic tracking-wider mb-4 sm:mb-8 flex items-center gap-2 sm:gap-3 text-emerald-500",children:[s.jsx(gc,{size:18,className:"sm:w-5 sm:h-5"})," Expertise PVGIS"]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6 lg:space-y-8 flex-grow",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"text-[9px] sm:text-[10px] font-bold text-emerald-600 uppercase mb-2 sm:mb-3 flex items-center gap-2 tracking-[0.1em]",children:[s.jsx(Fg,{size:12})," Localisation"]}),s.jsx("input",{type:"text",name:"address",value:a.address,onChange:u,placeholder:"Saisir l'adresse...",className:"w-full bg-[#111] border border-zinc-800 rounded-xl sm:rounded-2xl px-4 sm:px-6 py-4 sm:py-5 text-xs sm:text-sm font-bold outline-none focus:border-blue-500/40 transition-all shadow-lg"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"bg-black/40 border border-zinc-800 p-3 sm:p-5 rounded-xl sm:rounded-2xl",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-zinc-600 uppercase block mb-1",children:"Puissance (KWC)"}),s.jsx("input",{type:"number",step:"0.1",name:"puissanceInstallee",value:a.puissanceInstallee,onChange:u,className:"w-full bg-transparent text-2xl sm:text-3xl font-black text-emerald-600 outline-none"})]}),s.jsxs("div",{className:"bg-black/40 border border-zinc-800 p-3 sm:p-5 rounded-xl sm:rounded-2xl",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-emerald-500 uppercase block mb-1 italic",children:"Autocons %"}),s.jsx("input",{type:"number",name:"selfConsumption",value:a.selfConsumption,onChange:u,className:"w-full bg-transparent text-2xl sm:text-3xl font-black text-emerald-500 outline-none"})]})]}),s.jsxs("div",{className:"bg-[#111] border border-zinc-800 rounded-xl sm:rounded-2xl p-4 sm:p-6 lg:p-8 relative overflow-hidden group",children:[s.jsx("span",{className:"text-[8px] sm:text-[9px] font-black text-zinc-500 uppercase italic block mb-2 sm:mb-3 tracking-widest",children:"Production Estime"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-baseline gap-3",children:[s.jsx("span",{className:`text-4xl sm:text-5xl lg:text-6xl font-black tabular-nums tracking-tighter ${a.production==="0"?"text-zinc-800":"text-emerald-500"}`,children:a.production}),s.jsx("span",{className:"text-xs sm:text-sm font-black text-zinc-700 uppercase",children:"kWh"})]}),s.jsx("button",{onClick:c,className:"bg-emerald-500/10 border border-emerald-500/30 text-emerald-500 p-2 sm:p-3 rounded-lg sm:rounded-xl hover:bg-emerald-500/20 hover:border-emerald-500/50 transition-all",children:r?s.jsx(C_,{className:"animate-spin w-5 h-5 sm:w-6 sm:h-6"}):s.jsx(fa,{size:20,className:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor"})})]})]})]}),s.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-8 pt-4 sm:pt-6 border-t border-zinc-800/50 flex justify-between items-end",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:"text-[8px] sm:text-[9px] text-zinc-600 font-bold uppercase italic block tracking-widest",children:"Rendement de zone"}),s.jsxs("div",{className:"text-xl sm:text-2xl font-black text-emerald-500 tabular-nums",children:[a.ratioLocal||""," ",s.jsx("span",{className:"text-[9px] sm:text-[10px] text-zinc-700",children:"kWh/kWc"})]})]})})]})})]}),s.jsx("div",{className:"mt-8 sm:mt-12 flex flex-col items-center gap-4 sm:gap-6",children:s.jsxs("button",{onClick:()=>e(JSON.stringify(a)),className:"group relative bg-[#111] border border-zinc-800 hover:border-zinc-700 w-full max-w-[700px] py-3 sm:py-4 px-4 sm:px-6 rounded-full transition-all duration-300 shadow-2xl flex items-center justify-between",children:[s.jsx("div",{className:"flex-1 text-center",children:s.jsx("span",{className:"uppercase tracking-[0.2em] sm:tracking-[0.4em] text-sm sm:text-base lg:text-lg font-black italic text-zinc-300 group-hover:text-white transition-colors",children:"Lancer l'analyse technique"})}),s.jsx("div",{className:"bg-white rounded-full p-2 group-hover:scale-110 transition-transform shadow-[0_0_15px_rgba(255,255,255,0.2)]",children:s.jsx(Wy,{className:"w-4 h-4 sm:w-5 sm:h-5 text-black"})})]})})]})},sx=[{q:"Pour bien comprendre un projet, vous prfrez :",answers:[{text:"tre rassur sur tous les aspects",scores:{senior:2,banquier:0,standard:1}},{text:"Voir les chiffres en dtail",scores:{senior:0,banquier:2,standard:1}},{text:"Partir d'exemples concrets",scores:{senior:1,banquier:0,standard:2}},{text:"Je ne sais pas / a dpend",scores:{senior:1,banquier:1,standard:1},neutral:!0}]},{q:"Ce qui compte le plus pour vous dans ce projet :",answers:[{text:"La fiabilit et la tranquillit",scores:{senior:2,banquier:1,standard:0}},{text:"La cohrence financire",scores:{senior:0,banquier:2,standard:1}},{text:"Des bnfices concrets visibles rapidement",scores:{senior:0,banquier:1,standard:2}},{text:"Je ne sais pas / a dpend",scores:{senior:1,banquier:1,standard:1},neutral:!0}]},{q:"Si vous deviez avancer aujourd'hui, ce serait parce que :",answers:[{text:"Vous tes certain de votre dcision",scores:{senior:2,banquier:1,standard:0}},{text:"Tout est clair et vrifi",scores:{senior:0,banquier:2,standard:1}},{text:"Le contexte est align pour avancer",scores:{senior:0,banquier:1,standard:2}},{text:"Je ne sais pas / a dpend",scores:{senior:1,banquier:1,standard:1},neutral:!0}]},{q:"Quand vous prenez une dcision importante :",answers:[{text:"Vous prenez le temps de tout vrifier",scores:{senior:2,banquier:1,standard:0}},{text:"Vous comparez toutes les options",scores:{senior:0,banquier:2,standard:1}},{text:"Vous agissez quand c'est vident",scores:{senior:0,banquier:1,standard:2}},{text:"Je ne sais pas / a dpend",scores:{senior:1,banquier:1,standard:1},neutral:!0}]}],r5={q:"Une dernire chose : face  une nouveaut, vous tes plutt :",answers:[{text:"Prudent  vous attendez de voir",scores:{senior:3,banquier:0,standard:0}},{text:"Analytique  vous voulez comprendre",scores:{senior:0,banquier:3,standard:0}},{text:"Pragmatique  si a marche, pourquoi pas",scores:{senior:0,banquier:0,standard:3}},{text:"Je ne sais pas / a dpend",scores:{senior:1,banquier:1,standard:1},neutral:!0}]};function n5(e){const t=Object.entries(e).sort((n,a)=>a[1]-n[1]);return t[0][1]-t[1][1]<=1?"hybride":t[0][0]}function IL(e){const t=e.senior>=5,r=e.standard>=5;return t&&r}function ML(e){return e>=2}function FL(e){return e>=3}function DL(e,t){return e==="banquier"&&t.banquier<4}function qL(e,t,r){if(e==="hybride"||e==="banquier"&&t.banquier<4)return"senior";const n=Object.entries(t).sort((u,d)=>d[1]-u[1]),a=n[0][0],o=n[0][1],c=t.senior;return a!=="senior"&&o-c<=2||r>=3?"senior":e}function UL(e,t){const r=Object.entries(t).sort((o,c)=>c[1]-o[1]),n=r[0][1],a=r[0][1]-r[1][1];return{peurDeSeTromper:t.senior>=6,besoinDeChiffres:t.banquier>=6,urgencePercue:t.standard>=6,indecision:a<=2,profilDominant:e,scoreMax:n,ecartProfils:a}}function zL(e,t,r,n){return{incoherentAnswers:IL(e),fatigueSuspected:ML(t),fatigueCritical:FL(t),profileUncertain:n.indecision,banquierFaible:DL(r,e)}}function BL({onProfileDetected:e}){const[t,r]=z.useState("quiz"),[n,a]=z.useState(0),[o,c]=z.useState({senior:0,banquier:0,standard:0}),[u,d]=z.useState(0);function f(y,v=!1){const _={senior:o.senior+(y.senior||0),banquier:o.banquier+(y.banquier||0),standard:o.standard+(y.standard||0)};c(_);const k=u+(v?1:0);d(k),n===sx.length-1?n5(_)==="hybride"?r("bonus"):b(_,k):a(n+1)}function p(y,v=!1){const _={senior:o.senior+(y.senior||0),banquier:o.banquier+(y.banquier||0),standard:o.standard+(y.standard||0)},k=u+(v?1:0);b(_,k)}function b(y,v){const _=n5(y),k=qL(_,y,v),E=UL(k,y),A=zL(y,v,_,E),L=A.incoherentAnswers||A.fatigueCritical||A.banquierFaible?"senior":k;r("done"),typeof e=="function"&&e({profile:L,signals:E,alerts:A,rawScores:y,neutralAnswersCount:v,timestamp:new Date().toISOString()})}return t==="done"?null:t==="bonus"?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 w-full",children:s.jsxs("div",{className:"w-full max-w-2xl mx-auto bg-zinc-900/50 backdrop-blur-md p-8 rounded-3xl border border-white/10 shadow-2xl",children:[s.jsx("div",{className:"flex gap-2 mb-6",children:[0,1,2,3,4].map(y=>s.jsx("div",{className:"h-1 flex-1 rounded-full bg-blue-500"},y))}),s.jsx("p",{className:"text-xs text-zinc-400 mb-4 italic",children:"Une dernire pour affiner  toujours sans bonne ou mauvaise rponse."}),s.jsx("p",{className:"text-[10px] text-blue-400/80 font-semibold uppercase tracking-wide mb-2",children:"QUESTION BONUS"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-8 leading-tight",children:r5.q}),s.jsx("div",{className:"space-y-4",children:r5.answers.map((y,v)=>s.jsx("button",{onClick:()=>{setTimeout(()=>p(y.scores,y.neutral),600)},className:"w-full p-5 bg-white/5 hover:bg-white/10 border border-white/10 text-left text-white rounded-2xl transition-all",children:y.text},v))})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 w-full",children:s.jsxs("div",{className:"w-full max-w-2xl mx-auto bg-zinc-900/50 backdrop-blur-md p-8 rounded-3xl border border-white/10 shadow-2xl",children:[s.jsx("div",{className:"flex gap-2 mb-6",children:[0,1,2,3].map(y=>s.jsx("div",{className:`h-1 flex-1 rounded-full transition-all ${y<=n?"bg-blue-500":"bg-white/10"}`},y))}),s.jsx("p",{className:"text-xs text-zinc-400 mb-4 italic",children:"Aucune bonne ou mauvaise rponse  juste pour adapter la manire dont on vous explique les choses."}),s.jsx("p",{className:"text-[10px] text-blue-400/80 font-semibold uppercase tracking-wide mb-2",children:"4 QUESTIONS  VOTRE SITUATION"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-8 leading-tight",children:sx[n].q}),s.jsx("div",{className:"space-y-4",children:sx[n].answers.map((y,v)=>s.jsx("button",{onClick:()=>{setTimeout(()=>f(y.scores,y.neutral),800)},className:"w-full p-5 bg-white/5 hover:bg-white/10 border border-white/10 text-left text-white rounded-2xl transition-all",children:y.text},v))})]})})}const yc=uw("https://ugwqfvwclwctzgtxcakp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVnd3FmdndjbHdjdHpndHhjYWtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYyNDg4OTgsImV4cCI6MjA4MTgyNDg5OH0.sx9z3p3svG5V6djfzUXtzdOwbUU3wjIVaAyIjRoFzaE");console.log(" URL Supabase:","https://ugwqfvwclwctzgtxcakp.supabase.co");console.log(" Cl existe:",!0);console.log(" Client cr:",!!yc);typeof window<"u"&&(window.supabaseClient=yc);const Wi=({id:e,title:t,icon:r,defaultOpen:n=!1,children:a,onOpen:o})=>{const[c,u]=z.useState(n),d=()=>{const f=!c;u(f),f&&o&&o(e)};return s.jsxs("div",{className:"mb-6 bg-zinc-900/50 border border-white/10 rounded-[32px] overflow-hidden",children:[s.jsxs("button",{onClick:d,className:"w-full flex items-center justify-between p-6 hover:bg-white/5 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[r,s.jsx("h3",{className:"text-lg font-bold text-white",children:t})]}),s.jsx("div",{className:`transform transition-transform ${c?"rotate-180":""}`,children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),c&&s.jsx("div",{className:"p-6 pt-0",children:a})]})};function $L(){var ye,Ce,fe;const[e,t]=z.useState(null),[r,n]=z.useState(null),[a,o]=z.useState(!0),[c,u]=z.useState(null),[d,f]=z.useState(!1),[p,b]=z.useState(0),[y,v]=z.useState(.5),[_,k]=z.useState("financement"),[E,A]=z.useState("financement"),[L,P]=z.useState("mensuel"),[R,Q]=z.useState(!1),{token:te}=M3(),oe=te,[se,W]=z.useState(!1);if(z.useEffect(()=>{(async()=>{var Oe,je,Ve;try{if(!te)throw new Error("Lien invalide (Token manquant)");let{data:ze,error:K}=await yc.from("studies").select("id, status, study_data, expires_at, created_at").eq("guest_view_token",te).single();if((!ze||K)&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(te)){console.log(" Fallback: recherche par ID pour",te);const{data:vt,error:tt}=await yc.from("studies").select("id, status, study_data, expires_at, created_at").eq("id",te).single();vt&&!tt&&(ze=vt,K=null)}if(K)throw K;if(!ze)throw new Error("tude introuvable");if(K)throw K;if(!ze)throw new Error("tude introuvable");ze.status==="signed"&&W(!0);try{await yc.rpc("increment_opened_count",{study_uuid:ze.id}),await yc.from("tracking_events").insert({study_id:ze.id,event_type:"view_study"})}catch(We){console.error("View tracking error:",We)}n(ze),t(ze.study_data),console.log(" DATA LOADED:",ze.study_data),console.log(" PROD:",(Oe=ze.study_data)==null?void 0:Oe.prod),console.log(" CONSO:",(je=ze.study_data)==null?void 0:je.conso),console.log(" AUTOCONSO %:",(Ve=ze.study_data)==null?void 0:Ve.a),console.log(" TOUTES LES PROPRITS:",Object.keys(ze.study_data)),o(!1)}catch(ze){console.error("Erreur chargement tude:",ze),u(ze.message||"Erreur inconnue"),o(!1)}})()},[oe]),z.useEffect(()=>{if(!(r!=null&&r.expires_at))return;const me=()=>{const je=Date.now(),ze=new Date(r.expires_at).getTime()-je;return Math.max(0,Math.floor(ze/1e3))};b(me());const Oe=setInterval(()=>{const je=me();b(je),je===0&&f(!0)},1e3);return()=>clearInterval(Oe)},[r==null?void 0:r.expires_at]),z.useEffect(()=>{if(!(e!=null&&e.conso)||!(e!=null&&e.elecPrice))return;const me=e.conso*e.elecPrice/365/24/3600,Oe=setInterval(()=>{v(je=>je+me)},100);return()=>clearInterval(Oe)},[e==null?void 0:e.conso,e==null?void 0:e.elecPrice]),a)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(P_,{size:48,className:"text-blue-500 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-white text-xl",children:"Chargement de votre tude..."})]})});if(c)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-red-950/60 border-2 border-red-500/40 rounded-3xl p-8 max-w-md text-center",children:[s.jsx(vd,{size:64,className:"text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:" ERREUR"}),s.jsx("p",{className:"text-red-200 mb-4",children:c})]})});if(!e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ph,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Donnes manquantes"}),s.jsx("p",{className:"text-slate-400",children:"L'tude n'a pas pu tre charge correctement."})]})});if(!e.details||!e.detailsCash)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ph,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"tude incomplte"}),s.jsx("p",{className:"text-slate-400",children:"Cette tude ne contient pas les donnes ncessaires pour un affichage certifi."})]})});const ne={n:e.n||"Client",e:e.e||0,installCost:e.installCost||e.ic||0,cashApport:e.cashApport||e.ca||0,m:e.m||0,t:e.t||0,d:e.d||0,prod:e.prod||e.p||0,conso:Number(e.conso||e.c||0),selfCons:e.selfCons||e.a||0,installedPower:e.installedPower||e.kWc||0,elecPrice:e.elecPrice||e.pe||.25,projectionYears:e.projectionYears||e.py||25,ga:e.ga||[],mode:e.mode||"financement",warrantyMode:e.warrantyMode||"performance",breakEven:e.breakEven||null,averageYearlyGain:e.averageYearlyGain||null,totalSpendNoSolar:e.totalSpendNoSolar||null,totalSpendSolar:e.totalSpendSolar||null,greenValue:e.greenValue||null,details:e.details||[],roiPercent:e.roiPercent??null,detailsCash:e.detailsCash||[]},T=E==="financement"?ne.details:ne.detailsCash,U=ne.breakEven;(ye=T[ne.projectionYears-1])!=null&&ye.cumulativeSavings;const Y=me=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(me),H=me=>new Intl.NumberFormat("fr-FR").format(me),be=Math.floor(p/86400),we=Math.floor(p%86400/3600),ge=Math.floor(p%3600/60),ie=p%60,pe=((Ce=E==="financement"?ne.details:ne.detailsCash)==null?void 0:Ce[0])||null,V=pe?pe.edfBillWithoutSolar/12:null,ce=pe!=null&&pe.creditPayment?pe.creditPayment/12:0,I=pe?pe.edfResidue/12:null,J=pe?E==="cash"?pe.totalWithSolar/12:ce+I:null;T==null||T.map(me=>({year:me.year,cumulativeSpendNoSolar:me.cumulativeSpendNoSolar,cumulativeSpendSolar:me.cumulativeSpendSolar}));const ee="Cannes",le="+336683623329",ue=/iPhone|Android/i.test(navigator.userAgent);return d?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white p-8",children:s.jsxs("div",{className:"max-w-xl text-center",children:[s.jsx("div",{className:"text-5xl mb-6",children:""}),s.jsx("h1",{className:"text-3xl font-black mb-4",children:"Offre expire"}),s.jsxs("p",{className:"text-white/70 text-lg leading-relaxed",children:["Le dlai de validit de cette tude est dpass.",s.jsx("br",{}),"Les conditions tarifaires ne sont plus garanties."]}),s.jsx("p",{className:"text-white/40 text-sm mt-6",children:"Merci de contacter votre conseiller pour actualiser l'offre."})]})}):se?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white p-8",children:s.jsxs("div",{className:"max-w-xl text-center",children:[s.jsx("div",{className:"text-5xl mb-6",children:""}),s.jsx("h1",{className:"text-3xl font-black mb-4",children:"Dossier scuris"}),s.jsxs("p",{className:"text-white/70 text-lg leading-relaxed",children:["Ce projet a dj t valid avec votre conseiller.",s.jsx("br",{}),"Votre dossier est en cours de traitement administratif."]}),s.jsx("p",{className:"text-white/40 text-sm mt-6",children:"Vous serez contact prochainement pour la suite."})]})}):s.jsx("div",{className:"min-h-screen bg-[#020202] text-white p-4 md:p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-8",children:[s.jsx("div",{className:"text-xl font-black italic text-white/20 uppercase",children:"EDF SOLUTIONS SOLAIRES"}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-500/10 border border-blue-500/20 rounded-full",children:[s.jsx(lu,{size:12,className:"text-blue-400"}),s.jsx("span",{className:"text-[10px] font-black uppercase text-blue-400",children:"Accs Certifi"})]})]}),s.jsx("h1",{className:"text-5xl font-black italic uppercase leading-none mb-2",children:"VOTRE TUDE SOLAIRE."}),s.jsx("div",{className:"h-1.5 w-20 bg-blue-600 mb-6"}),s.jsxs("p",{className:"text-slate-400 text-sm font-medium mb-8 italic uppercase",children:["Prpare pour"," ",s.jsx("span",{className:"text-white font-black underline decoration-blue-500",children:ne.n})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-950/60 to-orange-900/40 border border-orange-500/40 rounded-[32px] p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(cu,{className:"text-orange-400",size:20}),s.jsx("span",{className:"text-orange-300 text-xs font-black uppercase",children:"Validit du cadre tarifaire"})]}),s.jsx("div",{className:"text-white text-sm font-medium mb-6",children:"Conditions actuelles valables jusqu'au :"}),s.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[{val:be,label:"JOURS"},{val:we,label:"H"},{val:ge,label:"MIN"},{val:ie,label:"SEC"}].map((me,Oe)=>s.jsxs("div",{className:"bg-black/60 border border-orange-500/20 rounded-xl p-3 text-center",children:[s.jsx("div",{className:"text-3xl font-black text-orange-400",children:String(me.val).padStart(2,"0")}),s.jsx("div",{className:"text-[8px] text-slate-500 uppercase font-bold mt-1",children:me.label})]},Oe))}),s.jsx("div",{className:"text-xs text-orange-200/70 italic text-center",children:"Paramtres tarifaires garantis dans ce cadre"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-zinc-900 to-black border border-white/20 rounded-[40px] p-8 mb-8",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-[10px] font-black uppercase text-emerald-400 block mb-2",children:"Gain Net Projet"}),s.jsxs("span",{className:"text-xs text-slate-500",children:["Sur ",(e==null?void 0:e.projectionYears)||20," ans"]})]}),s.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-2xl",children:s.jsx(vc,{className:"text-emerald-400",size:24})})]}),s.jsxs("div",{className:"text-6xl font-black text-emerald-400 text-center mb-6",children:[ne.e>0?"+":"",Number(ne.e).toLocaleString("fr-FR"),""]})]}),s.jsx(Wi,{id:"securite-juridique",title:"Scurit EDF  Groupe d'tat",icon:s.jsx(Rx,{className:"text-blue-400"}),defaultOpen:!0,children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-950/40 to-indigo-950/40 border-2 border-blue-500/30 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"bg-blue-600 p-3 rounded-lg",children:s.jsx(Kj,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Vous tes accompagn par EDF SOLUTIONS SOLAIRES"}),s.jsx("p",{className:"text-slate-300 leading-relaxed",children:"Filiale  100% du groupe EDF, entreprise publique franaise. Capital social de 36 millions d'euros, garanties institutionnelles, prennit assure par l'tat franais."})]})]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-black/40 border-2 border-emerald-500/30 rounded-lg p-5 hover:border-emerald-400 transition-colors",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx(Ev,{className:"w-6 h-6 text-emerald-400 flex-shrink-0 mt-1"}),s.jsx("h4",{className:"font-bold text-white",children:"Garantie dcennale obligatoire"})]}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"Assurance sur 10 ans couvrant tout vice ou dfaut affectant la solidit de l'installation ou la rendant impropre  sa destination."})]}),s.jsxs("div",{className:"bg-black/40 border-2 border-blue-500/30 rounded-lg p-5 hover:border-blue-400 transition-colors",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx(lu,{className:"w-6 h-6 text-blue-400 flex-shrink-0 mt-1"}),s.jsx("h4",{className:"font-bold text-white",children:"Garantie de rendement panneau"})]}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"Minimum 87% de rendement garanti aprs 30 ans d'exploitation. Remplacement gratuit en cas de non-conformit."})]}),s.jsxs("div",{className:"bg-black/40 border-2 border-purple-500/30 rounded-lg p-5 hover:border-purple-400 transition-colors",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx(fa,{className:"w-6 h-6 text-purple-400 flex-shrink-0 mt-1"}),s.jsx("h4",{className:"font-bold text-white",children:"Garantie panneaux, onduleur  vie, pices, main d'oeuvre et dplacement"})]}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"Remplacement ou rparation gratuite  vie"})]}),s.jsxs("div",{className:"bg-black/40 border-2 border-orange-500/30 rounded-lg p-5 hover:border-orange-400 transition-colors",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx(Lx,{className:"w-6 h-6 text-orange-400 flex-shrink-0 mt-1"}),s.jsx("h4",{className:"font-bold text-white",children:"Garantie de rachat tat"})]}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"Obligation d'achat par EDF OA pendant 20 ans, tarif fixe garanti par arrt ministriel."})]})]}),s.jsx("div",{className:"bg-slate-900/40 border border-slate-700 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-slate-300 leading-relaxed",children:[s.jsx("span",{className:"font-semibold text-white",children:"Important :"})," ","Ces garanties sont des obligations lgales ou contractuelles fermes, pas des engagements commerciaux. Elles sont opposables juridiquement."]})})]})}),s.jsx(Wi,{id:"repartition",title:"Origine de l'lectricit de votre maison",icon:s.jsx(fa,{className:"text-blue-400"}),defaultOpen:!1,children:s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-[32px] p-6 sm:p-8 space-y-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white mb-2",children:"Fonctionnement nergtique aprs installation"}),s.jsx("p",{className:"text-slate-400 text-sm leading-relaxed max-w-3xl",children:"Ce module montre concrtement comment se rpartit l'lectricit consomme par votre maison une fois l'installation en service."})]}),s.jsxs("div",{className:"bg-[#050505] border border-white/10 rounded-3xl p-6 sm:p-8 text-center",children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 mb-2",children:"Taux de couverture nergtique"}),s.jsxs("div",{className:"text-6xl sm:text-7xl font-black text-white tracking-tighter",children:[Math.round(((e==null?void 0:e.prod)||0)/((e==null?void 0:e.conso)||1)*100)," %"]}),s.jsx("p",{className:"text-slate-300 mt-2 text-sm",children:"de votre consommation lectrique est produite directement par votre maison."}),s.jsx("div",{className:"w-full h-3 bg-white/5 rounded-full overflow-hidden mt-5",children:s.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-700",style:{width:`${Math.round(((e==null?void 0:e.prod)||0)/((e==null?void 0:e.conso)||1)*100)}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-black/60 border border-white/10 rounded-2xl p-5",children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 mb-1",children:"Consommation actuelle"}),s.jsxs("p",{className:"text-3xl font-black text-white",children:[((e==null?void 0:e.conso)||0).toLocaleString("fr-FR")," kWh/an"]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-red-500",style:{width:"100%"}})}),s.jsx("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:"Rfrence 100%  votre dpendance actuelle au rseau"})]}),s.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Ce que vous achetez au rseau chaque anne aujourd'hui."}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5 text-slate-300 text-sm",children:[(((e==null?void 0:e.conso)||0)*((e==null?void 0:e.elecPrice)||.25)).toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0})," ","/ an"]})]}),s.jsxs("div",{className:"bg-black/60 border border-emerald-500/20 rounded-2xl p-5",children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 mb-1",children:"Production Solaire autoconsomme"}),s.jsxs("p",{className:"text-3xl font-black text-emerald-400",children:[(((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100)).toLocaleString("fr-FR",{maximumFractionDigits:0})," ","kWh/an"]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-700",style:{width:`${Math.round(((e==null?void 0:e.prod)||0)/((e==null?void 0:e.conso)||1)*100)}%`}})}),s.jsxs("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:[Math.round(((e==null?void 0:e.prod)||0)/((e==null?void 0:e.conso)||1)*100),"% de votre consommation couverte"]})]}),s.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Ce que vous produisez et consommez directement."}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5 text-emerald-400 text-sm font-bold",children:[""," ",(((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100)*((e==null?void 0:e.elecPrice)||.25)).toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0})," ","/ an conomiss"]}),s.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"lectricit que vous ne payez plus"})]}),s.jsxs("div",{className:"bg-black/60 border border-blue-500/20 rounded-2xl p-5",children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 mb-1",children:"Surplus inject rseau"}),s.jsxs("p",{className:"text-3xl font-black text-blue-400",children:[(((e==null?void 0:e.prod)||0)*(1-((e==null?void 0:e.selfCons)||0)/100)).toLocaleString("fr-FR",{maximumFractionDigits:0})," ","kWh/an"]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 transition-all duration-700",style:{width:`${100-((e==null?void 0:e.selfCons)||0)}%`}})}),s.jsx("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:"Part de la production automatiquement valorise par EDF"})]}),s.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:["Non consomm, vendu automatiquement. ",s.jsx("br",{}),"Contrat d'Obligation d'Achat 20 ans  cadre lgal. ",s.jsx("br",{}),"Tarif rglement : 0.04/kWh"]}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5 text-blue-400 text-sm font-bold",children:[""," ",(((e==null?void 0:e.prod)||0)*(1-((e==null?void 0:e.selfCons)||0)/100)*.04).toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0})," ","/ an"]})]})]}),s.jsx("div",{className:"bg-blue-950/20 border-l-4 border-blue-500 rounded-xl p-5",children:s.jsxs("p",{className:"text-slate-200 text-sm leading-relaxed",children:[s.jsx("strong",{className:"text-white",children:"Fonctionnement rseau :"}),s.jsx("br",{}),"L'lectricit produite est consomme automatiquement dans votre maison. Le surplus est inject et rachet par EDF dans le cadre du contrat d'Obligation d'Achat (tat, 20 ans). Lorsque la production est insuffisante, le rseau prend le relais instantanment.",s.jsx("br",{}),s.jsx("br",{}),s.jsx("span",{className:"text-blue-300 font-semibold",children:"Aucun rglage. Aucun pilotage. Continuit de service garantie."})]})}),s.jsxs("div",{className:"text-center pt-2",children:[s.jsx("p",{className:"text-slate-400 italic text-sm",children:"Vos habitudes ne changent pas."}),s.jsx("p",{className:"text-white font-bold italic text-lg",children:"Seule l'origine de votre lectricit change."})]})]})}),s.jsx(Wi,{id:"synthese",title:"Vue d'ensemble  Votre projet en 10 secondes",icon:s.jsx(Tx,{className:"text-indigo-400"}),defaultOpen:!0,children:s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-gradient-to-br from-indigo-950/40 to-purple-950/40 border-2 border-indigo-500/30 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(Of,{className:"w-5 h-5 text-indigo-400"}),"Cohrence globale du projet"]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-black/40 rounded-lg p-4 border border-indigo-500/20",children:[s.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Production annuelle"}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[H(ne.prod)," kWh"]}),s.jsx("div",{className:"text-xs text-emerald-400 mt-1",children:" Certifie"})]}),s.jsxs("div",{className:"bg-black/40 rounded-lg p-4 border border-indigo-500/20",children:[s.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Couverture besoins"}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[Math.round((ne.prod||0)/(ne.conso||1)*100),"%"]}),s.jsx("div",{className:"text-xs text-blue-400 mt-1",children:"de votre consommation"})]}),s.jsxs("div",{className:"bg-black/40 rounded-lg p-4 border border-indigo-500/20",children:[s.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Retour investissement"}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[U," ans"]}),s.jsx("div",{className:"text-xs text-purple-400 mt-1",children:"puis gain net"})]})]}),s.jsx("div",{className:"bg-black/40 rounded-lg p-4 border-l-4 border-emerald-500",children:s.jsxs("p",{className:"text-slate-300 leading-relaxed",children:[s.jsx("span",{className:"font-semibold text-white",children:"Verdict :"})," ","Installation dimensionne pour couvrir"," ",Math.round((ne.prod||0)/(ne.conso||1)*100),"% de vos besoins annuels. Budget mensuel infrieur  votre facture actuelle ds la premire anne, puis conomies nettes aprs ",U," ans. Projet conomiquement cohrent et techniquement scuris."]})})]})})}),s.jsx(Wi,{id:"projet-securise",title:"Votre projet solaire est scuris  Zro risque client",icon:s.jsx(qs,{className:"text-blue-400"}),defaultOpen:!0,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl p-6",children:[s.jsx("h4",{className:"text-xl font-black text-white uppercase mb-3",children:"TOUTES LES DMARCHES PRISES EN CHARGE"}),s.jsx("p",{className:"text-sm text-slate-400 italic mb-4",children:"Ces dmarches existent dans tous les projets solaires. La diffrence EDF : vous n'en grez aucune."}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{step:"1",title:"Urbanisme & Mairie",desc:"Dclaration pralable",icon:Rf},{step:"2",title:"ABF",desc:"Validation zone protge",icon:ad},{step:"3",title:"Diagnostic Amiante",desc:"Inclus si ncessaire",icon:x_},{step:"4",title:"Installation",desc:"Pose par installateurs RGE",icon:Ox},{step:"5",title:"Consuel",desc:"Conformit lectrique",icon:qs},{step:"6",title:"ENEDIS",desc:"Raccordement & Linky",icon:fa},{step:"7",title:"Contrat OA",desc:"EDF Obligation d'Achat",icon:Tx},{step:"8",title:"Mise en production",desc:"Suivi et monitoring",icon:gc}].map((me,Oe)=>{const je=me.icon;return s.jsx("div",{className:"bg-black/20 border border-white/5 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:s.jsx(je,{className:"text-blue-400",size:18})}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-xs text-slate-500",children:["TAPE ",me.step]}),s.jsx("h5",{className:"text-sm font-bold text-white",children:me.title}),s.jsx("p",{className:"text-xs text-slate-400",children:me.desc})]})]})},Oe)})})]}),s.jsxs("div",{className:"bg-emerald-950/20 border border-emerald-500/30 rounded-xl p-6",children:[s.jsx("h4",{className:"text-2xl font-black text-white mb-3",children:"ENGAGEMENT EDF  ZRO RISQUE ADMINISTRATIF"}),s.jsxs("p",{className:"text-lg text-emerald-300 font-bold",children:["Si un blocage administratif empche l'installation,",s.jsxs("span",{className:"text-white",children:[" ","aucun paiement n'est exigible"]}),"."]})]})]})}),s.jsx(Wi,{id:"securisation",title:"Administratif pris en charge  Vous n'avez rien  grer",icon:s.jsx(Lx,{className:"text-blue-400"}),defaultOpen:!0,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-950/40 border-2 border-blue-500/30 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(Ev,{className:"w-5 h-5 text-blue-400"}),"Zro dmarche administrative de votre ct"]}),s.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:"EDF SOLUTIONS SOLAIRES prend en charge l'intgralit des dmarches administratives, de la dclaration pralable de travaux jusqu'au raccordement Enedis."})]}),s.jsx("div",{className:"space-y-3",children:[{label:"Dclaration pralable mairie",status:"EDF SOLUTIONS SOLAIRES"},{label:"Dossier raccordement Enedis",status:"EDF SOLUTIONS SOLAIRES"},{label:"Convention autoconsommation",status:"EDF SOLUTIONS SOLAIRES"},{label:"Contrat obligation d'achat",status:"EDF SOLUTIONS SOLAIRES"},{label:"Certificat Consuel",status:"EDF SOLUTIONS SOLAIRES"},{label:"Mise en service compteur",status:"Automatique"}].map((me,Oe)=>s.jsxs("div",{className:"flex items-center justify-between bg-black/40 border border-slate-700 rounded-lg p-4 hover:border-blue-500/50 transition-colors",children:[s.jsx("span",{className:"text-slate-300 font-medium",children:me.label}),s.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-400 text-sm font-semibold rounded-full border border-blue-500/30",children:me.status})]},Oe))}),s.jsx("div",{className:"bg-emerald-950/30 border border-emerald-500/30 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-slate-300 leading-relaxed",children:[s.jsx("span",{className:"font-semibold text-emerald-400",children:"Important :"})," ","Vous recevrez uniquement les notifications de suivi par email. Aucune signature, aucun dplacement, aucun appel administratif requis de votre part."]})})]})}),s.jsx(Wi,{id:"financial-context",title:"Comment lire les chiffres qui suivent",icon:s.jsx(Wa,{className:"text-blue-400"}),defaultOpen:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-950/40 border-l-4 border-blue-500 rounded-r-lg p-5",children:[s.jsxs("p",{className:"text-slate-300 leading-relaxed mb-3",children:["Les chiffres ci-dessous comparent votre situation"," ",s.jsx("strong",{className:"text-white",children:"AVEC"})," et"," ",s.jsx("strong",{className:"text-white",children:"SANS"})," solaire."]}),s.jsx("p",{className:"text-slate-300 leading-relaxed font-medium",children:"Ce n'est pas un cot supplmentaire : c'est un arbitrage entre deux faons de payer votre lectricit."})]}),s.jsx("div",{className:"bg-black/40 border border-slate-700 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx($f,{className:"w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5"}),s.jsxs("p",{className:"text-sm text-slate-300 leading-relaxed",children:[s.jsx("strong",{className:"text-white",children:"Principe :"})," Votre mensualit solaire remplace progressivement votre facture EDF traditionnelle. Aprs remboursement, vous ne payez plus que les quelques kWh rsiduels que vous achetez au rseau."]})]})})]})}),s.jsx(Wi,{id:"budget",title:"Structure du Budget (Mensuel)",icon:s.jsx(hd,{className:"text-slate-400"}),defaultOpen:!1,children:s.jsxs("div",{className:"bg-black/40 p-8 rounded-[32px] border border-white/10 backdrop-blur-xl",children:[s.jsx("div",{className:"text-[10px] text-slate-500 italic mb-4",children:"On regarde simplement comment votre budget actuel se rorganise  sans nouvelle charge."}),s.jsxs("div",{className:"flex items-center justify-between mb-10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(hd,{className:"text-slate-400 w-6 h-6"}),s.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tight",children:"STRUCTURE DU BUDGET (MENSUEL)"})]}),s.jsx("div",{className:"bg-black/60 backdrop-blur-md px-4 py-1.5 rounded text-[10px] font-bold text-slate-400 border border-white/10 uppercase",children:"Anne 1  Comparatif"})]}),s.jsxs("div",{className:"space-y-12",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-end mb-6",children:[s.jsx("span",{className:"text-[13px] font-bold text-slate-400 uppercase tracking-widest",children:"Situation actuelle"}),s.jsxs("span",{className:"text-5xl font-black text-white tracking-tighter drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]",children:[Y(V||0)," ",s.jsx("span",{className:"text-2xl opacity-50",children:"/MOIS"})]})]}),s.jsx("p",{className:"text-[11px] text-slate-500 italic mb-4 max-w-2xl",children:"Concrtement, on ne rajoute rien dans votre budget. On ne paie rien en plus : on remplace une dpense existante par quelque chose qui vous reste."}),s.jsxs("div",{className:"relative h-28 bg-gradient-to-r from-[#e14d4d] via-[#d92d2d] to-[#b32424] rounded-2xl shadow-2xl overflow-hidden flex items-center px-8 border border-white/10",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/10 to-transparent"}),s.jsx("span",{className:"relative text-white font-black text-2xl uppercase tracking-wider",children:"FACTURE ACTUELLE"}),s.jsx("span",{className:"ml-auto relative text-white/30 font-black text-xl uppercase tracking-tight",children:"100% DPENSES  SANS RETOUR"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-end mb-6",children:[s.jsx("span",{className:"text-[13px] font-bold text-slate-400 uppercase tracking-widest",children:"Installation EDF  Mise en place"}),s.jsxs("span",{className:"text-5xl font-black text-white tracking-tighter drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]",children:[Y(J||0)," ",s.jsx("span",{className:"text-2xl opacity-50",children:"/MOIS"})]})]}),s.jsx("p",{className:"text-[11px] text-slate-500 italic mb-4",children:"Montant fixe  identique  ce que vous validez dj aujourd'hui. Rien ne change dans votre quotidien : c'est simplement organis autrement."}),s.jsxs("div",{className:"relative h-28 bg-[#1a1f2e] rounded-2xl border border-white/10 overflow-hidden shadow-2xl flex",children:[s.jsxs("div",{className:"relative bg-gradient-to-b from-[#3a445e] to-[#232a3d] flex flex-col justify-center px-6 transition-all duration-700",style:{width:`${(ce||0)/(J||1)*100}%`},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-white/5"}),s.jsx("span",{className:"relative text-[9px] font-bold text-slate-300 uppercase tracking-widest mb-1",children:"Financement EDF"}),s.jsx("span",{className:"relative text-white font-black text-2xl",children:Y(ce||0)})]}),s.jsx("div",{className:"w-1.5 bg-black/60 shadow-[1px_0_0_rgba(255,255,255,0.1)]"}),s.jsxs("div",{className:"relative bg-gradient-to-b from-[#1e2536] to-[#141a26] flex-1 flex flex-col justify-center px-6 transition-all duration-700",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-white/5"}),s.jsx("span",{className:"relative text-[9px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Reste  charge"}),s.jsx("span",{className:"relative text-slate-300 font-black text-2xl",children:Y(I||0)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-12 mt-10 px-2",children:[s.jsxs("div",{className:"border-l-[3px] border-slate-500 pl-5",children:[s.jsx("h4",{className:"text-[11px] font-black text-white uppercase tracking-widest mb-2",children:"Patrimoine personnel"}),s.jsx("p",{className:"text-[10px] text-slate-500 leading-relaxed italic",children:"C'est de l'pargne : cet argent rembourse votre matriel et valorise votre maison."})]}),s.jsxs("div",{className:"border-l-[3px] border-slate-700 pl-5",children:[s.jsx("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Service rseau"}),s.jsx("p",{className:"text-[10px] text-slate-500 leading-relaxed italic",children:"La part minime verse  EDF pour l'abonnement et la scurit du rseau."})]})]})]})]})]})}),s.jsx(Wi,{id:"calendrier",title:"Calendrier de Mise en Service",icon:s.jsx(Ha,{className:"text-blue-400"}),defaultOpen:!1,children:s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-[32px] p-6 sm:p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-3 bg-blue-500/10 rounded-xl",children:s.jsx(Ha,{className:"text-blue-400",size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Dlai de mise en route  Installation sous 6-8 semaines"}),s.jsx("p",{className:"text-xs text-slate-500 mt-1 italic",children:" partir de cette date, l'installation est oprationnelle."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-slate-900/40 border border-white/10 rounded-xl p-5",children:[s.jsx("div",{className:"text-slate-400 text-[10px] font-medium mb-2 uppercase tracking-wider",children:"Cot nergtique actuel"}),s.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:Y(ne.totalSpendNoSolar||0)}),s.jsxs("div",{className:"text-slate-500 text-[10px]",children:["Sur ",ne.projectionYears," ans"]})]}),s.jsxs("div",{className:"bg-slate-900/40 border border-white/10 rounded-xl p-5",children:[s.jsx("div",{className:"text-slate-400 text-[10px] font-medium mb-2 uppercase tracking-wider",children:"Production anne 1"}),s.jsx("div",{className:"text-2xl font-bold text-emerald-400 mb-1",children:Y((ne.prod||0)*ne.elecPrice)}),s.jsx("div",{className:"text-slate-500 text-[10px]",children:"Valeur de l'lectricit produite"})]}),s.jsxs("div",{className:"bg-slate-900/40 border border-emerald-500/20 rounded-xl p-5",children:[s.jsxs("div",{className:"text-slate-400 text-[10px] font-medium mb-2 uppercase tracking-wider",children:["Production ",ne.projectionYears," ans"]}),s.jsx("div",{className:"text-2xl font-bold text-emerald-400 mb-1",children:Y((ne.prod||0)*ne.elecPrice*ne.projectionYears)}),s.jsx("div",{className:"text-slate-500 text-[10px]",children:"nergie produite totale"})]}),s.jsxs("div",{className:"bg-slate-900/40 border border-blue-500/20 rounded-xl p-5",children:[s.jsxs("div",{className:"text-slate-400 text-[10px] font-medium mb-2 uppercase tracking-wider",children:["Gain net ",ne.projectionYears," ans"]}),s.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-1",children:Y(ne.e||0)}),s.jsx("div",{className:"text-slate-500 text-[10px]",children:"Aprs remboursement crdit"})]})]}),s.jsxs("div",{className:"bg-blue-950/20 border-l-4 border-blue-500 p-4 rounded-xl mb-6",children:[s.jsx("p",{className:"text-slate-300 text-[11px] leading-relaxed italic",children:"Une fois le dossier valid, le projet entre dans le processus de mise en service. Les dlais observs sont en moyenne de six  huit semaines."}),s.jsx("p",{className:"text-slate-300 text-[11px] leading-relaxed italic mt-2",children:"Durant cette priode, l'ensemble des dmarches techniques, administratives et de planification est pris en charge par EDF et ses partenaires."})]}),s.jsxs("div",{className:"p-5 bg-black/30 rounded-xl border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-slate-400 mb-4 uppercase tracking-wider",children:[s.jsx(nh,{className:"w-4 h-4"}),"Impact du calendrier sur le dbut des conomies :"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-slate-300 font-bold text-lg",children:Y((ne.prod||0)*ne.elecPrice)}),s.jsx("div",{className:"text-slate-500 text-[10px] mt-1",children:"Production anne 1"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-slate-300 font-bold text-lg",children:Y((ne.prod||0)*ne.elecPrice*3)}),s.jsx("div",{className:"text-slate-500 text-[10px] mt-1",children:"Cumul 3 ans"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-slate-300 font-bold text-lg",children:Y((ne.prod||0)*ne.elecPrice*5)}),s.jsx("div",{className:"text-slate-500 text-[10px] mt-1",children:"Cumul 5 ans"})]})]})]}),s.jsx("p",{className:"text-[10px] text-slate-500 italic mt-6 text-center",children:"C'est juste du calendrier. La dcision vous appartient."})]})}),s.jsx(Wi,{id:"effet-calendrier",title:"Lecture du Temps",icon:s.jsx(Ha,{className:"text-slate-400"}),defaultOpen:!1,children:s.jsxs("div",{className:"bg-[#0b0d10] border border-white/10 rounded-2xl p-6 md:p-8",children:[s.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"Impact d'une mise en service diffre de 6 mois"}),s.jsx("p",{className:"text-sm text-slate-400 mb-8",children:"Comparaison objective de deux calendriers de dmarrage."}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-black/40 border border-emerald-500/20 p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ha,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-xs text-emerald-400 uppercase font-bold tracking-wider",children:"Scnario A  Validation immdiate"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Mise en service"}),s.jsx("div",{className:"text-lg font-black text-white",children:"6-8 semaines"}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"dlai administratif + installation"})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5",children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Production active sur les 6 mois"}),s.jsx("div",{className:"text-3xl font-black text-emerald-400",children:"~4-5 mois"}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"d'conomies gnres"})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5",children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Production valorise sur 6 mois"}),s.jsx("div",{className:"text-3xl font-black text-white",children:Y((ne.prod||0)*ne.elecPrice/2)})]})]})]}),s.jsxs("div",{className:"bg-black/40 border border-slate-500/20 p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ha,{className:"w-4 h-4 text-slate-400"}),s.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Scnario B  Validation diffre de 6 mois"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Mise en service"}),s.jsx("div",{className:"text-lg font-black text-white",children:"6 mois + 6-8 semaines"}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"attente + dlai administratif + installation"})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5",children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Production active sur les 6 mois"}),s.jsx("div",{className:"text-3xl font-black text-slate-400",children:"0 mois"}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"installation pas encore lance"})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5",children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Production valorise sur 6 mois"}),s.jsx("div",{className:"text-3xl font-black text-white",children:"0 "})]})]})]})]}),s.jsx("div",{className:"bg-black/60 border border-white/10 p-6 rounded-xl",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-center",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wider mb-2",children:"Diffrentiel conomique entre les deux scnarios"}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"Le scnario A permet d'activer la production pendant ~4-5 mois sur cette priode, gnrant de la valeur. Le scnario B maintient la situation actuelle pendant 6 mois supplmentaires."})]}),s.jsxs("div",{className:"text-center md:text-right",children:[s.jsx("div",{className:"text-4xl font-black text-white",children:Y((ne.prod||0)*ne.elecPrice/2)}),s.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"d'cart sur 6 mois"})]})]})}),s.jsx("div",{className:"mt-6 bg-black/40 border-l-2 border-slate-600 p-5 rounded-r-xl",children:s.jsxs("p",{className:"text-xs text-slate-300 leading-relaxed",children:[s.jsx("strong",{className:"text-white",children:"Lecture :"})," les deux scnarios sont viables. La seule variable est le calendrier de mise en service.",s.jsx("br",{}),s.jsx("br",{}),"Dans le scnario A, l'installation est active aprs 6-8 semaines, puis produit pendant ~4-5 mois sur les 6 mois observs.",s.jsx("br",{}),s.jsx("br",{}),"Dans le scnario B, ces 6 mois maintiennent la situation actuelle, avant de dmarrer le processus."]})})]})}),s.jsx(Wi,{id:"impact",title:"Impact sur votre budget mensuel",icon:s.jsx(Va,{className:"text-blue-400"}),defaultOpen:!1,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-[10px] sm:text-[11px] text-slate-500 italic leading-relaxed",children:["Voici comment votre budget mensuel se rorganise la premire anne.",s.jsx("br",{}),s.jsx("span",{className:"text-slate-400",children:"On ne parle pas d'un cot, mais d'une phase de transition avant un modle durablement plus lger."})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-red-950/30 to-black/40 border border-red-500/20 rounded-xl p-4 sm:p-5",children:[s.jsxs("div",{className:"text-red-400 text-[9px] sm:text-[10px] uppercase font-bold tracking-wide flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400 flex-shrink-0"}),s.jsx("span",{children:"Facture actuelle"})]}),s.jsx("div",{className:"text-white text-2xl sm:text-3xl font-black break-words",children:(((e==null?void 0:e.conso)||0)*((e==null?void 0:e.elecPrice)||.25)/12).toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0})}),s.jsx("div",{className:"text-slate-500 text-[10px] sm:text-xs mt-1",children:"/mois"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-950/30 to-black/40 border border-blue-500/20 rounded-xl p-4 sm:p-5",children:[s.jsxs("div",{className:"text-blue-400 text-[9px] sm:text-[10px] uppercase font-bold tracking-wide flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400 flex-shrink-0"}),s.jsx("span",{children:"Vous payez"})]}),s.jsx("div",{className:"text-white text-2xl sm:text-3xl font-black break-words",children:(((e==null?void 0:e.m)||0)+(((e==null?void 0:e.conso)||0)-((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100))*((e==null?void 0:e.elecPrice)||.25)/12).toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0})}),s.jsx("div",{className:"text-slate-500 text-[10px] sm:text-xs mt-1 leading-tight",children:"/mois (crdit + reste facture)"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-slate-950/30 to-black/40 border border-slate-600/20 rounded-xl p-4 sm:p-5 sm:col-span-2 lg:col-span-1",children:[s.jsxs("div",{className:"text-slate-400 text-[9px] sm:text-[10px] uppercase font-bold tracking-wide flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-400 flex-shrink-0"}),s.jsx("span",{children:"Diffrence  1re anne"})]}),s.jsxs("div",{className:`text-2xl sm:text-3xl font-black break-words ${((e==null?void 0:e.m)||0)+(((e==null?void 0:e.conso)||0)-((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100))*((e==null?void 0:e.elecPrice)||.25)/12-((e==null?void 0:e.conso)||0)*((e==null?void 0:e.elecPrice)||.25)/12>0?"text-orange-400":"text-emerald-400"}`,children:[((e==null?void 0:e.m)||0)+(((e==null?void 0:e.conso)||0)-((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100))*((e==null?void 0:e.elecPrice)||.25)/12-((e==null?void 0:e.conso)||0)*((e==null?void 0:e.elecPrice)||.25)/12>0?"+":"",(((e==null?void 0:e.m)||0)+(((e==null?void 0:e.conso)||0)-((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100))*((e==null?void 0:e.elecPrice)||.25)/12-((e==null?void 0:e.conso)||0)*((e==null?void 0:e.elecPrice)||.25)/12).toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0})]}),s.jsx("div",{className:"text-slate-500 text-[10px] sm:text-xs mt-1 leading-tight",children:"Puis  conomies ds fin crdit"})]})]}),s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl p-4 sm:p-5",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0 text-[9px] sm:text-[10px] text-slate-500 uppercase mb-3",children:[s.jsx("span",{children:"Alignement avec votre budget actuel"}),s.jsxs("span",{className:"text-white font-bold text-sm sm:text-base",children:[((((e==null?void 0:e.m)||0)+(((e==null?void 0:e.conso)||0)-((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100))*((e==null?void 0:e.elecPrice)||.25)/12)/(((e==null?void 0:e.conso)||0)*((e==null?void 0:e.elecPrice)||.25)/12)*100).toFixed(0),"%"]})]}),s.jsx("div",{className:"h-3 sm:h-4 bg-slate-800/40 rounded-full overflow-hidden border border-white/10",children:s.jsx("div",{className:`h-full transition-all duration-700 ${(((e==null?void 0:e.m)||0)+(((e==null?void 0:e.conso)||0)-((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100))*((e==null?void 0:e.elecPrice)||.25)/12)/(((e==null?void 0:e.conso)||0)*((e==null?void 0:e.elecPrice)||.25)/12)>1?"bg-gradient-to-r from-orange-500 to-orange-600":"bg-gradient-to-r from-emerald-500 to-emerald-600"}`,style:{width:`${Math.min((((e==null?void 0:e.m)||0)+(((e==null?void 0:e.conso)||0)-((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100))*((e==null?void 0:e.elecPrice)||.25)/12)/(((e==null?void 0:e.conso)||0)*((e==null?void 0:e.elecPrice)||.25)/12)*100,100)}%`}})}),s.jsxs("div",{className:"flex justify-between text-[9px] sm:text-[10px] text-slate-600 mt-2",children:[s.jsx("span",{children:"0%"}),s.jsx("span",{className:"text-slate-500",children:"Budget actuel"}),s.jsx("span",{children:"150%"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-emerald-950/20 to-black/40 border border-emerald-500/20 rounded-xl p-4 sm:p-5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx($f,{className:"w-5 h-5 text-emerald-400"}),s.jsx("h3",{className:"text-sm sm:text-base font-bold text-emerald-400 uppercase",children:"Aprs remboursement du crdit"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-500 mb-1",children:"Facture mensuelle"}),s.jsx("div",{className:"text-2xl sm:text-3xl font-black text-emerald-400",children:((((e==null?void 0:e.conso)||0)-((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100))*((e==null?void 0:e.elecPrice)||.25)/12).toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0})}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"Seulement le rsiduel EDF"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-500 mb-1",children:"conomie mensuelle"}),s.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white",children:(((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100)*((e==null?void 0:e.elecPrice)||.25)/12).toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0})}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"Par rapport  votre facture actuelle"})]})]}),s.jsxs("div",{className:"mt-3 text-[10px] text-slate-400 italic leading-relaxed",children:[" ce stade, le financement disparat.",s.jsx("br",{}),"Ce qu'il reste, c'est un systme qui travaille pour votre budget."]})]}),s.jsx("p",{className:"text-center text-[10px] sm:text-[11px] text-slate-500 italic leading-relaxed",children:"Ces montants sont ceux de la 1re anne."})]})}),s.jsxs(Wi,{id:"tableau-detaille",title:"Projection Financire  25 ans",icon:s.jsx(Gy,{className:"text-slate-400"}),defaultOpen:!1,children:[s.jsx("p",{className:"text-[10px] text-slate-400 italic mb-3",children:"Ce qui suit ne sert pas  choisir  juste  vrifier qu'on ne fait pas une erreur."}),s.jsxs("div",{className:"flex flex-col md:flex-row items-start justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"bg-black/60 backdrop-blur-md p-1 rounded-lg flex gap-1 border border-white/10",children:[s.jsx("button",{onClick:()=>A("financement"),className:`px-4 py-1.5 rounded-md text-xs font-bold uppercase transition-all ${E==="financement"?"bg-blue-600 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Financement"}),s.jsx("button",{onClick:()=>A("cash"),className:`px-4 py-1.5 rounded-md text-xs font-bold uppercase transition-all ${E==="cash"?"bg-emerald-600 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Cash"})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur-md p-1 rounded-lg flex gap-1 border border-white/10",children:[s.jsx("button",{onClick:()=>P("annuel"),className:`px-4 py-1.5 rounded-md text-xs font-bold uppercase transition-all ${L==="annuel"?"bg-slate-700 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Annuel"}),s.jsx("button",{onClick:()=>P("mensuel"),className:`px-4 py-1.5 rounded-md text-xs font-bold uppercase transition-all ${L==="mensuel"?"bg-blue-600 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Mensuel"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/10 text-[10px] uppercase text-slate-500 font-bold tracking-wider",children:[s.jsx("th",{className:"py-3 px-4",children:"Anne"}),s.jsx("th",{className:"py-3 px-4 text-red-400",children:"Sans Solaire"}),R&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"py-3 px-4 text-blue-400",children:"Crdit"}),s.jsx("th",{className:"py-3 px-4 text-yellow-400",children:"Facture restante"})]}),s.jsx("th",{className:"py-3 px-4 text-white",children:"Avec Solaire"}),s.jsxs("th",{className:"py-3 px-4 text-slate-300",children:["Diffrence ",L==="annuel"?"/an":"/mois"]}),s.jsx("th",{className:"py-3 px-4 text-emerald-400 text-right",children:"Trsorerie cumule"})]})}),s.jsxs("tbody",{className:"text-sm font-mono text-slate-300",children:[s.jsxs("tr",{className:"border-b border-white/5 bg-[#1a1505]/30",children:[s.jsx("td",{className:"py-4 px-4 text-yellow-500 font-bold",children:"Anne 0"}),s.jsx("td",{className:"py-4 px-4 opacity-50",children:"-"}),R&&s.jsx("td",{className:"py-4 px-4 opacity-50",children:"-"}),R&&s.jsx("td",{className:"py-4 px-4 opacity-50",children:"-"}),s.jsxs("td",{className:"py-4 px-4 text-yellow-400 font-bold uppercase",children:["APPORT :"," ",Y(E==="financement"?ne.cashApport:ne.installCost)]}),s.jsx("td",{className:"py-4 px-4 text-red-400 font-bold",children:Y((E==="financement"?ne.cashApport:ne.installCost)/(L==="mensuel"?12:1))}),s.jsxs("td",{className:"py-4 px-4 text-right text-red-500 font-bold",children:["-",Y(E==="financement"?ne.cashApport:ne.installCost)]})]}),(E==="financement"?ne.details:ne.detailsCash).slice(0,ne.projectionYears).map(me=>{const Oe=L==="mensuel"?12:1,je=me.edfBillWithoutSolar/Oe,Ve=(me.creditPayment||0)/Oe,ze=me.edfResidue/Oe,K=E==="cash"?me.totalWithSolar/Oe:Ve+ze,We=K-je;return s.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[s.jsx("td",{className:"py-3 px-4 text-slate-500",children:me.year}),s.jsx("td",{className:"py-3 px-4 text-red-400/80",children:Y(je)}),R&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"py-3 px-4 text-blue-400/80",children:Y(Ve)}),s.jsx("td",{className:"py-3 px-4 text-yellow-400/80",children:Y(ze)})]}),s.jsx("td",{className:"py-3 px-4 font-bold text-white",children:Y(K)}),s.jsxs("td",{className:`py-3 px-4 font-bold ${We>0?"text-white":"text-emerald-400"}`,children:[We>0?"+":"",Y(We)]}),s.jsx("td",{className:`py-3 px-4 text-right font-bold ${me.cumulativeSavings>=0?"text-emerald-500":"text-red-500"}`,children:Y(me.cumulativeSavings)})]},me.year)})]}),s.jsx("tfoot",{className:"sticky bottom-0 bg-black/95 backdrop-blur-xl border-t-2 border-emerald-500/30",children:s.jsxs("tr",{children:[s.jsxs("td",{colSpan:R?6:4,className:"py-3 px-4 text-right text-xs font-bold text-slate-400 uppercase",children:["Gain total sur ",ne.projectionYears," ans"]}),s.jsx("td",{className:"py-3 px-4 text-right text-xl font-black text-emerald-400",children:Y(((fe=(E==="financement"?ne.details:ne.detailsCash)[ne.projectionYears-1])==null?void 0:fe.cumulativeSavings)||0)})]})})]})}),s.jsx("button",{onClick:()=>Q(!R),className:"mt-4 text-xs text-slate-500 hover:text-slate-300 transition-colors",children:R?"Vue globale":"Vue complte"})]}),s.jsx(Wi,{id:"financement-vs-cash",title:"Ajustement de financement",icon:s.jsx(cl,{className:"text-emerald-500"}),defaultOpen:!1,children:s.jsxs("div",{className:"relative bg-black/40 backdrop-blur-xl rounded-[32px] p-8 border border-white/10",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[s.jsx(cl,{className:"text-emerald-400 w-6 h-6 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Ajustement de financement"}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Le projet est valid sur le principe. Ici, on vrifie simplement la solution la plus confortable pour vous."})]})]}),s.jsx("div",{className:"bg-blue-950/20 border border-blue-500/20 rounded-xl p-4 mb-8",children:s.jsxs("p",{className:"text-sm text-slate-300 leading-relaxed",children:["Les deux options ci-dessous sont"," ",s.jsx("strong",{children:"quivalentes sur le projet"}),". Le choix n'impacte ni la qualit, ni les garanties, ni la validation finale."]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-black/60 border border-blue-500/20 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Va,{className:"text-blue-400",size:20}),s.jsx("h4",{className:"text-blue-300 font-bold uppercase text-sm tracking-wider",children:"Financement structur"})]}),s.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ar,{size:14,className:"text-blue-400"}),"Capital personnel conserv"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ar,{size:14,className:"text-blue-400"}),"Effort rparti dans le temps"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ar,{size:14,className:"text-blue-400"}),"Flexibilit maximale"]})]})]}),s.jsxs("div",{className:"bg-black/60 border border-emerald-500/20 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(cl,{className:"text-emerald-400",size:20}),s.jsx("h4",{className:"text-emerald-300 font-bold uppercase text-sm tracking-wider",children:"Paiement comptant"})]}),s.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ar,{size:14,className:"text-emerald-400"}),"Tranquillit immdiate"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ar,{size:14,className:"text-emerald-400"}),"Aucun engagement bancaire"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ar,{size:14,className:"text-emerald-400"}),"Sujet clos rapidement"]})]})]})]}),s.jsx("div",{className:"mt-8 bg-emerald-950/20 border border-emerald-500/20 rounded-xl p-4 text-center",children:s.jsx("p",{className:"text-sm text-slate-300 italic",children:"Ce choix peut tre ajust avec votre conseiller. Il n'engage pas la validation du projet."})})]})}),s.jsx(Wi,{id:"garanties",title:"Garanties de Scurit",icon:s.jsx(Rx,{className:"text-emerald-500"}),defaultOpen:!1,children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"p-4 bg-green-500/10 rounded-lg border border-green-500/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ar,{className:"w-5 h-5 text-green-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Garantie totale  vie"}),s.jsxs("p",{className:"text-slate-300 text-sm",children:["Matriel, main-d'uvre et dplacements garantis"," ",s.jsx("span",{className:"text-white font-semibold",children:" vie"}),"."]})]})]})}),s.jsx("div",{className:"p-4 bg-blue-500/10 rounded-lg border border-blue-500/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ar,{className:"w-5 h-5 text-blue-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Garantie de performance 30 ans"}),s.jsxs("p",{className:"text-slate-300 text-sm",children:["Production contractuelle. Si non atteinte,"," ",s.jsx("span",{className:"text-white font-semibold",children:"EDF rembourse la diffrence"}),"."]})]})]})})]})}),s.jsx(Wi,{id:"realisations",title:"Ralisations EDF  Familles accompagnes",icon:s.jsx(Vf,{className:"text-blue-400"}),defaultOpen:!1,children:s.jsxs("div",{className:"bg-slate-900/40 border border-slate-800 rounded-[32px] p-8",children:[s.jsxs("div",{className:"mb-5 flex items-center gap-2 text-slate-400 text-sm",children:[s.jsx(Fg,{className:"text-blue-400",size:16}),s.jsxs("span",{children:["Projets EDF accompagns  proximit de"," ",s.jsx("strong",{className:"text-white",children:ee})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vf,{className:"text-blue-400",size:24}),s.jsx("h2",{className:"text-lg font-bold text-white uppercase tracking-wide",children:"Ralisations EDF  Alpes-Maritimes"})]}),s.jsx("div",{className:"px-3 py-1 bg-blue-500/10 border border-blue-500/20 rounded-full",children:s.jsx("span",{className:"text-[10px] font-bold text-blue-400 uppercase tracking-wider",children:"Donnes relles"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[{name:"Mme T.",city:"Le Cannet",status:"Production active",kWc:"3.5 kWc"},{name:"M. B.",city:"Mougins",status:"Installation raccorde",kWc:"4.5 kWc"},{name:"Famille D.",city:"Grasse",status:"Production active",kWc:"6 kWc"},{name:"M. & Mme L.",city:"Cannes",status:"Raccordement valid Enedis",kWc:"9 kWc"}].map((me,Oe)=>s.jsxs("div",{className:"bg-slate-950/50 border border-slate-800 rounded-2xl p-5 hover:border-blue-500/40 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-slate-400 text-[9px] font-semibold uppercase tracking-widest",children:me.status})]}),s.jsx("span",{className:"text-slate-600 text-[9px] font-mono",children:me.kWc})]}),s.jsx("div",{className:"text-white font-semibold text-sm mb-0.5",children:me.name}),s.jsx("div",{className:"text-slate-500 text-xs mb-4",children:me.city}),s.jsxs("div",{className:"border-t border-slate-800 pt-3",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider mb-1",children:"Projet valid et suivi par EDF"}),s.jsx("div",{className:"text-sm font-semibold text-slate-300",children:"Installation conforme  production encadre"})]})]},Oe))}),s.jsx("div",{className:"bg-gradient-to-r from-slate-800/40 to-transparent border-l-4 border-blue-500 p-5 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg flex-shrink-0",children:s.jsx(Hy,{className:"text-blue-400",size:20})}),s.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed",children:[s.jsx("strong",{className:"text-white",children:"127 dossiers valids"})," ","ce mois-ci dans le 06, selon les mmes standards EDF."]})]})})]})}),ue?s.jsxs("a",{href:`tel:${le}`,onClick:async()=>{try{await yc.from("tracking_events").insert({study_id:oe,event_type:"email_click"})}catch(me){console.error("Tracking error:",me)}},className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 text-white font-black py-7 rounded-3xl uppercase text-sm flex items-center justify-center gap-4 mb-8 hover:from-blue-500 hover:to-blue-400 transition-all no-underline shadow-xl active:opacity-80",children:[s.jsx(Pv,{size:20,fill:"currentColor"}),s.jsx("span",{children:"On scurise le projet ensemble"})]}):s.jsxs("button",{type:"button",onClick:async()=>{try{await yc.from("tracking_events").insert({study_id:oe,event_type:"call_click"})}catch(me){console.error("Tracking error:",me)}navigator.clipboard.writeText(le),alert("Numro copi : "+le)},className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 text-white font-black py-7 rounded-3xl uppercase text-sm flex items-center justify-center gap-4 mb-8 hover:from-blue-500 hover:to-blue-400 transition-all shadow-xl active:opacity-80",children:[s.jsx(Pv,{size:20,fill:"currentColor"}),s.jsx("span",{children:"On scurise le projet ensemble"})]}),s.jsx("div",{className:"text-center pb-8",children:s.jsx("span",{className:"text-[9px] text-slate-600 font-bold uppercase tracking-[0.4em]",children:"DOCUMENT SCURIS EDF SOLUTIONS PRO"})})]})})}const s5={75:9500,92:5200,93:3400,94:3800,91:3200,95:2900,77:2600,78:3500,69:4200,13:3600,33:3800,31:3200,44:3100,59:2400,67:2800,34:2900,"06":4500,default:2200},VL=async(e,t)=>{const n=await(await fetch(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(e)}&limit=1`)).json();if(!n.features||n.features.length===0)throw new Error("Adresse introuvable");const a=n.features[0],o=a.properties.postcode.substring(0,2),c=a.properties.city,u=s5[o]||s5.default,d=Math.round(t*u);let f="standard";d<3e5?f="standard":d<8e5?f="confort":d<15e5?f="haut_de_gamme":f="patrimonial";let p="",b="",y,v;switch(f){case"standard":v="4  8 %",y=Math.round(d*.05),p="Valorisation et attractivit renforce",b="Sur ce type de bien, la performance nergtique joue directement sur lattractivit et la valeur perue. On est clairement sur un actif qui se renforce.";break;case"confort":v="3  6 %",y=Math.round(d*.035),p="Diffrenciation nette et protection de valeur",b="Ici, lenjeu nest pas uniquement lconomie. Cest le positionnement du bien sur son march et la scurisation de sa valeur dans le temps.";break;case"haut_de_gamme":v="1  3 %",y=Math.round(Math.min(d*.02,6e4)),p="Maintien dattractivit et vitement de dcote",b="Sur des biens de ce niveau, on ne parle plus de plus-value mcanique. On parle dattractivit, de liquidit du bien, et dvitement de dcote nergtique.";break;case"patrimonial":p="Protection patrimoniale et conformit long terme",b=" ce niveau de patrimoine, la performance nergtique nest pas un levier de hausse. Cest un critre de maintien de valeur, de dsirabilit et de conformit future.";break}return{city:c,dept:o,pricePerSqm:u,estimatedValue:d,propertyClass:f,impactProfile:p,impactNarrative:b,greenValueIndicative:y,impactPercentRange:v}};function i5(e){return{generatedAt:new Date().toISOString(),globalScore:Math.max(0,100-e.dataBreaches*20-(100-e.uxScore)),warRoomCount:e.decisions.filter(t=>t.priority==="WAR_ROOM").length,dataIntegrityBreaches:e.dataBreaches,uxScore:e.uxScore,uxDetails:e.uxDetails,decisions:e.decisions}}function Dr(e){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dr(e)}var Lo=Uint8Array,va=Uint16Array,Zg=Int32Array,e1=new Lo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),t1=new Lo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a5=new Lo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x4=function(e,t){for(var r=new va(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new Zg(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)a[o]=o-r[n]<<5|n;return{b:r,r:a}},g4=x4(e1,2),WL=g4.b,bg=g4.r;WL[28]=258,bg[258]=28;var HL=x4(t1,0),o5=HL.r,yg=new va(32768);for(var sn=0;sn<32768;++sn){var mc=(sn&43690)>>1|(sn&21845)<<1;mc=(mc&52428)>>2|(mc&13107)<<2,mc=(mc&61680)>>4|(mc&3855)<<4,yg[sn]=((mc&65280)>>8|(mc&255)<<8)>>1}var dh=(function(e,t,r){for(var n=e.length,a=0,o=new va(t);a<n;++a)e[a]&&++o[e[a]-1];var c=new va(t);for(a=1;a<t;++a)c[a]=c[a-1]+o[a-1]<<1;var u;if(r){u=new va(1<<t);var d=15-t;for(a=0;a<n;++a)if(e[a])for(var f=a<<4|e[a],p=t-e[a],b=c[e[a]-1]++<<p,y=b|(1<<p)-1;b<=y;++b)u[yg[b]>>d]=f}else for(u=new va(n),a=0;a<n;++a)e[a]&&(u[a]=yg[c[e[a]-1]++]>>15-e[a]);return u}),yu=new Lo(288);for(var sn=0;sn<144;++sn)yu[sn]=8;for(var sn=144;sn<256;++sn)yu[sn]=9;for(var sn=256;sn<280;++sn)yu[sn]=7;for(var sn=280;sn<288;++sn)yu[sn]=8;var hp=new Lo(32);for(var sn=0;sn<32;++sn)hp[sn]=5;var GL=dh(yu,9,0),YL=dh(hp,5,0),v4=function(e){return(e+7)/8|0},KL=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Lo(e.subarray(t,r))},Fl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},eh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},ix=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,o=r.slice();if(!a)return{t:y4,l:0};if(a==1){var c=new Lo(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort(function(Q,te){return Q.f-te.f}),r.push({s:-1,f:25001});var u=r[0],d=r[1],f=0,p=1,b=2;for(r[0]={s:-1,f:u.f+d.f,l:u,r:d};p!=a-1;)u=r[r[f].f<r[b].f?f++:b++],d=r[f!=p&&r[f].f<r[b].f?f++:b++],r[p++]={s:-1,f:u.f+d.f,l:u,r:d};for(var y=o[0].s,n=1;n<a;++n)o[n].s>y&&(y=o[n].s);var v=new va(y+1),_=wg(r[p-1],v,0);if(_>t){var n=0,k=0,E=_-t,A=1<<E;for(o.sort(function(te,oe){return v[oe.s]-v[te.s]||te.f-oe.f});n<a;++n){var L=o[n].s;if(v[L]>t)k+=A-(1<<_-v[L]),v[L]=t;else break}for(k>>=E;k>0;){var P=o[n].s;v[P]<t?k-=1<<t-v[P]++-1:++n}for(;n>=0&&k;--n){var R=o[n].s;v[R]==t&&(--v[R],++k)}_=t}return{t:new Lo(v),l:_}},wg=function(e,t,r){return e.s==-1?Math.max(wg(e.l,t,r+1),wg(e.r,t,r+1)):t[e.s]=r},l5=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new va(++t),n=0,a=e[0],o=1,c=function(d){r[n++]=d},u=1;u<=t;++u)if(e[u]==a&&u!=t)++o;else{if(!a&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(a),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(a);o=1,a=e[u]}return{c:r.subarray(0,n),n:t}},th=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},b4=function(e,t,r){var n=r.length,a=v4(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var o=0;o<n;++o)e[a+o+4]=r[o];return(a+4+n)*8},c5=function(e,t,r,n,a,o,c,u,d,f,p){Fl(t,p++,r),++a[256];for(var b=ix(a,15),y=b.t,v=b.l,_=ix(o,15),k=_.t,E=_.l,A=l5(y),L=A.c,P=A.n,R=l5(k),Q=R.c,te=R.n,oe=new va(19),se=0;se<L.length;++se)++oe[L[se]&31];for(var se=0;se<Q.length;++se)++oe[Q[se]&31];for(var W=ix(oe,7),ne=W.t,T=W.l,U=19;U>4&&!ne[a5[U-1]];--U);var Y=f+5<<3,H=th(a,yu)+th(o,hp)+c,be=th(a,y)+th(o,k)+c+14+3*U+th(oe,ne)+2*oe[16]+3*oe[17]+7*oe[18];if(d>=0&&Y<=H&&Y<=be)return b4(t,p,e.subarray(d,d+f));var we,ge,ie,pe;if(Fl(t,p,1+(be<H)),p+=2,be<H){we=dh(y,v,0),ge=y,ie=dh(k,E,0),pe=k;var V=dh(ne,T,0);Fl(t,p,P-257),Fl(t,p+5,te-1),Fl(t,p+10,U-4),p+=14;for(var se=0;se<U;++se)Fl(t,p+3*se,ne[a5[se]]);p+=3*U;for(var ce=[L,Q],I=0;I<2;++I)for(var J=ce[I],se=0;se<J.length;++se){var ee=J[se]&31;Fl(t,p,V[ee]),p+=ne[ee],ee>15&&(Fl(t,p,J[se]>>5&127),p+=J[se]>>12)}}else we=GL,ge=yu,ie=YL,pe=hp;for(var se=0;se<u;++se){var le=n[se];if(le>255){var ee=le>>18&31;eh(t,p,we[ee+257]),p+=ge[ee+257],ee>7&&(Fl(t,p,le>>23&31),p+=e1[ee]);var ue=le&31;eh(t,p,ie[ue]),p+=pe[ue],ue>3&&(eh(t,p,le>>5&8191),p+=t1[ue])}else eh(t,p,we[le]),p+=ge[le]}return eh(t,p,we[256]),p+ge[256]},JL=new Zg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),y4=new Lo(0),XL=function(e,t,r,n,a,o){var c=o.z||e.length,u=new Lo(n+c+5*(1+Math.ceil(c/7e3))+a),d=u.subarray(n,u.length-a),f=o.l,p=(o.r||0)&7;if(t){p&&(d[0]=o.r>>3);for(var b=JL[t-1],y=b>>13,v=b&8191,_=(1<<r)-1,k=o.p||new va(32768),E=o.h||new va(_+1),A=Math.ceil(r/3),L=2*A,P=function(ze){return(e[ze]^e[ze+1]<<A^e[ze+2]<<L)&_},R=new Zg(25e3),Q=new va(288),te=new va(32),oe=0,se=0,W=o.i||0,ne=0,T=o.w||0,U=0;W+2<c;++W){var Y=P(W),H=W&32767,be=E[Y];if(k[H]=be,E[Y]=H,T<=W){var we=c-W;if((oe>7e3||ne>24576)&&(we>423||!f)){p=c5(e,d,0,R,Q,te,se,ne,U,W-U,p),ne=oe=se=0,U=W;for(var ge=0;ge<286;++ge)Q[ge]=0;for(var ge=0;ge<30;++ge)te[ge]=0}var ie=2,pe=0,V=v,ce=H-be&32767;if(we>2&&Y==P(W-ce))for(var I=Math.min(y,we)-1,J=Math.min(32767,W),ee=Math.min(258,we);ce<=J&&--V&&H!=be;){if(e[W+ie]==e[W+ie-ce]){for(var le=0;le<ee&&e[W+le]==e[W+le-ce];++le);if(le>ie){if(ie=le,pe=ce,le>I)break;for(var ue=Math.min(ce,le-2),ye=0,ge=0;ge<ue;++ge){var Ce=W-ce+ge&32767,fe=k[Ce],me=Ce-fe&32767;me>ye&&(ye=me,be=Ce)}}}H=be,be=k[H],ce+=H-be&32767}if(pe){R[ne++]=268435456|bg[ie]<<18|o5[pe];var Oe=bg[ie]&31,je=o5[pe]&31;se+=e1[Oe]+t1[je],++Q[257+Oe],++te[je],T=W+ie,++oe}else R[ne++]=e[W],++Q[e[W]]}}for(W=Math.max(W,T);W<c;++W)R[ne++]=e[W],++Q[e[W]];p=c5(e,d,f,R,Q,te,se,ne,U,W-U,p),f||(o.r=p&7|d[p/8|0]<<3,p-=7,o.h=E,o.p=k,o.i=W,o.w=T)}else{for(var W=o.w||0;W<c+f;W+=65535){var Ve=W+65535;Ve>=c&&(d[p/8|0]=f,Ve=c),p=b4(d,p+1,e.subarray(W,Ve))}o.i=c}return KL(u,0,n+v4(p)+a)},w4=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,o=r.length|0,c=0;c!=o;){for(var u=Math.min(c+2655,o);c<u;++c)a+=n+=r[c];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},QL=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),c=new Lo(o.length+e.length);c.set(o),c.set(e,o.length),e=c,a.w=o.length}return XL(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},N4=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},ZL=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=w4();a.p(t.dictionary),N4(e,2,a.d())}};function Ng(e,t){t||(t={});var r=w4();r.p(e);var n=QL(e,t,t.dictionary?6:2,4);return ZL(n,t),N4(n,n.length-4,r.d()),n}var eT=typeof TextDecoder<"u"&&new TextDecoder,tT=0;try{eT.decode(y4,{stream:!0}),tT=1}catch{}function rT(e){if(Array.isArray(e))return e}function nT(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(f)throw a}}return u}}function u5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function sT(e,t){if(e){if(typeof e=="string")return u5(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u5(e,t):void 0}}function iT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d5(e,t){return rT(e)||nT(e,t)||sT(e,t)||iT()}function h5(e,t="utf8"){return new TextDecoder(t).decode(e)}const aT=new TextEncoder;function oT(e){return aT.encode(e)}const lT=1024*8,cT=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),ax={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class r1{constructor(t=lT,r={}){Fr(this,"buffer");Fr(this,"byteLength");Fr(this,"byteOffset");Fr(this,"length");Fr(this,"offset");Fr(this,"lastWrittenByte");Fr(this,"littleEndian");Fr(this,"_data");Fr(this,"_mark");Fr(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,o=t.byteLength-a;let c=a;(ArrayBuffer.isView(t)||t instanceof r1)&&(t.byteLength!==t.buffer.byteLength&&(c=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=ax[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+n);if(this.littleEndian===cT&&r!=="uint8"&&r!=="int8"){const u=new Uint8Array(this.buffer.slice(a,a+n));u.reverse();const d=new ax[r](u.buffer);return this.offset+=n,d.reverse(),d}const c=new ax[r](o);return this.offset+=n,c}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return h5(this.readBytes(t))}decodeText(t=1,r="utf8"){return h5(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(oT(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Id(e){let t=e.length;for(;--t>=0;)e[t]=0}const uT=3,dT=258,j4=29,hT=256,fT=hT+1+j4,_4=30,pT=512,mT=new Array((fT+2)*2);Id(mT);const xT=new Array(_4*2);Id(xT);const gT=new Array(pT);Id(gT);const vT=new Array(dT-uT+1);Id(vT);const bT=new Array(j4);Id(bT);const yT=new Array(_4);Id(yT);const wT=(e,t,r,n)=>{let a=e&65535|0,o=e>>>16&65535|0,c=0;for(;r!==0;){c=r>2e3?2e3:r,r-=c;do a=a+t[n++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0};var jg=wT;const NT=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},jT=new Uint32Array(NT()),_T=(e,t,r,n)=>{const a=jT,o=n+r;e^=-1;for(let c=n;c<o;c++)e=e>>>8^a[(e^t[c])&255];return e^-1};var ol=_T,_g={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},S4={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const ST=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var kT=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)ST(r,n)&&(e[n]=r[n])}}return e},ET=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,o=e.length;n<o;n++){let c=e[n];r.set(c,a),a+=c.length}return r},k4={assign:kT,flattenChunks:ET};let E4=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{E4=!1}const _h=new Uint8Array(256);for(let e=0;e<256;e++)_h[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;_h[254]=_h[254]=1;var CT=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,o,c=e.length,u=0;for(a=0;a<c;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<c&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(u),o=0,a=0;o<u;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<c&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|r&63):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|r&63):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|r&63);return t};const AT=(e,t)=>{if(t<65534&&e.subarray&&E4)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var PT=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const o=new Array(r*2);for(a=0,n=0;n<r;){let c=e[n++];if(c<128){o[a++]=c;continue}let u=_h[c];if(u>4){o[a++]=65533,n+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&n<r;)c=c<<6|e[n++]&63,u--;if(u>1){o[a++]=65533;continue}c<65536?o[a++]=c:(c-=65536,o[a++]=55296|c>>10&1023,o[a++]=56320|c&1023)}return AT(o,a)},LT=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+_h[e[r]]>t?r:t},Sg={string2buf:CT,buf2string:PT,utf8border:LT};function TT(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var RT=TT;const yf=16209,OT=16191;var IT=function(t,r){let n,a,o,c,u,d,f,p,b,y,v,_,k,E,A,L,P,R,Q,te,oe,se,W,ne;const T=t.state;n=t.next_in,W=t.input,a=n+(t.avail_in-5),o=t.next_out,ne=t.output,c=o-(r-t.avail_out),u=o+(t.avail_out-257),d=T.dmax,f=T.wsize,p=T.whave,b=T.wnext,y=T.window,v=T.hold,_=T.bits,k=T.lencode,E=T.distcode,A=(1<<T.lenbits)-1,L=(1<<T.distbits)-1;e:do{_<15&&(v+=W[n++]<<_,_+=8,v+=W[n++]<<_,_+=8),P=k[v&A];t:for(;;){if(R=P>>>24,v>>>=R,_-=R,R=P>>>16&255,R===0)ne[o++]=P&65535;else if(R&16){Q=P&65535,R&=15,R&&(_<R&&(v+=W[n++]<<_,_+=8),Q+=v&(1<<R)-1,v>>>=R,_-=R),_<15&&(v+=W[n++]<<_,_+=8,v+=W[n++]<<_,_+=8),P=E[v&L];r:for(;;){if(R=P>>>24,v>>>=R,_-=R,R=P>>>16&255,R&16){if(te=P&65535,R&=15,_<R&&(v+=W[n++]<<_,_+=8,_<R&&(v+=W[n++]<<_,_+=8)),te+=v&(1<<R)-1,te>d){t.msg="invalid distance too far back",T.mode=yf;break e}if(v>>>=R,_-=R,R=o-c,te>R){if(R=te-R,R>p&&T.sane){t.msg="invalid distance too far back",T.mode=yf;break e}if(oe=0,se=y,b===0){if(oe+=f-R,R<Q){Q-=R;do ne[o++]=y[oe++];while(--R);oe=o-te,se=ne}}else if(b<R){if(oe+=f+b-R,R-=b,R<Q){Q-=R;do ne[o++]=y[oe++];while(--R);if(oe=0,b<Q){R=b,Q-=R;do ne[o++]=y[oe++];while(--R);oe=o-te,se=ne}}}else if(oe+=b-R,R<Q){Q-=R;do ne[o++]=y[oe++];while(--R);oe=o-te,se=ne}for(;Q>2;)ne[o++]=se[oe++],ne[o++]=se[oe++],ne[o++]=se[oe++],Q-=3;Q&&(ne[o++]=se[oe++],Q>1&&(ne[o++]=se[oe++]))}else{oe=o-te;do ne[o++]=ne[oe++],ne[o++]=ne[oe++],ne[o++]=ne[oe++],Q-=3;while(Q>2);Q&&(ne[o++]=ne[oe++],Q>1&&(ne[o++]=ne[oe++]))}}else if((R&64)===0){P=E[(P&65535)+(v&(1<<R)-1)];continue r}else{t.msg="invalid distance code",T.mode=yf;break e}break}}else if((R&64)===0){P=k[(P&65535)+(v&(1<<R)-1)];continue t}else if(R&32){T.mode=OT;break e}else{t.msg="invalid literal/length code",T.mode=yf;break e}break}}while(n<a&&o<u);Q=_>>3,n-=Q,_-=Q<<3,v&=(1<<_)-1,t.next_in=n,t.next_out=o,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=o<u?257+(u-o):257-(o-u),T.hold=v,T.bits=_};const nd=15,f5=852,p5=592,m5=0,ox=1,x5=2,MT=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),FT=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),DT=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),qT=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),UT=(e,t,r,n,a,o,c,u)=>{const d=u.bits;let f=0,p=0,b=0,y=0,v=0,_=0,k=0,E=0,A=0,L=0,P,R,Q,te,oe,se=null,W;const ne=new Uint16Array(nd+1),T=new Uint16Array(nd+1);let U=null,Y,H,be;for(f=0;f<=nd;f++)ne[f]=0;for(p=0;p<n;p++)ne[t[r+p]]++;for(v=d,y=nd;y>=1&&ne[y]===0;y--);if(v>y&&(v=y),y===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,u.bits=1,0;for(b=1;b<y&&ne[b]===0;b++);for(v<b&&(v=b),E=1,f=1;f<=nd;f++)if(E<<=1,E-=ne[f],E<0)return-1;if(E>0&&(e===m5||y!==1))return-1;for(T[1]=0,f=1;f<nd;f++)T[f+1]=T[f]+ne[f];for(p=0;p<n;p++)t[r+p]!==0&&(c[T[t[r+p]]++]=p);if(e===m5?(se=U=c,W=20):e===ox?(se=MT,U=FT,W=257):(se=DT,U=qT,W=0),L=0,p=0,f=b,oe=o,_=v,k=0,Q=-1,A=1<<v,te=A-1,e===ox&&A>f5||e===x5&&A>p5)return 1;for(;;){Y=f-k,c[p]+1<W?(H=0,be=c[p]):c[p]>=W?(H=U[c[p]-W],be=se[c[p]-W]):(H=96,be=0),P=1<<f-k,R=1<<_,b=R;do R-=P,a[oe+(L>>k)+R]=Y<<24|H<<16|be|0;while(R!==0);for(P=1<<f-1;L&P;)P>>=1;if(P!==0?(L&=P-1,L+=P):L=0,p++,--ne[f]===0){if(f===y)break;f=t[r+c[p]]}if(f>v&&(L&te)!==Q){for(k===0&&(k=v),oe+=b,_=f-k,E=1<<_;_+k<y&&(E-=ne[_+k],!(E<=0));)_++,E<<=1;if(A+=1<<_,e===ox&&A>f5||e===x5&&A>p5)return 1;Q=L&te,a[Q]=v<<24|_<<16|oe-o|0}}return L!==0&&(a[oe+L]=f-k<<24|64<<16|0),u.bits=v,0};var hh=UT;const zT=0,C4=1,A4=2,{Z_FINISH:g5,Z_BLOCK:BT,Z_TREES:wf,Z_OK:wu,Z_STREAM_END:$T,Z_NEED_DICT:VT,Z_STREAM_ERROR:Ja,Z_DATA_ERROR:P4,Z_MEM_ERROR:L4,Z_BUF_ERROR:WT,Z_DEFLATED:v5}=S4,Ip=16180,b5=16181,y5=16182,w5=16183,N5=16184,j5=16185,_5=16186,S5=16187,k5=16188,E5=16189,fp=16190,Dl=16191,lx=16192,C5=16193,cx=16194,A5=16195,P5=16196,L5=16197,T5=16198,Nf=16199,jf=16200,R5=16201,O5=16202,I5=16203,M5=16204,F5=16205,ux=16206,D5=16207,q5=16208,dn=16209,T4=16210,R4=16211,HT=852,GT=592,YT=15,KT=YT,U5=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function JT(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Su=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Ip||t.mode>R4?1:0},O4=e=>{if(Su(e))return Ja;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Ip,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(HT),t.distcode=t.distdyn=new Int32Array(GT),t.sane=1,t.back=-1,wu},I4=e=>{if(Su(e))return Ja;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,O4(e)},M4=(e,t)=>{let r;if(Su(e))return Ja;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ja:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,I4(e))},F4=(e,t)=>{if(!e)return Ja;const r=new JT;e.state=r,r.strm=e,r.window=null,r.mode=Ip;const n=M4(e,t);return n!==wu&&(e.state=null),n},XT=e=>F4(e,KT);let z5=!0,dx,hx;const QT=e=>{if(z5){dx=new Int32Array(512),hx=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(hh(C4,e.lens,0,288,dx,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;hh(A4,e.lens,0,32,hx,0,e.work,{bits:5}),z5=!1}e.lencode=dx,e.lenbits=9,e.distcode=hx,e.distbits=5},D4=(e,t,r,n)=>{let a;const o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>n&&(a=n),o.window.set(t.subarray(r-n,r-n+a),o.wnext),n-=a,n?(o.window.set(t.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},ZT=(e,t)=>{let r,n,a,o,c,u,d,f,p,b,y,v,_,k,E=0,A,L,P,R,Q,te,oe,se;const W=new Uint8Array(4);let ne,T;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Su(e)||!e.output||!e.input&&e.avail_in!==0)return Ja;r=e.state,r.mode===Dl&&(r.mode=lx),c=e.next_out,a=e.output,d=e.avail_out,o=e.next_in,n=e.input,u=e.avail_in,f=r.hold,p=r.bits,b=u,y=d,se=wu;e:for(;;)switch(r.mode){case Ip:if(r.wrap===0){r.mode=lx;break}for(;p<16;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,W[0]=f&255,W[1]=f>>>8&255,r.check=ol(r.check,W,2,0),f=0,p=0,r.mode=b5;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=dn;break}if((f&15)!==v5){e.msg="unknown compression method",r.mode=dn;break}if(f>>>=4,p-=4,oe=(f&15)+8,r.wbits===0&&(r.wbits=oe),oe>15||oe>r.wbits){e.msg="invalid window size",r.mode=dn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=f&512?E5:Dl,f=0,p=0;break;case b5:for(;p<16;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}if(r.flags=f,(r.flags&255)!==v5){e.msg="unknown compression method",r.mode=dn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=dn;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(W[0]=f&255,W[1]=f>>>8&255,r.check=ol(r.check,W,2,0)),f=0,p=0,r.mode=y5;case y5:for(;p<32;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(W[0]=f&255,W[1]=f>>>8&255,W[2]=f>>>16&255,W[3]=f>>>24&255,r.check=ol(r.check,W,4,0)),f=0,p=0,r.mode=w5;case w5:for(;p<16;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(W[0]=f&255,W[1]=f>>>8&255,r.check=ol(r.check,W,2,0)),f=0,p=0,r.mode=N5;case N5:if(r.flags&1024){for(;p<16;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(W[0]=f&255,W[1]=f>>>8&255,r.check=ol(r.check,W,2,0)),f=0,p=0}else r.head&&(r.head.extra=null);r.mode=j5;case j5:if(r.flags&1024&&(v=r.length,v>u&&(v=u),v&&(r.head&&(oe=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+v),oe)),r.flags&512&&r.wrap&4&&(r.check=ol(r.check,n,v,o)),u-=v,o+=v,r.length-=v),r.length))break e;r.length=0,r.mode=_5;case _5:if(r.flags&2048){if(u===0)break e;v=0;do oe=n[o+v++],r.head&&oe&&r.length<65536&&(r.head.name+=String.fromCharCode(oe));while(oe&&v<u);if(r.flags&512&&r.wrap&4&&(r.check=ol(r.check,n,v,o)),u-=v,o+=v,oe)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=S5;case S5:if(r.flags&4096){if(u===0)break e;v=0;do oe=n[o+v++],r.head&&oe&&r.length<65536&&(r.head.comment+=String.fromCharCode(oe));while(oe&&v<u);if(r.flags&512&&r.wrap&4&&(r.check=ol(r.check,n,v,o)),u-=v,o+=v,oe)break e}else r.head&&(r.head.comment=null);r.mode=k5;case k5:if(r.flags&512){for(;p<16;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}if(r.wrap&4&&f!==(r.check&65535)){e.msg="header crc mismatch",r.mode=dn;break}f=0,p=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Dl;break;case E5:for(;p<32;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}e.adler=r.check=U5(f),f=0,p=0,r.mode=fp;case fp:if(r.havedict===0)return e.next_out=c,e.avail_out=d,e.next_in=o,e.avail_in=u,r.hold=f,r.bits=p,VT;e.adler=r.check=1,r.mode=Dl;case Dl:if(t===BT||t===wf)break e;case lx:if(r.last){f>>>=p&7,p-=p&7,r.mode=ux;break}for(;p<3;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}switch(r.last=f&1,f>>>=1,p-=1,f&3){case 0:r.mode=C5;break;case 1:if(QT(r),r.mode=Nf,t===wf){f>>>=2,p-=2;break e}break;case 2:r.mode=P5;break;case 3:e.msg="invalid block type",r.mode=dn}f>>>=2,p-=2;break;case C5:for(f>>>=p&7,p-=p&7;p<32;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=dn;break}if(r.length=f&65535,f=0,p=0,r.mode=cx,t===wf)break e;case cx:r.mode=A5;case A5:if(v=r.length,v){if(v>u&&(v=u),v>d&&(v=d),v===0)break e;a.set(n.subarray(o,o+v),c),u-=v,o+=v,d-=v,c+=v,r.length-=v;break}r.mode=Dl;break;case P5:for(;p<14;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}if(r.nlen=(f&31)+257,f>>>=5,p-=5,r.ndist=(f&31)+1,f>>>=5,p-=5,r.ncode=(f&15)+4,f>>>=4,p-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=dn;break}r.have=0,r.mode=L5;case L5:for(;r.have<r.ncode;){for(;p<3;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}r.lens[U[r.have++]]=f&7,f>>>=3,p-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,ne={bits:r.lenbits},se=hh(zT,r.lens,0,19,r.lencode,0,r.work,ne),r.lenbits=ne.bits,se){e.msg="invalid code lengths set",r.mode=dn;break}r.have=0,r.mode=T5;case T5:for(;r.have<r.nlen+r.ndist;){for(;E=r.lencode[f&(1<<r.lenbits)-1],A=E>>>24,L=E>>>16&255,P=E&65535,!(A<=p);){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}if(P<16)f>>>=A,p-=A,r.lens[r.have++]=P;else{if(P===16){for(T=A+2;p<T;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}if(f>>>=A,p-=A,r.have===0){e.msg="invalid bit length repeat",r.mode=dn;break}oe=r.lens[r.have-1],v=3+(f&3),f>>>=2,p-=2}else if(P===17){for(T=A+3;p<T;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}f>>>=A,p-=A,oe=0,v=3+(f&7),f>>>=3,p-=3}else{for(T=A+7;p<T;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}f>>>=A,p-=A,oe=0,v=11+(f&127),f>>>=7,p-=7}if(r.have+v>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=dn;break}for(;v--;)r.lens[r.have++]=oe}}if(r.mode===dn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=dn;break}if(r.lenbits=9,ne={bits:r.lenbits},se=hh(C4,r.lens,0,r.nlen,r.lencode,0,r.work,ne),r.lenbits=ne.bits,se){e.msg="invalid literal/lengths set",r.mode=dn;break}if(r.distbits=6,r.distcode=r.distdyn,ne={bits:r.distbits},se=hh(A4,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,ne),r.distbits=ne.bits,se){e.msg="invalid distances set",r.mode=dn;break}if(r.mode=Nf,t===wf)break e;case Nf:r.mode=jf;case jf:if(u>=6&&d>=258){e.next_out=c,e.avail_out=d,e.next_in=o,e.avail_in=u,r.hold=f,r.bits=p,IT(e,y),c=e.next_out,a=e.output,d=e.avail_out,o=e.next_in,n=e.input,u=e.avail_in,f=r.hold,p=r.bits,r.mode===Dl&&(r.back=-1);break}for(r.back=0;E=r.lencode[f&(1<<r.lenbits)-1],A=E>>>24,L=E>>>16&255,P=E&65535,!(A<=p);){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}if(L&&(L&240)===0){for(R=A,Q=L,te=P;E=r.lencode[te+((f&(1<<R+Q)-1)>>R)],A=E>>>24,L=E>>>16&255,P=E&65535,!(R+A<=p);){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}f>>>=R,p-=R,r.back+=R}if(f>>>=A,p-=A,r.back+=A,r.length=P,L===0){r.mode=F5;break}if(L&32){r.back=-1,r.mode=Dl;break}if(L&64){e.msg="invalid literal/length code",r.mode=dn;break}r.extra=L&15,r.mode=R5;case R5:if(r.extra){for(T=r.extra;p<T;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,p-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=O5;case O5:for(;E=r.distcode[f&(1<<r.distbits)-1],A=E>>>24,L=E>>>16&255,P=E&65535,!(A<=p);){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}if((L&240)===0){for(R=A,Q=L,te=P;E=r.distcode[te+((f&(1<<R+Q)-1)>>R)],A=E>>>24,L=E>>>16&255,P=E&65535,!(R+A<=p);){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}f>>>=R,p-=R,r.back+=R}if(f>>>=A,p-=A,r.back+=A,L&64){e.msg="invalid distance code",r.mode=dn;break}r.offset=P,r.extra=L&15,r.mode=I5;case I5:if(r.extra){for(T=r.extra;p<T;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,p-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=dn;break}r.mode=M5;case M5:if(d===0)break e;if(v=y-d,r.offset>v){if(v=r.offset-v,v>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=dn;break}v>r.wnext?(v-=r.wnext,_=r.wsize-v):_=r.wnext-v,v>r.length&&(v=r.length),k=r.window}else k=a,_=c-r.offset,v=r.length;v>d&&(v=d),d-=v,r.length-=v;do a[c++]=k[_++];while(--v);r.length===0&&(r.mode=jf);break;case F5:if(d===0)break e;a[c++]=r.length,d--,r.mode=jf;break;case ux:if(r.wrap){for(;p<32;){if(u===0)break e;u--,f|=n[o++]<<p,p+=8}if(y-=d,e.total_out+=y,r.total+=y,r.wrap&4&&y&&(e.adler=r.check=r.flags?ol(r.check,a,y,c-y):jg(r.check,a,y,c-y)),y=d,r.wrap&4&&(r.flags?f:U5(f))!==r.check){e.msg="incorrect data check",r.mode=dn;break}f=0,p=0}r.mode=D5;case D5:if(r.wrap&&r.flags){for(;p<32;){if(u===0)break e;u--,f+=n[o++]<<p,p+=8}if(r.wrap&4&&f!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=dn;break}f=0,p=0}r.mode=q5;case q5:se=$T;break e;case dn:se=P4;break e;case T4:return L4;case R4:default:return Ja}return e.next_out=c,e.avail_out=d,e.next_in=o,e.avail_in=u,r.hold=f,r.bits=p,(r.wsize||y!==e.avail_out&&r.mode<dn&&(r.mode<ux||t!==g5))&&D4(e,e.output,e.next_out,y-e.avail_out),b-=e.avail_in,y-=e.avail_out,e.total_in+=b,e.total_out+=y,r.total+=y,r.wrap&4&&y&&(e.adler=r.check=r.flags?ol(r.check,a,y,e.next_out-y):jg(r.check,a,y,e.next_out-y)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Dl?128:0)+(r.mode===Nf||r.mode===cx?256:0),(b===0&&y===0||t===g5)&&se===wu&&(se=WT),se},eR=e=>{if(Su(e))return Ja;let t=e.state;return t.window&&(t.window=null),e.state=null,wu},tR=(e,t)=>{if(Su(e))return Ja;const r=e.state;return(r.wrap&2)===0?Ja:(r.head=t,t.done=!1,wu)},rR=(e,t)=>{const r=t.length;let n,a,o;return Su(e)||(n=e.state,n.wrap!==0&&n.mode!==fp)?Ja:n.mode===fp&&(a=1,a=jg(a,t,r,0),a!==n.check)?P4:(o=D4(e,t,r,r),o?(n.mode=T4,L4):(n.havedict=1,wu))};var nR=I4,sR=M4,iR=O4,aR=XT,oR=F4,lR=ZT,cR=eR,uR=tR,dR=rR,hR="pako inflate (from Nodeca project)",Ul={inflateReset:nR,inflateReset2:sR,inflateResetKeep:iR,inflateInit:aR,inflateInit2:oR,inflate:lR,inflateEnd:cR,inflateGetHeader:uR,inflateSetDictionary:dR,inflateInfo:hR};function fR(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var pR=fR;const q4=Object.prototype.toString,{Z_NO_FLUSH:mR,Z_FINISH:xR,Z_OK:Sh,Z_STREAM_END:fx,Z_NEED_DICT:px,Z_STREAM_ERROR:gR,Z_DATA_ERROR:B5,Z_MEM_ERROR:vR}=S4;function Th(e){this.options=k4.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new RT,this.strm.avail_out=0;let r=Ul.inflateInit2(this.strm,t.windowBits);if(r!==Sh)throw new Error(_g[r]);if(this.header=new pR,Ul.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Sg.string2buf(t.dictionary):q4.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Ul.inflateSetDictionary(this.strm,t.dictionary),r!==Sh)))throw new Error(_g[r])}Th.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let o,c,u;if(this.ended)return!1;for(t===~~t?c=t:c=t===!0?xR:mR,q4.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=Ul.inflate(r,c),o===px&&a&&(o=Ul.inflateSetDictionary(r,a),o===Sh?o=Ul.inflate(r,c):o===B5&&(o=px));r.avail_in>0&&o===fx&&r.state.wrap>0&&e[r.next_in]!==0;)Ul.inflateReset(r),o=Ul.inflate(r,c);switch(o){case gR:case B5:case px:case vR:return this.onEnd(o),this.ended=!0,!1}if(u=r.avail_out,r.next_out&&(r.avail_out===0||o===fx))if(this.options.to==="string"){let d=Sg.utf8border(r.output,r.next_out),f=r.next_out-d,p=Sg.buf2string(r.output,d);r.next_out=f,r.avail_out=n-f,f&&r.output.set(r.output.subarray(d,d+f),0),this.onData(p)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===Sh&&u===0)){if(o===fx)return o=Ul.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Th.prototype.onData=function(e){this.chunks.push(e)};Th.prototype.onEnd=function(e){e===Sh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=k4.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function bR(e,t){const r=new Th(t);if(r.push(e),r.err)throw r.msg||_g[r.err];return r.result}var yR=Th,wR=bR,NR={Inflate:yR,inflate:wR};const{Inflate:jR,inflate:_R}=NR;var $5=jR,SR=_R;const U4=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;U4[e]=t}const V5=4294967295;function kR(e,t,r){let n=e;for(let a=0;a<r;a++)n=U4[(n^t[a])&255]^n>>>8;return n}function ER(e,t){return(kR(V5,e,t)^V5)>>>0}function W5(e,t,r){const n=e.readUint32(),a=ER(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function z4(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function B4(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function $4(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function V4(e,t,r,n,a){let o=0;if(r.length===0){for(;o<a;o++)t[o]=e[o];for(;o<n;o++)t[o]=e[o]+(t[o-a]>>1)&255}else{for(;o<a;o++)t[o]=e[o]+(r[o]>>1)&255;for(;o<n;o++)t[o]=e[o]+(t[o-a]+r[o]>>1)&255}}function W4(e,t,r,n,a){let o=0;if(r.length===0){for(;o<a;o++)t[o]=e[o];for(;o<n;o++)t[o]=e[o]+t[o-a]&255}else{for(;o<a;o++)t[o]=e[o]+r[o]&255;for(;o<n;o++)t[o]=e[o]+CR(t[o-a],r[o],r[o-a])&255}}function CR(e,t,r){const n=e+t-r,a=Math.abs(n-e),o=Math.abs(n-t),c=Math.abs(n-r);return a<=o&&a<=c?e:o<=c?t:r}function AR(e,t,r,n,a,o){switch(e){case 0:z4(t,r,a);break;case 1:B4(t,r,a,o);break;case 2:$4(t,r,n,a);break;case 3:V4(t,r,n,a,o);break;case 4:W4(t,r,n,a,o);break;default:throw new Error(`Unsupported filter: ${e}`)}}const PR=new Uint16Array([255]),LR=new Uint8Array(PR.buffer),TR=LR[0]===255;function RR(e){const{data:t,width:r,height:n,channels:a,depth:o}=e,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(o/8)*a,d=new Uint8Array(n*r*u);let f=0;for(let p=0;p<7;p++){const b=c[p],y=Math.ceil((r-b.x)/b.xStep),v=Math.ceil((n-b.y)/b.yStep);if(y<=0||v<=0)continue;const _=y*u,k=new Uint8Array(_);for(let E=0;E<v;E++){const A=t[f++],L=t.subarray(f,f+_);f+=_;const P=new Uint8Array(_);AR(A,L,P,k,_,u),k.set(P);for(let R=0;R<y;R++){const Q=b.x+R*b.xStep,te=b.y+E*b.yStep;if(!(Q>=r||te>=n))for(let oe=0;oe<u;oe++)d[(te*r+Q)*u+oe]=P[R*u+oe]}}}if(o===16){const p=new Uint16Array(d.buffer);if(TR)for(let b=0;b<p.length;b++)p[b]=OR(p[b]);return p}else return d}function OR(e){return(e&255)<<8|e>>8&255}const IR=new Uint16Array([255]),MR=new Uint8Array(IR.buffer),FR=MR[0]===255,DR=new Uint8Array(0);function H5(e){const{data:t,width:r,height:n,channels:a,depth:o}=e,c=Math.ceil(o/8)*a,u=Math.ceil(o/8*a*r),d=new Uint8Array(n*u);let f=DR,p=0,b,y;for(let v=0;v<n;v++){switch(b=t.subarray(p+1,p+1+u),y=d.subarray(v*u,(v+1)*u),t[p]){case 0:z4(b,y,u);break;case 1:B4(b,y,u,c);break;case 2:$4(b,y,f,u);break;case 3:V4(b,y,f,u,c);break;case 4:W4(b,y,f,u,c);break;default:throw new Error(`Unsupported filter: ${t[p]}`)}f=y,p+=u+1}if(o===16){const v=new Uint16Array(d.buffer);if(FR)for(let _=0;_<v.length;_++)v[_]=qR(v[_]);return v}else return d}function qR(e){return(e&255)<<8|e>>8&255}const Mf=Uint8Array.of(137,80,78,71,13,10,26,10);function G5(e){if(!UR(e.readBytes(Mf.length)))throw new Error("wrong PNG signature")}function UR(e){if(e.length<Mf.length)return!1;for(let t=0;t<Mf.length;t++)if(e[t]!==Mf[t])return!1;return!0}const zR="tEXt",BR=0,H4=new TextDecoder("latin1");function $R(e){if(WR(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const VR=/^[\u0000-\u00FF]*$/;function WR(e){if(!VR.test(e))throw new Error("invalid latin1 text")}function HR(e,t,r){const n=G4(t);e[n]=GR(t,r-n.length-1)}function G4(e){for(e.mark();e.readByte()!==BR;);const t=e.offset;e.reset();const r=H4.decode(e.readBytes(t-e.offset-1));return e.skip(1),$R(r),r}function GR(e,t){return H4.decode(e.readBytes(t))}const da={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},mx={UNKNOWN:-1,DEFLATE:0},Y5={UNKNOWN:-1,ADAPTIVE:0},xx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},_f={NONE:0,BACKGROUND:1,PREVIOUS:2},gx={SOURCE:0,OVER:1};class YR extends r1{constructor(r,n={}){super(r);Fr(this,"_checkCrc");Fr(this,"_inflator");Fr(this,"_png");Fr(this,"_apng");Fr(this,"_end");Fr(this,"_hasPalette");Fr(this,"_palette");Fr(this,"_hasTransparency");Fr(this,"_transparency");Fr(this,"_compressionMethod");Fr(this,"_filterMethod");Fr(this,"_interlaceMethod");Fr(this,"_colorType");Fr(this,"_isAnimated");Fr(this,"_numberOfFrames");Fr(this,"_numberOfPlays");Fr(this,"_frames");Fr(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new $5,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=mx.UNKNOWN,this._filterMethod=Y5.UNKNOWN,this._interlaceMethod=xx.UNKNOWN,this._colorType=da.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(G5(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(G5(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case zR:HR(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?W5(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?W5(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=KR(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case da.GREYSCALE:a=1;break;case da.TRUECOLOUR:a=3;break;case da.INDEXED_COLOUR:a=1;break;case da.GREYSCALE_ALPHA:a=2;break;case da.TRUECOLOUR_ALPHA:a=4;break;case da.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==mx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<n;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case da.GREYSCALE:case da.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case da.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case da.UNKNOWN:case da.GREYSCALE_ALPHA:case da.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=G4(this),a=this.readUint8();if(a!==mx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:SR(o)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=H5({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const o=this._apng.frames.at(r-1);this.disposeFrame(a,o,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case _f.NONE:break;case _f.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let c=0;c<this._png.width;c++){const u=(o*r.width+c)*this._png.channels;for(let d=0;d<this._png.channels;d++)a.data[u+d]=0}break;case _f.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,o=(c,u)=>{const d=((c+n.yOffset)*this._png.width+n.xOffset+u)*this._png.channels,f=(c*n.width+u)*this._png.channels;return{index:d,frameIndex:f}};switch(n.blendOp){case gx.SOURCE:for(let c=0;c<n.height;c++)for(let u=0;u<n.width;u++){const{index:d,frameIndex:f}=o(c,u);for(let p=0;p<this._png.channels;p++)r.data[d+p]=n.data[f+p]}break;case gx.OVER:for(let c=0;c<n.height;c++)for(let u=0;u<n.width;u++){const{index:d,frameIndex:f}=o(c,u);for(let p=0;p<this._png.channels;p++){const b=n.data[f+this._png.channels-1]/a,y=p%(this._png.channels-1)===0?1:n.data[f+p],v=Math.floor(b*y+(1-b)*r.data[d+p]);r.data[d+p]+=v}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Y5.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===xx.NO_INTERLACE)this._png.data=H5({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===xx.ADAM7)this._png.data=RR({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:_f.NONE,blendOp:gx.SOURCE,data:r}),this._inflator=new $5,this._writingDataChunks=!1}}function KR(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var K5;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(K5||(K5={}));function JR(e,t){return new YR(e,t).decode()}var Ht=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function vx(){Ht.console&&typeof Ht.console.log=="function"&&Ht.console.log.apply(Ht.console,arguments)}var $r={log:vx,warn:function(e){Ht.console&&(typeof Ht.console.warn=="function"?Ht.console.warn.apply(Ht.console,arguments):vx.call(null,arguments))},error:function(e){Ht.console&&(typeof Ht.console.error=="function"?Ht.console.error.apply(Ht.console,arguments):vx(e))}};function bx(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){ou(n.response,t,r)},n.onerror=function(){$r.error("could not download file")},n.send()}function J5(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Sf(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var ou=Ht.saveAs||((typeof window>"u"?"undefined":Dr(window))!=="object"||window!==Ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Ht.URL||Ht.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?J5(a.href)?bx(e,t,r):Sf(a,a.target="_blank"):Sf(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Sf(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(J5(e))bx(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Sf(n)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Dr(o)!=="object"&&($r.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return bx(e,t,r);var a=e.type==="application/octet-stream",o=/constructor/i.test(Ht.HTMLElement)||Ht.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&(typeof FileReader>"u"?"undefined":Dr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=c?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},u.readAsDataURL(e)}else{var d=Ht.URL||Ht.webkitURL,f=d.createObjectURL(e);n?n.location=f:location.href=f,n=null,setTimeout(function(){d.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Y4(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,o=r[n].process,c=a.exec(e);c&&(t=o(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),"#"+u+d+f}}var Ff=Ht.atob.bind(Ht),X5=Ht.btoa.bind(Ht);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function yx(e,t){var r=e[0],n=e[1],a=e[2],o=e[3];r=ni(r,n,a,o,t[0],7,-680876936),o=ni(o,r,n,a,t[1],12,-389564586),a=ni(a,o,r,n,t[2],17,606105819),n=ni(n,a,o,r,t[3],22,-1044525330),r=ni(r,n,a,o,t[4],7,-176418897),o=ni(o,r,n,a,t[5],12,1200080426),a=ni(a,o,r,n,t[6],17,-1473231341),n=ni(n,a,o,r,t[7],22,-45705983),r=ni(r,n,a,o,t[8],7,1770035416),o=ni(o,r,n,a,t[9],12,-1958414417),a=ni(a,o,r,n,t[10],17,-42063),n=ni(n,a,o,r,t[11],22,-1990404162),r=ni(r,n,a,o,t[12],7,1804603682),o=ni(o,r,n,a,t[13],12,-40341101),a=ni(a,o,r,n,t[14],17,-1502002290),r=si(r,n=ni(n,a,o,r,t[15],22,1236535329),a,o,t[1],5,-165796510),o=si(o,r,n,a,t[6],9,-1069501632),a=si(a,o,r,n,t[11],14,643717713),n=si(n,a,o,r,t[0],20,-373897302),r=si(r,n,a,o,t[5],5,-701558691),o=si(o,r,n,a,t[10],9,38016083),a=si(a,o,r,n,t[15],14,-660478335),n=si(n,a,o,r,t[4],20,-405537848),r=si(r,n,a,o,t[9],5,568446438),o=si(o,r,n,a,t[14],9,-1019803690),a=si(a,o,r,n,t[3],14,-187363961),n=si(n,a,o,r,t[8],20,1163531501),r=si(r,n,a,o,t[13],5,-1444681467),o=si(o,r,n,a,t[2],9,-51403784),a=si(a,o,r,n,t[7],14,1735328473),r=ii(r,n=si(n,a,o,r,t[12],20,-1926607734),a,o,t[5],4,-378558),o=ii(o,r,n,a,t[8],11,-2022574463),a=ii(a,o,r,n,t[11],16,1839030562),n=ii(n,a,o,r,t[14],23,-35309556),r=ii(r,n,a,o,t[1],4,-1530992060),o=ii(o,r,n,a,t[4],11,1272893353),a=ii(a,o,r,n,t[7],16,-155497632),n=ii(n,a,o,r,t[10],23,-1094730640),r=ii(r,n,a,o,t[13],4,681279174),o=ii(o,r,n,a,t[0],11,-358537222),a=ii(a,o,r,n,t[3],16,-722521979),n=ii(n,a,o,r,t[6],23,76029189),r=ii(r,n,a,o,t[9],4,-640364487),o=ii(o,r,n,a,t[12],11,-421815835),a=ii(a,o,r,n,t[15],16,530742520),r=ai(r,n=ii(n,a,o,r,t[2],23,-995338651),a,o,t[0],6,-198630844),o=ai(o,r,n,a,t[7],10,1126891415),a=ai(a,o,r,n,t[14],15,-1416354905),n=ai(n,a,o,r,t[5],21,-57434055),r=ai(r,n,a,o,t[12],6,1700485571),o=ai(o,r,n,a,t[3],10,-1894986606),a=ai(a,o,r,n,t[10],15,-1051523),n=ai(n,a,o,r,t[1],21,-2054922799),r=ai(r,n,a,o,t[8],6,1873313359),o=ai(o,r,n,a,t[15],10,-30611744),a=ai(a,o,r,n,t[6],15,-1560198380),n=ai(n,a,o,r,t[13],21,1309151649),r=ai(r,n,a,o,t[4],6,-145523070),o=ai(o,r,n,a,t[11],10,-1120210379),a=ai(a,o,r,n,t[2],15,718787259),n=ai(n,a,o,r,t[9],21,-343485551),e[0]=jc(r,e[0]),e[1]=jc(n,e[1]),e[2]=jc(a,e[2]),e[3]=jc(o,e[3])}function Mp(e,t,r,n,a,o){return t=jc(jc(t,e),jc(n,o)),jc(t<<a|t>>>32-a,r)}function ni(e,t,r,n,a,o,c){return Mp(t&r|~t&n,e,t,a,o,c)}function si(e,t,r,n,a,o,c){return Mp(t&n|r&~n,e,t,a,o,c)}function ii(e,t,r,n,a,o,c){return Mp(t^r^n,e,t,a,o,c)}function ai(e,t,r,n,a,o,c){return Mp(r^(t|~n),e,t,a,o,c)}function K4(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)yx(n,XR(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(yx(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,yx(n,a),n}function XR(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var Q5="0123456789abcdef".split("");function QR(e){for(var t="",r=0;r<4;r++)t+=Q5[e>>8*r+4&15]+Q5[e>>8*r&15];return t}function ZR(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function kg(e){return K4(e).map(ZR).join("")}var eO=(function(e){for(var t=0;t<e.length;t++)e[t]=QR(e[t]);return e.join("")})(K4("hello"))!="5d41402abc4b2a76b9719d911017c592";function jc(e,t){if(eO){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Eg(e,t){var r,n,a,o;if(e!==r){for(var c=(a=e,o=1+(256/e.length|0),new Array(o+1).join(a)),u=[],d=0;d<256;d++)u[d]=d;var f=0;for(d=0;d<256;d++){var p=u[d];f=(f+p+c.charCodeAt(d))%256,u[d]=u[f],u[f]=p}r=e,n=u}else u=n;var b=t.length,y=0,v=0,_="";for(d=0;d<b;d++)v=(v+(p=u[y=(y+1)%256]))%256,u[y]=u[v],u[v]=p,c=u[(u[y]+u[v])%256],_+=String.fromCharCode(t.charCodeAt(d)^c);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Z5={print:4,modify:8,copy:16,"annot-forms":32};function ud(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(u){if(Z5.perm!==void 0)throw new Error("Invalid permission: "+u);a+=Z5[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),c=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^a)),this.encryptionKey=kg(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Eg(this.encryptionKey,this.padding)}function dd(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function ey(e){if(Dr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var o=Math.random().toString(35);return t[r][o]=[n,!!a],o},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var o in t[r]){var c=t[r][o];try{c[0].apply(e,n)}catch(u){Ht.console&&$r.error("jsPDF PubSub Error",u.message,u)}c[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function pp(e){if(!(this instanceof pp))return new pp(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function J4(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function hu(e,t,r,n,a){if(!(this instanceof hu))return new hu(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,J4.call(this,n,a)}function xd(e,t,r,n,a){if(!(this instanceof xd))return new xd(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,J4.call(this,n,a)}function Nt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],o=arguments[3],c=[],u=1,d=16,f="S",p=null;Dr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,o=e.compress||e.compressPdf||o,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),f=e.defaultPathOperation||"S"),c=e.filters||(o===!0?["FlateEncode"]:c),n=n||"mm",r=(""+(r||"P")).toLowerCase();var b=e.putOnlyUsedFonts||!1,y={},v={internal:{},__private__:{}};v.__private__.PubSub=ey;var _="1.3",k=v.__private__.getPdfVersion=function(){return _};v.__private__.setPdfVersion=function(w){_=w};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return E};var A=v.__private__.getPageFormat=function(w){return E[w]};a=a||"a4";var L="compat",P="advanced",R=L;function Q(){this.saveGraphicsState(),K(new Lt(Mt,0,0,-Mt,0,Sn()*Mt).toString()+" cm"),this.setFontSize(this.getFontSize()/Mt),f="n",R=P}function te(){this.restoreGraphicsState(),f="S",R=L}var oe=v.__private__.combineFontStyleAndFontWeight=function(w,M){if(w=="bold"&&M=="normal"||w=="bold"&&M==400||w=="normal"&&M=="italic"||w=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(w=M==400||M==="normal"?w==="italic"?"italic":"normal":M!=700&&M!=="bold"||w!=="normal"?(M==700?"bold":M)+""+w:"bold"),w};v.advancedAPI=function(w){var M=R===L;return M&&Q.call(this),typeof w!="function"||(w(this),M&&te.call(this)),this},v.compatAPI=function(w){var M=R===P;return M&&te.call(this),typeof w!="function"||(w(this),M&&Q.call(this)),this},v.isAdvancedAPI=function(){return R===P};var se,W=function(w){if(R!==P)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ne=v.roundToPrecision=v.__private__.roundToPrecision=function(w,M){var re=t||M;if(isNaN(w)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(re).replace(/0+$/,"")};se=v.hpf=v.__private__.hpf=typeof d=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(w,d)}:d==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(w,16)};var T=v.f2=v.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return ne(w,2)},U=v.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return ne(w,3)},Y=v.scale=v.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return R===L?w*Mt:R===P?w:void 0},H=function(w){return Y((function(M){return R===L?Sn()-M:R===P?M:void 0})(w))};v.__private__.setPrecision=v.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(t=parseInt(w,10))};var be,we="00000000000000000000000000000000",ge=v.__private__.getFileId=function(){return we},ie=v.__private__.setFileId=function(w){return we=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():we.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(cr=new ud(p.userPermissions,p.userPassword,p.ownerPassword,we)),we};v.setFileId=function(w){return ie(w),this},v.getFileId=function(){return ge()};var pe=v.__private__.convertDateToPDFDate=function(w){var M=w.getTimezoneOffset(),re=M<0?"+":"-",de=Math.floor(Math.abs(M/60)),_e=Math.abs(M%60),qe=[re,ee(de),"'",ee(_e),"'"].join("");return["D:",w.getFullYear(),ee(w.getMonth()+1),ee(w.getDate()),ee(w.getHours()),ee(w.getMinutes()),ee(w.getSeconds()),qe].join("")},V=v.__private__.convertPDFDateToDate=function(w){var M=parseInt(w.substr(2,4),10),re=parseInt(w.substr(6,2),10)-1,de=parseInt(w.substr(8,2),10),_e=parseInt(w.substr(10,2),10),qe=parseInt(w.substr(12,2),10),$e=parseInt(w.substr(14,2),10);return new Date(M,re,de,_e,qe,$e,0)},ce=v.__private__.setCreationDate=function(w){var M;if(w===void 0&&(w=new Date),w instanceof Date)M=pe(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=w}return be=M},I=v.__private__.getCreationDate=function(w){var M=be;return w==="jsDate"&&(M=V(be)),M};v.setCreationDate=function(w){return ce(w),this},v.getCreationDate=function(w){return I(w)};var J,ee=v.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},le=v.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ue=0,ye=[],Ce=[],fe=0,me=[],Oe=[],je=!1,Ve=Ce;v.__private__.setCustomOutputDestination=function(w){je=!0,Ve=w};var ze=function(w){je||(Ve=w)};v.__private__.resetCustomOutputDestination=function(){je=!1,Ve=Ce};var K=v.__private__.out=function(w){return w=w.toString(),fe+=w.length+1,Ve.push(w),Ve},We=v.__private__.write=function(w){return K(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},vt=v.__private__.getArrayBuffer=function(w){for(var M=w.length,re=new ArrayBuffer(M),de=new Uint8Array(re);M--;)de[M]=w.charCodeAt(M);return re},tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return tt};var Be=e.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(w){return Be=R===P?w/Mt:w,this};var ht,Ze=v.__private__.getFontSize=v.getFontSize=function(){return R===L?Be:Be*Mt},mt=e.R2L||!1;v.__private__.setR2L=v.setR2L=function(w){return mt=w,this},v.__private__.getR2L=v.getR2L=function(){return mt};var xt,yr=v.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))ht=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');ht=w}else ht=parseInt(w,10)};v.__private__.getZoomMode=function(){return ht};var nr,$t=v.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');xt=w};v.__private__.getPageMode=function(){return xt};var sr=v.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');nr=w};v.__private__.getLayoutMode=function(){return nr},v.__private__.setDisplayMode=v.setDisplayMode=function(w,M,re){return yr(w),sr(M),$t(re),this};var Jt={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(w){if(Object.keys(Jt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Jt[w]},v.__private__.getDocumentProperties=function(){return Jt},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(w){for(var M in Jt)Jt.hasOwnProperty(M)&&w[M]&&(Jt[M]=w[M]);return this},v.__private__.setDocumentProperty=function(w,M){if(Object.keys(Jt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Jt[w]=M};var at,Mt,ot,Qr,Qt,Gt={},Vt={},Or=[],yt={},Er={},kt={},Ut={},jr=null,Yt=0,At=[],lr=new ey(v),Qa=e.hotfixes||[],zn={},Gi={},oi=[],Lt=function w(M,re,de,_e,qe,$e){if(!(this instanceof w))return new w(M,re,de,_e,qe,$e);isNaN(M)&&(M=1),isNaN(re)&&(re=0),isNaN(de)&&(de=0),isNaN(_e)&&(_e=1),isNaN(qe)&&(qe=0),isNaN($e)&&($e=0),this._matrix=[M,re,de,_e,qe,$e]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(se).join(w)},Lt.prototype.multiply=function(w){var M=w.sx*this.sx+w.shy*this.shx,re=w.sx*this.shy+w.shy*this.sy,de=w.shx*this.sx+w.sy*this.shx,_e=w.shx*this.shy+w.sy*this.sy,qe=w.tx*this.sx+w.ty*this.shx+this.tx,$e=w.tx*this.shy+w.ty*this.sy+this.ty;return new Lt(M,re,de,_e,qe,$e)},Lt.prototype.decompose=function(){var w=this.sx,M=this.shy,re=this.shx,de=this.sy,_e=this.tx,qe=this.ty,$e=Math.sqrt(w*w+M*M),lt=(w/=$e)*re+(M/=$e)*de;re-=w*lt,de-=M*lt;var et=Math.sqrt(re*re+de*de);return lt/=et,w*(de/=et)<M*(re/=et)&&(w=-w,M=-M,lt=-lt,$e=-$e),{scale:new Lt($e,0,0,et,0,0),translate:new Lt(1,0,0,1,_e,qe),rotate:new Lt(w,M,-M,w,0,0),skew:new Lt(1,0,lt,1,0,0)}},Lt.prototype.toString=function(w){return this.join(" ")},Lt.prototype.inversed=function(){var w=this.sx,M=this.shy,re=this.shx,de=this.sy,_e=this.tx,qe=this.ty,$e=1/(w*de-M*re),lt=de*$e,et=-M*$e,Tt=-re*$e,_t=w*$e;return new Lt(lt,et,Tt,_t,-lt*_e-Tt*qe,-et*_e-_t*qe)},Lt.prototype.applyToPoint=function(w){var M=w.x*this.sx+w.y*this.shx+this.tx,re=w.x*this.shy+w.y*this.sy+this.ty;return new Ys(M,re)},Lt.prototype.applyToRectangle=function(w){var M=this.applyToPoint(w),re=this.applyToPoint(new Ys(w.x+w.w,w.y+w.h));return new _a(M.x,M.y,re.x-M.x,re.y-M.y)},Lt.prototype.clone=function(){var w=this.sx,M=this.shy,re=this.shx,de=this.sy,_e=this.tx,qe=this.ty;return new Lt(w,M,re,de,_e,qe)},v.Matrix=Lt;var Us=v.matrixMult=function(w,M){return M.multiply(w)},wn=new Lt(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=wn;var qr=function(w,M){if(!Er[w]){var re=(M instanceof hu?"Sh":"P")+(Object.keys(yt).length+1).toString(10);M.id=re,Er[w]=re,yt[re]=M,lr.publish("addPattern",M)}};v.ShadingPattern=hu,v.TilingPattern=xd,v.addShadingPattern=function(w,M){return W("addShadingPattern()"),qr(w,M),this},v.beginTilingPattern=function(w){W("beginTilingPattern()"),Ss(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},v.endTilingPattern=function(w,M){W("endTilingPattern()"),M.stream=Oe[J].join(`
`),qr(w,M),lr.publish("endTilingPattern",M),oi.pop().restore()};var Ns,gr=v.__private__.newObject=function(){var w=Zr();return an(w,!0),w},Zr=v.__private__.newObjectDeferred=function(){return ue++,ye[ue]=function(){return fe},ue},an=function(w,M){return M=typeof M=="boolean"&&M,ye[w]=fe,M&&K(w+" 0 obj"),w},Yi=v.__private__.newAdditionalObject=function(){var w={objId:Zr(),content:""};return me.push(w),w},zs=Zr(),Bs=Zr(),$s=v.__private__.decodeColorString=function(w){var M=w.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length!==5||M[4]!=="k"&&M[4]!=="K"||(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var re=parseFloat(M[0]);M=[re,re,re,"r"]}for(var de="#",_e=0;_e<3;_e++)de+=("0"+Math.floor(255*parseFloat(M[_e])).toString(16)).slice(-2);return de},Nn=v.__private__.encodeColorString=function(w){var M;typeof w=="string"&&(w={ch1:w});var re=w.ch1,de=w.ch2,_e=w.ch3,qe=w.ch4,$e=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var lt=new Y4(re);if(lt.ok)re=lt.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var et=parseInt(re.substr(1),16);re=et>>16&255,de=et>>8&255,_e=255&et}if(de===void 0||qe===void 0&&re===de&&de===_e)M=typeof re=="string"?re+" "+$e[0]:w.precision===2?T(re/255)+" "+$e[0]:U(re/255)+" "+$e[0];else if(qe===void 0||Dr(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return["1.","1.","1.",$e[1]].join(" ");M=typeof re=="string"?[re,de,_e,$e[1]].join(" "):w.precision===2?[T(re/255),T(de/255),T(_e/255),$e[1]].join(" "):[U(re/255),U(de/255),U(_e/255),$e[1]].join(" ")}else M=typeof re=="string"?[re,de,_e,qe,$e[2]].join(" "):w.precision===2?[T(re),T(de),T(_e),T(qe),$e[2]].join(" "):[U(re),U(de),U(_e),U(qe),$e[2]].join(" ");return M},li=v.__private__.getFilters=function(){return c},Vs=v.__private__.putStream=function(w){var M=(w=w||{}).data||"",re=w.filters||li(),de=w.alreadyAppliedFilters||[],_e=w.addLength1||!1,qe=M.length,$e=w.objectId,lt=function(on){return on};if(p!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(lt=cr.encryptor($e,0));var et={};re===!0&&(re=["FlateEncode"]);var Tt=w.additionalKeyValues||[],_t=(et=Nt.API.processDataByFilters!==void 0?Nt.API.processDataByFilters(M,re):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(et.data.length!==0&&(Tt.push({key:"Length",value:et.data.length}),_e===!0&&Tt.push({key:"Length1",value:qe})),_t.length!=0)if(_t.split("/").length-1==1)Tt.push({key:"Filter",value:_t});else{Tt.push({key:"Filter",value:"["+_t+"]"});for(var ir=0;ir<Tt.length;ir+=1)if(Tt[ir].key==="DecodeParms"){for(var Ft=[],en=0;en<et.reverseChain.split("/").length-1;en+=1)Ft.push("null");Ft.push(Tt[ir].value),Tt[ir].value="["+Ft.join(" ")+"]"}}K("<<");for(var tr=0;tr<Tt.length;tr++)K("/"+Tt[tr].key+" "+Tt[tr].value);K(">>"),et.data.length!==0&&(K("stream"),K(lt(et.data)),K("endstream"))},Ki=v.__private__.putPage=function(w){var M=w.number,re=w.data,de=w.objId,_e=w.contentsObjId;an(de,!0),K("<</Type /Page"),K("/Parent "+w.rootDictionaryObjId+" 0 R"),K("/Resources "+w.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(se(w.mediaBox.bottomLeftX))+" "+parseFloat(se(w.mediaBox.bottomLeftY))+" "+se(w.mediaBox.topRightX)+" "+se(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&K("/CropBox ["+se(w.cropBox.bottomLeftX)+" "+se(w.cropBox.bottomLeftY)+" "+se(w.cropBox.topRightX)+" "+se(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&K("/BleedBox ["+se(w.bleedBox.bottomLeftX)+" "+se(w.bleedBox.bottomLeftY)+" "+se(w.bleedBox.topRightX)+" "+se(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&K("/TrimBox ["+se(w.trimBox.bottomLeftX)+" "+se(w.trimBox.bottomLeftY)+" "+se(w.trimBox.topRightX)+" "+se(w.trimBox.topRightY)+"]"),w.artBox!==null&&K("/ArtBox ["+se(w.artBox.bottomLeftX)+" "+se(w.artBox.bottomLeftY)+" "+se(w.artBox.topRightX)+" "+se(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&K("/UserUnit "+w.userUnit),lr.publish("putPage",{objId:de,pageContext:At[M],pageNumber:M,page:re}),K("/Contents "+_e+" 0 R"),K(">>"),K("endobj");var qe=re.join(`
`);return R===P&&(qe+=`
Q`),an(_e,!0),Vs({data:qe,filters:li(),objectId:_e}),K("endobj"),de},ci=v.__private__.putPages=function(){var w,M,re=[];for(w=1;w<=Yt;w++)At[w].objId=Zr(),At[w].contentsObjId=Zr();for(w=1;w<=Yt;w++)re.push(Ki({number:w,data:Oe[w],objId:At[w].objId,contentsObjId:At[w].contentsObjId,mediaBox:At[w].mediaBox,cropBox:At[w].cropBox,bleedBox:At[w].bleedBox,trimBox:At[w].trimBox,artBox:At[w].artBox,userUnit:At[w].userUnit,rootDictionaryObjId:zs,resourceDictionaryObjId:Bs}));an(zs,!0),K("<</Type /Pages");var de="/Kids [";for(M=0;M<Yt;M++)de+=re[M]+" 0 R ";K(de+"]"),K("/Count "+Yt),K(">>"),K("endobj"),lr.publish("postPutPages")},Za=function(w){lr.publish("putFont",{font:w,out:K,newObject:gr,putStream:Vs}),w.isAlreadyPutted!==!0&&(w.objectNumber=gr(),K("<<"),K("/Type /Font"),K("/BaseFont /"+dd(w.postScriptName)),K("/Subtype /Type1"),typeof w.encoding=="string"&&K("/Encoding /"+w.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},Oo=function(w){w.objectNumber=gr();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[se(w.x),se(w.y),se(w.x+w.width),se(w.y+w.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var re=w.pages[1].join(`
`);Vs({data:re,additionalKeyValues:M,objectId:w.objectNumber}),K("endobj")},Io=function(w,M){M||(M=21);var re=gr(),de=(function($e,lt){var et,Tt=[],_t=1/(lt-1);for(et=0;et<1;et+=_t)Tt.push(et);if(Tt.push(1),$e[0].offset!=0){var ir={offset:0,color:$e[0].color};$e.unshift(ir)}if($e[$e.length-1].offset!=1){var Ft={offset:1,color:$e[$e.length-1].color};$e.push(Ft)}for(var en="",tr=0,on=0;on<Tt.length;on++){for(et=Tt[on];et>$e[tr+1].offset;)tr++;var ur=$e[tr].offset,kn=(et-ur)/($e[tr+1].offset-ur),Zi=$e[tr].color,Ai=$e[tr+1].color;en+=le(Math.round((1-kn)*Zi[0]+kn*Ai[0]).toString(16))+le(Math.round((1-kn)*Zi[1]+kn*Ai[1]).toString(16))+le(Math.round((1-kn)*Zi[2]+kn*Ai[2]).toString(16))}return en.trim()})(w.colors,M),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+M+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vs({data:de,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),K("endobj"),w.objectNumber=gr(),K("<< /ShadingType "+w.type),K("/ColorSpace /DeviceRGB");var qe="/Coords ["+se(parseFloat(w.coords[0]))+" "+se(parseFloat(w.coords[1]))+" ";w.type===2?qe+=se(parseFloat(w.coords[2]))+" "+se(parseFloat(w.coords[3])):qe+=se(parseFloat(w.coords[2]))+" "+se(parseFloat(w.coords[3]))+" "+se(parseFloat(w.coords[4]))+" "+se(parseFloat(w.coords[5])),K(qe+="]"),w.matrix&&K("/Matrix ["+w.matrix.toString()+"]"),K("/Function "+re+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},Mo=function(w,M){var re=Zr(),de=gr();M.push({resourcesOid:re,objectOid:de}),w.objectNumber=de;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+w.boundingBox.map(se).join(" ")+"]"}),_e.push({key:"XStep",value:se(w.xStep)}),_e.push({key:"YStep",value:se(w.yStep)}),_e.push({key:"Resources",value:re+" 0 R"}),w.matrix&&_e.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),Vs({data:w.stream,additionalKeyValues:_e,objectId:w.objectNumber}),K("endobj")},Eu=function(w){for(var M in w.objectNumber=gr(),K("<<"),w)switch(M){case"opacity":K("/ca "+T(w[M]));break;case"stroke-opacity":K("/CA "+T(w[M]))}K(">>"),K("endobj")},Mr=function(w){an(w.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var M in K("/Font <<"),Gt)Gt.hasOwnProperty(M)&&(b===!1||b===!0&&y.hasOwnProperty(M))&&K("/"+M+" "+Gt[M].objectNumber+" 0 R");K(">>")})(),(function(){if(Object.keys(yt).length>0){for(var M in K("/Shading <<"),yt)yt.hasOwnProperty(M)&&yt[M]instanceof hu&&yt[M].objectNumber>=0&&K("/"+M+" "+yt[M].objectNumber+" 0 R");lr.publish("putShadingPatternDict"),K(">>")}})(),(function(M){if(Object.keys(yt).length>0){for(var re in K("/Pattern <<"),yt)yt.hasOwnProperty(re)&&yt[re]instanceof v.TilingPattern&&yt[re].objectNumber>=0&&yt[re].objectNumber<M&&K("/"+re+" "+yt[re].objectNumber+" 0 R");lr.publish("putTilingPatternDict"),K(">>")}})(w.objectOid),(function(){if(Object.keys(kt).length>0){var M;for(M in K("/ExtGState <<"),kt)kt.hasOwnProperty(M)&&kt[M].objectNumber>=0&&K("/"+M+" "+kt[M].objectNumber+" 0 R");lr.publish("putGStateDict"),K(">>")}})(),(function(){for(var M in K("/XObject <<"),zn)zn.hasOwnProperty(M)&&zn[M].objectNumber>=0&&K("/"+M+" "+zn[M].objectNumber+" 0 R");lr.publish("putXobjectDict"),K(">>")})(),K(">>"),K("endobj")},Cc=function(w){Vt[w.fontName]=Vt[w.fontName]||{},Vt[w.fontName][w.fontStyle]=w.id},Fo=function(w,M,re,de,_e){var qe={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:w,fontName:M,fontStyle:re,encoding:de,isStandardFont:_e||!1,metadata:{}};return lr.publish("addFont",{font:qe,instance:this}),Gt[qe.id]=qe,Cc(qe),qe.id},Ws=v.__private__.pdfEscape=v.pdfEscape=function(w,M){return(function(re,de){var _e,qe,$e,lt,et,Tt,_t,ir,Ft;if($e=(de=de||{}).sourceEncoding||"Unicode",et=de.outputEncoding,(de.autoencode||et)&&Gt[at].metadata&&Gt[at].metadata[$e]&&Gt[at].metadata[$e].encoding&&(lt=Gt[at].metadata[$e].encoding,!et&&Gt[at].encoding&&(et=Gt[at].encoding),!et&&lt.codePages&&(et=lt.codePages[0]),typeof et=="string"&&(et=lt[et]),et)){for(_t=!1,Tt=[],_e=0,qe=re.length;_e<qe;_e++)(ir=et[re.charCodeAt(_e)])?Tt.push(String.fromCharCode(ir)):Tt.push(re[_e]),Tt[_e].charCodeAt(0)>>8&&(_t=!0);re=Tt.join("")}for(_e=re.length;_t===void 0&&_e!==0;)re.charCodeAt(_e-1)>>8&&(_t=!0),_e--;if(!_t)return re;for(Tt=de.noBOM?[]:[254,255],_e=0,qe=re.length;_e<qe;_e++){if((Ft=(ir=re.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Tt.push(Ft),Tt.push(ir-(Ft<<8))}return String.fromCharCode.apply(void 0,Tt)})(w,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ba=v.__private__.beginPage=function(w){Oe[++Yt]=[],At[Yt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},Do(Yt),ze(Oe[J])},hn=function(w,M){var re,de,_e;switch(r=M||r,typeof w=="string"&&(re=A(w.toLowerCase()),Array.isArray(re)&&(de=re[0],_e=re[1])),Array.isArray(w)&&(de=w[0]*Mt,_e=w[1]*Mt),isNaN(de)&&(de=a[0],_e=a[1]),(de>14400||_e>14400)&&($r.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),_e=Math.min(14400,_e)),a=[de,_e],r.substr(0,1)){case"l":_e>de&&(a=[_e,de]);break;case"p":de>_e&&(a=[_e,de])}ba(a),Et(Jn),K($o),vl!==0&&K(vl+" J"),Ql!==0&&K(Ql+" j"),lr.publish("addPage",{pageNumber:Yt})},ya=function(w){w>0&&w<=Yt&&(Oe.splice(w,1),At.splice(w,1),Yt--,J>Yt&&(J=Yt),this.setPage(J))},Do=function(w){w>0&&w<=Yt&&(J=w)},ds=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Oe.length-1},Ac=function(w,M,re){var de,_e=void 0;return re=re||{},w=w!==void 0?w:Gt[at].fontName,M=M!==void 0?M:Gt[at].fontStyle,de=w.toLowerCase(),Vt[de]!==void 0&&Vt[de][M]!==void 0?_e=Vt[de][M]:Vt[w]!==void 0&&Vt[w][M]!==void 0?_e=Vt[w][M]:re.disableWarning===!1&&$r.warn("Unable to look up font label for font '"+w+"', '"+M+"'. Refer to getFontList() for available fonts."),_e||re.noFallback||(_e=Vt.times[M])==null&&(_e=Vt.times.normal),_e},fn=v.__private__.putInfo=function(){var w=gr(),M=function(de){return de};for(var re in p!==null&&(M=cr.encryptor(w,0)),K("<<"),K("/Producer ("+Ws(M("jsPDF "+Nt.version))+")"),Jt)Jt.hasOwnProperty(re)&&Jt[re]&&K("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+Ws(M(Jt[re]))+")");K("/CreationDate ("+Ws(M(be))+")"),K(">>"),K("endobj")},gl=v.__private__.putCatalog=function(w){var M=(w=w||{}).rootDictionaryObjId||zs;switch(gr(),K("<<"),K("/Type /Catalog"),K("/Pages "+M+" 0 R"),ht||(ht="fullwidth"),ht){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+ht;re.substr(re.length-1)==="%"&&(ht=parseInt(ht)/100),typeof ht=="number"&&K("/OpenAction [3 0 R /XYZ null null "+T(ht)+"]")}switch(nr||(nr="continuous"),nr){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}xt&&K("/PageMode /"+xt),lr.publish("putCatalog"),K(">>"),K("endobj")},Cu=v.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(ue+1)),K("/Root "+ue+" 0 R"),K("/Info "+(ue-1)+" 0 R"),p!==null&&K("/Encrypt "+cr.oid+" 0 R"),K("/ID [ <"+we+"> <"+we+"> ]"),K(">>")},pn=v.__private__.putHeader=function(){K("%PDF-"+_),K("%")},eo=v.__private__.putXRef=function(){var w="0000000000";K("xref"),K("0 "+(ue+1)),K("0000000000 65535 f ");for(var M=1;M<=ue;M++)typeof ye[M]=="function"?K((w+ye[M]()).slice(-10)+" 00000 n "):ye[M]!==void 0?K((w+ye[M]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},Hs=v.__private__.buildDocument=function(){var w;ue=0,fe=0,Ce=[],ye=[],me=[],zs=Zr(),Bs=Zr(),ze(Ce),lr.publish("buildDocument"),pn(),ci(),(function(){lr.publish("putAdditionalObjects");for(var re=0;re<me.length;re++){var de=me[re];an(de.objId,!0),K(de.content),K("endobj")}lr.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var re in Gt)Gt.hasOwnProperty(re)&&(b===!1||b===!0&&y.hasOwnProperty(re))&&Za(Gt[re])})(),(function(){var re;for(re in kt)kt.hasOwnProperty(re)&&Eu(kt[re])})(),(function(){for(var re in zn)zn.hasOwnProperty(re)&&Oo(zn[re])})(),(function(re){var de;for(de in yt)yt.hasOwnProperty(de)&&(yt[de]instanceof hu?Io(yt[de]):yt[de]instanceof xd&&Mo(yt[de],re))})(w),lr.publish("putResources"),w.forEach(Mr),Mr({resourcesOid:Bs,objectOid:Number.MAX_SAFE_INTEGER}),lr.publish("postPutResources"),p!==null&&(cr.oid=gr(),K("<<"),K("/Filter /Standard"),K("/V "+cr.v),K("/R "+cr.r),K("/U <"+cr.toHexString(cr.U)+">"),K("/O <"+cr.toHexString(cr.O)+">"),K("/P "+cr.P),K(">>"),K("endobj")),fn(),gl();var M=fe;return eo(),Cu(),K("startxref"),K(""+M),K("%%EOF"),ze(Oe[J]),Ce.join(`
`)},Ji=v.__private__.getBlob=function(w){return new Blob([vt(w)],{type:"application/pdf"})},jn=v.output=v.__private__.output=(Ns=function(w,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",w){case void 0:return Hs();case"save":v.save(M.filename);break;case"arraybuffer":return vt(Hs());case"blob":return Ji(Hs());case"bloburi":case"bloburl":if(Ht.URL!==void 0&&typeof Ht.URL.createObjectURL=="function")return Ht.URL&&Ht.URL.createObjectURL(Ji(Hs()))||void 0;$r.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",de=Hs();try{re=X5(de)}catch{re=X5(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+M.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(_e=M.pdfObjectUrl,qe="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",lt=Ht.open();return lt!==null&&lt.document.write($e),lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',Tt=Ht.open();if(Tt!==null){Tt.document.write(et);var _t=this;Tt.document.documentElement.querySelector("#pdfViewer").onload=function(){Tt.document.title=M.filename,Tt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(_t.output("bloburl"))}}return Tt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ir='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',Ft=Ht.open();if(Ft!==null&&(Ft.document.write(ir),Ft.document.title=M.filename),Ft||typeof safari>"u")return Ft;break;case"datauri":case"dataurl":return Ht.document.location.href=this.output("datauristring",M);default:return null}},Ns.foo=function(){try{return Ns.apply(this,arguments)}catch(re){var w=re.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var M="Error in function "+w.split(`
`)[0].split("<")[0]+": "+re.message;if(!Ht.console)throw new Error(M);Ht.console.error(M,re),Ht.alert&&alert(M)}},Ns.foo.bar=Ns,Ns.foo),js=function(w){return Array.isArray(Qa)===!0&&Qa.indexOf(w)>-1};switch(n){case"pt":Mt=1;break;case"mm":Mt=72/25.4;break;case"cm":Mt=72/2.54;break;case"in":Mt=72;break;case"px":Mt=js("px_scaling")==1?.75:96/72;break;case"pc":case"em":Mt=12;break;case"ex":Mt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Mt=n}var cr=null;ce(),ie();var Gs=v.__private__.getPageInfo=v.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[w].objId,pageNumber:w,pageContext:At[w]}},Kn=v.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in At)if(At[M].objId===w)break;return Gs(M)},qo=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:At[J].objId,pageNumber:J,pageContext:At[J]}};v.addPage=function(){return hn.apply(this,arguments),this},v.setPage=function(){return Do.apply(this,arguments),ze.call(this,Oe[J]),this},v.insertPage=function(w){return this.addPage(),this.movePage(J,w),this},v.movePage=function(w,M){var re,de;if(w>M){re=Oe[w],de=At[w];for(var _e=w;_e>M;_e--)Oe[_e]=Oe[_e-1],At[_e]=At[_e-1];Oe[M]=re,At[M]=de,this.setPage(M)}else if(w<M){re=Oe[w],de=At[w];for(var qe=w;qe<M;qe++)Oe[qe]=Oe[qe+1],At[qe]=At[qe+1];Oe[M]=re,At[M]=de,this.setPage(M)}return this},v.deletePage=function(){return ya.apply(this,arguments),this},v.__private__.text=v.text=function(w,M,re,de,_e){var qe,$e,lt,et,Tt,_t,ir,Ft,en,tr=(de=de||{}).scope||this;if(typeof w=="number"&&typeof M=="number"&&(typeof re=="string"||Array.isArray(re))){var on=re;re=M,M=w,w=on}if(arguments[3]instanceof Lt==0?(lt=arguments[4],et=arguments[5],Dr(ir=arguments[3])==="object"&&ir!==null||(typeof lt=="string"&&(et=lt,lt=null),typeof ir=="string"&&(et=ir,ir=null),typeof ir=="number"&&(lt=ir,ir=null),de={flags:ir,angle:lt,align:et})):(W("The transform parameter of text() with a Matrix value"),en=_e),isNaN(M)||isNaN(re)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return tr;var ur,kn="",Zi=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:_s,Ai=tr.internal.scaleFactor;function Rn(wr){return wr=wr.split("	").join(Array(de.TabLen||9).join(" ")),Ws(wr,ir)}function io(wr){for(var Tr,tn=wr.concat(),mn=[],hs=tn.length;hs--;)typeof(Tr=tn.shift())=="string"?mn.push(Tr):Array.isArray(wr)&&(Tr.length===1||Tr[1]===void 0&&Tr[2]===void 0)?mn.push(Tr[0]):mn.push([Tr[0],Tr[1],Tr[2]]);return mn}function vr(wr,Tr){var tn;if(typeof wr=="string")tn=Tr(wr)[0];else if(Array.isArray(wr)){for(var mn,hs,Go=wr.concat(),jl=[],na=Go.length;na--;)typeof(mn=Go.shift())=="string"?jl.push(Tr(mn)[0]):Array.isArray(mn)&&typeof mn[0]=="string"&&(hs=Tr(mn[0],mn[1],mn[2]),jl.push([hs[0],hs[1],hs[2]]));tn=jl}return tn}var hi=!1,Pi=!0;if(typeof w=="string")hi=!0;else if(Array.isArray(w)){var Sa=w.concat();$e=[];for(var ka,ln=Sa.length;ln--;)(typeof(ka=Sa.shift())!="string"||Array.isArray(ka)&&typeof ka[0]!="string")&&(Pi=!1);hi=Pi}if(hi===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var Ea=Be/tr.internal.scaleFactor,Ca=Ea*(Zi-1);switch(de.baseline){case"bottom":re-=Ca;break;case"top":re+=Ea-Ca;break;case"hanging":re+=Ea-2*Ca;break;case"middle":re+=Ea/2-Ca}if((_t=de.maxWidth||0)>0&&(typeof w=="string"?w=tr.splitTextToSize(w,_t):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(wr,Tr){return wr.concat(tr.splitTextToSize(Tr,_t))},[]))),qe={text:w,x:M,y:re,options:de,mutex:{pdfEscape:Ws,activeFontKey:at,fonts:Gt,activeFontSize:Be}},lr.publish("preProcessText",qe),w=qe.text,lt=(de=qe.options).angle,en instanceof Lt==0&&lt&&typeof lt=="number"){lt*=Math.PI/180,de.rotationDirection===0&&(lt=-lt),R===P&&(lt=-lt);var wl=Math.cos(lt),ao=Math.sin(lt);en=new Lt(wl,ao,-ao,wl,0,0)}else lt&&lt instanceof Lt&&(en=lt);R!==P||en||(en=wn),(Tt=de.charSpace||Tn)!==void 0&&(kn+=se(Y(Tt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ft=de.horizontalScale)!==void 0&&(kn+=se(100*Ft)+` Tz
`),de.lang;var Zn=-1,fi=de.renderingMode!==void 0?de.renderingMode:de.stroke,Li=tr.internal.getCurrentPageInfo().pageContext;switch(fi){case 0:case!1:case"fill":Zn=0;break;case 1:case!0:case"stroke":Zn=1;break;case 2:case"fillThenStroke":Zn=2;break;case 3:case"invisible":Zn=3;break;case 4:case"fillAndAddForClipping":Zn=4;break;case 5:case"strokeAndAddPathForClipping":Zn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Zn=6;break;case 7:case"addToPathForClipping":Zn=7}var ea=Li.usedRenderingMode!==void 0?Li.usedRenderingMode:-1;Zn!==-1?kn+=Zn+` Tr
`:ea!==-1&&(kn+=`0 Tr
`),Zn!==-1&&(Li.usedRenderingMode=Zn),et=de.align||"left";var ks,oo=Be*Zi,Wo=tr.internal.pageSize.getWidth(),Nl=Gt[at];Tt=de.charSpace||Tn,_t=de.maxWidth||0,ir=Object.assign({autoencode:!0,noBOM:!0},de.flags);var Aa=[],pi=function(wr){return tr.getStringUnitWidth(wr,{font:Nl,charSpace:Tt,fontSize:Be,doKerning:!1})*Be/Ai};if(Object.prototype.toString.call(w)==="[object Array]"){var Es;$e=io(w),et!=="left"&&(ks=$e.map(pi));var Xs,lo=0;if(et==="right"){M-=ks[0],w=[],ln=$e.length;for(var Ti=0;Ti<ln;Ti++)Ti===0?(Xs=_n(M),Es=Ci(re)):(Xs=Y(lo-ks[Ti]),Es=-oo),w.push([$e[Ti],Xs,Es]),lo=ks[Ti]}else if(et==="center"){M-=ks[0]/2,w=[],ln=$e.length;for(var ta=0;ta<ln;ta++)ta===0?(Xs=_n(M),Es=Ci(re)):(Xs=Y((lo-ks[ta])/2),Es=-oo),w.push([$e[ta],Xs,Es]),lo=ks[ta]}else if(et==="left"){w=[],ln=$e.length;for(var Pa=0;Pa<ln;Pa++)w.push($e[Pa])}else if(et==="justify"&&Nl.encoding==="Identity-H"){w=[],ln=$e.length,_t=_t!==0?_t:Wo;for(var Ri=0,Wr=0;Wr<ln;Wr++)if(Es=Wr===0?Ci(re):-oo,Xs=Wr===0?_n(M):Ri,Wr<ln-1){var ra=Y((_t-ks[Wr])/($e[Wr].split(" ").length-1)),mi=$e[Wr].split(" ");w.push([mi[0]+" ",Xs,Es]),Ri=0;for(var xi=1;xi<mi.length;xi++){var co=(pi(mi[xi-1]+" "+mi[xi])-pi(mi[xi]))*Ai+ra;xi==mi.length-1?w.push([mi[xi],co,0]):w.push([mi[xi]+" ",co,0]),Ri-=co}}else w.push([$e[Wr],Xs,Es]);w.push(["",Ri,0])}else{if(et!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],ln=$e.length,_t=_t!==0?_t:Wo,Wr=0;Wr<ln;Wr++){Es=Wr===0?Ci(re):-oo,Xs=Wr===0?_n(M):0;var uo=$e[Wr].split(" ").length-1,Oi=uo>0?(_t-ks[Wr])/uo:0;Wr<ln-1?Aa.push(se(Y(Oi))):Aa.push(0),w.push([$e[Wr],Xs,Es])}}}(typeof de.R2L=="boolean"?de.R2L:mt)===!0&&(w=vr(w,function(wr,Tr,tn){return[wr.split("").reverse().join(""),Tr,tn]})),qe={text:w,x:M,y:re,options:de,mutex:{pdfEscape:Ws,activeFontKey:at,fonts:Gt,activeFontSize:Be}},lr.publish("postProcessText",qe),w=qe.text,ur=qe.mutex.isHex||!1;var Ho=Gt[at].encoding;Ho!=="WinAnsiEncoding"&&Ho!=="StandardEncoding"||(w=vr(w,function(wr,Tr,tn){return[Rn(wr),Tr,tn]})),$e=io(w),w=[];for(var gi,ho,vi,La=Array.isArray($e[0])?1:0,On="",Ta=function(wr,Tr,tn){var mn="";return tn instanceof Lt?(tn=typeof de.angle=="number"?Us(tn,new Lt(1,0,0,1,wr,Tr)):Us(new Lt(1,0,0,1,wr,Tr),tn),R===P&&(tn=Us(new Lt(1,0,0,-1,0,0),tn)),mn=tn.join(" ")+` Tm
`):mn=se(wr)+" "+se(Tr)+` Td
`,mn},br=0;br<$e.length;br++){switch(On="",La){case 1:vi=(ur?"<":"(")+$e[br][0]+(ur?">":")"),gi=parseFloat($e[br][1]),ho=parseFloat($e[br][2]);break;case 0:vi=(ur?"<":"(")+$e[br]+(ur?">":")"),gi=_n(M),ho=Ci(re)}Aa!==void 0&&Aa[br]!==void 0&&(On=Aa[br]+` Tw
`),br===0?w.push(On+Ta(gi,ho,en)+vi):La===0?w.push(On+vi):La===1&&w.push(On+Ta(gi,ho,en)+vi)}w=La===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var es=`BT
/`;return es+=at+" "+Be+` Tf
`,es+=se(Be*Zi)+` TL
`,es+=Xn+`
`,es+=kn,es+=w,K(es+="ET"),y[at]=!0,tr};var Bn=v.__private__.clip=v.clip=function(w){return K(w==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return Bn("evenodd")},v.__private__.discardPath=v.discardPath=function(){return K("n"),this};var ki=v.__private__.isValidStyle=function(w){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(M=!0),M};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(w){return ki(w)&&(f=w),this};var rr=v.__private__.getStyle=v.getStyle=function(w){var M=f;switch(w){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=w}return M},hr=v.close=function(){return K("h"),this};v.stroke=function(){return K("S"),this},v.fill=function(w){return wa("f",w),this},v.fillEvenOdd=function(w){return wa("f*",w),this},v.fillStroke=function(w){return wa("B",w),this},v.fillStrokeEvenOdd=function(w){return wa("B*",w),this};var wa=function(w,M){Dr(M)==="object"?Kl(M,w):K(w)},Na=function(w){w===null||R===P&&w===void 0||(w=rr(w),K(w))};function Yl(w,M,re,de,_e){var qe=new xd(M||this.boundingBox,re||this.xStep,de||this.yStep,this.gState,_e||this.matrix);qe.stream=this.stream;var $e=w+"$$"+this.cloneIndex+++"$$";return qr($e,qe),qe}var Kl=function(w,M){var re=Er[w.key],de=yt[re];if(de instanceof hu)K("q"),K(Pc(M)),de.gState&&v.setGState(de.gState),K(w.matrix.toString()+" cm"),K("/"+re+" sh"),K("Q");else if(de instanceof xd){var _e=new Lt(1,0,0,-1,0,Sn());w.matrix&&(_e=_e.multiply(w.matrix||wn),re=Yl.call(de,w.key,w.boundingBox,w.xStep,w.yStep,_e).id),K("q"),K("/Pattern cs"),K("/"+re+" scn"),de.gState&&v.setGState(de.gState),K(M),K("Q")}},Pc=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Uo=v.moveTo=function(w,M){return K(se(Y(w))+" "+se(H(M))+" m"),this},zo=v.lineTo=function(w,M){return K(se(Y(w))+" "+se(H(M))+" l"),this},$n=v.curveTo=function(w,M,re,de,_e,qe){return K([se(Y(w)),se(H(M)),se(Y(re)),se(H(de)),se(Y(_e)),se(H(qe)),"c"].join(" ")),this};v.__private__.line=v.line=function(w,M,re,de,_e){if(isNaN(w)||isNaN(M)||isNaN(re)||isNaN(de)||!ki(_e))throw new Error("Invalid arguments passed to jsPDF.line");return R===L?this.lines([[re-w,de-M]],w,M,[1,1],_e||"S"):this.lines([[re-w,de-M]],w,M,[1,1]).stroke()},v.__private__.lines=v.lines=function(w,M,re,de,_e,qe){var $e,lt,et,Tt,_t,ir,Ft,en,tr,on,ur,kn;if(typeof w=="number"&&(kn=re,re=M,M=w,w=kn),de=de||[1,1],qe=qe||!1,isNaN(M)||isNaN(re)||!Array.isArray(w)||!Array.isArray(de)||!ki(_e)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Uo(M,re),$e=de[0],lt=de[1],Tt=w.length,on=M,ur=re,et=0;et<Tt;et++)(_t=w[et]).length===2?(on=_t[0]*$e+on,ur=_t[1]*lt+ur,zo(on,ur)):(ir=_t[0]*$e+on,Ft=_t[1]*lt+ur,en=_t[2]*$e+on,tr=_t[3]*lt+ur,on=_t[4]*$e+on,ur=_t[5]*lt+ur,$n(ir,Ft,en,tr,on,ur));return qe&&hr(),Na(_e),this},v.path=function(w){for(var M=0;M<w.length;M++){var re=w[M],de=re.c;switch(re.op){case"m":Uo(de[0],de[1]);break;case"l":zo(de[0],de[1]);break;case"c":$n.apply(this,de);break;case"h":hr()}}return this},v.__private__.rect=v.rect=function(w,M,re,de,_e){if(isNaN(w)||isNaN(M)||isNaN(re)||isNaN(de)||!ki(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return R===L&&(de=-de),K([se(Y(w)),se(H(M)),se(Y(re)),se(Y(de)),"re"].join(" ")),Na(_e),this},v.__private__.triangle=v.triangle=function(w,M,re,de,_e,qe,$e){if(isNaN(w)||isNaN(M)||isNaN(re)||isNaN(de)||isNaN(_e)||isNaN(qe)||!ki($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-w,de-M],[_e-re,qe-de],[w-_e,M-qe]],w,M,[1,1],$e,!0),this},v.__private__.roundedRect=v.roundedRect=function(w,M,re,de,_e,qe,$e){if(isNaN(w)||isNaN(M)||isNaN(re)||isNaN(de)||isNaN(_e)||isNaN(qe)||!ki($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lt=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*re),qe=Math.min(qe,.5*de),this.lines([[re-2*_e,0],[_e*lt,0,_e,qe-qe*lt,_e,qe],[0,de-2*qe],[0,qe*lt,-_e*lt,qe,-_e,qe],[2*_e-re,0],[-_e*lt,0,-_e,-qe*lt,-_e,-qe],[0,2*qe-de],[0,-qe*lt,_e*lt,-qe,_e,-qe]],w+_e,M,[1,1],$e,!0),this},v.__private__.ellipse=v.ellipse=function(w,M,re,de,_e){if(isNaN(w)||isNaN(M)||isNaN(re)||isNaN(de)||!ki(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*re,$e=4/3*(Math.SQRT2-1)*de;return Uo(w+re,M),$n(w+re,M-$e,w+qe,M-de,w,M-de),$n(w-qe,M-de,w-re,M-$e,w-re,M),$n(w-re,M+$e,w-qe,M+de,w,M+de),$n(w+qe,M+de,w+re,M+$e,w+re,M),Na(_e),this},v.__private__.circle=v.circle=function(w,M,re,de){if(isNaN(w)||isNaN(M)||isNaN(re)||!ki(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,M,re,re,de)},v.setFont=function(w,M,re){return re&&(M=oe(M,re)),at=Ac(w,M,{disableWarning:!1}),this};var Xi=v.__private__.getFont=v.getFont=function(){return Gt[Ac.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var w,M,re={};for(w in Vt)if(Vt.hasOwnProperty(w))for(M in re[w]=[],Vt[w])Vt[w].hasOwnProperty(M)&&re[w].push(M);return re},v.addFont=function(w,M,re,de,_e){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&(re=oe(re,de)),Fo.call(this,w,M,re,_e=_e||"Identity-H")};var _s,Jn=e.lineWidth||.200025,to=v.__private__.getLineWidth=v.getLineWidth=function(){return Jn},Et=v.__private__.setLineWidth=v.setLineWidth=function(w){return Jn=w,K(se(Y(w))+" w"),this};v.__private__.setLineDash=Nt.API.setLineDash=Nt.API.setLineDashPattern=function(w,M){if(w=w||[],M=M||0,isNaN(M)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(re){return se(Y(re))}).join(" "),M=se(Y(M)),K("["+w+"] "+M+" d"),this};var Ei=v.__private__.getLineHeight=v.getLineHeight=function(){return Be*_s};v.__private__.getLineHeight=v.getLineHeight=function(){return Be*_s};var Jl=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(_s=w),this},Bo=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return _s};Jl(e.lineHeight);var _n=v.__private__.getHorizontalCoordinate=function(w){return Y(w)},Ci=v.__private__.getVerticalCoordinate=function(w){return R===P?w:At[J].mediaBox.topRightY-At[J].mediaBox.bottomLeftY-Y(w)},ro=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(w){return se(_n(w))},ui=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(w){return se(Ci(w))},$o=e.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return $s($o)},v.__private__.setStrokeColor=v.setDrawColor=function(w,M,re,de){return $o=Nn({ch1:w,ch2:M,ch3:re,ch4:de,pdfColorType:"draw",precision:2}),K($o),this};var Xl=e.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return $s(Xl)},v.__private__.setFillColor=v.setFillColor=function(w,M,re,de){return Xl=Nn({ch1:w,ch2:M,ch3:re,ch4:de,pdfColorType:"fill",precision:2}),K(Xl),this};var Xn=e.textColor||"0 g",no=v.__private__.getTextColor=v.getTextColor=function(){return $s(Xn)};v.__private__.setTextColor=v.setTextColor=function(w,M,re,de){return Xn=Nn({ch1:w,ch2:M,ch3:re,ch4:de,pdfColorType:"text",precision:3}),this};var Tn=e.charSpace,Vo=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(Tn||0)};v.__private__.setCharSpace=v.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Tn=w,this};var vl=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(w){var M=v.CapJoinStyles[w];if(M===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vl=M,K(M+" J"),this};var Ql=0;v.__private__.setLineJoin=v.setLineJoin=function(w){var M=v.CapJoinStyles[w];if(M===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ql=M,K(M+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(se(Y(w))+" M"),this},v.GState=pp,v.setGState=function(w){(w=typeof w=="string"?kt[Ut[w]]:ja(null,w)).equals(jr)||(K("/"+w.id+" gs"),jr=w)};var ja=function(w,M){if(!w||!Ut[w]){var re=!1;for(var de in kt)if(kt.hasOwnProperty(de)&&kt[de].equals(M)){re=!0;break}if(re)M=kt[de];else{var _e="GS"+(Object.keys(kt).length+1).toString(10);kt[_e]=M,M.id=_e}return w&&(Ut[w]=M.id),lr.publish("addGState",M),M}};v.addGState=function(w,M){return ja(w,M),this},v.saveGraphicsState=function(){return K("q"),Or.push({key:at,size:Be,color:Xn}),this},v.restoreGraphicsState=function(){K("Q");var w=Or.pop();return at=w.key,Be=w.size,Xn=w.color,jr=null,this},v.setCurrentTransformationMatrix=function(w){return K(w.toString()+" cm"),this},v.comment=function(w){return K("#"+w),this};var Ys=function(w,M){var re=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(qe){isNaN(qe)||(re=parseFloat(qe))}});var de=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(qe){isNaN(qe)||(de=parseFloat(qe))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(qe){_e=qe.toString()}}),this},_a=function(w,M,re,de){Ys.call(this,w,M),this.type="rect";var _e=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function($e){isNaN($e)||(_e=parseFloat($e))}});var qe=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function($e){isNaN($e)||(qe=parseFloat($e))}}),this},so=function(){this.page=Yt,this.currentPage=J,this.pages=Oe.slice(0),this.pagesContext=At.slice(0),this.x=ot,this.y=Qr,this.matrix=Qt,this.width=Ks(J),this.height=Js(J),this.outputDestination=Ve,this.id="",this.objectNumber=-1};so.prototype.restore=function(){Yt=this.page,J=this.currentPage,At=this.pagesContext,Oe=this.pages,ot=this.x,Qr=this.y,Qt=this.matrix,bl(J,this.width),di(J,this.height),Ve=this.outputDestination};var Ss=function(w,M,re,de,_e){oi.push(new so),Yt=J=0,Oe=[],ot=w,Qr=M,Qt=_e,ba([re,de])};for(var Qi in v.beginFormObject=function(w,M,re,de,_e){return Ss(w,M,re,de,_e),this},v.endFormObject=function(w){return(function(M){if(Gi[M])oi.pop().restore();else{var re=new so,de="Xo"+(Object.keys(zn).length+1).toString(10);re.id=de,Gi[M]=de,zn[de]=re,lr.publish("addFormObject",re),oi.pop().restore()}})(w),this},v.doFormObject=function(w,M){var re=zn[Gi[w]];return K("q"),K(M.toString()+" cm"),K("/"+re.id+" Do"),K("Q"),this},v.getFormObject=function(w){var M=zn[Gi[w]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},v.save=function(w,M){return w=w||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(ou(Ji(Hs()),w),typeof ou.unload=="function"&&Ht.setTimeout&&setTimeout(ou.unload,911),this):new Promise(function(re,de){try{var _e=ou(Ji(Hs()),w);typeof ou.unload=="function"&&Ht.setTimeout&&setTimeout(ou.unload,911),re(_e)}catch(qe){de(qe.message)}})},Nt.API)Nt.API.hasOwnProperty(Qi)&&(Qi==="events"&&Nt.API.events.length?(function(w,M){var re,de,_e;for(_e=M.length-1;_e!==-1;_e--)re=M[_e][0],de=M[_e][1],w.subscribe.apply(w,[re].concat(typeof de=="function"?[de]:de))})(lr,Nt.API.events):v[Qi]=Nt.API[Qi]);function Ks(w){return At[w].mediaBox.topRightX-At[w].mediaBox.bottomLeftX}function bl(w,M){At[w].mediaBox.topRightX=M+At[w].mediaBox.bottomLeftX}function Js(w){return At[w].mediaBox.topRightY-At[w].mediaBox.bottomLeftY}function di(w,M){At[w].mediaBox.topRightY=M+At[w].mediaBox.bottomLeftY}var Vr=v.getPageWidth=function(w){return Ks(w=w||J)/Mt},Qn=v.setPageWidth=function(w,M){bl(w,M*Mt)},Sn=v.getPageHeight=function(w){return Js(w=w||J)/Mt},yl=v.setPageHeight=function(w,M){di(w,M*Mt)};return v.internal={pdfEscape:Ws,getStyle:rr,getFont:Xi,getFontSize:Ze,getCharSpace:Vo,getTextColor:no,getLineHeight:Ei,getLineHeightFactor:Bo,getLineWidth:to,write:We,getHorizontalCoordinate:_n,getVerticalCoordinate:Ci,getCoordinateString:ro,getVerticalCoordinateString:ui,collections:{},newObject:gr,newAdditionalObject:Yi,newObjectDeferred:Zr,newObjectDeferredBegin:an,getFilters:li,putStream:Vs,events:lr,scaleFactor:Mt,pageSize:{getWidth:function(){return Vr(J)},setWidth:function(w){Qn(J,w)},getHeight:function(){return Sn(J)},setHeight:function(w){yl(J,w)}},encryptionOptions:p,encryption:cr,getEncryptor:function(w){return p!==null?cr.encryptor(w,0):function(M){return M}},output:jn,getNumberOfPages:ds,get pages(){return Oe},out:K,f2:T,f3:U,getPageInfo:Gs,getPageInfoByObjId:Kn,getCurrentPageInfo:qo,getPDFVersion:k,Point:Ys,Rectangle:_a,Matrix:Lt,hasHotfix:js},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return Vr(J)},set:function(w){Qn(J,w)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return Sn(J)},set:function(w){yl(J,w)},enumerable:!0,configurable:!0}),(function(w){for(var M=0,re=tt.length;M<re;M++){var de=Fo.call(this,w[M][0],w[M][1],w[M][2],tt[M][3],!0);b===!1&&(y[de]=!0);var _e=w[M][0].split("-");Cc({id:de,fontName:_e[0],fontStyle:_e[1]||""})}lr.publish("addFonts",{fonts:Gt,dictionary:Vt})}).call(v,tt),at="F1",hn(a,r),lr.publish("initialized"),v}ud.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},ud.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ud.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},ud.prototype.processOwnerPassword=function(e,t){return Eg(kg(t).substr(0,5),e)},ud.prototype.encryptor=function(e,t){var r=kg(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Eg(r,n)}},pp.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Dr(e)!==Dr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Nt.API={events:[]},Nt.version="3.0.4";var Pn=Nt.API,n1=1,ku=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sd=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},er=function(e){return e.toFixed(2)},xc=function(e){return e.toFixed(5)};Pn.__acroform__={};var Hi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},ty=function(e){return e*n1},ll=function(e){var t=new Q4,r=pt.internal.getHeight(e)||0,n=pt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(er(n)),Number(er(r))],t},tO=Pn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},rO=Pn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},nO=Pn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Dn=Pn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nO(e,t-1)},qn=Pn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return tO(e,t-1)},Un=Pn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rO(e,t-1)},sO=Pn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],o=e[1],c=e[2],u=e[3],d={};return d.lowerLeft_X=r(a)||0,d.lowerLeft_Y=n(o+u)||0,d.upperRight_X=r(a+c)||0,d.upperRight_Y=n(o)||0,[Number(er(d.lowerLeft_X)),Number(er(d.lowerLeft_Y)),Number(er(d.upperRight_X)),Number(er(d.upperRight_Y))]},iO=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Cg(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+er(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=ll(e);return o.scope=e.scope,o.stream=t.join(`
`),o}},Cg=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var o=r,c=pt.internal.getHeight(e)||0;c=c<0?-c:c;var u=pt.internal.getWidth(e)||0;u=u<0?-u:u;var d=function(T,U,Y){if(T+1<a.length){var H=U+" "+a[T+1][0];return kf(H,e,Y).width<=u-4}return!1};o++;e:for(;o>0;){t="",o--;var f,p,b=kf("3",e,o).height,y=e.multiline?c-o:(c-b)/2,v=y+=2,_=0,k=0,E=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+kf(t,e,o=12).width+", FieldWidth:"+u+`
`;break}for(var A="",L=0,P=0;P<a.length;P++)if(a.hasOwnProperty(P)){var R=!1;if(a[P].length!==1&&E!==a[P].length-1){if((b+2)*(L+2)+2>c)continue e;A+=a[P][E],R=!0,k=P,P--}else{A=(A+=a[P][E]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var Q=parseInt(P),te=d(Q,A,o),oe=P>=a.length-1;if(te&&!oe){A+=" ",E=0;continue}if(te||oe){if(oe)k=Q;else if(e.multiline&&(b+2)*(L+2)+2>c)continue e}else{if(!e.multiline||(b+2)*(L+2)+2>c)continue e;k=Q}}for(var se="",W=_;W<=k;W++){var ne=a[W];if(e.multiline){if(W===k){se+=ne[E]+" ",E=(E+1)%ne.length;continue}if(W===_){se+=ne[ne.length-1]+" ";continue}}se+=ne[0]+" "}switch(se=se.substr(se.length-1)==" "?se.substr(0,se.length-1):se,p=kf(se,e,o).width,e.textAlign){case"right":f=u-p-2;break;case"center":f=(u-p)/2;break;default:f=2}t+=er(f)+" "+er(v)+` Td
`,t+="("+ku(se)+`) Tj
`,t+=-er(f)+` 0 Td
`,v=-(o+2),p=0,_=R?k:k+1,L++,A=""}break}return n.text=t,n.fontSize=o,n},kf=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},aO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},oO=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},lO=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(To.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(aO)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");n1=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Z4,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var o=n[a];o.objId=void 0,o.hasAnnotation&&oO(o,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var o=!n;for(var c in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(c)){var u=n[c],d=[],f=u.Rect;if(u.Rect&&(u.Rect=sO(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=pt.createDefaultAppearanceStream(u),Dr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=iO(u);d.push({key:"AP",value:"<</N "+p+">>"}),a.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var b="";for(var y in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(y)){var v=u.appearanceStreamContent[y];if(b+="/"+y+" ",b+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var c in v)if(v.hasOwnProperty(c)){var _=v[c];typeof _=="function"&&(_=_.call(a,u)),b+="/"+c+" "+_+" ",a.internal.acroformPlugin.xForms.indexOf(_)>=0||a.internal.acroformPlugin.xForms.push(_)}}else typeof(_=v)=="function"&&(_=_.call(a,u)),b+="/"+c+" "+_,a.internal.acroformPlugin.xForms.indexOf(_)>=0||a.internal.acroformPlugin.xForms.push(_);b+=">>"}d.push({key:"AP",value:`<<
`+b+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:u.objId}),a.internal.out("endobj")}o&&(function(k,E){for(var A in k)if(k.hasOwnProperty(A)){var L=A,P=k[A];E.internal.newObjectDeferredBegin(P.objId,!0),Dr(P)==="object"&&typeof P.putStream=="function"&&P.putStream(),delete k[L]}})(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},X4=Pn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(c){return c};if(Array.isArray(e)){for(var a="[",o=0;o<e.length;o++)switch(o!==0&&(a+=" "),Dr(e[o])){case"boolean":case"number":case"object":a+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+ku(n(e[o].toString()))+")"):a+=e[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},wx=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+ku(n(e))+")"},ul=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ul.prototype.toString=function(){return this.objId+" 0 R"},ul.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ul.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:X4(a,this.objId,this.scope)}):a instanceof ul?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var Q4=function(){ul.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Hi(Q4,ul);var Z4=function(){ul.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ku(r(e))+")"}},set:function(r){e=r}})};Hi(Z4,ul);var To=function e(){ul.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');t=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Dn(t,3)},set:function(A){A?this.F=qn(t,3):this.F=Un(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');r=A}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(A){n=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(A){n[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(A){n[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(A){n[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(A){n[3]=A}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof mp)return;o="FieldObject"+e.FieldNum++}var A=function(L){return L};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+ku(A(o))+")"},set:function(A){o=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(A){o=A}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(A){c=A}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(A){u=A}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(A){d=A}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/n1:f},set:function(A){f=A}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(A){p=A}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof mp||this instanceof gu))return wx(b,this.objId,this.scope)},set:function(A){A=A.toString(),b=A}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof vs==0?wx(y,this.objId,this.scope):y},set:function(A){A=A.toString(),y=this instanceof vs==0?A.substr(0,1)==="("?sd(A.substr(1,A.length-2)):sd(A):A}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof vs==1?sd(y.substr(1,y.length-1)):y},set:function(A){A=A.toString(),y=this instanceof vs==1?"/"+A:A}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof vs==0?wx(v,this.objId,this.scope):v},set:function(A){A=A.toString(),v=this instanceof vs==0?A.substr(0,1)==="("?sd(A.substr(1,A.length-2)):sd(A):A}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof vs==1?sd(v.substr(1,v.length-1)):v},set:function(A){A=A.toString(),v=this instanceof vs==1?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(A){A=!!A,k=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(A){_=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,1)},set:function(A){A?this.Ff=qn(this.Ff,1):this.Ff=Un(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,2)},set:function(A){A?this.Ff=qn(this.Ff,2):this.Ff=Un(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,3)},set:function(A){A?this.Ff=qn(this.Ff,3):this.Ff=Un(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');E=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(E){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};Hi(To,ul);var Nd=function(){To.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return X4(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(o,c,u){u||(u=1);for(var d,f=[];d=c.exec(o);)f.push(d[u]);return f})(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,18)},set:function(r){r?this.Ff=qn(this.Ff,18):this.Ff=Un(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=qn(this.Ff,19):this.Ff=Un(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,20)},set:function(r){r?(this.Ff=qn(this.Ff,20),t.sort()):this.Ff=Un(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,22)},set:function(r){r?this.Ff=qn(this.Ff,22):this.Ff=Un(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,23)},set:function(r){r?this.Ff=qn(this.Ff,23):this.Ff=Un(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,27)},set:function(r){r?this.Ff=qn(this.Ff,27):this.Ff=Un(this.Ff,27)}}),this.hasAppearanceStream=!1};Hi(Nd,To);var jd=function(){Nd.call(this),this.fontName="helvetica",this.combo=!1};Hi(jd,Nd);var _d=function(){jd.call(this),this.combo=!0};Hi(_d,jd);var Df=function(){_d.call(this),this.edit=!0};Hi(Df,_d);var vs=function(){To.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,15)},set:function(r){r?this.Ff=qn(this.Ff,15):this.Ff=Un(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,16)},set:function(r){r?this.Ff=qn(this.Ff,16):this.Ff=Un(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,17)},set:function(r){r?this.Ff=qn(this.Ff,17):this.Ff=Un(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,26)},set:function(r){r?this.Ff=qn(this.Ff,26):this.Ff=Un(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+ku(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Dr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Hi(vs,To);var qf=function(){vs.call(this),this.pushButton=!0};Hi(qf,vs);var Sd=function(){vs.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Hi(Sd,vs);var mp=function(){var e,t;To.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),n)c.push("/"+o+" ("+ku(a(n[o]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Dr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Hi(mp,To),Sd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Sd.prototype.createOption=function(e){var t=new mp;return t.Parent=this,t.optionName=e,this.Kids.push(t),cO.call(this.scope,t),t};var Uf=function(){vs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pt.CheckBox.createAppearanceStream()};Hi(Uf,vs);var gu=function(){To.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,13)},set:function(t){t?this.Ff=qn(this.Ff,13):this.Ff=Un(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,21)},set:function(t){t?this.Ff=qn(this.Ff,21):this.Ff=Un(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,23)},set:function(t){t?this.Ff=qn(this.Ff,23):this.Ff=Un(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,24)},set:function(t){t?this.Ff=qn(this.Ff,24):this.Ff=Un(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,25)},set:function(t){t?this.Ff=qn(this.Ff,25):this.Ff=Un(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,26)},set:function(t){t?this.Ff=qn(this.Ff,26):this.Ff=Un(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Hi(gu,To);var zf=function(){gu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,14)},set:function(e){e?this.Ff=qn(this.Ff,14):this.Ff=Un(this.Ff,14)}}),this.password=!0};Hi(zf,gu);var pt={CheckBox:{createAppearanceStream:function(){return{N:{On:pt.CheckBox.YesNormal},D:{On:pt.CheckBox.YesPushDown,Off:pt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ll(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),o=Cg(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+er(pt.internal.getWidth(e))+" "+er(pt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+er(o.fontSize)+" Tf "+a),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ll(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],o=pt.internal.getHeight(e),c=pt.internal.getWidth(e),u=Cg(e,e.caption);return a.push("1 g"),a.push("0 0 "+er(c)+" "+er(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+er(c-1)+" "+er(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+er(u.fontSize)+" Tf "+n),a.push(u.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ll(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+er(pt.internal.getWidth(e))+" "+er(pt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:pt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=pt.RadioButton.Circle.YesNormal,t.D[e]=pt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ll(e);t.scope=e.scope;var r=[],n=pt.internal.getWidth(e)<=pt.internal.getHeight(e)?pt.internal.getWidth(e)/4:pt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=pt.internal.Bezier_C,o=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+xc(pt.internal.getWidth(e)/2)+" "+xc(pt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ll(e);t.scope=e.scope;var r=[],n=pt.internal.getWidth(e)<=pt.internal.getHeight(e)?pt.internal.getWidth(e)/4:pt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*pt.internal.Bezier_C).toFixed(5)),c=Number((n*pt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xc(pt.internal.getWidth(e)/2)+" "+xc(pt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+xc(pt.internal.getWidth(e)/2)+" "+xc(pt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+c+" "+c+" "+n+" 0 "+n+" c"),r.push("-"+c+" "+n+" -"+n+" "+c+" -"+n+" 0 c"),r.push("-"+n+" -"+c+" -"+c+" -"+n+" 0 -"+n+" c"),r.push(c+" -"+n+" "+n+" -"+c+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ll(e);t.scope=e.scope;var r=[],n=pt.internal.getWidth(e)<=pt.internal.getHeight(e)?pt.internal.getWidth(e)/4:pt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*pt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xc(pt.internal.getWidth(e)/2)+" "+xc(pt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:pt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=pt.RadioButton.Cross.YesNormal,t.D[e]=pt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ll(e);t.scope=e.scope;var r=[],n=pt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+er(pt.internal.getWidth(e)-2)+" "+er(pt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(er(n.x1.x)+" "+er(n.x1.y)+" m"),r.push(er(n.x2.x)+" "+er(n.x2.y)+" l"),r.push(er(n.x4.x)+" "+er(n.x4.y)+" m"),r.push(er(n.x3.x)+" "+er(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ll(e);t.scope=e.scope;var r=pt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+er(pt.internal.getWidth(e))+" "+er(pt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+er(pt.internal.getWidth(e)-2)+" "+er(pt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(er(r.x1.x)+" "+er(r.x1.y)+" m"),n.push(er(r.x2.x)+" "+er(r.x2.y)+" l"),n.push(er(r.x4.x)+" "+er(r.x4.y)+" m"),n.push(er(r.x3.x)+" "+er(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ll(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+er(pt.internal.getWidth(e))+" "+er(pt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};pt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=pt.internal.getWidth(e),r=pt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},pt.internal.getWidth=function(e){var t=0;return Dr(e)==="object"&&(t=ty(e.Rect[2])),t},pt.internal.getHeight=function(e){var t=0;return Dr(e)==="object"&&(t=ty(e.Rect[3])),t};var cO=Pn.addField=function(e){if(lO(this,e),!(e instanceof To))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Pn.AcroFormChoiceField=Nd,Pn.AcroFormListBox=jd,Pn.AcroFormComboBox=_d,Pn.AcroFormEditBox=Df,Pn.AcroFormButton=vs,Pn.AcroFormPushButton=qf,Pn.AcroFormRadioButton=Sd,Pn.AcroFormCheckBox=Uf,Pn.AcroFormTextField=gu,Pn.AcroFormPasswordField=zf,Pn.AcroFormAppearance=pt,Pn.AcroForm={ChoiceField:Nd,ListBox:jd,ComboBox:_d,EditBox:Df,Button:vs,PushButton:qf,RadioButton:Sd,CheckBox:Uf,TextField:gu,PasswordField:zf,Appearance:pt},Nt.AcroForm={ChoiceField:Nd,ListBox:jd,ComboBox:_d,EditBox:Df,Button:vs,PushButton:qf,RadioButton:Sd,CheckBox:Uf,TextField:gu,PasswordField:zf,Appearance:pt};Nt.AcroForm;function eN(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(T,U){var Y,H,be,we,ge,ie=r;if((U=U||r)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(te(T))for(ge in n)for(be=n[ge],Y=0;Y<be.length;Y+=1){for(we=!0,H=0;H<be[Y].length;H+=1)if(be[Y][H]!==void 0&&be[Y][H]!==T[H]){we=!1;break}if(we===!0){ie=ge;break}}else for(ge in n)for(be=n[ge],Y=0;Y<be.length;Y+=1){for(we=!0,H=0;H<be[Y].length;H+=1)if(be[Y][H]!==void 0&&be[Y][H]!==T.charCodeAt(H)){we=!1;break}if(we===!0){ie=ge;break}}return ie===r&&U!==r&&(ie=U),ie},o=function T(U){for(var Y=this.internal.write,H=this.internal.putStream,be=(0,this.internal.getFilters)();be.indexOf("FlateEncode")!==-1;)be.splice(be.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var we=[];if(we.push({key:"Type",value:"/XObject"}),we.push({key:"Subtype",value:"/Image"}),we.push({key:"Width",value:U.width}),we.push({key:"Height",value:U.height}),U.colorSpace===A.INDEXED?we.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(we.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===A.DEVICE_CMYK&&we.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),we.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&we.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var ge="",ie=0,pe=U.transparency.length;ie<pe;ie++)ge+=U.transparency[ie]+" "+U.transparency[ie]+" ";we.push({key:"Mask",value:"["+ge+"]"})}U.sMask!==void 0&&we.push({key:"SMask",value:U.objectId+1+" 0 R"});var V=U.filter!==void 0?["/"+U.filter]:void 0;if(H({data:U.data,additionalKeyValues:we,alreadyAppliedFilters:V,objectId:U.objectId}),Y("endobj"),"sMask"in U&&U.sMask!==void 0){var ce,I=(ce=U.sMaskBitsPerComponent)!==null&&ce!==void 0?ce:U.bitsPerComponent,J={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:U.sMask};"filter"in U&&(J.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(U.width),J.filter=U.filter),T.call(this,J)}if(U.colorSpace===A.INDEXED){var ee=this.internal.newObject();H({data:se(new Uint8Array(U.palette)),objectId:ee}),Y("endobj")}},c=function(){var T=this.internal.collections[t+"images"];for(var U in T)o.call(this,T[U])},u=function(){var T,U=this.internal.collections[t+"images"],Y=this.internal.write;for(var H in U)Y("/I"+(T=U[H]).index,T.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",u))},f=function(){var T=this.internal.collections[t+"images"];return d.call(this),T},p=function(){return Object.keys(this.internal.collections[t+"images"]).length},b=function(T){return typeof e["process"+T.toUpperCase()]=="function"},y=function(T){return Dr(T)==="object"&&T.nodeType===1},v=function(T,U){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var Y=""+T.getAttribute("src");if(Y.indexOf("data:image/")===0)return Ff(unescape(Y).split("base64,").pop());var H=e.loadFile(Y,!0);if(H!==void 0)return H}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var be;switch(U){case"PNG":be="image/png";break;case"WEBP":be="image/webp";break;default:be="image/jpeg"}return Ff(T.toDataURL(be,1).split("base64,").pop())}},_=function(T){var U=this.internal.collections[t+"images"];if(U){for(var Y in U)if(T===U[Y].alias)return U[Y]}},k=function(T,U,Y){return T||U||(T=-96,U=-96),T<0&&(T=-1*Y.width*72/T/this.internal.scaleFactor),U<0&&(U=-1*Y.height*72/U/this.internal.scaleFactor),T===0&&(T=U*Y.width/Y.height),U===0&&(U=T*Y.height/Y.width),[T,U]},E=function(T,U,Y,H,be,we){var ge=k.call(this,Y,H,be),ie=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,V=f.call(this);if(Y=ge[0],H=ge[1],V[be.index]=be,we){we*=Math.PI/180;var ce=Math.cos(we),I=Math.sin(we),J=function(le){return le.toFixed(4)},ee=[J(ce),J(I),J(-1*I),J(ce),0,0,"cm"]}this.internal.write("q"),we?(this.internal.write([1,"0","0",1,ie(T),pe(U+H),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([ie(Y),"0","0",ie(H),"0","0","cm"].join(" "))):this.internal.write([ie(Y),"0","0",ie(H),ie(T),pe(U+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+be.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=e.__addimage__.sHashCode=function(T){var U,Y,H=0;if(typeof T=="string")for(Y=T.length,U=0;U<Y;U++)H=(H<<5)-H+T.charCodeAt(U),H|=0;else if(te(T))for(Y=T.byteLength/2,U=0;U<Y;U++)H=(H<<5)-H+T[U],H|=0;return H},R=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var U=!0;return T.length===0&&(U=!1),T.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(U=!1),U},Q=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var U=T.indexOf(",");return U<0?null:T.substring(0,U).trim().endsWith("base64")?T.substring(U+1):null};e.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var te=e.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},oe=e.__addimage__.binaryStringToUint8Array=function(T){for(var U=T.length,Y=new Uint8Array(U),H=0;H<U;H++)Y[H]=T.charCodeAt(H);return Y},se=e.__addimage__.arrayBufferToBinaryString=function(T){for(var U="",Y=te(T)?T:new Uint8Array(T),H=0;H<Y.length;H+=8192)U+=String.fromCharCode.apply(null,Y.subarray(H,H+8192));return U};e.addImage=function(){var T,U,Y,H,be,we,ge,ie,pe;if(typeof arguments[1]=="number"?(U=r,Y=arguments[1],H=arguments[2],be=arguments[3],we=arguments[4],ge=arguments[5],ie=arguments[6],pe=arguments[7]):(U=arguments[1],Y=arguments[2],H=arguments[3],be=arguments[4],we=arguments[5],ge=arguments[6],ie=arguments[7],pe=arguments[8]),Dr(T=arguments[0])==="object"&&!y(T)&&"imageData"in T){var V=T;T=V.imageData,U=V.format||U||r,Y=V.x||Y||0,H=V.y||H||0,be=V.w||V.width||be,we=V.h||V.height||we,ge=V.alias||ge,ie=V.compression||ie,pe=V.rotation||V.angle||pe}var ce=this.internal.getFilters();if(ie===void 0&&ce.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(Y)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var I=W.call(this,T,U,ge,ie);return E.call(this,Y,H,be,we,I,pe),this};var W=function(T,U,Y,H){var be,we,ge;if(typeof T=="string"&&a(T)===r){T=unescape(T);var ie=ne(T,!1);(ie!==""||(ie=e.loadFile(T,!0))!==void 0)&&(T=ie)}if(y(T)&&(T=v(T,U)),U=a(T,U),!b(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((ge=Y)==null||ge.length===0)&&(Y=(function(pe){return typeof pe=="string"||te(pe)?P(pe):te(pe.data)?P(pe.data):null})(T)),(be=_.call(this,Y))||(T instanceof Uint8Array||U==="RGBA"||(we=T,T=oe(T)),be=this["process"+U.toUpperCase()](T,p.call(this),Y,(function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in e.image_compression?pe:L.NONE})(H),we)),!be)throw new Error("An unknown error occurred whilst processing the image.");return be},ne=e.__addimage__.convertBase64ToBinaryString=function(T,U){U=typeof U!="boolean"||U;var Y,H="";if(typeof T=="string"){var be;Y=(be=Q(T))!==null&&be!==void 0?be:T;try{H=Ff(Y)}catch(we){if(U)throw R(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+we.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};e.getImageProperties=function(T){var U,Y,H="";if(y(T)&&(T=v(T)),typeof T=="string"&&a(T)===r&&((H=ne(T,!1))===""&&(H=e.loadFile(T)||""),T=H),Y=a(T),!b(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(T instanceof Uint8Array||(T=oe(T)),!(U=this["process"+Y.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=Y,U}})(Nt.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Nt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,o,c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,p=!1,b=0;b<f.length&&!p;b++)switch((n=f[b]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var y=0;y<f.length;y++){n=f[y];var v=this.internal.pdfEscape,_=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(k.objId),L=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+v(A(n.contents))+")",o+=" /Popup "+E.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+v(A(L))+") >>",k.content=o;var P=k.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+P,n.open&&(o+=" /Open true"),o+=" >>",E.content=o,this.internal.write(k.objId,"0 R",E.objId,"0 R");break;case"freetext":a="/Rect ["+c(n.bounds.x)+" "+u(n.bounds.y)+" "+c(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var R=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+v(_(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var Q=this.annotations._nameMap[n.options.name];n.options.pageNumber=Q.page,n.options.top=Q.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+v(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var te=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+te+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,o,c){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(r),y:f(n),w:d(r+a),h:f(n+o)},options:c,type:"link"})},e.textWithLink=function(r,n,a,o){var c,u,d=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var p=this.splitTextToSize(r,u).length;c=Math.ceil(f*p)}else u=d,c=f;return this.text(r,n,a,o),a+=.2*f,o.align==="center"&&(n-=d/2),o.align==="right"&&(n-=d),this.link(n,a-f,u,c,o),d},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Nt.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(k){return t[k.charCodeAt(0)]!==void 0},c=e.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},u=e.__arabicParser__.isArabicEndLetter=function(k){return c(k)&&o(k)&&t[k.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(k){return c(k)&&a.indexOf(k.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return c(k)&&o(k)&&t[k.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(k){return c(k)&&o(k)&&t[k.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(k){return c(k)&&o(k)&&t[k.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(k){return c(k)&&o(k)&&t[k.charCodeAt(0)].length==4},b=e.__arabicParser__.resolveLigatures=function(k){var E=0,A=r,L="",P=0;for(E=0;E<k.length;E+=1)A[k.charCodeAt(E)]!==void 0?(P++,typeof(A=A[k.charCodeAt(E)])=="number"&&(L+=String.fromCharCode(A),A=r,P=0),E===k.length-1&&(A=r,L+=k.charAt(E-(P-1)),E-=P-1,P=0)):(A=r,L+=k.charAt(E-P),E-=P,P=0);return L};e.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&n[k.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(k,E,A){return c(k)?o(k)===!1?-1:!f(k)||!c(E)&&!c(A)||!c(A)&&u(E)||u(k)&&!c(E)||u(k)&&d(E)||u(k)&&u(E)?0:p(k)&&c(E)&&!u(E)&&c(A)&&f(A)?3:u(k)||!c(A)?1:2:-1},v=function(k){var E=0,A=0,L=0,P="",R="",Q="",te=(k=k||"").split("\\s+"),oe=[];for(E=0;E<te.length;E+=1){for(oe.push(""),A=0;A<te[E].length;A+=1)P=te[E][A],R=te[E][A-1],Q=te[E][A+1],c(P)?(L=y(P,R,Q),oe[E]+=L!==-1?String.fromCharCode(t[P.charCodeAt(0)][L]):P):oe[E]+=P;oe[E]=b(oe[E])}return oe.join(" ")},_=e.__arabicParser__.processArabic=e.processArabic=function(){var k,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(E)){var L=0;for(A=[],L=0;L<E.length;L+=1)Array.isArray(E[L])?A.push([v(E[L][0]),E[L][1],E[L][2]]):A.push([v(E[L])]);k=A}else k=v(E);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};e.events.push(["preProcessText",_])})(Nt.API),Nt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(u){r=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(u){c=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Nt.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(k){d=k}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(k){f=k}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(k){p=k}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(k){b=k}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(k){y=k}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(k){v=k}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(k){_=k}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,f){n.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),b=f.font||this.getFont(),y=f.scaleFactor||this.internal.scaleFactor,v=0,_=0,k=0,E=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var A=f.maxWidth;A>0?typeof d=="string"?d=this.splitTextToSize(d,A):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(P,R){return P.concat(E.splitTextToSize(R,A))},[])):d=Array.isArray(d)?d:[d];for(var L=0;L<d.length;L++)v<(k=this.getStringUnitWidth(d[L],{font:b})*p)&&(v=k);return v!==0&&(_=d.length),{w:v/=y,h:Math.max((_*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=e.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,b=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===d.lineNumber?(d.x=(f.x||0)+(f.width||0),d.y=f.y||0):f.y+f.height+d.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=b.top,v&&y&&(this.printHeaderRow(d.lineNumber,!0),d.y+=y[0].height)):d.y=f.y+f.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-p,d.y+p,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+p,{align:"center",baseline:"top",maxWidth:d.width-p-p}):this.text(d.text,d.x+p,d.y+p,{align:"left",baseline:"top",maxWidth:d.width-p-p})),this.internal.__cell__.lastCell=d,this};e.table=function(d,f,p,b,y){if(n.call(this),!p)throw new Error("No data for PDF table.");var v,_,k,E,A=[],L=[],P=[],R={},Q={},te=[],oe=[],se=(y=y||{}).autoSize||!1,W=y.printHeaders!==!1,ne=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,T=y.margins||Object.assign({width:this.getPageWidth()},t),U=typeof y.padding=="number"?y.padding:3,Y=y.headerBackgroundColor||"#c8c8c8",H=y.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=W,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=ne,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=H,this.setFontSize(ne),b==null)L=A=Object.keys(p[0]),P=A.map(function(){return"left"});else if(Array.isArray(b)&&Dr(b[0])==="object")for(A=b.map(function(V){return V.name}),L=b.map(function(V){return V.prompt||V.name||""}),P=b.map(function(V){return V.align||"left"}),v=0;v<b.length;v+=1)Q[b[v].name]=.7499990551181103*b[v].width;else Array.isArray(b)&&typeof b[0]=="string"&&(L=A=b,P=A.map(function(){return"left"}));if(se||Array.isArray(b)&&typeof b[0]=="string")for(v=0;v<A.length;v+=1){for(R[E=A[v]]=p.map(function(V){return V[E]}),this.setFont(void 0,"bold"),te.push(this.getTextDimensions(L[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=R[E],this.setFont(void 0,"normal"),k=0;k<_.length;k+=1)te.push(this.getTextDimensions(_[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Q[E]=Math.max.apply(null,te)+U+U,te=[]}if(W){var be={};for(v=0;v<A.length;v+=1)be[A[v]]={},be[A[v]].text=L[v],be[A[v]].align=P[v];var we=u.call(this,be,Q);oe=A.map(function(V){return new o(d,f,Q[V],we,be[V].text,void 0,be[V].align)}),this.setTableHeaderRow(oe),this.printHeaderRow(1,!1)}var ge=b.reduce(function(V,ce){return V[ce.name]=ce.align,V},{});for(v=0;v<p.length;v+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:v,data:p[v]},this);var ie=u.call(this,p[v],Q);for(k=0;k<A.length;k+=1){var pe=p[v][A[k]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:v,col:k,data:pe},this),c.call(this,new o(d,f,Q[A[k]],ie,pe,v+2,ge[A[k]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=f,this};var u=function(d,f){var p=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(d).map(function(v){var _=d[v];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,f[v]-p-p)},this).map(function(v){return this.getLineHeightFactor()*v.length*b/y+p+p},this).reduce(function(v,_){return Math.max(v,_)},0)};e.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){p=this.internal.__cell__.tableHeaderRow[v].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,y.push(p)),p.lineNumber=d;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,p),this.setTextColor(_)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}})(Nt.API);var tN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},rN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ag=eN(rN),nN=[100,200,300,400,500,600,700,800,900],uO=eN(nN);function Nx(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(o){return tN[o=o||"normal"]?o:"normal"})(e.style),n=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(e.weight),a=(function(o){return typeof Ag[o=o||"normal"]=="number"?o:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function ry(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var dO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ny={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function sy(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function iy(e){return e.trimLeft()}function hO(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function fO(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Ef,ay,oy,id,Cf,ly,cy,uy,jx=["times"];function dy(e,t,r,n,a){var o=4,c=fy;switch(a){case Nt.API.image_compression.FAST:o=1,c=hy;break;case Nt.API.image_compression.MEDIUM:o=6,c=py;break;case Nt.API.image_compression.SLOW:o=9,c=my}e=(function(d,f,p,b){for(var y,v=d.length/f,_=new Uint8Array(d.length+v),k=[pO,hy,fy,py,my],E=0;E<v;E+=1){var A=E*f,L=d.subarray(A,A+f);if(b)_.set(b(L,p,y),A+E);else{for(var P=k.length,R=[],Q=0;Q<P;Q+=1)R[Q]=k[Q](L,p,y);var te=xO(R.concat());_.set(R[te],A+E)}y=L}return _})(e,t,Math.ceil(r*n/8),c);var u=Ng(e,{level:o});return Nt.API.__addimage__.arrayBufferToBinaryString(u)}function pO(e){var t=Array.apply([],e);return t.unshift(0),t}function hy(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var o=e[a-t]||0;n[a+1]=e[a]-o+256&255}return n}function fy(e,t,r){var n=e.length,a=[];a[0]=2;for(var o=0;o<n;o+=1){var c=r&&r[o]||0;a[o+1]=e[o]-c+256&255}return a}function py(e,t,r){var n=e.length,a=[];a[0]=3;for(var o=0;o<n;o+=1){var c=e[o-t]||0,u=r&&r[o]||0;a[o+1]=e[o]+256-(c+u>>>1)&255}return a}function my(e,t,r){var n=e.length,a=[];a[0]=4;for(var o=0;o<n;o+=1){var c=mO(e[o-t]||0,r&&r[o]||0,r&&r[o-t]||0);a[o+1]=e[o]-c+256&255}return a}function mO(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),o=Math.abs(e+t-r-r);return n<=a&&n<=o?e:a<=o?t:r}function xO(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function _x(e,t,r){var n=t*r,a=Math.floor(n/8),o=16-(n-8*a+r),c=(1<<r)-1;return sN(e,a)>>o&c}function xy(e,t,r,n){var a=r*n,o=Math.floor(a/8),c=16-(a-8*o+n),u=(1<<n)-1,d=(t&u)<<c;(function(f,p,b){if(p+1<f.byteLength)f.setUint16(p,b,!1);else{var y=b>>8&255;f.setUint8(p,y)}})(e,o,sN(e,o)&~(u<<c)&65535|d)}function sN(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function gO(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],o=a>>7,c=1<<1+(7&a);e[t++],e[t++];var u=null,d=null;o&&(u=t,d=c,t+=3*c);var f=!0,p=[],b=0,y=null,v=0,_=null;for(this.width=r,this.height=n;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,_=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var k=e[t++];b=e[t++]|e[t++]<<8,y=e[t++],1&k||(y=null),v=k>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var E=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,P=e[t++]|e[t++]<<8,R=e[t++],Q=R>>6&1,te=1<<1+(7&R),oe=u,se=d,W=!1;R>>7&&(W=!0,oe=t,se=te,t+=3*te);var ne=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}p.push({x:E,y:A,width:L,height:P,has_local_palette:W,palette_offset:oe,palette_size:se,data_offset:ne,data_length:t-ne,transparent_index:y,interlaced:!!Q,delay:b,disposal:v});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return _},this.frameInfo=function(U){if(U<0||U>=p.length)throw new Error("Frame index out of range.");return p[U]},this.decodeAndBlitFrameBGRA=function(U,Y){var H=this.frameInfo(U),be=H.width*H.height,we=new Uint8Array(be);gy(e,H.data_offset,we,be);var ge=H.palette_offset,ie=H.transparent_index;ie===null&&(ie=256);var pe=H.width,V=r-pe,ce=pe,I=4*(H.y*r+H.x),J=4*((H.y+H.height)*r+H.x),ee=I,le=4*V;H.interlaced===!0&&(le+=4*r*7);for(var ue=8,ye=0,Ce=we.length;ye<Ce;++ye){var fe=we[ye];if(ce===0&&(ce=pe,(ee+=le)>=J&&(le=4*V+4*r*(ue-1),ee=I+(pe+V)*(ue<<1),ue>>=1)),fe===ie)ee+=4;else{var me=e[ge+3*fe],Oe=e[ge+3*fe+1],je=e[ge+3*fe+2];Y[ee++]=je,Y[ee++]=Oe,Y[ee++]=me,Y[ee++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(U,Y){var H=this.frameInfo(U),be=H.width*H.height,we=new Uint8Array(be);gy(e,H.data_offset,we,be);var ge=H.palette_offset,ie=H.transparent_index;ie===null&&(ie=256);var pe=H.width,V=r-pe,ce=pe,I=4*(H.y*r+H.x),J=4*((H.y+H.height)*r+H.x),ee=I,le=4*V;H.interlaced===!0&&(le+=4*r*7);for(var ue=8,ye=0,Ce=we.length;ye<Ce;++ye){var fe=we[ye];if(ce===0&&(ce=pe,(ee+=le)>=J&&(le=4*V+4*r*(ue-1),ee=I+(pe+V)*(ue<<1),ue>>=1)),fe===ie)ee+=4;else{var me=e[ge+3*fe],Oe=e[ge+3*fe+1],je=e[ge+3*fe+2];Y[ee++]=me,Y[ee++]=Oe,Y[ee++]=je,Y[ee++]=255}--ce}}}function gy(e,t,r,n){for(var a=e[t++],o=1<<a,c=o+1,u=c+1,d=a+1,f=(1<<d)-1,p=0,b=0,y=0,v=e[t++],_=new Int32Array(4096),k=null;;){for(;p<16&&v!==0;)b|=e[t++]<<p,p+=8,v===1?v=e[t++]:--v;if(p<d)break;var E=b&f;if(b>>=d,p-=d,E!==o){if(E===c)break;for(var A=E<u?E:k,L=0,P=A;P>o;)P=_[P]>>8,++L;var R=P;if(y+L+(A!==E?1:0)>n)return void $r.log("Warning, gif stream longer than expected.");r[y++]=R;var Q=y+=L;for(A!==E&&(r[y++]=R),P=A;L--;)P=_[P],r[--Q]=255&P,P>>=8;k!==null&&u<4096&&(_[u++]=k<<8|R,u>=f+1&&d<12&&(++d,f=f<<1|1)),k=E}else u=c+1,f=(1<<(d=a+1))-1,k=null}return y!==n&&$r.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Sx(e){var t,r,n,a,o,c=Math.floor,u=new Array(64),d=new Array(64),f=new Array(64),p=new Array(64),b=new Array(65535),y=new Array(65535),v=new Array(64),_=new Array(64),k=[],E=0,A=7,L=new Array(64),P=new Array(64),R=new Array(64),Q=new Array(256),te=new Array(2048),oe=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],se=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function we(I,J){for(var ee=0,le=0,ue=new Array,ye=1;ye<=16;ye++){for(var Ce=1;Ce<=I[ye];Ce++)ue[J[le]]=[],ue[J[le]][0]=ee,ue[J[le]][1]=ye,le++,ee++;ee*=2}return ue}function ge(I){for(var J=I[0],ee=I[1]-1;ee>=0;)J&1<<ee&&(E|=1<<A),ee--,--A<0&&(E==255?(ie(255),ie(0)):ie(E),A=7,E=0)}function ie(I){k.push(I)}function pe(I){ie(I>>8&255),ie(255&I)}function V(I,J,ee,le,ue){for(var ye,Ce=ue[0],fe=ue[240],me=(function(Be,ht){var Ze,mt,xt,yr,nr,$t,sr,Jt,at,Mt,ot=0;for(at=0;at<8;++at){Ze=Be[ot],mt=Be[ot+1],xt=Be[ot+2],yr=Be[ot+3],nr=Be[ot+4],$t=Be[ot+5],sr=Be[ot+6];var Qr=Ze+(Jt=Be[ot+7]),Qt=Ze-Jt,Gt=mt+sr,Vt=mt-sr,Or=xt+$t,yt=xt-$t,Er=yr+nr,kt=yr-nr,Ut=Qr+Er,jr=Qr-Er,Yt=Gt+Or,At=Gt-Or;Be[ot]=Ut+Yt,Be[ot+4]=Ut-Yt;var lr=.707106781*(At+jr);Be[ot+2]=jr+lr,Be[ot+6]=jr-lr;var Qa=.382683433*((Ut=kt+yt)-(At=Vt+Qt)),zn=.5411961*Ut+Qa,Gi=1.306562965*At+Qa,oi=.707106781*(Yt=yt+Vt),Lt=Qt+oi,Us=Qt-oi;Be[ot+5]=Us+zn,Be[ot+3]=Us-zn,Be[ot+1]=Lt+Gi,Be[ot+7]=Lt-Gi,ot+=8}for(ot=0,at=0;at<8;++at){Ze=Be[ot],mt=Be[ot+8],xt=Be[ot+16],yr=Be[ot+24],nr=Be[ot+32],$t=Be[ot+40],sr=Be[ot+48];var wn=Ze+(Jt=Be[ot+56]),qr=Ze-Jt,Ns=mt+sr,gr=mt-sr,Zr=xt+$t,an=xt-$t,Yi=yr+nr,zs=yr-nr,Bs=wn+Yi,$s=wn-Yi,Nn=Ns+Zr,li=Ns-Zr;Be[ot]=Bs+Nn,Be[ot+32]=Bs-Nn;var Vs=.707106781*(li+$s);Be[ot+16]=$s+Vs,Be[ot+48]=$s-Vs;var Ki=.382683433*((Bs=zs+an)-(li=gr+qr)),ci=.5411961*Bs+Ki,Za=1.306562965*li+Ki,Oo=.707106781*(Nn=an+gr),Io=qr+Oo,Mo=qr-Oo;Be[ot+40]=Mo+ci,Be[ot+24]=Mo-ci,Be[ot+8]=Io+Za,Be[ot+56]=Io-Za,ot++}for(at=0;at<64;++at)Mt=Be[at]*ht[at],v[at]=Mt>0?Mt+.5|0:Mt-.5|0;return v})(I,J),Oe=0;Oe<64;++Oe)_[oe[Oe]]=me[Oe];var je=_[0]-ee;ee=_[0],je==0?ge(le[0]):(ge(le[y[ye=32767+je]]),ge(b[ye]));for(var Ve=63;Ve>0&&_[Ve]==0;)Ve--;if(Ve==0)return ge(Ce),ee;for(var ze,K=1;K<=Ve;){for(var We=K;_[K]==0&&K<=Ve;)++K;var vt=K-We;if(vt>=16){ze=vt>>4;for(var tt=1;tt<=ze;++tt)ge(fe);vt&=15}ye=32767+_[K],ge(ue[(vt<<4)+y[ye]]),ge(b[ye]),K++}return Ve!=63&&ge(Ce),ee}function ce(I){I=Math.min(Math.max(I,1),100),o!=I&&((function(J){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var ue=c((ee[le]*J+50)/100);ue=Math.min(Math.max(ue,1),255),u[oe[le]]=ue}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ce=0;Ce<64;Ce++){var fe=c((ye[Ce]*J+50)/100);fe=Math.min(Math.max(fe,1),255),d[oe[Ce]]=fe}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,je=0;je<8;je++)for(var Ve=0;Ve<8;Ve++)f[Oe]=1/(u[oe[Oe]]*me[je]*me[Ve]*8),p[Oe]=1/(d[oe[Oe]]*me[je]*me[Ve]*8),Oe++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),o=I)}this.encode=function(I,J){J&&ce(J),k=new Array,E=0,A=7,pe(65496),pe(65504),pe(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),pe(1),pe(1),ie(0),ie(0),(function(){pe(65499),pe(132),ie(0);for(var mt=0;mt<64;mt++)ie(u[mt]);ie(1);for(var xt=0;xt<64;xt++)ie(d[xt])})(),(function(mt,xt){pe(65472),pe(17),ie(8),pe(xt),pe(mt),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)})(I.width,I.height),(function(){pe(65476),pe(418),ie(0);for(var mt=0;mt<16;mt++)ie(se[mt+1]);for(var xt=0;xt<=11;xt++)ie(W[xt]);ie(16);for(var yr=0;yr<16;yr++)ie(ne[yr+1]);for(var nr=0;nr<=161;nr++)ie(T[nr]);ie(1);for(var $t=0;$t<16;$t++)ie(U[$t+1]);for(var sr=0;sr<=11;sr++)ie(Y[sr]);ie(17);for(var Jt=0;Jt<16;Jt++)ie(H[Jt+1]);for(var at=0;at<=161;at++)ie(be[at])})(),pe(65498),pe(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var ee=0,le=0,ue=0;E=0,A=7,this.encode.displayName="_encode_";for(var ye,Ce,fe,me,Oe,je,Ve,ze,K,We=I.data,vt=I.width,tt=I.height,Be=4*vt,ht=0;ht<tt;){for(ye=0;ye<Be;){for(Oe=Be*ht+ye,Ve=-1,ze=0,K=0;K<64;K++)je=Oe+(ze=K>>3)*Be+(Ve=4*(7&K)),ht+ze>=tt&&(je-=Be*(ht+1+ze-tt)),ye+Ve>=Be&&(je-=ye+Ve-Be+4),Ce=We[je++],fe=We[je++],me=We[je++],L[K]=(te[Ce]+te[fe+256|0]+te[me+512|0]>>16)-128,P[K]=(te[Ce+768|0]+te[fe+1024|0]+te[me+1280|0]>>16)-128,R[K]=(te[Ce+1280|0]+te[fe+1536|0]+te[me+1792|0]>>16)-128;ee=V(L,f,ee,t,n),le=V(P,p,le,r,a),ue=V(R,p,ue,r,a),ye+=32}ht+=8}if(A>=0){var Ze=[];Ze[1]=A+1,Ze[0]=(1<<A+1)-1,ge(Ze)}return pe(65497),new Uint8Array(k)},e=e||50,(function(){for(var I=String.fromCharCode,J=0;J<256;J++)Q[J]=I(J)})(),t=we(se,W),r=we(U,Y),n=we(ne,T),a=we(H,be),(function(){for(var I=1,J=2,ee=1;ee<=15;ee++){for(var le=I;le<J;le++)y[32767+le]=ee,b[32767+le]=[],b[32767+le][1]=ee,b[32767+le][0]=le;for(var ue=-(J-1);ue<=-I;ue++)y[32767+ue]=ee,b[32767+ue]=[],b[32767+ue][1]=ee,b[32767+ue][0]=J-1+ue;I<<=1,J<<=1}})(),(function(){for(var I=0;I<256;I++)te[I]=19595*I,te[I+256|0]=38470*I,te[I+512|0]=7471*I+32768,te[I+768|0]=-11059*I,te[I+1024|0]=-21709*I,te[I+1280|0]=32768*I+8421375,te[I+1536|0]=-27439*I,te[I+1792|0]=-5329*I})(),ce(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function _o(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vy(e){function t(W){if(!W)throw Error("assert :P")}function r(W,ne,T){for(var U=0;4>U;U++)if(W[ne+U]!=T.charCodeAt(U))return!0;return!1}function n(W,ne,T,U,Y){for(var H=0;H<Y;H++)W[ne+H]=T[U+H]}function a(W,ne,T,U){for(var Y=0;Y<U;Y++)W[ne+Y]=T}function o(W){return new Int32Array(W)}function c(W,ne){for(var T=[],U=0;U<W;U++)T.push(new ne);return T}function u(W,ne){var T=[];return(function U(Y,H,be){for(var we=be[H],ge=0;ge<we&&(Y.push(be.length>H+1?[]:new ne),!(be.length<H+1));ge++)U(Y[ge],H+1,be)})(T,0,W),T}var d=function(){var W=this;function ne(m,g){for(var j=1<<g-1>>>0;m&j;)j>>>=1;return j?(m&j-1)+j:m}function T(m,g,j,C,O){t(!(C%j));do m[g+(C-=j)]=O;while(0<C)}function U(m,g,j,C,O){if(t(2328>=O),512>=O)var F=o(512);else if((F=o(O))==null)return 0;return(function(q,$,G,X,he,ke){var Z,ve,Ee=$,Fe=1<<G,Pe=o(16),Le=o(16);for(t(he!=0),t(X!=null),t(q!=null),t(0<G),ve=0;ve<he;++ve){if(15<X[ve])return 0;++Pe[X[ve]]}if(Pe[0]==he)return 0;for(Le[1]=0,Z=1;15>Z;++Z){if(Pe[Z]>1<<Z)return 0;Le[Z+1]=Le[Z]+Pe[Z]}for(ve=0;ve<he;++ve)Z=X[ve],0<X[ve]&&(ke[Le[Z]++]=ve);if(Le[15]==1)return(X=new Y).g=0,X.value=ke[0],T(q,Ee,1,Fe,X),Fe;var Me,De=-1,Ue=Fe-1,ut=0,st=1,Xt=1,dt=1<<G;for(ve=0,Z=1,he=2;Z<=G;++Z,he<<=1){if(st+=Xt<<=1,0>(Xt-=Pe[Z]))return 0;for(;0<Pe[Z];--Pe[Z])(X=new Y).g=Z,X.value=ke[ve++],T(q,Ee+ut,he,dt,X),ut=ne(ut,Z)}for(Z=G+1,he=2;15>=Z;++Z,he<<=1){if(st+=Xt<<=1,0>(Xt-=Pe[Z]))return 0;for(;0<Pe[Z];--Pe[Z]){if(X=new Y,(ut&Ue)!=De){for(Ee+=dt,Me=1<<(De=Z)-G;15>De&&!(0>=(Me-=Pe[De]));)++De,Me<<=1;Fe+=dt=1<<(Me=De-G),q[$+(De=ut&Ue)].g=Me+G,q[$+De].value=Ee-$-De}X.g=Z-G,X.value=ke[ve++],T(q,Ee+(ut>>G),he,dt,X),ut=ne(ut,Z)}}return st!=2*Le[15]-1?0:Fe})(m,g,j,C,O,F)}function Y(){this.value=this.g=0}function H(){this.value=this.g=0}function be(){this.G=c(5,Y),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(pi,H)}function we(m,g,j,C){t(m!=null),t(g!=null),t(2147483648>C),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=g,m.pa=j,m.Jd=g,m.Yc=j+C,m.Zc=4<=C?j+C-4+1:j,Ce(m)}function ge(m,g){for(var j=0;0<g--;)j|=me(m,128)<<g;return j}function ie(m,g){var j=ge(m,g);return fe(m)?-j:j}function pe(m,g,j,C){var O,F=0;for(t(m!=null),t(g!=null),t(4294967288>C),m.Sb=C,m.Ra=0,m.u=0,m.h=0,4<C&&(C=4),O=0;O<C;++O)F+=g[j+O]<<8*O;m.Ra=F,m.bb=C,m.oa=g,m.pa=j}function V(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<lo-8>>>0,++m.bb,m.u-=8;le(m)&&(m.h=1,m.u=0)}function ce(m,g){if(t(0<=g),!m.h&&g<=Xs){var j=ee(m)&Es[g];return m.u+=g,V(m),j}return m.h=1,m.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(m){return m.Ra>>>(m.u&lo-1)>>>0}function le(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>lo}function ue(m,g){m.u=g,m.h=le(m)}function ye(m){m.u>=Ti&&(t(m.u>=Ti),V(m))}function Ce(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function fe(m){return ge(m,1)}function me(m,g){var j=m.Ca;0>m.b&&Ce(m);var C=m.b,O=j*g>>>8,F=(m.I>>>C>O)+0;for(F?(j-=O,m.I-=O+1<<C>>>0):j=O+1,C=j,O=0;256<=C;)O+=8,C>>=8;return C=7^O+ta[C],m.b-=C,m.Ca=(j<<C)-1,F}function Oe(m,g,j){m[g+0]=j>>24&255,m[g+1]=j>>16&255,m[g+2]=j>>8&255,m[g+3]=255&j}function je(m,g){return m[g+0]|m[g+1]<<8}function Ve(m,g){return je(m,g)|m[g+2]<<16}function ze(m,g){return je(m,g)|je(m,g+2)<<16}function K(m,g){var j=1<<g;return t(m!=null),t(0<g),m.X=o(j),m.X==null?0:(m.Mb=32-g,m.Xa=g,1)}function We(m,g){t(m!=null),t(g!=null),t(m.Xa==g.Xa),n(g.X,0,m.X,0,1<<g.Xa)}function vt(){this.X=[],this.Xa=this.Mb=0}function tt(m,g,j,C){t(j!=null),t(C!=null);var O=j[0],F=C[0];return O==0&&(O=(m*F+g/2)/g),F==0&&(F=(g*O+m/2)/m),0>=O||0>=F?0:(j[0]=O,C[0]=F,1)}function Be(m,g){return m+(1<<g)-1>>>g}function ht(m,g){return((4278255360&m)+(4278255360&g)>>>0&4278255360)+((16711935&m)+(16711935&g)>>>0&16711935)>>>0}function Ze(m,g){W[g]=function(j,C,O,F,q,$,G){var X;for(X=0;X<q;++X){var he=W[m]($[G+X-1],O,F+X);$[G+X]=ht(j[C+X],he)}}}function mt(){this.ud=this.hd=this.jd=0}function xt(m,g){return((4278124286&(m^g))>>>1)+(m&g)>>>0}function yr(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function nr(m,g){return yr(m+(m-g+.5>>1))}function $t(m,g,j){return Math.abs(g-j)-Math.abs(m-j)}function sr(m,g,j,C,O,F,q){for(C=F[q-1],j=0;j<O;++j)F[q+j]=C=ht(m[g+j],C)}function Jt(m,g,j,C,O){var F;for(F=0;F<j;++F){var q=m[g+F],$=q>>8&255,G=16711935&(G=(G=16711935&q)+(($<<16)+$));C[O+F]=(4278255360&q)+G>>>0}}function at(m,g){g.jd=255&m,g.hd=m>>8&255,g.ud=m>>16&255}function Mt(m,g,j,C,O,F){var q;for(q=0;q<C;++q){var $=g[j+q],G=$>>>8,X=$,he=255&(he=(he=$>>>16)+((m.jd<<24>>24)*(G<<24>>24)>>>5));X=255&(X=(X+=(m.hd<<24>>24)*(G<<24>>24)>>>5)+((m.ud<<24>>24)*(he<<24>>24)>>>5)),O[F+q]=(4278255360&$)+(he<<16)+X}}function ot(m,g,j,C,O){W[g]=function(F,q,$,G,X,he,ke,Z,ve){for(G=ke;G<Z;++G)for(ke=0;ke<ve;++ke)X[he++]=O($[C(F[q++])])},W[m]=function(F,q,$,G,X,he,ke){var Z=8>>F.b,ve=F.Ea,Ee=F.K[0],Fe=F.w;if(8>Z)for(F=(1<<F.b)-1,Fe=(1<<Z)-1;q<$;++q){var Pe,Le=0;for(Pe=0;Pe<ve;++Pe)Pe&F||(Le=C(G[X++])),he[ke++]=O(Ee[Le&Fe]),Le>>=Z}else W["VP8LMapColor"+j](G,X,Ee,Fe,he,ke,q,$,ve)}}function Qr(m,g,j,C,O){for(j=g+j;g<j;){var F=m[g++];C[O++]=F>>16&255,C[O++]=F>>8&255,C[O++]=255&F}}function Qt(m,g,j,C,O){for(j=g+j;g<j;){var F=m[g++];C[O++]=F>>16&255,C[O++]=F>>8&255,C[O++]=255&F,C[O++]=F>>24&255}}function Gt(m,g,j,C,O){for(j=g+j;g<j;){var F=(q=m[g++])>>16&240|q>>12&15,q=240&q|q>>28&15;C[O++]=F,C[O++]=q}}function Vt(m,g,j,C,O){for(j=g+j;g<j;){var F=(q=m[g++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;C[O++]=F,C[O++]=q}}function Or(m,g,j,C,O){for(j=g+j;g<j;){var F=m[g++];C[O++]=255&F,C[O++]=F>>8&255,C[O++]=F>>16&255}}function yt(m,g,j,C,O,F){if(F==0)for(j=g+j;g<j;)Oe(C,((F=m[g++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),O+=32;else n(C,O,m,g,j)}function Er(m,g){W[g][0]=W[m+"0"],W[g][1]=W[m+"1"],W[g][2]=W[m+"2"],W[g][3]=W[m+"3"],W[g][4]=W[m+"4"],W[g][5]=W[m+"5"],W[g][6]=W[m+"6"],W[g][7]=W[m+"7"],W[g][8]=W[m+"8"],W[g][9]=W[m+"9"],W[g][10]=W[m+"10"],W[g][11]=W[m+"11"],W[g][12]=W[m+"12"],W[g][13]=W[m+"13"],W[g][14]=W[m+"0"],W[g][15]=W[m+"0"]}function kt(m){return m==fo||m==Oa||m==Qo||m==Zo}function Ut(){this.eb=[],this.size=this.A=this.fb=0}function jr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ut,this.f.kb=new jr,this.sd=null}function At(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function lr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Qa(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function zn(m,g){var j=m.T,C=g.ba.f.RGBA,O=C.eb,F=C.fb+m.ka*C.A,q=ns[g.ba.S],$=m.y,G=m.O,X=m.f,he=m.N,ke=m.ea,Z=m.W,ve=g.cc,Ee=g.dc,Fe=g.Mc,Pe=g.Nc,Le=m.ka,Me=m.ka+m.T,De=m.U,Ue=De+1>>1;for(Le==0?q($,G,null,null,X,he,ke,Z,X,he,ke,Z,O,F,null,null,De):(q(g.ec,g.fc,$,G,ve,Ee,Fe,Pe,X,he,ke,Z,O,F-C.A,O,F,De),++j);Le+2<Me;Le+=2)ve=X,Ee=he,Fe=ke,Pe=Z,he+=m.Rc,Z+=m.Rc,F+=2*C.A,q($,(G+=2*m.fa)-m.fa,$,G,ve,Ee,Fe,Pe,X,he,ke,Z,O,F-C.A,O,F,De);return G+=m.fa,m.j+Me<m.o?(n(g.ec,g.fc,$,G,De),n(g.cc,g.dc,X,he,Ue),n(g.Mc,g.Nc,ke,Z,Ue),j--):1&Me||q($,G,null,null,X,he,ke,Z,X,he,ke,Z,O,F+C.A,null,null,De),j}function Gi(m,g,j){var C=m.F,O=[m.J];if(C!=null){var F=m.U,q=g.ba.S,$=q==Sl||q==Qo;g=g.ba.f.RGBA;var G=[0],X=m.ka;G[0]=m.T,m.Kb&&(X==0?--G[0]:(--X,O[0]-=m.width),m.j+m.ka+m.T==m.o&&(G[0]=m.o-m.j-X));var he=g.eb;X=g.fb+X*g.A,m=Ii(C,O[0],m.width,F,G,he,X+($?0:3),g.A),t(j==G),m&&kt(q)&&Cs(he,X,$,F,G,g.A)}return 0}function oi(m){var g=m.ma,j=g.ba.S,C=11>j,O=j==yi||j==Xo||j==Sl||j==Cr||j==12||kt(j);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Wo(g.Oa,m,O?11:12))return 0;if(O&&kt(j)&&io(),m.da)alert("todo:use_scaling");else{if(C){if(g.Ib=Qa,m.Kb){if(j=m.U+1>>1,g.memory=o(m.U+2*j),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+m.U,g.Mc=g.cc,g.Nc=g.dc+j,g.Ib=zn,io()}}else alert("todo:EmitYUV");O&&(g.Jb=Gi,C&&Ai())}if(C&&!En){for(m=0;256>m;++m)ss[m]=89858*(m-128)+Qs>>Mi,is[m]=-22014*(m-128)+Qs,go[m]=-45773*(m-128),Da[m]=113618*(m-128)+Qs>>Mi;for(m=Nr;m<_r;++m)g=76283*(m-16)+Qs>>Mi,B[m-Nr]=fn(g,255),Ae[m-Nr]=fn(g+8>>4,15);En=1}return 1}function Lt(m){var g=m.ma,j=m.U,C=m.T;return t(!(1&m.ka)),0>=j||0>=C?0:(j=g.Ib(m,g),g.Jb!=null&&g.Jb(m,g,j),g.Dc+=j,1)}function Us(m){m.ma.memory=null}function wn(m,g,j,C){return ce(m,8)!=47?0:(g[0]=ce(m,14)+1,j[0]=ce(m,14)+1,C[0]=ce(m,1),ce(m,3)!=0?0:!m.h)}function qr(m,g){if(4>m)return m+1;var j=m-2>>1;return(2+(1&m)<<j)+ce(g,j)+1}function Ns(m,g){return 120<g?g-120:1<=(j=((j=Lu[g-1])>>4)*m+(8-(15&j)))?j:1;var j}function gr(m,g,j){var C=ee(j),O=m[g+=255&C].g-8;return 0<O&&(ue(j,j.u+8),C=ee(j),g+=m[g].value,g+=C&(1<<O)-1),ue(j,j.u+m[g].g),m[g].value}function Zr(m,g,j){return j.g+=m.g,j.value+=m.value<<g>>>0,t(8>=j.g),m.g}function an(m,g,j){var C=m.xc;return t((g=C==0?0:m.vc[m.md*(j>>C)+(g>>C)])<m.Wb),m.Ya[g]}function Yi(m,g,j,C){var O=m.ab,F=m.c*g,q=m.C;g=q+g;var $=j,G=C;for(C=m.Ta,j=m.Ua;0<O--;){var X=m.gc[O],he=q,ke=g,Z=$,ve=G,Ee=(G=C,$=j,X.Ea);switch(t(he<ke),t(ke<=X.nc),X.hc){case 2:Wr(Z,ve,(ke-he)*Ee,G,$);break;case 0:var Fe=he,Pe=ke,Le=G,Me=$,De=(dt=X).Ea;Fe==0&&(Pa(Z,ve,null,null,1,Le,Me),sr(Z,ve+1,0,0,De-1,Le,Me+1),ve+=De,Me+=De,++Fe);for(var Ue=1<<dt.b,ut=Ue-1,st=Be(De,dt.b),Xt=dt.K,dt=dt.w+(Fe>>dt.b)*st;Fe<Pe;){var dr=Xt,cn=dt,Zt=1;for(Ri(Z,ve,Le,Me-De,1,Le,Me);Zt<De;){var it=(Zt&~ut)+Ue;it>De&&(it=De),(0,uo[dr[cn++]>>8&15])(Z,ve+ +Zt,Le,Me+Zt-De,it-Zt,Le,Me+Zt),Zt=it}ve+=De,Me+=De,++Fe&ut||(dt+=st)}ke!=X.nc&&n(G,$-Ee,G,$+(ke-he-1)*Ee,Ee);break;case 1:for(Ee=Z,Pe=ve,De=(Z=X.Ea)-(Me=Z&~(Le=(ve=1<<X.b)-1)),Fe=Be(Z,X.b),Ue=X.K,X=X.w+(he>>X.b)*Fe;he<ke;){for(ut=Ue,st=X,Xt=new mt,dt=Pe+Me,dr=Pe+Z;Pe<dt;)at(ut[st++],Xt),Oi(Xt,Ee,Pe,ve,G,$),Pe+=ve,$+=ve;Pe<dr&&(at(ut[st++],Xt),Oi(Xt,Ee,Pe,De,G,$),Pe+=De,$+=De),++he&Le||(X+=Fe)}break;case 3:if(Z==G&&ve==$&&0<X.b){for(Pe=G,Z=Ee=$+(ke-he)*Ee-(Me=(ke-he)*Be(X.Ea,X.b)),ve=G,Le=$,Fe=[],Me=(De=Me)-1;0<=Me;--Me)Fe[Me]=ve[Le+Me];for(Me=De-1;0<=Me;--Me)Pe[Z+Me]=Fe[Me];ra(X,he,ke,G,Ee,G,$)}else ra(X,he,ke,Z,ve,G,$)}$=C,G=j}G!=j&&n(C,j,$,G,F)}function zs(m,g){var j=m.V,C=m.Ba+m.c*m.C,O=g-m.C;if(t(g<=m.l.o),t(16>=O),0<O){var F=m.l,q=m.Ta,$=m.Ua,G=F.width;if(Yi(m,O,j,C),O=$=[$],t((j=m.C)<(C=g)),t(F.v<F.va),C>F.o&&(C=F.o),j<F.j){var X=F.j-j;j=F.j,O[0]+=X*G}if(j>=C?j=0:(O[0]+=4*F.v,F.ka=j-F.j,F.U=F.va-F.v,F.T=C-j,j=1),j){if($=$[0],11>(j=m.ca).S){var he=j.f.RGBA,ke=(C=j.S,O=F.U,F=F.T,X=he.eb,he.A),Z=F;for(he=he.fb+m.Ma*he.A;0<Z--;){var ve=q,Ee=$,Fe=O,Pe=X,Le=he;switch(C){case Jo:Ho(ve,Ee,Fe,Pe,Le);break;case yi:gi(ve,Ee,Fe,Pe,Le);break;case fo:gi(ve,Ee,Fe,Pe,Le),Cs(Pe,Le,0,Fe,1,0);break;case Ic:La(ve,Ee,Fe,Pe,Le);break;case Xo:yt(ve,Ee,Fe,Pe,Le,1);break;case Oa:yt(ve,Ee,Fe,Pe,Le,1),Cs(Pe,Le,0,Fe,1,0);break;case Sl:yt(ve,Ee,Fe,Pe,Le,0);break;case Qo:yt(ve,Ee,Fe,Pe,Le,0),Cs(Pe,Le,1,Fe,1,0);break;case Cr:ho(ve,Ee,Fe,Pe,Le);break;case Zo:ho(ve,Ee,Fe,Pe,Le),sa(Pe,Le,Fe,1,0);break;case kl:vi(ve,Ee,Fe,Pe,Le);break;default:t(0)}$+=G,he+=ke}m.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=j.height)}}m.C=g,t(m.C<=m.i)}function Bs(m){var g;if(0<m.ua)return 0;for(g=0;g<m.Wb;++g){var j=m.Ya[g].G,C=m.Ya[g].H;if(0<j[1][C[1]+0].g||0<j[2][C[2]+0].g||0<j[3][C[3]+0].g)return 0}return 1}function $s(m,g,j,C,O,F){if(m.Z!=0){var q=m.qd,$=m.rd;for(t(In[m.Z]!=null);g<j;++g)In[m.Z](q,$,C,O,C,O,F),q=C,$=O,O+=F;m.qd=q,m.rd=$}}function Nn(m,g){var j=m.l.ma,C=j.Z==0||j.Z==1?m.l.j:m.C;if(C=m.C<C?C:m.C,t(g<=m.l.o),g>C){var O=m.l.width,F=j.ca,q=j.tb+O*C,$=m.V,G=m.Ba+m.c*C,X=m.gc;t(m.ab==1),t(X[0].hc==3),xi(X[0],C,g,$,G,F,q),$s(j,C,g,F,q,O)}m.C=m.Ma=g}function li(m,g,j,C,O,F,q){var $=m.$/C,G=m.$%C,X=m.m,he=m.s,ke=j+m.$,Z=ke;O=j+C*O;var ve=j+C*F,Ee=280+he.ua,Fe=m.Pb?$:16777216,Pe=0<he.ua?he.Wa:null,Le=he.wc,Me=ke<ve?an(he,G,$):null;t(m.C<F),t(ve<=O);var De=!1;e:for(;;){for(;De||ke<ve;){var Ue=0;if($>=Fe){var ut=ke-j;t((Fe=m).Pb),Fe.wd=Fe.m,Fe.xd=ut,0<Fe.s.ua&&We(Fe.s.Wa,Fe.s.vb),Fe=$+Cl}if(G&Le||(Me=an(he,G,$)),t(Me!=null),Me.Qb&&(g[ke]=Me.qb,De=!0),!De)if(ye(X),Me.jc){Ue=X,ut=g;var st=ke,Xt=Me.pd[ee(Ue)&pi-1];t(Me.jc),256>Xt.g?(ue(Ue,Ue.u+Xt.g),ut[st]=Xt.value,Ue=0):(ue(Ue,Ue.u+Xt.g-256),t(256<=Xt.value),Ue=Xt.value),Ue==0&&(De=!0)}else Ue=gr(Me.G[0],Me.H[0],X);if(X.h)break;if(De||256>Ue){if(!De)if(Me.nd)g[ke]=(Me.qb|Ue<<8)>>>0;else{if(ye(X),De=gr(Me.G[1],Me.H[1],X),ye(X),ut=gr(Me.G[2],Me.H[2],X),st=gr(Me.G[3],Me.H[3],X),X.h)break;g[ke]=(st<<24|De<<16|Ue<<8|ut)>>>0}if(De=!1,++ke,++G>=C&&(G=0,++$,q!=null&&$<=F&&!($%16)&&q(m,$),Pe!=null))for(;Z<ke;)Ue=g[Z++],Pe.X[(506832829*Ue&4294967295)>>>Pe.Mb]=Ue}else if(280>Ue){if(Ue=qr(Ue-256,X),ut=gr(Me.G[4],Me.H[4],X),ye(X),ut=Ns(C,ut=qr(ut,X)),X.h)break;if(ke-j<ut||O-ke<Ue)break e;for(st=0;st<Ue;++st)g[ke+st]=g[ke+st-ut];for(ke+=Ue,G+=Ue;G>=C;)G-=C,++$,q!=null&&$<=F&&!($%16)&&q(m,$);if(t(ke<=O),G&Le&&(Me=an(he,G,$)),Pe!=null)for(;Z<ke;)Ue=g[Z++],Pe.X[(506832829*Ue&4294967295)>>>Pe.Mb]=Ue}else{if(!(Ue<Ee))break e;for(De=Ue-280,t(Pe!=null);Z<ke;)Ue=g[Z++],Pe.X[(506832829*Ue&4294967295)>>>Pe.Mb]=Ue;Ue=ke,t(!(De>>>(ut=Pe).Xa)),g[Ue]=ut.X[De],De=!0}De||t(X.h==le(X))}if(m.Pb&&X.h&&ke<O)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&We(m.s.vb,m.s.Wa);else{if(X.h)break e;q!=null&&q(m,$>F?F:$),m.a=0,m.$=ke-j}return 1}return m.a=3,0}function Vs(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var g=m.Wa;g!=null&&(g.X=null),m.vb=null,t(m!=null)}function Ki(){var m=new Tt;return m==null?null:(m.a=0,m.xb=mo,Er("Predictor","VP8LPredictors"),Er("Predictor","VP8LPredictors_C"),Er("PredictorAdd","VP8LPredictorsAdd"),Er("PredictorAdd","VP8LPredictorsAdd_C"),Wr=Jt,Oi=Mt,Ho=Qr,gi=Qt,ho=Gt,vi=Vt,La=Or,W.VP8LMapColor32b=mi,W.VP8LMapColor8b=co,m)}function ci(m,g,j,C,O){var F=1,q=[m],$=[g],G=C.m,X=C.s,he=null,ke=0;e:for(;;){if(j)for(;F&&ce(G,1);){var Z=q,ve=$,Ee=C,Fe=1,Pe=Ee.m,Le=Ee.gc[Ee.ab],Me=ce(Pe,2);if(Ee.Oc&1<<Me)F=0;else{switch(Ee.Oc|=1<<Me,Le.hc=Me,Le.Ea=Z[0],Le.nc=ve[0],Le.K=[null],++Ee.ab,t(4>=Ee.ab),Me){case 0:case 1:Le.b=ce(Pe,3)+2,Fe=ci(Be(Le.Ea,Le.b),Be(Le.nc,Le.b),0,Ee,Le.K),Le.K=Le.K[0];break;case 3:var De,Ue=ce(Pe,8)+1,ut=16<Ue?0:4<Ue?1:2<Ue?2:3;if(Z[0]=Be(Le.Ea,ut),Le.b=ut,De=Fe=ci(Ue,1,0,Ee,Le.K)){var st,Xt=Ue,dt=Le,dr=1<<(8>>dt.b),cn=o(dr);if(cn==null)De=0;else{var Zt=dt.K[0],it=dt.w;for(cn[0]=dt.K[0][0],st=1;st<1*Xt;++st)cn[st]=ht(Zt[it+st],cn[st-1]);for(;st<4*dr;++st)cn[st]=0;dt.K[0]=null,dt.K[0]=cn,De=1}}Fe=De;break;case 2:break;default:t(0)}F=Fe}}if(q=q[0],$=$[0],F&&ce(G,1)&&!(F=1<=(ke=ce(G,4))&&11>=ke)){C.a=3;break e}var Je;if(Je=F)t:{var xn,Pt,or,Ir=C,un=q,as=$,Hr=ke,Wn=j,os=Ir.m,Gr=Ir.s,Kt=[null],fr=1,Yr=0,Ar=Fc[Hr];r:for(;;){if(Wn&&ce(os,1)){var zr=ce(os,3)+2,Hn=Be(un,zr),rn=Be(as,zr),Ts=Hn*rn;if(!ci(Hn,rn,0,Ir,Kt))break r;for(Kt=Kt[0],Gr.xc=zr,xn=0;xn<Ts;++xn){var pr=Kt[xn]>>8&65535;Kt[xn]=pr,pr>=fr&&(fr=pr+1)}}if(os.h)break r;for(Pt=0;5>Pt;++Pt){var Ur=Ia[Pt];!Pt&&0<Hr&&(Ur+=1<<Hr),Yr<Ur&&(Yr=Ur)}var fs=c(fr*Ar,Y),ps=fr,ms=c(ps,be);if(ms==null)var Zs=null;else t(65536>=ps),Zs=ms;var Rs=o(Yr);if(Zs==null||Rs==null||fs==null){Ir.a=1;break r}var Os=fs;for(xn=or=0;xn<fr;++xn){var Rr=Zs[xn],ei=Rr.G,Fi=Rr.H,nl=0,oa=1,gn=0;for(Pt=0;5>Pt;++Pt){Ur=Ia[Pt],ei[Pt]=Os,Fi[Pt]=or,!Pt&&0<Hr&&(Ur+=1<<Hr);s:{var Al,Mu=Ur,Uc=Ir,qa=Rs,Rh=Os,zc=or,Di=0,qi=Uc.m,Bc=ce(qi,1);if(a(qa,0,0,Mu),Bc){var Pl=ce(qi,1)+1,Md=ce(qi,1),Ll=ce(qi,Md==0?1:8);qa[Ll]=1,Pl==2&&(qa[Ll=ce(qi,8)]=1);var $c=1}else{var Fu=o(19),Kr=ce(qi,4)+4;if(19<Kr){Uc.a=3;var Tl=0;break s}for(Al=0;Al<Kr;++Al)Fu[Pu[Al]]=ce(qi,3);var Vc=void 0,Rl=void 0,Wc=Uc,Fd=Fu,Ua=Mu,Jr=qa,vn=0,Br=Wc.m,Hc=8,ic=c(128,Y);n:for(;U(ic,0,7,Fd,19);){if(ce(Br,1)){var Gc=2+2*ce(Br,3);if((Vc=2+ce(Br,Gc))>Ua)break n}else Vc=Ua;for(Rl=0;Rl<Ua&&Vc--;){ye(Br);var Oh=ic[0+(127&ee(Br))];ue(Br,Br.u+Oh.g);var bn=Oh.value;if(16>bn)Jr[Rl++]=bn,bn!=0&&(Hc=bn);else{var Dd=bn==16,Du=bn-16,qd=El[Du],la=ce(Br,el[Du])+qd;if(Rl+la>Ua)break n;for(var Ui=Dd?Hc:0;0<la--;)Jr[Rl++]=Ui}}vn=1;break n}vn||(Wc.a=3),$c=vn}($c=$c&&!qi.h)&&(Di=U(Rh,zc,8,qa,Mu)),$c&&Di!=0?Tl=Di:(Uc.a=3,Tl=0)}if(Tl==0)break r;if(oa&&Mc[Pt]==1&&(oa=Os[or].g==0),nl+=Os[or].g,or+=Tl,3>=Pt){var vo,Yc=Rs[0];for(vo=1;vo<Ur;++vo)Rs[vo]>Yc&&(Yc=Rs[vo]);gn+=Yc}}if(Rr.nd=oa,Rr.Qb=0,oa&&(Rr.qb=(ei[3][Fi[3]+0].value<<24|ei[1][Fi[1]+0].value<<16|ei[2][Fi[2]+0].value)>>>0,nl==0&&256>ei[0][Fi[0]+0].value&&(Rr.Qb=1,Rr.qb+=ei[0][Fi[0]+0].value<<8)),Rr.jc=!Rr.Qb&&6>gn,Rr.jc){var ac,za=Rr;for(ac=0;ac<pi;++ac){var bo=ac,yo=za.pd[bo],Kc=za.G[0][za.H[0]+bo];256<=Kc.value?(yo.g=Kc.g+256,yo.value=Kc.value):(yo.g=0,yo.value=0,bo>>=Zr(Kc,8,yo),bo>>=Zr(za.G[1][za.H[1]+bo],16,yo),bo>>=Zr(za.G[2][za.H[2]+bo],0,yo),Zr(za.G[3][za.H[3]+bo],24,yo))}}}Gr.vc=Kt,Gr.Wb=fr,Gr.Ya=Zs,Gr.yc=fs,Je=1;break t}Je=0}if(!(F=Je)){C.a=3;break e}if(0<ke){if(X.ua=1<<ke,!K(X.Wa,ke)){C.a=1,F=0;break e}}else X.ua=0;var qu=C,Ud=q,Ih=$,Uu=qu.s,Ol=Uu.xc;if(qu.c=Ud,qu.i=Ih,Uu.md=Be(Ud,Ol),Uu.wc=Ol==0?-1:(1<<Ol)-1,j){C.xb=wi;break e}if((he=o(q*$))==null){C.a=1,F=0;break e}F=(F=li(C,he,0,q,$,$,null))&&!G.h;break e}return F?(O!=null?O[0]=he:(t(he==null),t(j)),C.$=0,j||Vs(X)):Vs(X),F}function Za(m,g){var j=m.c*m.i,C=j+g+16*g;return t(m.c<=g),m.V=o(C),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+j+g,1)}function Oo(m,g){var j=m.C,C=g-j,O=m.V,F=m.Ba+m.c*j;for(t(g<=m.l.o);0<C;){var q=16<C?16:C,$=m.l.ma,G=m.l.width,X=G*q,he=$.ca,ke=$.tb+G*j,Z=m.Ta,ve=m.Ua;Yi(m,q,O,F),Zl(Z,ve,he,ke,X),$s($,j,j+q,he,ke,G),C-=q,O+=q*m.c,j+=q}t(j==g),m.C=m.Ma=g}function Io(){this.ub=this.yd=this.td=this.Rb=0}function Mo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Eu(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Mr(){this.Yb=(function(){var m=[];return(function g(j,C,O){for(var F=O[C],q=0;q<F&&(j.push(O.length>C+1?[]:0),!(O.length<C+1));q++)g(j[q],C+1,O)})(m,0,[3,11]),m})()}function Cc(){this.jb=o(3),this.Wc=u([4,8],Mr),this.Xc=u([4,17],Mr)}function Fo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ws(){this.ld=this.La=this.dd=this.tc=0}function ba(){this.Na=this.la=0}function hn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ya(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Do(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ws),this.Y=0,this.ya=Array(new ya),this.aa=0,this.l=new gl}function ds(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ac(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new Io,this.Kc=new Mo,this.ed=new Fo,this.Qa=new Eu,this.Ic=this.$c=this.Aa=0,this.D=new Do,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,I),this.ia=0,this.pb=c(4,hn),this.Pa=new Cc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ds),this.Hd=0,this.rb=Array(new ba),this.sb=0,this.wa=Array(new Ws),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ya),this.L=this.aa=0,this.gd=u([4,2],Ws),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fn(m,g){return 0>m?0:m>g?g:m}function gl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Cu(){var m=new Ac;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Ma||(Ma=Ji)),m}function pn(m,g,j){return m.a==0&&(m.a=g,m.sc=j,m.cb=0),0}function eo(m,g,j){return 3<=j&&m[g+0]==157&&m[g+1]==1&&m[g+2]==42}function Hs(m,g){if(m==null)return 0;if(m.a=0,m.sc="OK",g==null)return pn(m,2,"null VP8Io passed to VP8GetHeaders()");var j=g.data,C=g.w,O=g.ha;if(4>O)return pn(m,7,"Truncated header.");var F=j[C+0]|j[C+1]<<8|j[C+2]<<16,q=m.Od;if(q.Rb=!(1&F),q.td=F>>1&7,q.yd=F>>4&1,q.ub=F>>5,3<q.td)return pn(m,3,"Incorrect keyframe parameters.");if(!q.yd)return pn(m,4,"Frame not displayable.");C+=3,O-=3;var $=m.Kc;if(q.Rb){if(7>O)return pn(m,7,"cannot parse picture header");if(!eo(j,C,O))return pn(m,3,"Bad code word");$.c=16383&(j[C+4]<<8|j[C+3]),$.Td=j[C+4]>>6,$.i=16383&(j[C+6]<<8|j[C+5]),$.Ud=j[C+6]>>6,C+=7,O-=7,m.za=$.c+15>>4,m.Ub=$.i+15>>4,g.width=$.c,g.height=$.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,a((F=m.Pa).jb,0,255,F.jb.length),t((F=m.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,a(F.Zb,0,0,F.Zb.length),a(F.Lb,0,0,F.Lb)}if(q.ub>O)return pn(m,7,"bad partition length");we(F=m.m,j,C,q.ub),C+=q.ub,O-=q.ub,q.Rb&&($.Ld=fe(F),$.Kd=fe(F)),$=m.Qa;var G,X=m.Pa;if(t(F!=null),t($!=null),$.Cb=fe(F),$.Cb){if($.Bb=fe(F),fe(F)){for($.Fb=fe(F),G=0;4>G;++G)$.Zb[G]=fe(F)?ie(F,7):0;for(G=0;4>G;++G)$.Lb[G]=fe(F)?ie(F,6):0}if($.Bb)for(G=0;3>G;++G)X.jb[G]=fe(F)?ge(F,8):255}else $.Bb=0;if(F.Ka)return pn(m,3,"cannot parse segment header");if(($=m.ed).zd=fe(F),$.Tb=ge(F,6),$.wb=ge(F,3),$.Pc=fe(F),$.Pc&&fe(F)){for(X=0;4>X;++X)fe(F)&&($.vd[X]=ie(F,6));for(X=0;4>X;++X)fe(F)&&($.od[X]=ie(F,6))}if(m.L=$.Tb==0?0:$.zd?1:2,F.Ka)return pn(m,3,"cannot parse filter header");var he=O;if(O=G=C,C=G+he,$=he,m.Xb=(1<<ge(m.m,2))-1,he<3*(X=m.Xb))j=7;else{for(G+=3*X,$-=3*X,he=0;he<X;++he){var ke=j[O+0]|j[O+1]<<8|j[O+2]<<16;ke>$&&(ke=$),we(m.Jc[+he],j,G,ke),G+=ke,$-=ke,O+=3}we(m.Jc[+X],j,G,$),j=G<C?0:5}if(j!=0)return pn(m,j,"cannot parse partitions");for(j=ge(G=m.m,7),O=fe(G)?ie(G,4):0,C=fe(G)?ie(G,4):0,$=fe(G)?ie(G,4):0,X=fe(G)?ie(G,4):0,G=fe(G)?ie(G,4):0,he=m.Qa,ke=0;4>ke;++ke){if(he.Cb){var Z=he.Zb[ke];he.Fb||(Z+=j)}else{if(0<ke){m.pb[ke]=m.pb[0];continue}Z=j}var ve=m.pb[ke];ve.Sc[0]=po[fn(Z+O,127)],ve.Sc[1]=tl[fn(Z+0,127)],ve.Eb[0]=2*po[fn(Z+C,127)],ve.Eb[1]=101581*tl[fn(Z+$,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=po[fn(Z+X,117)],ve.Qc[1]=tl[fn(Z+G,127)],ve.lc=Z+G}if(!q.Rb)return pn(m,4,"Not a key frame.");for(fe(F),q=m.Pa,j=0;4>j;++j){for(O=0;8>O;++O)for(C=0;3>C;++C)for($=0;11>$;++$)X=me(F,Ru[j][O][C][$])?ge(F,8):qc[j][O][C][$],q.Wc[j][O].Yb[C][$]=X;for(O=0;17>O;++O)q.Xc[j][O]=q.Wc[j][nc[O]]}return m.kc=fe(F),m.kc&&(m.Bd=ge(F,8)),m.cb=1}function Ji(m,g,j,C,O,F,q){var $=g[O].Yb[j];for(j=0;16>O;++O){if(!me(m,$[j+0]))return O;for(;!me(m,$[j+1]);)if($=g[++O].Yb[0],j=0,O==16)return 16;var G=g[O+1].Yb;if(me(m,$[j+2])){var X=m,he=0;if(me(X,(Z=$)[(ke=j)+3]))if(me(X,Z[ke+6])){for($=0,ke=2*(he=me(X,Z[ke+8]))+(Z=me(X,Z[ke+9+he])),he=0,Z=tc[ke];Z[$];++$)he+=he+me(X,Z[$]);he+=3+(8<<ke)}else me(X,Z[ke+7])?(he=7+2*me(X,165),he+=me(X,145)):he=5+me(X,159);else he=me(X,Z[ke+4])?3+me(X,Z[ke+5]):2;$=G[2]}else he=1,$=G[1];G=q+rc[O],0>(X=m).b&&Ce(X);var ke,Z=X.b,ve=(ke=X.Ca>>1)-(X.I>>Z)>>31;--X.b,X.Ca+=ve,X.Ca|=1,X.I-=(ke+1&ve)<<Z,F[G]=((he^ve)-ve)*C[(0<O)+0]}return 16}function jn(m){var g=m.rb[m.sb-1];g.la=0,g.Na=0,a(m.zc,0,0,m.zc.length),m.ja=0}function js(m,g,j,C,O){O=m[g+j+32*C]+(O>>3),m[g+j+32*C]=-256&O?0>O?0:255:O}function cr(m,g,j,C,O,F){js(m,g,0,j,C+O),js(m,g,1,j,C+F),js(m,g,2,j,C-F),js(m,g,3,j,C-O)}function Gs(m){return(20091*m>>16)+m}function Kn(m,g,j,C){var O,F=0,q=o(16);for(O=0;4>O;++O){var $=m[g+0]+m[g+8],G=m[g+0]-m[g+8],X=(35468*m[g+4]>>16)-Gs(m[g+12]),he=Gs(m[g+4])+(35468*m[g+12]>>16);q[F+0]=$+he,q[F+1]=G+X,q[F+2]=G-X,q[F+3]=$-he,F+=4,g++}for(O=F=0;4>O;++O)$=(m=q[F+0]+4)+q[F+8],G=m-q[F+8],X=(35468*q[F+4]>>16)-Gs(q[F+12]),js(j,C,0,0,$+(he=Gs(q[F+4])+(35468*q[F+12]>>16))),js(j,C,1,0,G+X),js(j,C,2,0,G-X),js(j,C,3,0,$-he),F++,C+=32}function qo(m,g,j,C){var O=m[g+0]+4,F=35468*m[g+4]>>16,q=Gs(m[g+4]),$=35468*m[g+1]>>16;cr(j,C,0,O+q,m=Gs(m[g+1]),$),cr(j,C,1,O+F,m,$),cr(j,C,2,O-F,m,$),cr(j,C,3,O-q,m,$)}function Bn(m,g,j,C,O){Kn(m,g,j,C),O&&Kn(m,g+16,j,C+4)}function ki(m,g,j,C){Ta(m,g+0,j,C,1),Ta(m,g+32,j,C+128,1)}function rr(m,g,j,C){var O;for(m=m[g+0]+4,O=0;4>O;++O)for(g=0;4>g;++g)js(j,C,g,O,m)}function hr(m,g,j,C){m[g+0]&&wr(m,g+0,j,C),m[g+16]&&wr(m,g+16,j,C+4),m[g+32]&&wr(m,g+32,j,C+128),m[g+48]&&wr(m,g+48,j,C+128+4)}function wa(m,g,j,C){var O,F=o(16);for(O=0;4>O;++O){var q=m[g+0+O]+m[g+12+O],$=m[g+4+O]+m[g+8+O],G=m[g+4+O]-m[g+8+O],X=m[g+0+O]-m[g+12+O];F[0+O]=q+$,F[8+O]=q-$,F[4+O]=X+G,F[12+O]=X-G}for(O=0;4>O;++O)q=(m=F[0+4*O]+3)+F[3+4*O],$=F[1+4*O]+F[2+4*O],G=F[1+4*O]-F[2+4*O],X=m-F[3+4*O],j[C+0]=q+$>>3,j[C+16]=X+G>>3,j[C+32]=q-$>>3,j[C+48]=X-G>>3,C+=64}function Na(m,g,j){var C,O=g-32,F=ts,q=255-m[O-1];for(C=0;C<j;++C){var $,G=F,X=q+m[g-1];for($=0;$<j;++$)m[g+$]=G[X+m[O+$]];g+=32}}function Yl(m,g){Na(m,g,4)}function Kl(m,g){Na(m,g,8)}function Pc(m,g){Na(m,g,16)}function Uo(m,g){var j;for(j=0;16>j;++j)n(m,g+32*j,m,g-32,16)}function zo(m,g){var j;for(j=16;0<j;--j)a(m,g,m[g-1],16),g+=32}function $n(m,g,j){var C;for(C=0;16>C;++C)a(g,j+32*C,m,16)}function Xi(m,g){var j,C=16;for(j=0;16>j;++j)C+=m[g-1+32*j]+m[g+j-32];$n(C>>5,m,g)}function _s(m,g){var j,C=8;for(j=0;16>j;++j)C+=m[g-1+32*j];$n(C>>4,m,g)}function Jn(m,g){var j,C=8;for(j=0;16>j;++j)C+=m[g+j-32];$n(C>>4,m,g)}function to(m,g){$n(128,m,g)}function Et(m,g,j){return m+2*g+j+2>>2}function Ei(m,g){var j,C=g-32;for(C=new Uint8Array([Et(m[C-1],m[C+0],m[C+1]),Et(m[C+0],m[C+1],m[C+2]),Et(m[C+1],m[C+2],m[C+3]),Et(m[C+2],m[C+3],m[C+4])]),j=0;4>j;++j)n(m,g+32*j,C,0,C.length)}function Jl(m,g){var j=m[g-1],C=m[g-1+32],O=m[g-1+64],F=m[g-1+96];Oe(m,g+0,16843009*Et(m[g-1-32],j,C)),Oe(m,g+32,16843009*Et(j,C,O)),Oe(m,g+64,16843009*Et(C,O,F)),Oe(m,g+96,16843009*Et(O,F,F))}function Bo(m,g){var j,C=4;for(j=0;4>j;++j)C+=m[g+j-32]+m[g-1+32*j];for(C>>=3,j=0;4>j;++j)a(m,g+32*j,C,4)}function _n(m,g){var j=m[g-1+0],C=m[g-1+32],O=m[g-1+64],F=m[g-1-32],q=m[g+0-32],$=m[g+1-32],G=m[g+2-32],X=m[g+3-32];m[g+0+96]=Et(C,O,m[g-1+96]),m[g+1+96]=m[g+0+64]=Et(j,C,O),m[g+2+96]=m[g+1+64]=m[g+0+32]=Et(F,j,C),m[g+3+96]=m[g+2+64]=m[g+1+32]=m[g+0+0]=Et(q,F,j),m[g+3+64]=m[g+2+32]=m[g+1+0]=Et($,q,F),m[g+3+32]=m[g+2+0]=Et(G,$,q),m[g+3+0]=Et(X,G,$)}function Ci(m,g){var j=m[g+1-32],C=m[g+2-32],O=m[g+3-32],F=m[g+4-32],q=m[g+5-32],$=m[g+6-32],G=m[g+7-32];m[g+0+0]=Et(m[g+0-32],j,C),m[g+1+0]=m[g+0+32]=Et(j,C,O),m[g+2+0]=m[g+1+32]=m[g+0+64]=Et(C,O,F),m[g+3+0]=m[g+2+32]=m[g+1+64]=m[g+0+96]=Et(O,F,q),m[g+3+32]=m[g+2+64]=m[g+1+96]=Et(F,q,$),m[g+3+64]=m[g+2+96]=Et(q,$,G),m[g+3+96]=Et($,G,G)}function ro(m,g){var j=m[g-1+0],C=m[g-1+32],O=m[g-1+64],F=m[g-1-32],q=m[g+0-32],$=m[g+1-32],G=m[g+2-32],X=m[g+3-32];m[g+0+0]=m[g+1+64]=F+q+1>>1,m[g+1+0]=m[g+2+64]=q+$+1>>1,m[g+2+0]=m[g+3+64]=$+G+1>>1,m[g+3+0]=G+X+1>>1,m[g+0+96]=Et(O,C,j),m[g+0+64]=Et(C,j,F),m[g+0+32]=m[g+1+96]=Et(j,F,q),m[g+1+32]=m[g+2+96]=Et(F,q,$),m[g+2+32]=m[g+3+96]=Et(q,$,G),m[g+3+32]=Et($,G,X)}function ui(m,g){var j=m[g+0-32],C=m[g+1-32],O=m[g+2-32],F=m[g+3-32],q=m[g+4-32],$=m[g+5-32],G=m[g+6-32],X=m[g+7-32];m[g+0+0]=j+C+1>>1,m[g+1+0]=m[g+0+64]=C+O+1>>1,m[g+2+0]=m[g+1+64]=O+F+1>>1,m[g+3+0]=m[g+2+64]=F+q+1>>1,m[g+0+32]=Et(j,C,O),m[g+1+32]=m[g+0+96]=Et(C,O,F),m[g+2+32]=m[g+1+96]=Et(O,F,q),m[g+3+32]=m[g+2+96]=Et(F,q,$),m[g+3+64]=Et(q,$,G),m[g+3+96]=Et($,G,X)}function $o(m,g){var j=m[g-1+0],C=m[g-1+32],O=m[g-1+64],F=m[g-1+96];m[g+0+0]=j+C+1>>1,m[g+2+0]=m[g+0+32]=C+O+1>>1,m[g+2+32]=m[g+0+64]=O+F+1>>1,m[g+1+0]=Et(j,C,O),m[g+3+0]=m[g+1+32]=Et(C,O,F),m[g+3+32]=m[g+1+64]=Et(O,F,F),m[g+3+64]=m[g+2+64]=m[g+0+96]=m[g+1+96]=m[g+2+96]=m[g+3+96]=F}function Xl(m,g){var j=m[g-1+0],C=m[g-1+32],O=m[g-1+64],F=m[g-1+96],q=m[g-1-32],$=m[g+0-32],G=m[g+1-32],X=m[g+2-32];m[g+0+0]=m[g+2+32]=j+q+1>>1,m[g+0+32]=m[g+2+64]=C+j+1>>1,m[g+0+64]=m[g+2+96]=O+C+1>>1,m[g+0+96]=F+O+1>>1,m[g+3+0]=Et($,G,X),m[g+2+0]=Et(q,$,G),m[g+1+0]=m[g+3+32]=Et(j,q,$),m[g+1+32]=m[g+3+64]=Et(C,j,q),m[g+1+64]=m[g+3+96]=Et(O,C,j),m[g+1+96]=Et(F,O,C)}function Xn(m,g){var j;for(j=0;8>j;++j)n(m,g+32*j,m,g-32,8)}function no(m,g){var j;for(j=0;8>j;++j)a(m,g,m[g-1],8),g+=32}function Tn(m,g,j){var C;for(C=0;8>C;++C)a(g,j+32*C,m,8)}function Vo(m,g){var j,C=8;for(j=0;8>j;++j)C+=m[g+j-32]+m[g-1+32*j];Tn(C>>4,m,g)}function vl(m,g){var j,C=4;for(j=0;8>j;++j)C+=m[g+j-32];Tn(C>>3,m,g)}function Ql(m,g){var j,C=4;for(j=0;8>j;++j)C+=m[g-1+32*j];Tn(C>>3,m,g)}function ja(m,g){Tn(128,m,g)}function Ys(m,g,j){var C=m[g-j],O=m[g+0],F=3*(O-C)+As[1020+m[g-2*j]-m[g+j]],q=Ko[112+(F+4>>3)];m[g-j]=ts[255+C+Ko[112+(F+3>>3)]],m[g+0]=ts[255+O-q]}function _a(m,g,j,C){var O=m[g+0],F=m[g+j];return Ps[255+m[g-2*j]-m[g-j]]>C||Ps[255+F-O]>C}function so(m,g,j,C){return 4*Ps[255+m[g-j]-m[g+0]]+Ps[255+m[g-2*j]-m[g+j]]<=C}function Ss(m,g,j,C,O){var F=m[g-3*j],q=m[g-2*j],$=m[g-j],G=m[g+0],X=m[g+j],he=m[g+2*j],ke=m[g+3*j];return 4*Ps[255+$-G]+Ps[255+q-X]>C?0:Ps[255+m[g-4*j]-F]<=O&&Ps[255+F-q]<=O&&Ps[255+q-$]<=O&&Ps[255+ke-he]<=O&&Ps[255+he-X]<=O&&Ps[255+X-G]<=O}function Qi(m,g,j,C){var O=2*C+1;for(C=0;16>C;++C)so(m,g+C,j,O)&&Ys(m,g+C,j)}function Ks(m,g,j,C){var O=2*C+1;for(C=0;16>C;++C)so(m,g+C*j,1,O)&&Ys(m,g+C*j,1)}function bl(m,g,j,C){var O;for(O=3;0<O;--O)Qi(m,g+=4*j,j,C)}function Js(m,g,j,C){var O;for(O=3;0<O;--O)Ks(m,g+=4,j,C)}function di(m,g,j,C,O,F,q,$){for(F=2*F+1;0<O--;){if(Ss(m,g,j,F,q))if(_a(m,g,j,$))Ys(m,g,j);else{var G=m,X=g,he=j,ke=G[X-2*he],Z=G[X-he],ve=G[X+0],Ee=G[X+he],Fe=G[X+2*he],Pe=27*(Me=As[1020+3*(ve-Z)+As[1020+ke-Ee]])+63>>7,Le=18*Me+63>>7,Me=9*Me+63>>7;G[X-3*he]=ts[255+G[X-3*he]+Me],G[X-2*he]=ts[255+ke+Le],G[X-he]=ts[255+Z+Pe],G[X+0]=ts[255+ve-Pe],G[X+he]=ts[255+Ee-Le],G[X+2*he]=ts[255+Fe-Me]}g+=C}}function Vr(m,g,j,C,O,F,q,$){for(F=2*F+1;0<O--;){if(Ss(m,g,j,F,q))if(_a(m,g,j,$))Ys(m,g,j);else{var G=m,X=g,he=j,ke=G[X-he],Z=G[X+0],ve=G[X+he],Ee=Ko[112+(4+(Fe=3*(Z-ke))>>3)],Fe=Ko[112+(Fe+3>>3)],Pe=Ee+1>>1;G[X-2*he]=ts[255+G[X-2*he]+Pe],G[X-he]=ts[255+ke+Fe],G[X+0]=ts[255+Z-Ee],G[X+he]=ts[255+ve-Pe]}g+=C}}function Qn(m,g,j,C,O,F){di(m,g,j,1,16,C,O,F)}function Sn(m,g,j,C,O,F){di(m,g,1,j,16,C,O,F)}function yl(m,g,j,C,O,F){var q;for(q=3;0<q;--q)Vr(m,g+=4*j,j,1,16,C,O,F)}function w(m,g,j,C,O,F){var q;for(q=3;0<q;--q)Vr(m,g+=4,1,j,16,C,O,F)}function M(m,g,j,C,O,F,q,$){di(m,g,O,1,8,F,q,$),di(j,C,O,1,8,F,q,$)}function re(m,g,j,C,O,F,q,$){di(m,g,1,O,8,F,q,$),di(j,C,1,O,8,F,q,$)}function de(m,g,j,C,O,F,q,$){Vr(m,g+4*O,O,1,8,F,q,$),Vr(j,C+4*O,O,1,8,F,q,$)}function _e(m,g,j,C,O,F,q,$){Vr(m,g+4,1,O,8,F,q,$),Vr(j,C+4,1,O,8,F,q,$)}function qe(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new lr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $e(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function et(){this.ua=0,this.Wa=new vt,this.vb=new vt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new be,this.yc=new Y}function Tt(){this.xb=this.a=0,this.l=new gl,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new et,this.ab=0,this.gc=c(4,lt),this.Oc=0}function _t(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new gl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ir(m,g,j,C,O,F,q){for(m=m==null?0:m[g+0],g=0;g<q;++g)O[F+g]=m+j[C+g]&255,m=O[F+g]}function Ft(m,g,j,C,O,F,q){var $;if(m==null)ir(null,null,j,C,O,F,q);else for($=0;$<q;++$)O[F+$]=m[g+$]+j[C+$]&255}function en(m,g,j,C,O,F,q){if(m==null)ir(null,null,j,C,O,F,q);else{var $,G=m[g+0],X=G,he=G;for($=0;$<q;++$)X=he+(G=m[g+$])-X,he=j[C+$]+(-256&X?0>X?0:255:X)&255,X=G,O[F+$]=he}}function tr(m,g,j,C){var O=g.width,F=g.o;if(t(m!=null&&g!=null),0>j||0>=C||j+C>F)return null;if(!m.Cc){if(m.ga==null){var q;if(m.ga=new _t,(q=m.ga==null)||(q=g.width*g.o,t(m.Gb.length==0),m.Gb=o(q),m.Uc=0,m.Gb==null?q=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,q=1),q=!q),!q){q=m.ga;var $=m.Fa,G=m.P,X=m.qc,he=m.mb,ke=m.nb,Z=G+1,ve=X-1,Ee=q.l;if(t($!=null&&he!=null&&g!=null),In[0]=null,In[1]=ir,In[2]=Ft,In[3]=en,q.ca=he,q.tb=ke,q.c=g.width,q.i=g.height,t(0<q.c&&0<q.i),1>=X)g=0;else if(q.$a=3&$[G+0],q.Z=$[G+0]>>2&3,q.Lc=$[G+0]>>4&3,G=$[G+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||G)g=0;else if(Ee.put=Lt,Ee.ac=oi,Ee.bc=Us,Ee.ma=q,Ee.width=g.width,Ee.height=g.height,Ee.Da=g.Da,Ee.v=g.v,Ee.va=g.va,Ee.j=g.j,Ee.o=g.o,q.$a)e:{t(q.$a==1),g=Ki();t:for(;;){if(g==null){g=0;break e}if(t(q!=null),q.mc=g,g.c=q.c,g.i=q.i,g.l=q.l,g.l.ma=q,g.l.width=q.c,g.l.height=q.i,g.a=0,pe(g.m,$,Z,ve),!ci(q.c,q.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Bs(g.s)?(q.ic=1,$=g.c*g.i,g.Ta=null,g.Ua=0,g.V=o($),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(q.ic=0,g=Za(g,q.c)),!g))break t;g=1;break e}q.mc=null,g=0}else g=ve>=q.c*q.i;q=!g}if(q)return null;m.ga.Lc!=1?m.Ga=0:C=F-j}t(m.ga!=null),t(j+C<=F);e:{if(g=($=m.ga).c,F=$.l.o,$.$a==0){if(Z=m.rc,ve=m.Vc,Ee=m.Fa,G=m.P+1+j*g,X=m.mb,he=m.nb+j*g,t(G<=m.P+m.qc),$.Z!=0)for(t(In[$.Z]!=null),q=0;q<C;++q)In[$.Z](Z,ve,Ee,G,X,he,g),Z=X,ve=he,he+=g,G+=g;else for(q=0;q<C;++q)n(X,he,Ee,G,g),Z=X,ve=he,he+=g,G+=g;m.rc=Z,m.Vc=ve}else{if(t($.mc!=null),g=j+C,t((q=$.mc)!=null),t(g<=q.i),q.C>=g)g=1;else if($.ic||Ai(),$.ic){$=q.V,Z=q.Ba,ve=q.c;var Fe=q.i,Pe=(Ee=1,G=q.$/ve,X=q.$%ve,he=q.m,ke=q.s,q.$),Le=ve*Fe,Me=ve*g,De=ke.wc,Ue=Pe<Me?an(ke,X,G):null;t(Pe<=Le),t(g<=Fe),t(Bs(ke));t:for(;;){for(;!he.h&&Pe<Me;){if(X&De||(Ue=an(ke,X,G)),t(Ue!=null),ye(he),256>(Fe=gr(Ue.G[0],Ue.H[0],he)))$[Z+Pe]=Fe,++Pe,++X>=ve&&(X=0,++G<=g&&!(G%16)&&Nn(q,G));else{if(!(280>Fe)){Ee=0;break t}Fe=qr(Fe-256,he);var ut,st=gr(Ue.G[4],Ue.H[4],he);if(ye(he),!(Pe>=(st=Ns(ve,st=qr(st,he)))&&Le-Pe>=Fe)){Ee=0;break t}for(ut=0;ut<Fe;++ut)$[Z+Pe+ut]=$[Z+Pe+ut-st];for(Pe+=Fe,X+=Fe;X>=ve;)X-=ve,++G<=g&&!(G%16)&&Nn(q,G);Pe<Me&&X&De&&(Ue=an(ke,X,G))}t(he.h==le(he))}Nn(q,G>g?g:G);break t}!Ee||he.h&&Pe<Le?(Ee=0,q.a=he.h?5:3):q.$=Pe,g=Ee}else g=li(q,q.V,q.Ba,q.c,q.i,g,Oo);if(!g){C=0;break e}}j+C>=F&&(m.Cc=1),C=1}if(!C)return null;if(m.Cc&&((C=m.ga)!=null&&(C.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+j*O}function on(m,g,j,C,O,F){for(;0<O--;){var q,$=m,G=g+(j?1:0),X=m,he=g+(j?0:3);for(q=0;q<C;++q){var ke=X[he+4*q];ke!=255&&(ke*=32897,$[G+4*q+0]=$[G+4*q+0]*ke>>23,$[G+4*q+1]=$[G+4*q+1]*ke>>23,$[G+4*q+2]=$[G+4*q+2]*ke>>23)}g+=F}}function ur(m,g,j,C,O){for(;0<C--;){var F;for(F=0;F<j;++F){var q=m[g+2*F+0],$=15&(X=m[g+2*F+1]),G=4369*$,X=(240&X|X>>4)*G>>16;m[g+2*F+0]=(240&q|q>>4)*G>>16&240|(15&q|q<<4)*G>>16>>4&15,m[g+2*F+1]=240&X|$}g+=O}}function kn(m,g,j,C,O,F,q,$){var G,X,he=255;for(X=0;X<O;++X){for(G=0;G<C;++G){var ke=m[g+G];F[q+4*G]=ke,he&=ke}g+=j,q+=$}return he!=255}function Zi(m,g,j,C,O){var F;for(F=0;F<O;++F)j[C+F]=m[g+F]>>8}function Ai(){Cs=on,sa=ur,Ii=kn,Zl=Zi}function Rn(m,g,j){W[m]=function(C,O,F,q,$,G,X,he,ke,Z,ve,Ee,Fe,Pe,Le,Me,De){var Ue,ut=De-1>>1,st=$[G+0]|X[he+0]<<16,Xt=ke[Z+0]|ve[Ee+0]<<16;t(C!=null);var dt=3*st+Xt+131074>>2;for(g(C[O+0],255&dt,dt>>16,Fe,Pe),F!=null&&(dt=3*Xt+st+131074>>2,g(F[q+0],255&dt,dt>>16,Le,Me)),Ue=1;Ue<=ut;++Ue){var dr=$[G+Ue]|X[he+Ue]<<16,cn=ke[Z+Ue]|ve[Ee+Ue]<<16,Zt=st+dr+Xt+cn+524296,it=Zt+2*(dr+Xt)>>3;dt=it+st>>1,st=(Zt=Zt+2*(st+cn)>>3)+dr>>1,g(C[O+2*Ue-1],255&dt,dt>>16,Fe,Pe+(2*Ue-1)*j),g(C[O+2*Ue-0],255&st,st>>16,Fe,Pe+(2*Ue-0)*j),F!=null&&(dt=Zt+Xt>>1,st=it+cn>>1,g(F[q+2*Ue-1],255&dt,dt>>16,Le,Me+(2*Ue-1)*j),g(F[q+2*Ue+0],255&st,st>>16,Le,Me+(2*Ue+0)*j)),st=dr,Xt=cn}1&De||(dt=3*st+Xt+131074>>2,g(C[O+De-1],255&dt,dt>>16,Fe,Pe+(De-1)*j),F!=null&&(dt=3*Xt+st+131074>>2,g(F[q+De-1],255&dt,dt>>16,Le,Me+(De-1)*j)))}}function io(){ns[Jo]=Ou,ns[yi]=ia,ns[Ic]=Iu,ns[Xo]=xo,ns[Sl]=Fa,ns[Cr]=rl,ns[kl]=sc,ns[fo]=ia,ns[Oa]=xo,ns[Qo]=Fa,ns[Zo]=rl}function vr(m){return m&-16384?0>m?0:255:m>>aa}function hi(m,g){return vr((19077*m>>8)+(26149*g>>8)-14234)}function Pi(m,g,j){return vr((19077*m>>8)-(6419*g>>8)-(13320*j>>8)+8708)}function Sa(m,g){return vr((19077*m>>8)+(33050*g>>8)-17685)}function ka(m,g,j,C,O){C[O+0]=hi(m,j),C[O+1]=Pi(m,g,j),C[O+2]=Sa(m,g)}function ln(m,g,j,C,O){C[O+0]=Sa(m,g),C[O+1]=Pi(m,g,j),C[O+2]=hi(m,j)}function Ea(m,g,j,C,O){var F=Pi(m,g,j);g=F<<3&224|Sa(m,g)>>3,C[O+0]=248&hi(m,j)|F>>5,C[O+1]=g}function Ca(m,g,j,C,O){var F=240&Sa(m,g)|15;C[O+0]=240&hi(m,j)|Pi(m,g,j)>>4,C[O+1]=F}function wl(m,g,j,C,O){C[O+0]=255,ka(m,g,j,C,O+1)}function ao(m,g,j,C,O){ln(m,g,j,C,O),C[O+3]=255}function Zn(m,g,j,C,O){ka(m,g,j,C,O),C[O+3]=255}function fi(m,g,j){W[m]=function(C,O,F,q,$,G,X,he,ke){for(var Z=he+(-2&ke)*j;he!=Z;)g(C[O+0],F[q+0],$[G+0],X,he),g(C[O+1],F[q+0],$[G+0],X,he+j),O+=2,++q,++G,he+=2*j;1&ke&&g(C[O+0],F[q+0],$[G+0],X,he)}}function Li(m,g,j){return j==0?m==0?g==0?6:5:g==0?4:0:j}function ea(m,g,j,C,O){switch(m>>>30){case 3:Ta(g,j,C,O,0);break;case 2:br(g,j,C,O);break;case 1:wr(g,j,C,O)}}function ks(m,g){var j,C,O=g.M,F=g.Nb,q=m.oc,$=m.pc+40,G=m.oc,X=m.pc+584,he=m.oc,ke=m.pc+600;for(j=0;16>j;++j)q[$+32*j-1]=129;for(j=0;8>j;++j)G[X+32*j-1]=129,he[ke+32*j-1]=129;for(0<O?q[$-1-32]=G[X-1-32]=he[ke-1-32]=129:(a(q,$-32-1,127,21),a(G,X-32-1,127,9),a(he,ke-32-1,127,9)),C=0;C<m.za;++C){var Z=g.ya[g.aa+C];if(0<C){for(j=-1;16>j;++j)n(q,$+32*j-4,q,$+32*j+12,4);for(j=-1;8>j;++j)n(G,X+32*j-4,G,X+32*j+4,4),n(he,ke+32*j-4,he,ke+32*j+4,4)}var ve=m.Gd,Ee=m.Hd+C,Fe=Z.ad,Pe=Z.Hc;if(0<O&&(n(q,$-32,ve[Ee].y,0,16),n(G,X-32,ve[Ee].f,0,8),n(he,ke-32,ve[Ee].ea,0,8)),Z.Za){var Le=q,Me=$-32+16;for(0<O&&(C>=m.za-1?a(Le,Me,ve[Ee].y[15],4):n(Le,Me,ve[Ee+1].y,0,4)),j=0;4>j;j++)Le[Me+128+j]=Le[Me+256+j]=Le[Me+384+j]=Le[Me+0+j];for(j=0;16>j;++j,Pe<<=2)Le=q,Me=$+Xe[j],Ls[Z.Ob[j]](Le,Me),ea(Pe,Fe,16*+j,Le,Me)}else if(Le=Li(C,O,Z.Ob[0]),Vn[Le](q,$),Pe!=0)for(j=0;16>j;++j,Pe<<=2)ea(Pe,Fe,16*+j,q,$+Xe[j]);for(j=Z.Gc,Le=Li(C,O,Z.Dd),rs[Le](G,X),rs[Le](he,ke),Pe=Fe,Le=G,Me=X,255&(Z=0|j)&&(170&Z?es(Pe,256,Le,Me):Tr(Pe,256,Le,Me)),Z=he,Pe=ke,255&(j>>=8)&&(170&j?es(Fe,320,Z,Pe):Tr(Fe,320,Z,Pe)),O<m.Ub-1&&(n(ve[Ee].y,0,q,$+480,16),n(ve[Ee].f,0,G,X+224,8),n(ve[Ee].ea,0,he,ke+224,8)),j=8*F*m.B,ve=m.sa,Ee=m.ta+16*C+16*F*m.R,Fe=m.qa,Z=m.ra+8*C+j,Pe=m.Ha,Le=m.Ia+8*C+j,j=0;16>j;++j)n(ve,Ee+j*m.R,q,$+32*j,16);for(j=0;8>j;++j)n(Fe,Z+j*m.B,G,X+32*j,8),n(Pe,Le+j*m.B,he,ke+32*j,8)}}function oo(m,g,j,C,O,F,q,$,G){var X=[0],he=[0],ke=0,Z=G!=null?G.kd:0,ve=G??new $e;if(m==null||12>j)return 7;ve.data=m,ve.w=g,ve.ha=j,g=[g],j=[j],ve.gb=[ve.gb];e:{var Ee=g,Fe=j,Pe=ve.gb;if(t(m!=null),t(Fe!=null),t(Pe!=null),Pe[0]=0,12<=Fe[0]&&!r(m,Ee[0],"RIFF")){if(r(m,Ee[0]+8,"WEBP")){Pe=3;break e}var Le=ze(m,Ee[0]+4);if(12>Le||4294967286<Le){Pe=3;break e}if(Z&&Le>Fe[0]-8){Pe=7;break e}Pe[0]=Le,Ee[0]+=12,Fe[0]-=12}Pe=0}if(Pe!=0)return Pe;for(Le=0<ve.gb[0],j=j[0];;){e:{var Me=m;Fe=g,Pe=j;var De=X,Ue=he,ut=Ee=[0];if((dt=ke=[ke])[0]=0,8>Pe[0])Pe=7;else{if(!r(Me,Fe[0],"VP8X")){if(ze(Me,Fe[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var st=ze(Me,Fe[0]+8),Xt=1+Ve(Me,Fe[0]+12);if(2147483648<=Xt*(Me=1+Ve(Me,Fe[0]+15))){Pe=3;break e}ut!=null&&(ut[0]=st),De!=null&&(De[0]=Xt),Ue!=null&&(Ue[0]=Me),Fe[0]+=18,Pe[0]-=18,dt[0]=1}Pe=0}}if(ke=ke[0],Ee=Ee[0],Pe!=0)return Pe;if(Fe=!!(2&Ee),!Le&&ke)return 3;if(F!=null&&(F[0]=!!(16&Ee)),q!=null&&(q[0]=Fe),$!=null&&($[0]=0),q=X[0],Ee=he[0],ke&&Fe&&G==null){Pe=0;break}if(4>j){Pe=7;break}if(Le&&ke||!Le&&!ke&&!r(m,g[0],"ALPH")){j=[j],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{st=m,Pe=g,Le=j;var dt=ve.gb;De=ve.na,Ue=ve.P,ut=ve.Sa,Xt=22,t(st!=null),t(Le!=null),Me=Pe[0];var dr=Le[0];for(t(De!=null),t(ut!=null),De[0]=null,Ue[0]=null,ut[0]=0;;){if(Pe[0]=Me,Le[0]=dr,8>dr){Pe=7;break e}var cn=ze(st,Me+4);if(4294967286<cn){Pe=3;break e}var Zt=8+cn+1&-2;if(Xt+=Zt,0<dt&&Xt>dt){Pe=3;break e}if(!r(st,Me,"VP8 ")||!r(st,Me,"VP8L")){Pe=0;break e}if(dr[0]<Zt){Pe=7;break e}r(st,Me,"ALPH")||(De[0]=st,Ue[0]=Me+8,ut[0]=cn),Me+=Zt,dr-=Zt}}if(j=j[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Pe!=0)break}j=[j],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(dt=m,Pe=g,Le=j,De=ve.gb[0],Ue=ve.Ja,ut=ve.xa,st=Pe[0],Me=!r(dt,st,"VP8 "),Xt=!r(dt,st,"VP8L"),t(dt!=null),t(Le!=null),t(Ue!=null),t(ut!=null),8>Le[0])Pe=7;else{if(Me||Xt){if(dt=ze(dt,st+4),12<=De&&dt>De-12){Pe=3;break e}if(Z&&dt>Le[0]-8){Pe=7;break e}Ue[0]=dt,Pe[0]+=8,Le[0]-=8,ut[0]=Xt}else ut[0]=5<=Le[0]&&dt[st+0]==47&&!(dt[st+4]>>5),Ue[0]=Le[0];Pe=0}if(j=j[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],g=g[0],Pe!=0)break;if(4294967286<ve.Ja)return 3;if($==null||Fe||($[0]=ve.xa?2:1),q=[q],Ee=[Ee],ve.xa){if(5>j){Pe=7;break}$=q,Z=Ee,Fe=F,m==null||5>j?m=0:5<=j&&m[g+0]==47&&!(m[g+4]>>5)?(Le=[0],dt=[0],De=[0],pe(Ue=new J,m,g,j),wn(Ue,Le,dt,De)?($!=null&&($[0]=Le[0]),Z!=null&&(Z[0]=dt[0]),Fe!=null&&(Fe[0]=De[0]),m=1):m=0):m=0}else{if(10>j){Pe=7;break}$=Ee,m==null||10>j||!eo(m,g+3,j-3)?m=0:(Z=m[g+0]|m[g+1]<<8|m[g+2]<<16,Fe=16383&(m[g+7]<<8|m[g+6]),m=16383&(m[g+9]<<8|m[g+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=ve.Ja||!Fe||!m?m=0:(q&&(q[0]=Fe),$&&($[0]=m),m=1))}if(!m||(q=q[0],Ee=Ee[0],ke&&(X[0]!=q||he[0]!=Ee)))return 3;G!=null&&(G[0]=ve,G.offset=g-G.w,t(4294967286>g-G.w),t(G.offset==G.ha-j));break}return Pe==0||Pe==7&&ke&&G==null?(F!=null&&(F[0]|=ve.na!=null&&0<ve.na.length),C!=null&&(C[0]=q),O!=null&&(O[0]=Ee),0):Pe}function Wo(m,g,j){var C=g.width,O=g.height,F=0,q=0,$=C,G=O;if(g.Da=m!=null&&0<m.Da,g.Da&&($=m.cd,G=m.bd,F=m.v,q=m.j,11>j||(F&=-2,q&=-2),0>F||0>q||0>=$||0>=G||F+$>C||q+G>O))return 0;if(g.v=F,g.j=q,g.va=F+$,g.o=q+G,g.U=$,g.T=G,g.da=m!=null&&0<m.da,g.da){if(!tt($,G,j=[m.ib],F=[m.hb]))return 0;g.ib=j[0],g.hb=F[0]}return g.ob=m!=null&&m.ob,g.Kb=m==null||!m.Sd,g.da&&(g.ob=g.ib<3*C/4&&g.hb<3*O/4,g.Kb=0),1}function Nl(m){if(m==null)return 2;if(11>m.S){var g=m.f.RGBA;g.fb+=(m.height-1)*g.A,g.A=-g.A}else g=m.f.kb,m=m.height,g.O+=(m-1)*g.fa,g.fa=-g.fa,g.N+=(m-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(m-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(m-1)*g.lb,g.lb=-g.lb);return 0}function Aa(m,g,j,C){if(C==null||0>=m||0>=g)return 2;if(j!=null){if(j.Da){var O=j.cd,F=j.bd,q=-2&j.v,$=-2&j.j;if(0>q||0>$||0>=O||0>=F||q+O>m||$+F>g)return 2;m=O,g=F}if(j.da){if(!tt(m,g,O=[j.ib],F=[j.hb]))return 2;m=O[0],g=F[0]}}C.width=m,C.height=g;e:{var G=C.width,X=C.height;if(m=C.S,0>=G||0>=X||!(m>=Jo&&13>m))m=2;else{if(0>=C.Rd&&C.sd==null){q=F=O=g=0;var he=($=G*St[m])*X;if(11>m||(F=(X+1)/2*(g=(G+1)/2),m==12&&(q=(O=G)*X)),(X=o(he+2*F+q))==null){m=1;break e}C.sd=X,11>m?((G=C.f.RGBA).eb=X,G.fb=0,G.A=$,G.size=he):((G=C.f.kb).y=X,G.O=0,G.fa=$,G.Fd=he,G.f=X,G.N=0+he,G.Ab=g,G.Cd=F,G.ea=X,G.W=0+he+F,G.Db=g,G.Ed=F,m==12&&(G.F=X,G.J=0+he+2*F),G.Tc=q,G.lb=O)}if(g=1,O=C.S,F=C.width,q=C.height,O>=Jo&&13>O)if(11>O)m=C.f.RGBA,g&=($=Math.abs(m.A))*(q-1)+F<=m.size,g&=$>=F*St[O],g&=m.eb!=null;else{m=C.f.kb,$=(F+1)/2,he=(q+1)/2,G=Math.abs(m.fa),X=Math.abs(m.Ab);var ke=Math.abs(m.Db),Z=Math.abs(m.lb),ve=Z*(q-1)+F;g&=G*(q-1)+F<=m.Fd,g&=X*(he-1)+$<=m.Cd,g=(g&=ke*(he-1)+$<=m.Ed)&G>=F&X>=$&ke>=$,g&=m.y!=null,g&=m.f!=null,g&=m.ea!=null,O==12&&(g&=Z>=F,g&=ve<=m.Tc,g&=m.F!=null)}else g=0;m=g?0:2}}return m!=0||j!=null&&j.fd&&(m=Nl(C)),m}var pi=64,Es=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xs=24,lo=32,Ti=8,ta=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),W.Predictor0=function(){return 4278190080},W.Predictor1=function(m){return m},W.Predictor2=function(m,g,j){return g[j+0]},W.Predictor3=function(m,g,j){return g[j+1]},W.Predictor4=function(m,g,j){return g[j-1]},W.Predictor5=function(m,g,j){return xt(xt(m,g[j+1]),g[j+0])},W.Predictor6=function(m,g,j){return xt(m,g[j-1])},W.Predictor7=function(m,g,j){return xt(m,g[j+0])},W.Predictor8=function(m,g,j){return xt(g[j-1],g[j+0])},W.Predictor9=function(m,g,j){return xt(g[j+0],g[j+1])},W.Predictor10=function(m,g,j){return xt(xt(m,g[j-1]),xt(g[j+0],g[j+1]))},W.Predictor11=function(m,g,j){var C=g[j+0];return 0>=$t(C>>24&255,m>>24&255,(g=g[j-1])>>24&255)+$t(C>>16&255,m>>16&255,g>>16&255)+$t(C>>8&255,m>>8&255,g>>8&255)+$t(255&C,255&m,255&g)?C:m},W.Predictor12=function(m,g,j){var C=g[j+0];return(yr((m>>24&255)+(C>>24&255)-((g=g[j-1])>>24&255))<<24|yr((m>>16&255)+(C>>16&255)-(g>>16&255))<<16|yr((m>>8&255)+(C>>8&255)-(g>>8&255))<<8|yr((255&m)+(255&C)-(255&g)))>>>0},W.Predictor13=function(m,g,j){var C=g[j-1];return(nr((m=xt(m,g[j+0]))>>24&255,C>>24&255)<<24|nr(m>>16&255,C>>16&255)<<16|nr(m>>8&255,C>>8&255)<<8|nr(255&m,255&C))>>>0};var Pa=W.PredictorAdd0;W.PredictorAdd1=sr,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var Ri=W.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Wr,ra=W.ColorIndexInverseTransform,mi=W.MapARGB,xi=W.VP8LColorIndexInverseTransformAlpha,co=W.MapAlpha,uo=W.VP8LPredictorsAdd=[];uo.length=16,(W.VP8LPredictors=[]).length=16,(W.VP8LPredictorsAdd_C=[]).length=16,(W.VP8LPredictors_C=[]).length=16;var Oi,Ho,gi,ho,vi,La,On,Ta,br,es,wr,Tr,tn,mn,hs,Go,jl,na,bi,Ra,Yo,Lc,_l,Se,Cs,sa,Ii,Zl,Au=o(511),ec=o(2041),Tc=o(225),Rc=o(767),Oc=0,As=ec,Ko=Tc,ts=Rc,Ps=Au,Jo=0,yi=1,Ic=2,Xo=3,Sl=4,Cr=5,kl=6,fo=7,Oa=8,Qo=9,Zo=10,el=[2,3,7],El=[3,3,11],Ia=[280,256,256,256,40],Mc=[0,1,1,1,0],Pu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Lu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Fc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Cl=8,po=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],tl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ma=null,tc=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Dc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Tu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ru=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nc=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Vn=[],Ls=[],rs=[],wi=1,mo=2,In=[],ns=[];Rn("UpsampleRgbLinePair",ka,3),Rn("UpsampleBgrLinePair",ln,3),Rn("UpsampleRgbaLinePair",Zn,4),Rn("UpsampleBgraLinePair",ao,4),Rn("UpsampleArgbLinePair",wl,4),Rn("UpsampleRgba4444LinePair",Ca,2),Rn("UpsampleRgb565LinePair",Ea,2);var Ou=W.UpsampleRgbLinePair,Iu=W.UpsampleBgrLinePair,ia=W.UpsampleRgbaLinePair,xo=W.UpsampleBgraLinePair,Fa=W.UpsampleArgbLinePair,rl=W.UpsampleRgba4444LinePair,sc=W.UpsampleRgb565LinePair,Mi=16,Qs=1<<Mi-1,Nr=-227,_r=482,aa=6,En=0,ss=o(256),Da=o(256),go=o(256),is=o(256),B=o(_r-Nr),Ae=o(_r-Nr);fi("YuvToRgbRow",ka,3),fi("YuvToBgrRow",ln,3),fi("YuvToRgbaRow",Zn,4),fi("YuvToBgraRow",ao,4),fi("YuvToArgbRow",wl,4),fi("YuvToRgba4444Row",Ca,2),fi("YuvToRgb565Row",Ea,2);var Xe=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nt=[0,2,8],Dt=[8,7,6,4,4,2,2,2,1,1,1,1],Bt=1;this.WebPDecodeRGBA=function(m,g,j,C,O){var F=yi,q=new qe,$=new Yt;q.ba=$,$.S=F,$.width=[$.width],$.height=[$.height];var G=$.width,X=$.height,he=new At;if(he==null||m==null)var ke=2;else t(he!=null),ke=oo(m,g,j,he.width,he.height,he.Pd,he.Qd,he.format,null);if(ke!=0?G=0:(G!=null&&(G[0]=he.width[0]),X!=null&&(X[0]=he.height[0]),G=1),G){$.width=$.width[0],$.height=$.height[0],C!=null&&(C[0]=$.width),O!=null&&(O[0]=$.height);e:{if(C=new gl,(O=new $e).data=m,O.w=g,O.ha=j,O.kd=1,g=[0],t(O!=null),((m=oo(O.data,O.w,O.ha,null,null,null,g,null,O))==0||m==7)&&g[0]&&(m=4),(g=m)==0){if(t(q!=null),C.data=O.data,C.w=O.w+O.offset,C.ha=O.ha-O.offset,C.put=Lt,C.ac=oi,C.bc=Us,C.ma=q,O.xa){if((m=Ki())==null){q=1;break e}if((function(Z,ve){var Ee=[0],Fe=[0],Pe=[0];t:for(;;){if(Z==null)return 0;if(ve==null)return Z.a=2,0;if(Z.l=ve,Z.a=0,pe(Z.m,ve.data,ve.w,ve.ha),!wn(Z.m,Ee,Fe,Pe)){Z.a=3;break t}if(Z.xb=mo,ve.width=Ee[0],ve.height=Fe[0],!ci(Ee[0],Fe[0],1,Z,null))break t;return 1}return t(Z.a!=0),0})(m,C)){if(C=(g=Aa(C.width,C.height,q.Oa,q.ba))==0){t:{C=m;r:for(;;){if(C==null){C=0;break t}if(t(C.s.yc!=null),t(C.s.Ya!=null),t(0<C.s.Wb),t((j=C.l)!=null),t((O=j.ma)!=null),C.xb!=0){if(C.ca=O.ba,C.tb=O.tb,t(C.ca!=null),!Wo(O.Oa,j,Xo)){C.a=2;break r}if(!Za(C,j.width)||j.da)break r;if((j.da||kt(C.ca.S))&&Ai(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&Ai()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!K(C.s.vb,C.s.Wa.Xa)){C.a=1;break r}C.xb=0}if(!li(C,C.V,C.Ba,C.c,C.i,j.o,zs))break r;O.Dc=C.Ma,C=1;break t}t(C.a!=0),C=0}C=!C}C&&(g=m.a)}else g=m.a}else{if((m=new Cu)==null){q=1;break e}if(m.Fa=O.na,m.P=O.P,m.qc=O.Sa,Hs(m,C)){if((g=Aa(C.width,C.height,q.Oa,q.ba))==0){if(m.Aa=0,j=q.Oa,t((O=m)!=null),j!=null){if(0<(G=0>(G=j.Md)?0:100<G?255:255*G/100)){for(X=he=0;4>X;++X)12>(ke=O.pb[X]).lc&&(ke.ia=G*Dt[0>ke.lc?0:ke.lc]>>3),he|=ke.ia;he&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=j.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(Z,ve){if(Z==null)return 0;if(ve==null)return pn(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!Hs(Z,ve))return 0;if(t(Z.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(Z.L=0);var Ee=nt[Z.L];if(Z.L==2?(Z.yb=0,Z.zb=0):(Z.yb=ve.v-Ee>>4,Z.zb=ve.j-Ee>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=ve.o+15+Ee>>4,Z.Hb=ve.va+15+Ee>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var Fe=Z.ed;for(Ee=0;4>Ee;++Ee){var Pe;if(Z.Qa.Cb){var Le=Z.Qa.Lb[Ee];Z.Qa.Fb||(Le+=Fe.Tb)}else Le=Fe.Tb;for(Pe=0;1>=Pe;++Pe){var Me=Z.gd[Ee][Pe],De=Le;if(Fe.Pc&&(De+=Fe.vd[0],Pe&&(De+=Fe.od[0])),0<(De=0>De?0:63<De?63:De)){var Ue=De;0<Fe.wb&&(Ue=4<Fe.wb?Ue>>2:Ue>>1)>9-Fe.wb&&(Ue=9-Fe.wb),1>Ue&&(Ue=1),Me.dd=Ue,Me.tc=2*De+Ue,Me.ld=40<=De?2:15<=De?1:0}else Me.tc=0;Me.La=Pe}}}Ee=0}else pn(Z,6,"Frame setup failed"),Ee=Z.a;if(Ee=Ee==0){if(Ee){Z.$c=0,0<Z.Aa||(Z.Ic=Bt);t:{Ee=Z.Ic,Fe=4*(Ue=Z.za);var ut=32*Ue,st=Ue+1,Xt=0<Z.L?Ue*(0<Z.Aa?2:1):0,dt=(Z.Aa==2?2:1)*Ue;if((Me=Fe+832+(Pe=3*(16*Ee+nt[Z.L])/2*ut)+(Le=Z.Fa!=null&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=Me)Ee=0;else{if(Me>Z.Vb){if(Z.Vb=0,Z.Ec=o(Me),Z.Fc=0,Z.Ec==null){Ee=pn(Z,1,"no memory during frame initialization.");break t}Z.Vb=Me}Me=Z.Ec,De=Z.Fc,Z.Ac=Me,Z.Bc=De,De+=Fe,Z.Gd=c(ut,ds),Z.Hd=0,Z.rb=c(st+1,ba),Z.sb=1,Z.wa=Xt?c(Xt,Ws):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=Ue),t(!0),Z.oc=Me,Z.pc=De,De+=832,Z.ya=c(dt,ya),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,Z.Aa==2&&(Z.D.aa+=Ue),Z.R=16*Ue,Z.B=8*Ue,Ue=(ut=nt[Z.L])*Z.R,ut=ut/2*Z.B,Z.sa=Me,Z.ta=De+Ue,Z.qa=Z.sa,Z.ra=Z.ta+16*Ee*Z.R+ut,Z.Ha=Z.qa,Z.Ia=Z.ra+8*Ee*Z.B+ut,Z.$c=0,De+=Pe,Z.mb=Le?Me:null,Z.nb=Le?De:null,t(De+Le<=Z.Fc+Z.Vb),jn(Z),a(Z.Ac,Z.Bc,0,Fe),Ee=1}}if(Ee){if(ve.ka=0,ve.y=Z.sa,ve.O=Z.ta,ve.f=Z.qa,ve.N=Z.ra,ve.ea=Z.Ha,ve.Vd=Z.Ia,ve.fa=Z.R,ve.Rc=Z.B,ve.F=null,ve.J=0,!Oc){for(Ee=-255;255>=Ee;++Ee)Au[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)ec[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)Tc[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)Rc[255+Ee]=0>Ee?0:255<Ee?255:Ee;Oc=1}On=wa,Ta=Bn,es=ki,wr=rr,Tr=hr,br=qo,tn=Qn,mn=Sn,hs=M,Go=re,jl=yl,na=w,bi=de,Ra=_e,Yo=Qi,Lc=Ks,_l=bl,Se=Js,Ls[0]=Bo,Ls[1]=Yl,Ls[2]=Ei,Ls[3]=Jl,Ls[4]=_n,Ls[5]=ro,Ls[6]=Ci,Ls[7]=ui,Ls[8]=Xl,Ls[9]=$o,Vn[0]=Xi,Vn[1]=Pc,Vn[2]=Uo,Vn[3]=zo,Vn[4]=_s,Vn[5]=Jn,Vn[6]=to,rs[0]=Vo,rs[1]=Kl,rs[2]=Xn,rs[3]=no,rs[4]=Ql,rs[5]=vl,rs[6]=ja,Ee=1}else Ee=0}Ee&&(Ee=(function(dr,cn){for(dr.M=0;dr.M<dr.Va;++dr.M){var Zt,it=dr.Jc[dr.M&dr.Xb],Je=dr.m,xn=dr;for(Zt=0;Zt<xn.za;++Zt){var Pt=Je,or=xn,Ir=or.Ac,un=or.Bc+4*Zt,as=or.zc,Hr=or.ya[or.aa+Zt];if(or.Qa.Bb?Hr.$b=me(Pt,or.Pa.jb[0])?2+me(Pt,or.Pa.jb[2]):me(Pt,or.Pa.jb[1]):Hr.$b=0,or.kc&&(Hr.Ad=me(Pt,or.Bd)),Hr.Za=!me(Pt,145)+0,Hr.Za){var Wn=Hr.Ob,os=0;for(or=0;4>or;++or){var Gr,Kt=as[0+or];for(Gr=0;4>Gr;++Gr){Kt=Tu[Ir[un+Gr]][Kt];for(var fr=Dc[me(Pt,Kt[0])];0<fr;)fr=Dc[2*fr+me(Pt,Kt[fr])];Kt=-fr,Ir[un+Gr]=Kt}n(Wn,os,Ir,un,4),os+=4,as[0+or]=Kt}}else Kt=me(Pt,156)?me(Pt,128)?1:3:me(Pt,163)?2:0,Hr.Ob[0]=Kt,a(Ir,un,Kt,4),a(as,0,Kt,4);Hr.Dd=me(Pt,142)?me(Pt,114)?me(Pt,183)?1:3:2:0}if(xn.m.Ka)return pn(dr,7,"Premature end-of-partition0 encountered.");for(;dr.ja<dr.za;++dr.ja){if(xn=it,Pt=(Je=dr).rb[Je.sb-1],Ir=Je.rb[Je.sb+Je.ja],Zt=Je.ya[Je.aa+Je.ja],un=Je.kc?Zt.Ad:0)Pt.la=Ir.la=0,Zt.Za||(Pt.Na=Ir.Na=0),Zt.Hc=0,Zt.Gc=0,Zt.ia=0;else{var Yr,Ar;if(Pt=Ir,Ir=xn,un=Je.Pa.Xc,as=Je.ya[Je.aa+Je.ja],Hr=Je.pb[as.$b],or=as.ad,Wn=0,os=Je.rb[Je.sb-1],Kt=Gr=0,a(or,Wn,0,384),as.Za)var zr=0,Hn=un[3];else{fr=o(16);var rn=Pt.Na+os.Na;if(rn=Ma(Ir,un[1],rn,Hr.Eb,0,fr,0),Pt.Na=os.Na=(0<rn)+0,1<rn)On(fr,0,or,Wn);else{var Ts=fr[0]+3>>3;for(fr=0;256>fr;fr+=16)or[Wn+fr]=Ts}zr=1,Hn=un[0]}var pr=15&Pt.la,Ur=15&os.la;for(fr=0;4>fr;++fr){var fs=1&Ur;for(Ts=Ar=0;4>Ts;++Ts)pr=pr>>1|(fs=(rn=Ma(Ir,Hn,rn=fs+(1&pr),Hr.Sc,zr,or,Wn))>zr)<<7,Ar=Ar<<2|(3<rn?3:1<rn?2:or[Wn+0]!=0),Wn+=16;pr>>=4,Ur=Ur>>1|fs<<7,Gr=(Gr<<8|Ar)>>>0}for(Hn=pr,zr=Ur>>4,Yr=0;4>Yr;Yr+=2){for(Ar=0,pr=Pt.la>>4+Yr,Ur=os.la>>4+Yr,fr=0;2>fr;++fr){for(fs=1&Ur,Ts=0;2>Ts;++Ts)rn=fs+(1&pr),pr=pr>>1|(fs=0<(rn=Ma(Ir,un[2],rn,Hr.Qc,0,or,Wn)))<<3,Ar=Ar<<2|(3<rn?3:1<rn?2:or[Wn+0]!=0),Wn+=16;pr>>=2,Ur=Ur>>1|fs<<5}Kt|=Ar<<4*Yr,Hn|=pr<<4<<Yr,zr|=(240&Ur)<<Yr}Pt.la=Hn,os.la=zr,as.Hc=Gr,as.Gc=Kt,as.ia=43690&Kt?0:Hr.ia,un=!(Gr|Kt)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[Zt.$b][Zt.Za],Je.wa[Je.Y+Je.ja].La|=!un),xn.Ka)return pn(dr,7,"Premature end-of-file encountered.")}if(jn(dr),Je=cn,xn=1,Zt=(it=dr).D,Pt=0<it.L&&it.M>=it.zb&&it.M<=it.Va,it.Aa==0)t:{if(Zt.M=it.M,Zt.uc=Pt,ks(it,Zt),xn=1,Zt=(Ar=it.D).Nb,Pt=(Kt=nt[it.L])*it.R,Ir=Kt/2*it.B,fr=16*Zt*it.R,Ts=8*Zt*it.B,un=it.sa,as=it.ta-Pt+fr,Hr=it.qa,or=it.ra-Ir+Ts,Wn=it.Ha,os=it.Ia-Ir+Ts,Ur=(pr=Ar.M)==0,Gr=pr>=it.Va-1,it.Aa==2&&ks(it,Ar),Ar.uc)for(fs=(rn=it).D.M,t(rn.D.uc),Ar=rn.yb;Ar<rn.Hb;++Ar){zr=Ar,Hn=fs;var ps=(ms=(gn=rn).D).Nb;Yr=gn.R;var ms=ms.wa[ms.Y+zr],Zs=gn.sa,Rs=gn.ta+16*ps*Yr+16*zr,Os=ms.dd,Rr=ms.tc;if(Rr!=0)if(t(3<=Rr),gn.L==1)0<zr&&Lc(Zs,Rs,Yr,Rr+4),ms.La&&Se(Zs,Rs,Yr,Rr),0<Hn&&Yo(Zs,Rs,Yr,Rr+4),ms.La&&_l(Zs,Rs,Yr,Rr);else{var ei=gn.B,Fi=gn.qa,nl=gn.ra+8*ps*ei+8*zr,oa=gn.Ha,gn=gn.Ia+8*ps*ei+8*zr;ps=ms.ld,0<zr&&(mn(Zs,Rs,Yr,Rr+4,Os,ps),Go(Fi,nl,oa,gn,ei,Rr+4,Os,ps)),ms.La&&(na(Zs,Rs,Yr,Rr,Os,ps),Ra(Fi,nl,oa,gn,ei,Rr,Os,ps)),0<Hn&&(tn(Zs,Rs,Yr,Rr+4,Os,ps),hs(Fi,nl,oa,gn,ei,Rr+4,Os,ps)),ms.La&&(jl(Zs,Rs,Yr,Rr,Os,ps),bi(Fi,nl,oa,gn,ei,Rr,Os,ps))}}if(it.ia&&alert("todo:DitherRow"),Je.put!=null){if(Ar=16*pr,pr=16*(pr+1),Ur?(Je.y=it.sa,Je.O=it.ta+fr,Je.f=it.qa,Je.N=it.ra+Ts,Je.ea=it.Ha,Je.W=it.Ia+Ts):(Ar-=Kt,Je.y=un,Je.O=as,Je.f=Hr,Je.N=or,Je.ea=Wn,Je.W=os),Gr||(pr-=Kt),pr>Je.o&&(pr=Je.o),Je.F=null,Je.J=null,it.Fa!=null&&0<it.Fa.length&&Ar<pr&&(Je.J=tr(it,Je,Ar,pr-Ar),Je.F=it.mb,Je.F==null&&Je.F.length==0)){xn=pn(it,3,"Could not decode alpha data.");break t}Ar<Je.j&&(Kt=Je.j-Ar,Ar=Je.j,t(!(1&Kt)),Je.O+=it.R*Kt,Je.N+=it.B*(Kt>>1),Je.W+=it.B*(Kt>>1),Je.F!=null&&(Je.J+=Je.width*Kt)),Ar<pr&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=Ar-Je.j,Je.U=Je.va-Je.v,Je.T=pr-Ar,xn=Je.put(Je))}Zt+1!=it.Ic||Gr||(n(it.sa,it.ta-Pt,un,as+16*it.R,Pt),n(it.qa,it.ra-Ir,Hr,or+8*it.B,Ir),n(it.Ha,it.Ia-Ir,Wn,os+8*it.B,Ir))}if(!xn)return pn(dr,6,"Output aborted.")}return 1})(Z,ve)),ve.bc!=null&&ve.bc(ve),Ee&=1}return Ee?(Z.cb=0,Ee):0})(m,C)||(g=m.a)}}else g=m.a}g==0&&q.Oa!=null&&q.Oa.fd&&(g=Nl(q.ba))}q=g}F=q!=0?null:11>F?$.f.RGBA.eb:$.f.kb.y}else F=null;return F};var St=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(W,ne){for(var T="",U=0;U<4;U++)T+=String.fromCharCode(W[ne++]);return T}function p(W,ne){return W[ne+0]|W[ne+1]<<8}function b(W,ne){return(W[ne+0]|W[ne+1]<<8|W[ne+2]<<16)>>>0}function y(W,ne){return(W[ne+0]|W[ne+1]<<8|W[ne+2]<<16|W[ne+3]<<24)>>>0}new d;var v=[0],_=[0],k=[],E=new d,A=e,L=(function(W,ne){var T={},U=0,Y=!1,H=0,be=0;if(T.frames=[],!(function(I,J){for(var ee=0;ee<4;ee++)if(I[J+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(W,ne)){for(y(W,ne+=4),ne+=8;ne<W.length;){var we=f(W,ne),ge=y(W,ne+=4);ne+=4;var ie=ge+(1&ge);switch(we){case"VP8 ":case"VP8L":T.frames[U]===void 0&&(T.frames[U]={}),(ce=T.frames[U]).src_off=Y?be:ne-8,ce.src_size=H+ge+8,U++,Y&&(Y=!1,H=0,be=0);break;case"VP8X":(ce=T.header={}).feature_flags=W[ne];var pe=ne+4;ce.canvas_width=1+b(W,pe),pe+=3,ce.canvas_height=1+b(W,pe),pe+=3;break;case"ALPH":Y=!0,H=ie+8,be=ne-8;break;case"ANIM":(ce=T.header).bgcolor=y(W,ne),pe=ne+4,ce.loop_count=p(W,pe),pe+=2;break;case"ANMF":var V,ce;(ce=T.frames[U]={}).offset_x=2*b(W,ne),ne+=3,ce.offset_y=2*b(W,ne),ne+=3,ce.width=1+b(W,ne),ne+=3,ce.height=1+b(W,ne),ne+=3,ce.duration=b(W,ne),ne+=3,V=W[ne++],ce.dispose=1&V,ce.blend=V>>1&1}we!="ANMF"&&(ne+=ie)}return T}})(A,0);L.response=A,L.rgbaoutput=!0,L.dataurl=!1;var P=L.header?L.header:null,R=L.frames?L.frames:null;if(P){P.loop_counter=P.loop_count,v=[P.canvas_height],_=[P.canvas_width];for(var Q=0;Q<R.length&&R[Q].blend!=0;Q++);}var te=R[0],oe=E.WebPDecodeRGBA(A,te.src_off,te.src_size,_,v);te.rgba=oe,te.imgwidth=_[0],te.imgheight=v[0];for(var se=0;se<_[0]*v[0]*4;se++)k[se]=oe[se];return this.width=_,this.height=v,this.data=k,this}(function(e){var t,r,n,a,o,c,u,d,f,p=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new d,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new c,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new c,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new b(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,f=new p}]);var b=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=I;Object.defineProperty(this,"pdf",{get:function(){return J}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(K){ee=!!K}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(K){le=!!K}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(K){isNaN(K)||(ue=K)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(K){isNaN(K)||(ye=K)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(K){var We;typeof K=="number"?We=[K,K,K,K]:((We=new Array(4))[0]=K[0],We[1]=K.length>=2?K[1]:We[0],We[2]=K.length>=3?K[2]:We[0],We[3]=K.length>=4?K[3]:We[1]),f.margin=We}});var Ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ce},set:function(K){Ce=K}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(K){fe=K}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(K){me=K}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(K){K instanceof p&&(f=K)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(K){f.path=K}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(K){Oe=K}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(K){var We;We=y(K),this.ctx.fillStyle=We.style,this.ctx.isFillTransparent=We.a===0,this.ctx.fillOpacity=We.a,this.pdf.setFillColor(We.r,We.g,We.b,{a:We.a}),this.pdf.setTextColor(We.r,We.g,We.b,{a:We.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(K){var We=y(K);this.ctx.strokeStyle=We.style,this.ctx.isStrokeTransparent=We.a===0,this.ctx.strokeOpacity=We.a,We.a===0?this.pdf.setDrawColor(255,255,255):(We.a,this.pdf.setDrawColor(We.r,We.g,We.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(K){["butt","round","square"].indexOf(K)!==-1&&(this.ctx.lineCap=K,this.pdf.setLineCap(K))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(K){isNaN(K)||(this.ctx.lineWidth=K,this.pdf.setLineWidth(K))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(K){["bevel","round","miter"].indexOf(K)!==-1&&(this.ctx.lineJoin=K,this.pdf.setLineJoin(K))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(K){isNaN(K)||(this.ctx.miterLimit=K,this.pdf.setMiterLimit(K))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(K){this.ctx.textBaseline=K}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(K){["right","end","center","left","start"].indexOf(K)!==-1&&(this.ctx.textAlign=K)}});var je=null,Ve=null,ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(K){je=null,Ve=null,ze=K}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(K){var We;if(this.ctx.font=K,(We=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(K))!==null){var vt=We[1];We[2];var tt=We[3],Be=We[4];We[5];var ht=We[6],Ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(Ze==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:Ze==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var mt=(function(ot){var Qr,Qt,Gt=[],Vt=ot.trim();if(Vt==="")return jx;if(Vt in ny)return[ny[Vt]];for(;Vt!=="";){switch(Qt=null,Qr=(Vt=iy(Vt)).charAt(0)){case'"':case"'":Qt=hO(Vt.substring(1),Qr);break;default:Qt=fO(Vt)}if(Qt===null||(Gt.push(Qt[0]),(Vt=iy(Qt[1]))!==""&&Vt.charAt(0)!==","))return jx;Vt=Vt.replace(/^,/,"")}return Gt})(ht);if(this.fontFaces){var xt=(function(ot,Qr){var Qt=ot.getFontList(),Gt=JSON.stringify(Qt);if(je===null||Ve!==Gt){var Vt=(function(Or){var yt=[];return Object.keys(Or).forEach(function(Er){Or[Er].forEach(function(kt){var Ut=null;switch(kt){case"bold":Ut={family:Er,weight:"bold"};break;case"italic":Ut={family:Er,style:"italic"};break;case"bolditalic":Ut={family:Er,weight:"bold",style:"italic"};break;case"":case"normal":Ut={family:Er}}Ut!==null&&(Ut.ref={name:Er,style:kt},yt.push(Ut))})}),yt})(Qt);je=(function(Or){for(var yt={},Er=0;Er<Or.length;++Er){var kt=Nx(Or[Er]),Ut=kt.family,jr=kt.stretch,Yt=kt.style,At=kt.weight;yt[Ut]=yt[Ut]||{},yt[Ut][jr]=yt[Ut][jr]||{},yt[Ut][jr][Yt]=yt[Ut][jr][Yt]||{},yt[Ut][jr][Yt][At]=kt}return yt})(Vt.concat(Qr)),Ve=Gt}return je})(this.pdf,this.fontFaces),yr=mt.map(function(ot){return{family:ot,stretch:"normal",weight:tt,style:vt}}),nr=(function(ot,Qr,Qt){for(var Gt=(Qt=Qt||{}).defaultFontFamily||"times",Vt=Object.assign({},dO,Qt.genericFontFamilies||{}),Or=null,yt=null,Er=0;Er<Qr.length;++Er)if(Vt[(Or=Nx(Qr[Er])).family]&&(Or.family=Vt[Or.family]),ot.hasOwnProperty(Or.family)){yt=ot[Or.family];break}if(!(yt=yt||ot[Gt]))throw new Error("Could not find a font-family for the rule '"+sy(Or)+"' and default family '"+Gt+"'.");if(yt=(function(kt,Ut){if(Ut[kt])return Ut[kt];var jr=Ag[kt],Yt=jr<=Ag.normal?-1:1,At=ry(Ut,rN,jr,Yt);if(!At)throw new Error("Could not find a matching font-stretch value for "+kt);return At})(Or.stretch,yt),yt=(function(kt,Ut){if(Ut[kt])return Ut[kt];for(var jr=tN[kt],Yt=0;Yt<jr.length;++Yt)if(Ut[jr[Yt]])return Ut[jr[Yt]];throw new Error("Could not find a matching font-style for "+kt)})(Or.style,yt),!(yt=(function(kt,Ut){if(Ut[kt])return Ut[kt];if(kt===400&&Ut[500])return Ut[500];if(kt===500&&Ut[400])return Ut[400];var jr=uO[kt],Yt=ry(Ut,nN,jr,kt<400?-1:1);if(!Yt)throw new Error("Could not find a matching font-weight for value "+kt);return Yt})(Or.weight,yt)))throw new Error("Failed to resolve a font for the rule '"+sy(Or)+"'.");return yt})(xt,yr);this.pdf.setFont(nr.ref.name,nr.ref.style)}else{var $t="";(tt==="bold"||parseInt(tt,10)>=700||vt==="bold")&&($t="bold"),vt==="italic"&&($t+="italic"),$t.length===0&&($t="normal");for(var sr="",Jt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<mt.length;at++){if(this.pdf.internal.getFont(mt[at],$t,{noFallback:!0,disableWarning:!0})!==void 0){sr=mt[at];break}if($t==="bolditalic"&&this.pdf.internal.getFont(mt[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)sr=mt[at],$t="bold";else if(this.pdf.internal.getFont(mt[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){sr=mt[at],$t="normal";break}}if(sr===""){for(var Mt=0;Mt<mt.length;Mt++)if(Jt[mt[Mt]]){sr=Jt[mt[Mt]];break}}sr=sr===""?"Times":sr,this.pdf.setFont(sr,$t)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(K){this.ctx.globalCompositeOperation=K}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(K){this.ctx.globalAlpha=K}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(K){this.ctx.lineDashOffset=K,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(K){this.ctx.lineDash=K,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(K){this.ctx.ignoreClearRect=!!K}})};b.prototype.setLineDash=function(I){this.lineDash=I},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){R.call(this,"fill",!1)},b.prototype.stroke=function(){R.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(I,J){if(isNaN(I)||isNaN(J))throw $r.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new c(I,J));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new c(I,J)},b.prototype.closePath=function(){var I=new c(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Dr(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){I=new c(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(I.x,I.y)},b.prototype.lineTo=function(I,J){if(isNaN(I)||isNaN(J))throw $r.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new c(I,J));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new c(ee.x,ee.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},b.prototype.quadraticCurveTo=function(I,J,ee,le){if(isNaN(ee)||isNaN(le)||isNaN(I)||isNaN(J))throw $r.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new c(ee,le)),ye=this.ctx.transform.applyToPoint(new c(I,J));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new c(ue.x,ue.y)},b.prototype.bezierCurveTo=function(I,J,ee,le,ue,ye){if(isNaN(ue)||isNaN(ye)||isNaN(I)||isNaN(J)||isNaN(ee)||isNaN(le))throw $r.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ce=this.ctx.transform.applyToPoint(new c(ue,ye)),fe=this.ctx.transform.applyToPoint(new c(I,J)),me=this.ctx.transform.applyToPoint(new c(ee,le));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:me.x,y2:me.y,x:Ce.x,y:Ce.y}),this.ctx.lastPoint=new c(Ce.x,Ce.y)},b.prototype.arc=function(I,J,ee,le,ue,ye){if(isNaN(I)||isNaN(J)||isNaN(ee)||isNaN(le)||isNaN(ue))throw $r.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var Ce=this.ctx.transform.applyToPoint(new c(I,J));I=Ce.x,J=Ce.y;var fe=this.ctx.transform.applyToPoint(new c(0,ee)),me=this.ctx.transform.applyToPoint(new c(0,0));ee=Math.sqrt(Math.pow(fe.x-me.x,2)+Math.pow(fe.y-me.y,2))}Math.abs(ue-le)>=2*Math.PI&&(le=0,ue=2*Math.PI),this.path.push({type:"arc",x:I,y:J,radius:ee,startAngle:le,endAngle:ue,counterclockwise:ye})},b.prototype.arcTo=function(I,J,ee,le,ue){throw new Error("arcTo not implemented.")},b.prototype.rect=function(I,J,ee,le){if(isNaN(I)||isNaN(J)||isNaN(ee)||isNaN(le))throw $r.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,J),this.lineTo(I+ee,J),this.lineTo(I+ee,J+le),this.lineTo(I,J+le),this.lineTo(I,J),this.lineTo(I+ee,J),this.lineTo(I,J)},b.prototype.fillRect=function(I,J,ee,le){if(isNaN(I)||isNaN(J)||isNaN(ee)||isNaN(le))throw $r.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,J,ee,le),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},b.prototype.strokeRect=function(I,J,ee,le){if(isNaN(I)||isNaN(J)||isNaN(ee)||isNaN(le))throw $r.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(I,J,ee,le),this.stroke())},b.prototype.clearRect=function(I,J,ee,le){if(isNaN(I)||isNaN(J)||isNaN(ee)||isNaN(le))throw $r.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,J,ee,le))},b.prototype.save=function(I){I=typeof I!="boolean"||I;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},b.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(J),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(I){var J,ee,le,ue;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))J=0,ee=0,le=0,ue=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ye!==null)J=parseInt(ye[1]),ee=parseInt(ye[2]),le=parseInt(ye[3]),ue=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)J=parseInt(ye[1]),ee=parseInt(ye[2]),le=parseInt(ye[3]),ue=parseFloat(ye[4]);else{if(ue=1,typeof I=="string"&&I.charAt(0)!=="#"){var Ce=new Y4(I);I=Ce.ok?Ce.toHex():"#000000"}I.length===4?(J=I.substring(1,2),J+=J,ee=I.substring(2,3),ee+=ee,le=I.substring(3,4),le+=le):(J=I.substring(1,3),ee=I.substring(3,5),le=I.substring(5,7)),J=parseInt(J,16),ee=parseInt(ee,16),le=parseInt(le,16)}}return{r:J,g:ee,b:le,a:ue,style:I}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(I,J,ee,le){if(isNaN(J)||isNaN(ee)||typeof I!="string")throw $r.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!v.call(this)){var ue=ie(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;U.call(this,{text:I,x:J,y:ee,scale:ye,angle:ue,align:this.textAlign,maxWidth:le})}},b.prototype.strokeText=function(I,J,ee,le){if(isNaN(J)||isNaN(ee)||typeof I!="string")throw $r.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){le=isNaN(le)?void 0:le;var ue=ie(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;U.call(this,{text:I,x:J,y:ee,scale:ye,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:le})}},b.prototype.measureText=function(I){if(typeof I!="string")throw $r.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,ee=this.pdf.internal.scaleFactor,le=J.internal.getFontSize(),ue=J.getStringUnitWidth(I)*le/J.internal.scaleFactor;return new function(ye){var Ce=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this}({width:ue*=Math.round(96*ee/72*1e4)/1e4})},b.prototype.scale=function(I,J){if(isNaN(I)||isNaN(J))throw $r.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new d(I,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},b.prototype.rotate=function(I){if(isNaN(I))throw $r.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new d(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},b.prototype.translate=function(I,J){if(isNaN(I)||isNaN(J))throw $r.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new d(1,0,0,1,I,J);this.ctx.transform=this.ctx.transform.multiply(ee)},b.prototype.transform=function(I,J,ee,le,ue,ye){if(isNaN(I)||isNaN(J)||isNaN(ee)||isNaN(le)||isNaN(ue)||isNaN(ye))throw $r.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ce=new d(I,J,ee,le,ue,ye);this.ctx.transform=this.ctx.transform.multiply(Ce)},b.prototype.setTransform=function(I,J,ee,le,ue,ye){I=isNaN(I)?1:I,J=isNaN(J)?0:J,ee=isNaN(ee)?0:ee,le=isNaN(le)?1:le,ue=isNaN(ue)?0:ue,ye=isNaN(ye)?0:ye,this.ctx.transform=new d(I,J,ee,le,ue,ye)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(I,J,ee,le,ue,ye,Ce,fe,me){var Oe=this.pdf.getImageProperties(I),je=1,Ve=1,ze=1,K=1;le!==void 0&&fe!==void 0&&(ze=fe/le,K=me/ue,je=Oe.width/le*fe/le,Ve=Oe.height/ue*me/ue),ye===void 0&&(ye=J,Ce=ee,J=0,ee=0),le!==void 0&&fe===void 0&&(fe=le,me=ue),le===void 0&&fe===void 0&&(fe=Oe.width,me=Oe.height);var We=this.ctx.transform.decompose(),vt=ie(We.rotate.shx),tt=new d,Be=(tt=(tt=(tt=tt.multiply(We.translate)).multiply(We.skew)).multiply(We.scale)).applyToRectangle(new u(ye-J*ze,Ce-ee*K,le*je,ue*Ve));if(this.autoPaging){for(var ht,Ze=E.call(this,Be),mt=[],xt=0;xt<Ze.length;xt+=1)mt.indexOf(Ze[xt])===-1&&mt.push(Ze[xt]);P(mt);for(var yr=mt[0],nr=mt[mt.length-1],$t=yr;$t<nr+1;$t++){this.pdf.setPage($t);var sr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Jt=$t===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=$t===1?0:at+($t-2)*Mt;if(this.ctx.clip_path.length!==0){var Qr=this.path;ht=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(ht,this.posX+this.margin[3],-ot+Jt+this.ctx.prevPageLastElemOffset),Q.call(this,"fill",!0),this.path=Qr}var Qt=JSON.parse(JSON.stringify(Be));Qt=L([Qt],this.posX+this.margin[3],-ot+Jt+this.ctx.prevPageLastElemOffset)[0];var Gt=($t>yr||$t<nr)&&k.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sr,Mt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,vt),Gt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(I,"JPEG",Be.x,Be.y,Be.w,Be.h,null,null,vt)};var E=function(I,J,ee){var le=[];J=J||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":le.push(Math.floor((I.y+ue)/ee)+1);break;case"arc":le.push(Math.floor((I.y+ue-I.radius)/ee)+1),le.push(Math.floor((I.y+ue+I.radius)/ee)+1);break;case"qct":var ye=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);le.push(Math.floor((ye.y+ue)/ee)+1),le.push(Math.floor((ye.y+ye.h+ue)/ee)+1);break;case"bct":var Ce=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);le.push(Math.floor((Ce.y+ue)/ee)+1),le.push(Math.floor((Ce.y+Ce.h+ue)/ee)+1);break;case"rect":le.push(Math.floor((I.y+ue)/ee)+1),le.push(Math.floor((I.y+I.h+ue)/ee)+1)}for(var fe=0;fe<le.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<le[fe];)A.call(this);return le},A=function(){var I=this.fillStyle,J=this.strokeStyle,ee=this.font,le=this.lineCap,ue=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=J,this.font=ee,this.lineCap=le,this.lineWidth=ue,this.lineJoin=ye},L=function(I,J,ee){for(var le=0;le<I.length;le++)switch(I[le].type){case"bct":I[le].x2+=J,I[le].y2+=ee;case"qct":I[le].x1+=J,I[le].y1+=ee;default:I[le].x+=J,I[le].y+=ee}return I},P=function(I){return I.sort(function(J,ee){return J-ee})},R=function(I,J){var ee=this.fillStyle,le=this.strokeStyle,ue=this.lineCap,ye=this.lineWidth,Ce=Math.abs(ye*this.ctx.transform.scaleX),fe=this.lineJoin;if(this.autoPaging){for(var me,Oe,je=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),ze=[],K=0;K<Ve.length;K++)if(Ve[K].x!==void 0)for(var We=E.call(this,Ve[K]),vt=0;vt<We.length;vt+=1)ze.indexOf(We[vt])===-1&&ze.push(We[vt]);for(var tt=0;tt<ze.length;tt++)for(;this.pdf.internal.getNumberOfPages()<ze[tt];)A.call(this);P(ze);for(var Be=ze[0],ht=ze[ze.length-1],Ze=Be;Ze<ht+1;Ze++){this.pdf.setPage(Ze),this.fillStyle=ee,this.strokeStyle=le,this.lineCap=ue,this.lineWidth=Ce,this.lineJoin=fe;var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=Ze===1?this.posY+this.margin[0]:this.margin[0],yr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$t=Ze===1?0:yr+(Ze-2)*nr;if(this.ctx.clip_path.length!==0){var sr=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(me,this.posX+this.margin[3],-$t+xt+this.ctx.prevPageLastElemOffset),Q.call(this,I,!0),this.path=sr}if(Oe=JSON.parse(JSON.stringify(je)),this.path=L(Oe,this.posX+this.margin[3],-$t+xt+this.ctx.prevPageLastElemOffset),J===!1||Ze===0){var Jt=(Ze>Be||Ze<ht)&&k.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,nr,null).clip().discardPath()),Q.call(this,I,J),Jt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=je}else this.lineWidth=Ce,Q.call(this,I,J),this.lineWidth=ye},Q=function(I,J){if((I!=="stroke"||J||!_.call(this))&&(I==="stroke"||J||!v.call(this))){for(var ee,le,ue=[],ye=this.path,Ce=0;Ce<ye.length;Ce++){var fe=ye[Ce];switch(fe.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:fe,deltas:[],abs:[]});break;case"lt":var me=ue.length;if(ye[Ce-1]&&!isNaN(ye[Ce-1].x)&&(ee=[fe.x-ye[Ce-1].x,fe.y-ye[Ce-1].y],me>0)){for(;me>=0;me--)if(ue[me-1].close!==!0&&ue[me-1].begin!==!0){ue[me-1].deltas.push(ee),ue[me-1].abs.push(fe);break}}break;case"bct":ee=[fe.x1-ye[Ce-1].x,fe.y1-ye[Ce-1].y,fe.x2-ye[Ce-1].x,fe.y2-ye[Ce-1].y,fe.x-ye[Ce-1].x,fe.y-ye[Ce-1].y],ue[ue.length-1].deltas.push(ee);break;case"qct":var Oe=ye[Ce-1].x+2/3*(fe.x1-ye[Ce-1].x),je=ye[Ce-1].y+2/3*(fe.y1-ye[Ce-1].y),Ve=fe.x+2/3*(fe.x1-fe.x),ze=fe.y+2/3*(fe.y1-fe.y),K=fe.x,We=fe.y;ee=[Oe-ye[Ce-1].x,je-ye[Ce-1].y,Ve-ye[Ce-1].x,ze-ye[Ce-1].y,K-ye[Ce-1].x,We-ye[Ce-1].y],ue[ue.length-1].deltas.push(ee);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(fe)}}le=J?null:I==="stroke"?"stroke":"fill";for(var vt=!1,tt=0;tt<ue.length;tt++)if(ue[tt].arc)for(var Be=ue[tt].abs,ht=0;ht<Be.length;ht++){var Ze=Be[ht];Ze.type==="arc"?se.call(this,Ze.x,Ze.y,Ze.radius,Ze.startAngle,Ze.endAngle,Ze.counterclockwise,void 0,J,!vt):Y.call(this,Ze.x,Ze.y),vt=!0}else if(ue[tt].close===!0)this.pdf.internal.out("h"),vt=!1;else if(ue[tt].begin!==!0){var mt=ue[tt].start.x,xt=ue[tt].start.y;H.call(this,ue[tt].deltas,mt,xt),vt=!0}le&&W.call(this,le),J&&ne.call(this)}},te=function(I){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-ee;case"top":return I+J-ee;case"hanging":return I+J-2*ee;case"middle":return I+J/2-ee;default:return I}},oe=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(J,ee){this.colorStops.push([J,ee])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var se=function(I,J,ee,le,ue,ye,Ce,fe,me){for(var Oe=we.call(this,ee,le,ue,ye),je=0;je<Oe.length;je++){var Ve=Oe[je];je===0&&(me?T.call(this,Ve.x1+I,Ve.y1+J):Y.call(this,Ve.x1+I,Ve.y1+J)),be.call(this,I,J,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}fe?ne.call(this):W.call(this,Ce)},W=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ne=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(I,J){this.pdf.internal.out(r(I)+" "+n(J)+" m")},U=function(I){var J;switch(I.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var ee,le,ue,ye=this.pdf.getTextDimensions(I.text),Ce=te.call(this,I.y),fe=oe.call(this,Ce)-ye.h,me=this.ctx.transform.applyToPoint(new c(I.x,Ce));if(this.autoPaging){var Oe=this.ctx.transform.decompose(),je=new d;je=(je=(je=je.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale);for(var Ve=this.ctx.transform.applyToRectangle(new u(I.x,Ce,ye.w,ye.h)),ze=je.applyToRectangle(new u(I.x,fe,ye.w,ye.h)),K=E.call(this,ze),We=[],vt=0;vt<K.length;vt+=1)We.indexOf(K[vt])===-1&&We.push(K[vt]);P(We);for(var tt=We[0],Be=We[We.length-1],ht=tt;ht<Be+1;ht++){this.pdf.setPage(ht);var Ze=ht===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[2],yr=xt-this.margin[0],nr=this.pdf.internal.pageSize.width-this.margin[1],$t=nr-this.margin[3],sr=ht===1?0:mt+(ht-2)*yr;if(this.ctx.clip_path.length!==0){var Jt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(ee,this.posX+this.margin[3],-1*sr+Ze),Q.call(this,"fill",!0),this.path=Jt}var at=L([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-sr+Ze+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*I.scale),ue=this.lineWidth,this.lineWidth=ue*I.scale);var Mt=this.autoPaging!=="text";if(Mt||at.y+at.h<=xt){if(Mt||at.y>=Ze&&at.x<=nr){var ot=Mt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||nr-at.x)[0],Qr=L([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-sr+Ze+this.ctx.prevPageLastElemOffset)[0],Qt=Mt&&(ht>tt||ht<Be)&&k.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,yr,null).clip().discardPath()),this.pdf.text(ot,Qr.x,Qr.y,{angle:I.angle,align:J,renderingMode:I.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else at.y<xt&&(this.ctx.prevPageLastElemOffset+=xt-at.y);I.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ue)}}else I.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*I.scale),ue=this.lineWidth,this.lineWidth=ue*I.scale),this.pdf.text(I.text,me.x+this.posX,me.y+this.posY,{angle:I.angle,align:J,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ue)},Y=function(I,J,ee,le){ee=ee||0,le=le||0,this.pdf.internal.out(r(I+ee)+" "+n(J+le)+" l")},H=function(I,J,ee){return this.pdf.lines(I,J,ee,null,null)},be=function(I,J,ee,le,ue,ye,Ce,fe){this.pdf.internal.out([t(a(ee+I)),t(o(le+J)),t(a(ue+I)),t(o(ye+J)),t(a(Ce+I)),t(o(fe+J)),"c"].join(" "))},we=function(I,J,ee,le){for(var ue=2*Math.PI,ye=Math.PI/2;J>ee;)J-=ue;var Ce=Math.abs(ee-J);Ce<ue&&le&&(Ce=ue-Ce);for(var fe=[],me=le?-1:1,Oe=J;Ce>1e-5;){var je=Oe+me*Math.min(Ce,ye);fe.push(ge.call(this,I,Oe,je)),Ce-=Math.abs(je-Oe),Oe=je}return fe},ge=function(I,J,ee){var le=(ee-J)/2,ue=I*Math.cos(le),ye=I*Math.sin(le),Ce=ue,fe=-ye,me=Ce*Ce+fe*fe,Oe=me+Ce*ue+fe*ye,je=4/3*(Math.sqrt(2*me*Oe)-Oe)/(Ce*ye-fe*ue),Ve=Ce-je*fe,ze=fe+je*Ce,K=Ve,We=-ze,vt=le+J,tt=Math.cos(vt),Be=Math.sin(vt);return{x1:I*Math.cos(J),y1:I*Math.sin(J),x2:Ve*tt-ze*Be,y2:Ve*Be+ze*tt,x3:K*tt-We*Be,y3:K*Be+We*tt,x4:I*Math.cos(ee),y4:I*Math.sin(ee)}},ie=function(I){return 180*I/Math.PI},pe=function(I,J,ee,le,ue,ye){var Ce=I+.5*(ee-I),fe=J+.5*(le-J),me=ue+.5*(ee-ue),Oe=ye+.5*(le-ye),je=Math.min(I,ue,Ce,me),Ve=Math.max(I,ue,Ce,me),ze=Math.min(J,ye,fe,Oe),K=Math.max(J,ye,fe,Oe);return new u(je,ze,Ve-je,K-ze)},V=function(I,J,ee,le,ue,ye,Ce,fe){var me,Oe,je,Ve,ze,K,We,vt,tt,Be,ht,Ze,mt,xt,yr=ee-I,nr=le-J,$t=ue-ee,sr=ye-le,Jt=Ce-ue,at=fe-ye;for(Oe=0;Oe<41;Oe++)tt=(We=(je=I+(me=Oe/40)*yr)+me*((ze=ee+me*$t)-je))+me*(ze+me*(ue+me*Jt-ze)-We),Be=(vt=(Ve=J+me*nr)+me*((K=le+me*sr)-Ve))+me*(K+me*(ye+me*at-K)-vt),Oe==0?(ht=tt,Ze=Be,mt=tt,xt=Be):(ht=Math.min(ht,tt),Ze=Math.min(Ze,Be),mt=Math.max(mt,tt),xt=Math.max(xt,Be));return new u(Math.round(ht),Math.round(Ze),Math.round(mt-ht),Math.round(xt-Ze))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,J,ee=(I=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:J}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Nt.API),(function(e){var t=function(c){var u,d,f,p,b,y,v,_,k,E;for(d=[],f=0,p=(c+=u="\0\0\0\0".slice(c.length%4||4)).length;p>f;f+=4)(b=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(y=(b=((b=((b=((b=(b-(E=b%85))/85)-(k=b%85))/85)-(_=b%85))/85)-(v=b%85))/85)%85,d.push(y+33,v+33,_+33,k+33,E+33)):d.push(122);return(function(A,L){for(var P=L;P>0;P--)A.pop()})(d,u.length),String.fromCharCode.apply(String,d)+"~>"},r=function(c){var u,d,f,p,b,y=String,v="length",_=255,k="charCodeAt",E="slice",A="replace";for(c[E](-2),c=c[E](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),f=[],p=0,b=(c+=u="uuuuu"[E](c[v]%5||5))[v];b>p;p+=5)d=52200625*(c[k](p)-33)+614125*(c[k](p+1)-33)+7225*(c[k](p+2)-33)+85*(c[k](p+3)-33)+(c[k](p+4)-33),f.push(_&d>>24,_&d>>16,_&d>>8,_&d);return(function(L,P){for(var R=P;R>0;R--)L.pop()})(f,u[v]),y.fromCharCode.apply(y,f)},n=function(c){return c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),u.test(c)===!1)return"";for(var d="",f=0;f<c.length;f+=2)d+=String.fromCharCode("0x"+(c[f]+c[f+1]));return d},o=function(c){for(var u=new Uint8Array(c.length),d=c.length;d--;)u[d]=c.charCodeAt(d);return(u=Ng(u)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};e.processDataByFilters=function(c,u){var d=0,f=c||"",p=[];for(typeof(u=u||[])=="string"&&(u=[u]),d=0;d<u.length;d+=1)switch(u[d]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=n(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[d]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}})(Nt.API),(function(e){e.loadFile=function(t,r,n){return(function(a,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var u=void 0;try{u=(function(d,f,p){var b=new XMLHttpRequest,y=0,v=function(_){var k=_.length,E=[],A=String.fromCharCode;for(y=0;y<k;y+=1)E.push(A(255&_.charCodeAt(y)));return E.join("")};if(b.open("GET",d,!f),b.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(b.onload=function(){b.status===200?p(v(this.responseText)):p(void 0)}),b.send(null),f&&b.status===200)return v(b.responseText)})(a,o,c)}catch{}return u})(t,r,n)},e.loadImageFile=e.loadFile})(Nt.API),(function(e){function t(){return(Ht.html2canvas?Promise.resolve(Ht.html2canvas):ih(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function r(){return(Ht.DOMPurify?Promise.resolve(Ht.DOMPurify):ih(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var n=function(u){var d=Dr(u);return d==="undefined"?"undefined":d==="string"||u instanceof String?"string":d==="number"||u instanceof Number?"number":d==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":d==="object"?"object":"unknown"},a=function(u,d){var f=document.createElement(u);for(var p in d.className&&(f.className=d.className),d.innerHTML&&d.dompurify&&(f.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)f.style[p]=d.style[p];return f},o=function u(d,f){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),b=d.firstChild;b;b=b.nextSibling)f!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||p.appendChild(u(b,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p},c=function u(d){var f=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),p=u.convert(Promise.resolve(),f);return(p=p.setProgress(1,u,1,[u])).set(d)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(u,d){return u.__proto__=d||c.prototype,u},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(u,d){return this.then(function(){switch(d=d||(function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),d){case"string":return this.then(r).then(function(f){return this.set({src:a("div",{innerHTML:u,dompurify:f})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},c.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(d){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,d(this.prop.container,f)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(d){var f=this.opt.jsPDF,p=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var v=0;v<p.length;++v){var _=p[v],k=_.src.find(function(E){return E.format==="truetype"});k&&f.addFont(k.url,_.ref.name,_.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,f.context2d.save(!0),d(this.prop.container,y)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(u,d,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(u,d):this.outputPdf(u,d)},c.prototype.outputPdf=function(u,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,d)})},c.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},c.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(u){if(n(u)!=="object")return this;var d=Object.keys(u||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=u[f]};switch(f){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[f]=u[f]}}},this);return this.then(function(){return this.thenList(d)})},c.prototype.get=function(u,d){return this.then(function(){var f=u in c.template.prop?this.prop[u]:this.opt[u];return d?d(f):f})},c.prototype.setMargin=function(u){return this.then(function(){switch(n(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},c.prototype.setPageSize=function(u){function d(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(u=u||Nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:d(u.inner.width,u.k),height:d(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},c.prototype.setProgress=function(u,d,f,p){return u!=null&&(this.progress.val=u),d!=null&&(this.progress.state=d),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(u,d,f,p){return this.setProgress(u?this.progress.val+u:null,d||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},c.prototype.then=function(u,d){var f=this;return this.thenCore(u,d,function(p,b){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(y){return f.updateProgress(null,p),y}).then(p,b).then(function(y){return f.updateProgress(1),y})})},c.prototype.thenCore=function(u,d,f){f=f||Promise.prototype.then;var p=this;u&&(u=u.bind(p)),d&&(d=d.bind(p));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:c.convert(Object.assign({},p),Promise.prototype),y=f.call(b,u,d);return c.convert(y,p.__proto__)},c.prototype.thenExternal=function(u,d){return Promise.prototype.then.call(this,u,d)},c.prototype.thenList=function(u){var d=this;return u.forEach(function(f){d=d.thenCore(f)}),d},c.prototype.catch=function(u){u&&(u=u.bind(this));var d=Promise.prototype.catch.call(this,u);return c.convert(d,this)},c.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},c.prototype.error=function(u){return this.then(function(){throw new Error(u)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Nt.getPageSize=function(u,d,f){if(Dr(u)==="object"){var p=u;u=p.orientation,d=p.unit||d,f=p.format||f}d=d||"mm",f=f||"a4",u=(""+(u||"P")).toLowerCase();var b,y=(""+f).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+d}var _,k=0,E=0;if(v.hasOwnProperty(y))k=v[y][1]/b,E=v[y][0]/b;else try{k=f[1],E=f[0]}catch{throw new Error("Invalid format: "+f)}if(u==="p"||u==="portrait")u="p",E>k&&(_=E,E=k,k=_);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",k>E&&(_=E,E=k,k=_)}return{width:E,height:k,unit:d,k:b,orientation:u}},e.html=function(u,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Nx):null;var f=new c(d);return d.worker?f:f.from(u).doCallback()}})(Nt.API),Nt.API.addJS=function(e){return oy=e,this.internal.events.subscribe("postPutResources",function(){Ef=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ef+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ay=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+oy+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ef!==void 0&&ay!==void 0&&this.internal.out("/Names <</JavaScript "+Ef+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),o=0;o<a.length;o++){var c=a[o],u=n.exec(c);if(u!=null){var d=u[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(o=0;o<f;o++){var b=r.internal.newObject();p.push(b);var y=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var v=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<p.length;o++)r.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+v+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,o){var c={title:a,options:o,children:[]};return n==null&&(n=this.root),n.children.push(c),c},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var c=n.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var u=this.count=this.count_r({count:0},c);if(u>0&&this.line("/Count "+u),c.options&&c.options.pageNumber){var d=r.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var o=0;o<a.children.length;o++)n.count++,this.count_r(n,a.children[o]);return n.count}}])})(Nt.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,o,c,u){var d,f=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=c||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=(function(b){for(var y,v=256*b.charCodeAt(4)+b.charCodeAt(5),_=b.length,k={width:0,height:0,numcomponents:1},E=4;E<_;E+=2){if(E+=v,t.indexOf(b.charCodeAt(E+1))!==-1){y=256*b.charCodeAt(E+5)+b.charCodeAt(E+6),k={width:256*b.charCodeAt(E+7)+b.charCodeAt(E+8),height:y,numcomponents:b.charCodeAt(E+9)};break}v=256*b.charCodeAt(E+2)+b.charCodeAt(E+3)}return k})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:r,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:f,index:n,alias:a}}return p}})(Nt.API),Nt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,o=JR(e,{checkCrc:!0}),c=o.width,u=o.height,d=o.channels,f=o.palette,p=o.depth;a=f&&d===1?(function(se){for(var W=se.width,ne=se.height,T=se.data,U=se.palette,Y=se.depth,H=!1,be=[],we=[],ge=void 0,ie=!1,pe=0,V=0;V<U.length;V++){var ce=d5(U[V],4),I=ce[0],J=ce[1],ee=ce[2],le=ce[3];be.push(I,J,ee),le!=null&&(le===0?(pe++,we.length<1&&we.push(V)):le<255&&(ie=!0))}if(ie||pe>1){H=!0,we=void 0;var ue=W*ne;ge=new Uint8Array(ue);for(var ye=new DataView(T.buffer),Ce=0;Ce<ue;Ce++){var fe=_x(ye,Ce,Y),me=d5(U[fe],4)[3];ge[Ce]=me}}else pe===0&&(we=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:T,alphaBytes:ge,needSMask:H,palette:be,mask:we}})(o):d===2||d===4?(function(se){for(var W=se.data,ne=se.width,T=se.height,U=se.channels,Y=se.depth,H=U===2?"DeviceGray":"DeviceRGB",be=U-1,we=ne*T,ge=be,ie=we*ge,pe=1*we,V=Math.ceil(ie*Y/8),ce=Math.ceil(pe*Y/8),I=new Uint8Array(V),J=new Uint8Array(ce),ee=new DataView(W.buffer),le=new DataView(I.buffer),ue=new DataView(J.buffer),ye=!1,Ce=0;Ce<we;Ce++){for(var fe=Ce*U,me=0;me<ge;me++)xy(le,_x(ee,fe+me,Y),Ce*ge+me,Y);var Oe=_x(ee,fe+ge,Y);Oe<(1<<Y)-1&&(ye=!0),xy(ue,Oe,1*Ce,Y)}return{colorSpace:H,colorsPerPixel:be,sMaskBitsPerComponent:ye?Y:void 0,colorBytes:I,alphaBytes:J,needSMask:ye}})(o):(function(se){var W=se.data,ne=se.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ne,colorsPerPixel:ne==="DeviceGray"?1:3,colorBytes:W instanceof Uint16Array?(function(T){for(var U=T.length,Y=new Uint8Array(2*U),H=new DataView(Y.buffer,Y.byteOffset,Y.byteLength),be=0;be<U;be++)H.setUint16(2*be,T[be],!1);return Y})(W):W,needSMask:!1}})(o);var b,y,v,_=a,k=_.colorSpace,E=_.colorsPerPixel,A=_.sMaskBitsPerComponent,L=_.colorBytes,P=_.alphaBytes,R=_.needSMask,Q=_.palette,te=_.mask,oe=null;return n!==Nt.API.image_compression.NONE&&typeof Ng=="function"?(oe=(function(se){var W;switch(se){case Nt.API.image_compression.FAST:W=11;break;case Nt.API.image_compression.MEDIUM:W=13;break;case Nt.API.image_compression.SLOW:W=14;break;default:W=12}return W})(n),b=this.decode.FLATE_DECODE,y="/Predictor ".concat(oe," /Colors ").concat(E," /BitsPerComponent ").concat(p," /Columns ").concat(c),e=dy(L,Math.ceil(c*E*p/8),E,p,n),R&&(v=dy(P,Math.ceil(c*A/8),1,A,n))):(b=void 0,y=void 0,e=L,R&&(v=P)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(v&&this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),{alias:r,data:e,index:t,filter:b,decodeParameters:y,transparency:te,palette:Q,sMask:v,predictor:oe,width:c,height:u,bitsPerComponent:p,sMaskBitsPerComponent:A,colorSpace:k}}},(function(e){e.processGIF89A=function(t,r,n,a){var o=new gO(t),c=o.width,u=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var f={data:d,width:c,height:u},p=new Sx(100).encode(f,100);return e.processJPEG.call(this,p,r,n,a)},e.processGIF87A=e.processGIF89A})(Nt.API),_o.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_o.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){$r.log("bit decode error:"+r)}},_o.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var o=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var d=this.palette[o>>7-u&1];this.data[c+4*u]=d.blue,this.data[c+4*u+1]=d.green,this.data[c+4*u+2]=d.red,this.data[c+4*u+3]=255}r!==0&&(this.pos+=4-r)}},_o.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var o=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+2*a*4,u=o>>4,d=15&o,f=this.palette[u];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*a+1>=this.width)break;f=this.palette[d],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},_o.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*n;if(a<this.palette.length){var c=this.palette[a];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},_o.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,u=(o>>5&t)/t*255|0,d=(o>>10&t)/t*255|0,f=o>>15?255:0,p=n*this.width*4+4*a;this.data[p]=d,this.data[p+1]=u,this.data[p+2]=c,this.data[p+3]=f}this.pos+=e}},_o.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(c&t)/t*255|0,d=(c>>5&r)/r*255|0,f=(c>>11)/t*255|0,p=a*this.width*4+4*o;this.data[p]=f,this.data[p+1]=d,this.data[p+2]=u,this.data[p+3]=255}this.pos+=e}},_o.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*r;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=255}this.pos+=this.width%4}},_o.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*r;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=n,this.data[u+3]=c}},_o.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,a){var o=new _o(t,!1),c=o.width,u=o.height,d={data:o.getData(),width:c,height:u},f=new Sx(100).encode(d,100);return e.processJPEG.call(this,f,r,n,a)}})(Nt.API),vy.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,a){var o=new vy(t),c=o.width,u=o.height,d={data:o.getData(),width:c,height:u},f=new Sx(100).encode(d,100);return e.processJPEG.call(this,f,r,n,a)}})(Nt.API),Nt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,o=new Uint8Array(a/4*3),c=new Uint8Array(a/4),u=0,d=0,f=0;f<a;f+=4){var p=n[f],b=n[f+1],y=n[f+2],v=n[f+3];o[u++]=p,o[u++]=b,o[u++]=y,c[d++]=v}var _=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:_,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Nt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},id=Nt.API,Cf=id.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:a.metadata.Unicode.widths,d=u.fof?u.fof:1,f=t.kerning?t.kerning:a.metadata.Unicode.kerning,p=f.fof?f.fof:1,b=t.doKerning!==!1,y=0,v=e.length,_=0,k=u[0]||d,E=[];for(r=0;r<v;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?E.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+c*(1e3/o)||0)/1e3):(y=b&&Dr(f[n])==="object"&&!isNaN(parseInt(f[n][_],10))?f[n][_]/p:0,E.push((u[n]||k)/d+y)),_=n;return E},ly=id.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return id.processArabic&&(e=id.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Cf.apply(this,arguments).reduce(function(o,c){return o+c},0)},cy=function(e,t,r,n){for(var a=[],o=0,c=e.length,u=0;o!==c&&u+t[o]<r;)u+=t[o],o++;a.push(e.slice(0,o));var d=o;for(u=0;o!==c;)u+t[o]>n&&(a.push(e.slice(d,o)),u=0,d=o),u+=t[o],o++;return d!==o&&a.push(e.slice(d,o)),a},uy=function(e,t,r){r||(r={});var n,a,o,c,u,d,f,p=[],b=[p],y=r.textIndent||0,v=0,_=0,k=e.split(" "),E=Cf.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?k[0].length+2:r.lineIndent||0){var A=Array(d).join(" "),L=[];k.map(function(R){(R=R.split(/\s*\n/)).length>1?L=L.concat(R.map(function(Q,te){return(te&&Q.length?`
`:"")+Q})):L.push(R[0])}),k=L,d=ly.apply(this,[A,r])}for(o=0,c=k.length;o<c;o++){var P=0;if(n=k[o],d&&n[0]==`
`&&(n=n.substr(1),P=1),y+v+(_=(a=Cf.apply(this,[n,r])).reduce(function(R,Q){return R+Q},0))>t||P){if(_>t){for(u=cy.apply(this,[n,a,t-(y+v),t]),p.push(u.shift()),p=[u.pop()];u.length;)b.push([u.shift()]);_=a.slice(n.length-(p[0]?p[0].length:0)).reduce(function(R,Q){return R+Q},0)}else p=[n];b.push(p),y=_+d,v=E}else p.push(n),y+=v+_,v=E}return f=d?function(R,Q){return(Q?A:"")+R.join(" ")}:function(R){return R.join(" ")},b.map(f)},id.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var b=this.internal.getFont(p.fontName,p.fontStyle),y="Unicode";return b.metadata[y]?{widths:b.metadata[y].widths||{0:1},kerning:b.metadata[y].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/a;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=r.lineIndent;var u,d,f=[];for(u=0,d=n.length;u<d;u++)f=f.concat(uy.apply(this,[n[u],c,o]));return f},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},o=0;o<16;o++)n[r[o]]=t[o],a[t[o]]=r[o];var c=function(y){return"0x"+parseInt(y,10).toString(16)},u=e.__fontmetrics__.compress=function(y){var v,_,k,E,A=["{"];for(var L in y){if(v=y[L],isNaN(parseInt(L,10))?_="'"+L+"'":(L=parseInt(L,10),_=(_=c(L).slice(2)).slice(0,-1)+a[_.slice(-1)]),typeof v=="number")v<0?(k=c(v).slice(3),E="-"):(k=c(v).slice(2),E=""),k=E+k.slice(0,-1)+a[k.slice(-1)];else{if(Dr(v)!=="object")throw new Error("Don't know what to do with value type "+Dr(v)+".");k=u(v)}A.push(_+k)}return A.push("}"),A.join("")},d=e.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,_,k,E,A={},L=1,P=A,R=[],Q="",te="",oe=y.length-1,se=1;se<oe;se+=1)(E=y[se])=="'"?v?(k=v.join(""),v=void 0):v=[]:v?v.push(E):E=="{"?(R.push([P,k]),P={},k=void 0):E=="}"?((_=R.pop())[0][_[1]]=P,k=void 0,P=_[0]):E=="-"?L=-1:k===void 0?n.hasOwnProperty(E)?(Q+=n[E],k=parseInt(Q,16)*L,L=1,Q=""):Q+=E:n.hasOwnProperty(E)?(te+=n[E],P[k]=parseInt(te,16)*L,L=1,k=void 0,te=""):te+=E;return A},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},b={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(y){var v=y.font,_=b.Unicode[v.postScriptName];_&&(v.metadata.Unicode={},v.metadata.Unicode.widths=_.widths,v.metadata.Unicode.kerning=_.kerning);var k=p.Unicode[v.postScriptName];k&&(v.metadata.Unicode.encoding=k,v.encoding=k.codePages[0])}])})(Nt.API),(function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),o=0;o<n;o++)a[o]=r.charCodeAt(o);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,o=r.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(Ff(u)),c.metadata=e.API.TTFFont.open(u),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,n)}}])})(Nt),Nt.API.addSvgAsImage=function(e,t,r,n,a,o,c,u){if(isNaN(t)||isNaN(r))throw $r.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw $r.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=a;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(Ht.canvg?Promise.resolve(Ht.canvg):ih(()=>import("./index.es-BJUop7O-.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(f,e,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){b.addImage(d.toDataURL("image/jpeg",1),t,r,n,a,c,u)})},Nt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Nt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(c),d=[],f=0,p=0,b=0;function y(_,k){var E,A=!1;for(E=0;E<_.length;E+=1)_[E]===k&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var v=u.length;for(b=0;b<v;b+=1)r[u[b]].value=r[u[b]].defaultValue,r[u[b]].explicitSet=!1}if(Dr(e)==="object"){for(a in e)if(o=e[a],y(u,a)&&o!==void 0){if(r[a].type==="boolean"&&typeof o=="boolean")r[a].value=o;else if(r[a].type==="name"&&y(r[a].valueSet,o))r[a].value=o;else if(r[a].type==="integer"&&Number.isInteger(o))r[a].value=o;else if(r[a].type==="array"){for(f=0;f<o.length;f+=1)if(n=!0,o[f].length===1&&typeof o[f][0]=="number")d.push(String(o[f]-1));else if(o[f].length>1){for(p=0;p<o[f].length;p+=1)typeof o[f][p]!="number"&&(n=!1);n===!0&&d.push([o[f][0]-1,o[f][1]-1].join(" "))}r[a].value="["+d.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,k=[];for(_ in r)r[_].explicitSet===!0&&(r[_].type==="name"?k.push("/"+_+" /"+r[_].value):k.push("/"+_+" "+r[_].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+c.length+u.length+a.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+o+c+u+d),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Nt.API),(function(e){var t=e.API,r=t.pdfEscape16=function(o,c){for(var u,d=c.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],b=0,y=o.length;b<y;++b){if(u=c.metadata.characterToGlyph(o.charCodeAt(b)),c.metadata.glyIdsUsed.push(u),c.metadata.toUnicode[u]=o.charCodeAt(b),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(c.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(f[4-u.length],u)}return p.join("")},n=function(o){var c,u,d,f,p,b,y;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],b=0,y=(u=Object.keys(o).sort(function(v,_){return v-_})).length;b<y;b++)c=u[b],d.length>=100&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(f=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),d.push("<"+c+"><"+f+">"));return d.length&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(c){var u=c.font,d=c.out,f=c.newObject,p=c.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="Identity-H"){for(var b=u.metadata.Unicode.widths,y=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),v="",_=0;_<y.length;_++)v+=String.fromCharCode(y[_]);var k=f();p({data:v,addLength1:!0,objectId:k}),d("endobj");var E=f();p({data:n(u.metadata.toUnicode),addLength1:!0,objectId:E}),d("endobj");var A=f();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+dd(u.fontName)),d("/FontFile2 "+k+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var L=f();d("<<"),d("/Type /Font"),d("/BaseFont /"+dd(u.fontName)),d("/FontDescriptor "+A+" 0 R"),d("/W "+e.API.PDFObject.convert(b)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=f(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+E+" 0 R"),d("/BaseFont /"+dd(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+L+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(c){var u=c.font,d=c.out,f=c.newObject,p=c.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var b=u.metadata.rawData,y="",v=0;v<b.length;v++)y+=String.fromCharCode(b[v]);var _=f();p({data:y,addLength1:!0,objectId:_}),d("endobj");var k=f();p({data:n(u.metadata.toUnicode),addLength1:!0,objectId:k}),d("endobj");var E=f();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+_+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+dd(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=f();for(var A=0;A<u.metadata.hmtx.widths.length;A++)u.metadata.hmtx.widths[A]=parseInt(u.metadata.hmtx.widths[A]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+dd(u.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(o)}]);var a=function(o){var c,u=o.text||"",d=o.x,f=o.y,p=o.options||{},b=o.mutex||{},y=b.pdfEscape,v=b.activeFontKey,_=b.fonts,k=v,E="",A=0,L="",P=_[k].encoding;if(_[k].encoding!=="Identity-H")return{text:u,x:d,y:f,options:p,mutex:b};for(L=u,k=v,Array.isArray(u)&&(L=u[0]),A=0;A<L.length;A+=1)_[k].metadata.hasOwnProperty("cmap")&&(c=_[k].metadata.cmap.unicode.codeMap[L[A].charCodeAt(0)]),c||L[A].charCodeAt(0)<256&&_[k].metadata.hasOwnProperty("Unicode")?E+=L[A]:E+="";var R="";return parseInt(k.slice(1))<14||P==="WinAnsiEncoding"?R=y(E,k).split("").map(function(Q){return Q.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(R=r(E,_[k])),b.isHex=!0,{text:R,x:d,y:f,options:p,mutex:b}};t.events.push(["postProcessText",function(o){var c=o.text||"",u=[],d={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?u.push([a(Object.assign({},d,{text:c[f][0]})).text,c[f][1],c[f][2]]):u.push(a(Object.assign({},d,{text:c[f]})).text);o.text=u}else o.text=a(Object.assign({},d,{text:c})).text}])})(Nt),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Nt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,o,c,u,d,f,p,b=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,P=0;this.__bidiEngine__={};var R=function(T){var U=T.charCodeAt(),Y=U>>8,H=k[Y];return H!==void 0?b[256*H+(255&U)]:Y===252||Y===253?"AL":A.test(Y)?"L":Y===8?"R":"N"},Q=function(T){for(var U,Y=0;Y<T.length;Y++){if((U=R(T.charAt(Y)))==="L")return!1;if(U==="R")return!0}return!1},te=function(T,U,Y,H){var be,we,ge,ie,pe=U[H];switch(pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(pe="AN");break;case"AL":L=!0,pe="R";break;case"WS":case"BN":pe="N";break;case"CS":H<1||H+1>=U.length||(be=Y[H-1])!=="EN"&&be!=="AN"||(we=U[H+1])!=="EN"&&we!=="AN"?pe="N":L&&(we="AN"),pe=we===be?we:"N";break;case"ES":pe=(be=H>0?Y[H-1]:"B")==="EN"&&H+1<U.length&&U[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&Y[H-1]==="EN"){pe="EN";break}if(L){pe="N";break}for(ge=H+1,ie=U.length;ge<ie&&U[ge]==="ET";)ge++;pe=ge<ie&&U[ge]==="EN"?"EN":"N";break;case"NSM":if(c&&!u){for(ie=U.length,ge=H+1;ge<ie&&U[ge]==="NSM";)ge++;if(ge<ie){var V=T[H],ce=V>=1425&&V<=2303||V===64286;if(be=U[ge],ce&&(be==="R"||be==="AL")){pe="R";break}}}pe=H<1||(be=U[H-1])==="B"?"N":Y[H-1];break;case"B":L=!1,a=!0,pe=P;break;case"S":o=!0,pe="N"}return pe},oe=function(T,U,Y){var H=T.split("");return Y&&se(H,Y,{hiLevel:P}),H.reverse(),U&&U.reverse(),H.join("")},se=function(T,U,Y){var H,be,we,ge,ie,pe=-1,V=T.length,ce=0,I=[],J=P?v:y,ee=[];for(L=!1,a=!1,o=!1,be=0;be<V;be++)ee[be]=R(T[be]);for(we=0;we<V;we++){if(ie=ce,I[we]=te(T,ee,I,we),H=240&(ce=J[ie][_[I[we]]]),ce&=15,U[we]=ge=J[ce][5],H>0)if(H===16){for(be=pe;be<we;be++)U[be]=1;pe=-1}else pe=-1;if(J[ce][6])pe===-1&&(pe=we);else if(pe>-1){for(be=pe;be<we;be++)U[be]=ge;pe=-1}ee[we]==="B"&&(U[we]=0),Y.hiLevel|=ge}o&&(function(le,ue,ye){for(var Ce=0;Ce<ye;Ce++)if(le[Ce]==="S"){ue[Ce]=P;for(var fe=Ce-1;fe>=0&&le[fe]==="WS";fe--)ue[fe]=P}})(ee,U,V)},W=function(T,U,Y,H,be){if(!(be.hiLevel<T)){if(T===1&&P===1&&!a)return U.reverse(),void(Y&&Y.reverse());for(var we,ge,ie,pe,V=U.length,ce=0;ce<V;){if(H[ce]>=T){for(ie=ce+1;ie<V&&H[ie]>=T;)ie++;for(pe=ce,ge=ie-1;pe<ge;pe++,ge--)we=U[pe],U[pe]=U[ge],U[ge]=we,Y&&(we=Y[pe],Y[pe]=Y[ge],Y[ge]=we);ce=ie}ce++}}},ne=function(T,U,Y){var H=T.split(""),be={hiLevel:P};return Y||(Y=[]),se(H,Y,be),(function(we,ge,ie){if(ie.hiLevel!==0&&p)for(var pe,V=0;V<we.length;V++)ge[V]===1&&(pe=E.indexOf(we[V]))>=0&&(we[V]=E[pe+1])})(H,Y,be),W(2,H,U,Y,be),W(1,H,U,Y,be),H.join("")};return this.__bidiEngine__.doBidiReorder=function(T,U,Y){if((function(be,we){if(we)for(var ge=0;ge<be.length;ge++)we[ge]=ge;u===void 0&&(u=Q(be)),f===void 0&&(f=Q(be))})(T,U),c||!d||f)if(c&&d&&u^f)P=u?1:0,T=oe(T,U,Y);else if(!c&&d&&f)P=u?1:0,T=ne(T,U,Y),T=oe(T,U);else if(!c||u||d||f){if(c&&!d&&u^f)T=oe(T,U),u?(P=0,T=ne(T,U,Y)):(P=1,T=ne(T,U,Y),T=oe(T,U));else if(c&&u&&!d&&f)P=1,T=ne(T,U,Y),T=oe(T,U);else if(!c&&!d&&u^f){var H=p;u?(P=1,T=ne(T,U,Y),P=0,p=!1,T=ne(T,U,Y),p=H):(P=0,T=ne(T,U,Y),T=oe(T,U),P=1,p=!1,T=ne(T,U,Y),p=H,T=oe(T,U))}}else P=0,T=ne(T,U,Y);else P=u?1:0,T=ne(T,U,Y);return T},this.__bidiEngine__.setOptions=function(T){T&&(c=T.isInputVisual,d=T.isOutputVisual,u=T.isInputRtl,f=T.isOutputRtl,p=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(c=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?c.push([r.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):c.push([r.doBidiReorder(a[u])]);n.text=c}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(Nt),Nt.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Sc(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new TO(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new vO(this.contents),this.head=new yO(this),this.name=new SO(this),this.cmap=new iN(this),this.toUnicode={},this.hhea=new wO(this),this.maxp=new kO(this),this.hmtx=new EO(this),this.post=new jO(this),this.os2=new NO(this),this.loca=new LO(this),this.glyf=new CO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,u,d,f;for(f=[],c=0,u=(d=this.bbox).length;c<u;c++)t=d[c],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,o,c,u;for(c=0,o=0,u=(t=""+t).length;0<=u?o<u:o>u;o=0<=u?++o:--o)a=t.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return c*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Ro,Sc=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,o,c,u,d;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^o)+65536*(255^c)+256*(255^u)+(255^d)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*o+65536*c+256*u+d},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,o;for(o=[],n=0,a=t.length;n<a;n++)r=t[n],o.push(this.writeByte(r));return o},e})(),vO=(function(){var e;function t(r){var n,a,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,o,c,u,d,f,p,b,y,v,_,k;for(k in v=Object.keys(r).length,d=Math.log(2),b=16*Math.floor(Math.log(v)/d),c=Math.floor(b/d),p=16*v-b,(a=new Sc).writeInt(this.scalarType),a.writeShort(v),a.writeShort(b),a.writeShort(c),a.writeShort(p),o=16*v,f=a.pos+o,u=null,_=[],r)for(y=r[k],a.writeString(k),a.writeInt(e(y)),a.writeInt(f),a.writeInt(y.length),_=_.concat(y),k==="head"&&(u=f),f+=y.length;f%4;)_.push(0),f++;return a.write(_),n=2981146554-e(a.data),a.pos=u+8,a.writeUInt32(n),a.data},e=function(r){var n,a,o,c;for(r=aN.call(r);r.length%4;)r.push(0);for(o=new Sc(r),a=0,n=0,c=r.length;n<c;n=n+=4)a+=o.readUInt32();return 4294967295&a},t})(),bO={}.hasOwnProperty,xl=function(e,t){for(var r in t)bO.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Ro=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var yO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Ro),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Sc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),by=(function(){function e(t,r){var n,a,o,c,u,d,f,p,b,y,v,_,k,E,A,L,P;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),b=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(v=t.readUInt16(),y=v/2,t.pos+=6,o=(function(){var R,Q;for(Q=[],d=R=0;0<=y?R<y:R>y;d=0<=y?++R:--R)Q.push(t.readUInt16());return Q})(),t.pos+=2,k=(function(){var R,Q;for(Q=[],d=R=0;0<=y?R<y:R>y;d=0<=y?++R:--R)Q.push(t.readUInt16());return Q})(),f=(function(){var R,Q;for(Q=[],d=R=0;0<=y?R<y:R>y;d=0<=y?++R:--R)Q.push(t.readUInt16());return Q})(),p=(function(){var R,Q;for(Q=[],d=R=0;0<=y?R<y:R>y;d=0<=y?++R:--R)Q.push(t.readUInt16());return Q})(),a=(this.length-t.pos+this.offset)/2,u=(function(){var R,Q;for(Q=[],d=R=0;0<=a?R<a:R>a;d=0<=a?++R:--R)Q.push(t.readUInt16());return Q})(),d=A=0,P=o.length;A<P;d=++A)for(E=o[d],n=L=_=k[d];_<=E?L<=E:L>=E;n=_<=E?++L:--L)p[d]===0?c=n+f[d]:(c=u[p[d]/2+(n-_)-(y-d)]||0)!==0&&(c+=f[d]),this.codeMap[n]=65535&c}t.pos=b}return e.encode=function(t,r){var n,a,o,c,u,d,f,p,b,y,v,_,k,E,A,L,P,R,Q,te,oe,se,W,ne,T,U,Y,H,be,we,ge,ie,pe,V,ce,I,J,ee,le,ue,ye,Ce,fe,me,Oe,je;switch(H=new Sc,c=Object.keys(t).sort(function(Ve,ze){return Ve-ze}),r){case"macroman":for(k=0,E=(function(){var Ve=[];for(_=0;_<256;++_)Ve.push(0);return Ve})(),L={0:0},o={},be=0,pe=c.length;be<pe;be++)L[fe=t[a=c[be]]]==null&&(L[fe]=++k),o[a]={old:t[a],new:L[t[a]]},E[a]=L[t[a]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(E),{charMap:o,subtable:H.data,maxGlyphID:k+1};case"unicode":for(U=[],b=[],P=0,L={},n={},A=f=null,we=0,V=c.length;we<V;we++)L[Q=t[a=c[we]]]==null&&(L[Q]=++P),n[a]={old:Q,new:L[Q]},u=L[Q]-a,A!=null&&u===f||(A&&b.push(A),U.push(a),f=u),A=a;for(A&&b.push(A),b.push(65535),U.push(65535),ne=2*(W=U.length),se=2*Math.pow(Math.log(W)/Math.LN2,2),y=Math.log(se/2)/Math.LN2,oe=2*W-se,d=[],te=[],v=[],_=ge=0,ce=U.length;ge<ce;_=++ge){if(T=U[_],p=b[_],T===65535){d.push(0),te.push(0);break}if(T-(Y=n[T].new)>=32768)for(d.push(0),te.push(2*(v.length+W-_)),a=ie=T;T<=p?ie<=p:ie>=p;a=T<=p?++ie:--ie)v.push(n[a].new);else d.push(Y-T),te.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*W+2*v.length),H.writeUInt16(0),H.writeUInt16(ne),H.writeUInt16(se),H.writeUInt16(y),H.writeUInt16(oe),ye=0,I=b.length;ye<I;ye++)a=b[ye],H.writeUInt16(a);for(H.writeUInt16(0),Ce=0,J=U.length;Ce<J;Ce++)a=U[Ce],H.writeUInt16(a);for(me=0,ee=d.length;me<ee;me++)u=d[me],H.writeUInt16(u);for(Oe=0,le=te.length;Oe<le;Oe++)R=te[Oe],H.writeUInt16(R);for(je=0,ue=v.length;je<ue;je++)k=v[je],H.writeUInt16(k);return{charMap:n,subtable:H.data,maxGlyphID:P+1}}},e})(),iN=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Ro),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new by(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=by.encode(t,r),(a=new Sc).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e})(),wO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Ro),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),NO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Ro),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),jO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Ro),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var c,u,d;for(d=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)d.push(t.readUInt32());return d}).call(this)}},e})(),_O=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},SO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Ro),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,o,c,u,d,f,p,b,y;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),n=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(d={},o=p=0,b=n.length;p<b;o=++p)a=n[o],t.pos=a.offset,f=t.readString(a.length),c=new _O(f,a),d[y=a.nameID]==null&&(d[y]=[]),d[a.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e})(),kO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Ro),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),EO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Ro),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,o,c,u,d;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],r=f=0;0<=a?f<a:f>a;r=0<=a?++f:--f)p.push(t.readInt16());return p})(),this.widths=(function(){var f,p,b,y;for(y=[],f=0,p=(b=this.metrics).length;f<p;f++)o=b[f],y.push(o.advance);return y}).call(this),n=this.widths[this.widths.length-1],d=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)d.push(this.widths.push(n));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),aN=[].slice,CO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Ro),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,o,c,u,d,f,p,b;return t in this.cache?this.cache[t]:(o=this.file.loca,r=this.file.contents,n=o.indexOf(t),(a=o.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,c=(u=new Sc(r.read(a))).readShort(),f=u.readShort(),b=u.readShort(),d=u.readShort(),p=u.readShort(),this.cache[t]=c===-1?new PO(u,f,b,d,p):new AO(u,c,f,b,d,p),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,o,c,u,d;for(c=[],o=[],u=0,d=r.length;u<d;u++)a=t[r[u]],o.push(c.length),a&&(c=c.concat(a.encode(n)));return o.push(c.length),{table:c,offsets:o}},e})(),AO=(function(){function e(t,r,n,a,o,c){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=o,this.yMax=c,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),PO=(function(){function e(t,r,n,a,o){var c,u;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;u=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&u;)c.pos+=1&u?4:2,128&u?c.pos+=8:64&u?c.pos+=4:8&u&&(c.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Sc(aN.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),LO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xl(e,Ro),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<n.length;++c)if(n[c]=a,o<r.length&&r[o]==c){++o,n[c]=a;var u=this.offsets[c],d=this.offsets[c+1]-u;d>0&&(a+=d)}for(var f=new Array(4*n.length),p=0;p<n.length;++p)f[4*p+3]=255&n[p],f[4*p+2]=(65280&n[p])>>8,f[4*p+1]=(16711680&n[p])>>16,f[4*p]=(4278190080&n[p])>>24;return f},e})(),TO=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,o;for(r in a=this.font.cmap.tables[0].codeMap,t={},o=this.subset)n=o[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,o,c,u,d;for(a={},c=0,u=t.length;c<u;c++)a[o=t[c]]=this.font.glyf.glyphFor(o);for(o in r=[],a)(n=a[o])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(o in d=this.glyphsFor(r))n=d[o],a[o]=n;return a},e.prototype.encode=function(t,r){var n,a,o,c,u,d,f,p,b,y,v,_,k,E,A;for(a in n=iN.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),v={0:0},A=n.charMap)v[(d=A[a]).old]=d.new;for(_ in y=n.maxGlyphID,c)_ in v||(v[_]=y++);return p=(function(L){var P,R;for(P in R={},L)R[L[P]]=P;return R})(v),b=Object.keys(p).sort(function(L,P){return L-P}),k=(function(){var L,P,R;for(R=[],L=0,P=b.length;L<P;L++)u=b[L],R.push(p[u]);return R})(),o=this.font.glyf.encode(c,k,v),f=this.font.loca.encode(o.offsets,k),E={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},e})();Nt.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,o,c;if(Array.isArray(r))return"["+(function(){var u,d,f;for(f=[],u=0,d=r.length;u<d;u++)n=r[u],f.push(t.convert(n));return f})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in o=["<<"],r)c=r[a],o.push("/"+a+" "+t.convert(c));return o.push(">>"),o.join(`
`)}return""+r},t})();function RO(e,t){e.setFillColor(10,15,30),e.rect(0,0,210,297,"F"),e.setFillColor(230,81,0),e.rect(20,50,5,40,"F"),e.setTextColor(255,255,255),e.setFont("Helvetica","bold"),e.setFontSize(28),e.text("AUDIT D'INTGRIT",35,65),e.setFontSize(14),e.setFont("Helvetica","normal"),e.text("RAPPORT DE RISQUE OPS & UX",35,75),e.setDrawColor(255,255,255,.2),e.line(20,240,190,240);const r=255;e.setFontSize(8),e.setTextColor(150,150,150),e.text("SYSTEM ID",20,r),e.text("GNR LE",80,r),e.text("VERSION",160,r),e.setTextColor(255,255,255),e.setFontSize(9),e.text(t.systemName||"EDF COCKPIT",20,r+5),e.text(t.generatedAt||new Date().toISOString(),80,r+5),e.text(t.version||"1.0",160,r+5),e.addPage()}const kx={TEXT:[34,34,34]};function OO(e,t){e.addPage(),e.setTextColor(...kx.TEXT),e.setFont("Helvetica","bold"),e.setFontSize(22),e.text("Sommaire",20,40);let r=60;e.setFontSize(11),e.setFont("Helvetica","normal"),t.forEach(n=>{e.setTextColor(...kx.TEXT),e.text(n.title,20,r);const a=".".repeat(70);e.setTextColor(200,200,200),e.text(a,80,r),e.setTextColor(...kx.TEXT),e.text(`${n.page}`,190,r,{align:"right"}),r+=10})}function IO(e,t,r,n){e.setDrawColor(34,34,34),e.setLineWidth(.8),e.line(20,n,60,n),n+=10,e.setFont("Helvetica","bold"),e.setFontSize(16),e.setTextColor(34,34,34),e.text(t.toUpperCase(),20,n);const o=r>=80?[27,94,32]:r>=60?[230,81,0]:[179,38,30];return e.setFillColor(...o),e.roundedRect(165,n-6,25,8,1,1,"F"),e.setFontSize(8),e.setTextColor(255,255,255),e.text(`SANT: ${r}%`,177.5,n-.5,{align:"center"}),n+15}const yy=e=>e*8,rh={CRITICAL:[170,70,70],HIGH:[180,140,60],LOW:[60,110,100],TEXT_DARK:[20,20,20],TEXT_MAIN:[45,45,45],TEXT_MUTED:[140,140,140],LINE:[220,220,220],ZONE_HIGH:[230,230,230],ZONE_MED:[245,235,215],ZONE_LOW:[245,220,220]};function Fp(e,t,r,n){e.setFont("Helvetica","bold"),e.setFontSize(16),e.setTextColor(34,34,34),e.text(t,r,n);const a=e.getTextWidth(t);e.setDrawColor(34,34,34),e.line(r,n+2,r+a,n+2)}function Ga(e,t,r,n,a=180){e.setFont("Helvetica","normal"),e.setFontSize(10),e.setTextColor(60,60,60);const o=e.splitTextToSize(t,a);e.text(o,r,n)}function MO(e,t,r){let c=r;const u=b=>{c+b>270&&(e.addPage(),c=30)},d=rh[t.severity]||rh.LOW;u(yy(2)),e.setDrawColor(...d),e.setLineWidth(.6),e.line(19,c,19,c+14),e.setFont("Helvetica","bold"),e.setFontSize(8),e.setTextColor(...d),e.text(t.severity.toUpperCase(),25,c+5),e.setFontSize(7),e.setTextColor(...rh.TEXT_MUTED),e.text(`ID: ${t.code}`,185,c+5,{align:"right"}),c+=14;const f=(b,y)=>{if(!y)return;let v="";Array.isArray(y)?v=y.join(", "):typeof y=="object"?v=`${y.name}  ${y.description}`:v=y;const _=e.splitTextToSize(v,160),k=5+_.length*4.8+6;u(k),e.setFont("Helvetica","bold"),e.setFontSize(7),e.setTextColor(...rh.TEXT_MUTED),e.text(b.toUpperCase(),25,c),c+=5,e.setFont("Helvetica","normal"),e.setFontSize(9),e.setTextColor(...rh.TEXT_MAIN),e.text(_,25,c),c+=_.length*4.8+6};f("Problme dtect",t.description),t.impact&&f("Impact oprationnel",t.impact);const p=Array.isArray(t.remediation)?t.remediation.map(b=>` ${b}`):` ${t.remediation}`;return f("Action corrective",p),t.suggestedPattern&&f("Pattern Requis",t.suggestedPattern),c+yy(1)}function FO(e,t){e.addPage();const r=[];let n=30;return t.forEach(a=>{const o=e.internal.getCurrentPageInfo().pageNumber;r.push({title:a.component,page:o}),n>230&&(e.addPage(),n=25),n=IO(e,a.component,a.score,n),n+=5,a.issues.forEach(c=>{n=MO(e,c,n)}),n+=18}),r}function DO(e,t){e.addPage();const r=[...(t.charts||[]).flatMap(c=>c.issues),...(t.cards||[]).flatMap(c=>c.issues)],n=r.filter(c=>c.severity==="CRITICAL").length,a=new Set(r.map(c=>{var u;return(u=c.suggestedPattern)==null?void 0:u.name}).filter(Boolean)).size,o={health:Math.round(t.globalScore||0),criticalCount:n,patternCount:a};qO(e,o)}function qO(e,t){let n=20;e.setFont("Helvetica","bold"),e.setFontSize(18),e.setTextColor(34,34,34),e.text("EXECUTIVE SUMMARY",15,n),n+=12;const a=88,o=45,c=t.health>=98;Af(e,15,n,a,o,"GLOBAL HEALTH",`${t.health}%`,c?"Systme stable":"Risque de biais lev",c?[27,94,32]:[179,38,30]),Af(e,15+a+4,n,a,o,"CRITICAL RISKS",t.criticalCount.toString(),c?"Aucun blocage":"Blocages immdiats",c?[27,94,32]:[230,81,0]),n+=o+4;const u=t.patternCount===0;Af(e,15,n,a,o,"STRATEGIC PATTERNS",u?"OK":t.patternCount.toString(),u?"Tous dploys":"Actifs  implmenter",u?[21,101,192]:[8,12,32]);const d=t.health>80;Af(e,15+a+4,n,a,o,"DECISION READINESS",d?"READY":"UNSAFE",d?"Signal fiable":"Fiabilit compromise",d?[27,94,32]:[179,38,30]),n+=o+15,e.setFillColor(245,246,248),e.roundedRect(15,n,180,35,2,2,"F"),e.setFontSize(10),e.setTextColor(8,12,32),e.setFont("Helvetica","bold"),e.text("RISQUES OPRATIONNELS",23,n+8),e.setFont("Helvetica","normal"),e.setFontSize(9),e.setTextColor(60,60,60),c?e.text(` Aucun risque critique dtect.
 Latence dcisionnelle nulle.
 Intgrit des donnes vrifie.`,23,n+16):e.text(` Perte de visibilit sur l'exposition financire relle (> $500k).
 Retard de raction sur les signaux de rupture client  J+7.
 Paralysie dcisionnelle des Risk Officers due  la densit cognitive.`,23,n+16),n+=45,c?(e.setFillColor(27,94,32),e.roundedRect(15,n,180,15,1,1,"F"),e.setTextColor(255,255,255),e.setFont("Helvetica","bold"),e.text("RECOMMANDATION : DPLOIEMENT AUTORIS. SYSTME NOMINAL.",20,n+9.5)):(e.setFillColor(179,38,30),e.roundedRect(15,n,180,15,1,1,"F"),e.setTextColor(255,255,255),e.setFont("Helvetica","bold"),e.text("RECOMMANDATION : SUSPENDRE LES DPLOIEMENTS ET APPLIQUER LES PATTERNS CRITIQUES.",20,n+9.5))}function Af(e,t,r,n,a,o,c,u,d){e.setDrawColor(230,230,230),e.setFillColor(255,255,255),e.roundedRect(t,r,n,a,2,2,"FD"),e.setFillColor(...d),e.rect(t,r,2,a,"F"),e.setFontSize(8),e.setTextColor(120,120,120),e.setFont("Helvetica","bold"),e.text(o,t+8,r+10),e.setFontSize(22),e.setTextColor(...d),e.text(c,t+8,r+26),e.setFontSize(8),e.setTextColor(150,150,150),e.setFont("Helvetica","normal"),e.text(u,t+8,r+36)}function UO(e,t){e.addPage();const r=15;let n=30;e.setFont("Helvetica","bold"),e.setFontSize(18),e.setTextColor(34,34,34),e.text("SYNTHSE SYSTME",r,n),n+=15,e.setFillColor(248,249,250),e.rect(r,n,180,60,"F"),e.setFontSize(11),e.text("PATTERNS STRATGIQUES  DPLOYER",r+8,n+10);const a=[{name:"Risk Skyline",impact:"Visualisation immdiate des seuils de danger."},{name:"Confidence Corridor",impact:"Suppression du biais d'optimisme sur les projections."},{name:"Semantic Clusters",impact:"Rduction de la charge mentale (Miller's Limit)."}];n+=20,a.forEach(c=>{e.setFillColor(8,12,32),e.circle(r+12,n-1,1,"F"),e.setFont("Helvetica","bold"),e.setTextColor(34,34,34),e.text(c.name,r+18,n),e.setFont("Helvetica","normal"),e.setTextColor(100,100,100),e.text(` ${c.impact}`,r+55,n),n+=10}),n+=15,e.setFont("Helvetica","bold"),e.setTextColor(34,34,34),e.text("ORDRE DE PRIORIT DE CORRECTION",r,n);const o=[{step:"01",task:"Intgrit Financire",desc:"Composants RiskProof & ProjectionCA"},{step:"02",task:"Rupture Client",desc:"Composants ClientDrift & BehaviorDrift"},{step:"03",task:"Hygine Cognitive",desc:"Rorganisation des KPI Cards"}];n+=12,o.forEach(c=>{e.setFillColor(230,230,230),e.roundedRect(r,n,180,12,1,1,"F"),e.setTextColor(8,12,32),e.setFont("Helvetica","bold"),e.text(c.step,r+5,n+8),e.text(c.task,r+18,n+8),e.setFont("Helvetica","normal"),e.setTextColor(100,100,100),e.text(c.desc,r+70,n+8),n+=15})}function zO(e){e.addPage();const t=15;let r=20;Fp(e," PROPOS DE CET AUDIT",t,r),r+=15,Ga(e,`Ce document est un audit oprationnel gnr automatiquement par l'Ops Agent  Revenue Assurance Engine.
Son but est d'valuer l'intgrit, la lisibilit et la capacit dcisionnelle des tableaux de bord oprationnels du systme.`,t,r),r+=20,e.setFont("Helvetica","bold"),e.setFontSize(11),e.text("L'audit repose sur trois piliers :",t,r),r+=10,e.setFont("Helvetica","bold"),e.text("1. Vrit de la Donne",t,r),r+=6,e.setFont("Helvetica","normal"),Ga(e,"Vrification que les valeurs affiches refltent la base de donnes sans distorsion, omission ou biais.",t,r),r+=15,e.setFont("Helvetica","bold"),e.text("2. Lisibilit UX",t,r),r+=6,e.setFont("Helvetica","normal"),Ga(e,"valuation de la capacit des composants visuels  permettre au dcideur de comprendre risques, tendances et anomalies en quelques secondes.",t,r),r+=15,e.setFont("Helvetica","bold"),e.text("3. Intgrit Dcisionnelle",t,r),r+=6,e.setFont("Helvetica","normal"),Ga(e,"valuation de la capacit de chaque composant  supporter une priorisation correcte, rduire l'ambigut et prvenir les angles morts oprationnels.",t,r),r+=20,Ga(e,`Cet audit ne remplace pas le jugement humain.
Il fournit une valuation structure, rptable et traable pour soutenir la gouvernance et la fiabilit oprationnelle.`,t,r)}function BO(e){e.addPage();const t=15;let r=20;Fp(e,"MTHODOLOGIE ET PRIMTRE",t,r),r+=15,e.setFont("Helvetica","bold"),e.setFontSize(11),e.text("Primtre de l'Audit",t,r),r+=8,e.setFont("Helvetica","normal"),Ga(e,`L'audit couvre tous les composants actifs du tableau de bord utiliss pour la dcision oprationnelle, incluant :
 Visualisations des risques financiers
 Projections de revenus
 Timelines comportementales client
 Cartographie des risques
 Clusters KPI`,t,r),r+=35,e.setFont("Helvetica","bold"),e.text("Mthodologie",t,r),r+=8,e.setFont("Helvetica","normal"),Ga(e,"L'Ops Agent applique un cadre d'valuation dterministe bas sur :",t,r),r+=10,[{t:"A. Critres Structurels",d:"Lisibilit des axes, densit des labels, contraste (WCAG), visibilit des seuils, clart des lgendes."},{t:"B. Critres Dcisionnels",d:"Capacit  dtecter le risque, prioriser les actions, identifier les anomalies, prvenir les erreurs d'interprtation."},{t:"C. Critres d'Intgrit",d:"Alignement avec les donnes source, absence de valeurs caches, cohrence entre composants."}].forEach(o=>{e.setFont("Helvetica","bold"),e.text(o.t,t,r),r+=6,e.setFont("Helvetica","normal"),Ga(e,o.d,t,r),r+=14}),r+=5,e.setFont("Helvetica","bold"),e.text("Niveaux de Svrit",t,r),r+=8,[{l:"CRITIQUE",d:"Risque immdiat de mauvaise interprtation ou d'erreur oprationnelle."},{l:"LEVE",d:"Dgradation significative de la qualit de dcision."},{l:"MOYENNE",d:"Friction notable, mais non bloquante."},{l:"FAIBLE",d:"Problmes cosmtiques ou mineurs."}].forEach(o=>{e.setFont("Helvetica","bold"),e.text(o.l,t,r),e.setFont("Helvetica","normal"),e.text(`  ${o.d}`,t+25,r),r+=7}),r+=10,e.setFont("Helvetica","bold"),e.text("Limites",t,r),r+=6,e.setFont("Helvetica","normal"),Ga(e,`L'audit value l'intgrit visuelle et structurelle, non la performance mtier.
La validation humaine reste requise pour les dcisions finales.`,t,r)}function $O(e){e.addPage();const t=15;let r=20;Fp(e,"CADRE D'VALUATION DES RISQUES",t,r),r+=15,Ga(e,"Cet audit utilise un modle de notation standardis pour valuer la fiabilit oprationnelle des composants.",t,r),r+=15,e.setFont("Helvetica","bold"),e.text("Interprtation des Scores",t,r),r+=8;const n=["80100  Oprationnellement fiable","6079    Acceptable mais ncessite des amliorations","4059    Haut risque de mauvaise interprtation","039      Oprationnellement dangereux"];e.setFont("Helvetica","normal"),n.forEach(c=>{e.text(c,t,r),r+=6}),r+=10,e.setFont("Helvetica","bold"),e.text("Dimensions du Risque",t,r),r+=8,[{t:"1. Risque de Visibilit",d:"Mesure si l'information essentielle est visible sans effort."},{t:"2. Risque d'Interprtation",d:"Mesure si un composant peut mener  des conclusions errones."},{t:"3. Risque d'Actionnabilit",d:"Mesure si le composant guide l'utilisateur vers la bonne action suivante."},{t:"4. Risque d'Intgrit",d:"Mesure si le composant reprsente fidlement les donnes sous-jacentes."}].forEach(c=>{e.setFont("Helvetica","bold"),e.text(c.t,t,r),r+=6,e.setFont("Helvetica","normal"),Ga(e,c.d,t,r),r+=12}),r+=10,e.setFillColor(245,246,248),e.roundedRect(t,r,180,50,2,2,"F"),e.setFont("Helvetica","bold"),e.setTextColor(34,34,34),e.text("Pourquoi est-ce important ?",t+5,r+10),e.setFont("Helvetica","normal"),e.setFontSize(10),e.text(`Un tableau de bord n'est pas un outil de reporting.
C'est un moteur de dcision.

Toute ambigut, surcharge ou manque de rfrence augmente la probabilit de :
 actions retardes
 priorisation incorrecte
 perte de revenus
 angles morts oprationnels`,t+5,r+20)}function VO(e){e.addPage();const t=15;let r=20;Fp(e,"GLOSSAIRE",t,r),r+=15,[{t:"Intgrit Dcisionnelle",d:"Capacit d'un systme  guider les utilisateurs vers des dcisions correctes, opportunes et justifies."},{t:"Risk Skyline",d:"Pattern de visualisation combinant des zones de risque en arrire-plan avec des barres style 'skyline' et lignes de tendance."},{t:"Corridor de Confiance",d:"Modle de projection utilisant des bandes d'incertitude (p10/p90) autour d'une tendance centrale."},{t:"Radar Quadrant",d:"Matrice risque/action  quatre quadrants avec micro-actions explicites."},{t:"Jalons Temporels",d:"Marqueurs verticaux indiquant les jours contractuels critiques (ex: J+7)."},{t:"Clusters Smantiques",d:"Regroupement des KPI par domaine logique pour rduire la surcharge cognitive."},{t:"Angle Mort Oprationnel",d:"Zone o un risque existe mais n'est pas visible par le dcideur."}].forEach(a=>{e.setFont("Helvetica","bold"),e.setFontSize(10),e.setTextColor(34,34,34),e.text(a.t,t,r),e.getTextWidth(a.t),e.setFont("Helvetica","normal"),e.setTextColor(60,60,60),Ga(e,a.d,t,r+5),r+=20})}function WO(e){const t=new Nt,r=e.uxDetails||{globalScore:e.uxScore,charts:[],cards:[]},n=[...r.charts||[],...r.cards||[]];RO(t,{systemName:"EDF COCKPIT / AGENT ZERO",version:"7.0 (UX INTELLIGENCE)",generatedAt:e.generatedAt||new Date().toISOString()}),zO(t),BO(t),DO(t,r),$O(t),UO(t),t.setFont("Helvetica","normal");const a=FO(t,n);OO(t,a),VO(t);const o=t.getNumberOfPages();o>4&&t.movePage(o,4);const c=t.getNumberOfPages();for(let u=1;u<=c;u++)u!==1&&(t.setPage(u),t.setFontSize(8),t.setTextColor(150),t.text(`Page ${u} of ${c}  OPS INTEGRITY AUDIT`,190,290,{align:"right"}));return t.output("datauristring")}const wy=({mode:e})=>{z.useEffect(()=>{(async()=>{const{data:n}=await ko.from("decision_logs").select("*").order("created_at",{ascending:!1}).limit(50),a=(n||[]).map(c=>({study_id:c.study_id,priority:c.action_performed.includes("STOP")?"STOP":c.action_performed.includes("WAR_ROOM")?"WAR_ROOM":"WATCH",axis:"A",justification:typeof c.justification=="string"?c.justification:JSON.stringify(c.justification)})),o=i5({decisions:a,uxScore:85,dataBreaches:0,uxDetails:{globalScore:85,dataIntegrityIssues:[],cards:[],charts:[]}});if(e==="download"){const c=WO(o),u=document.createElement("a");u.href=c,u.download=`ops_audit_report_${Date.now()}.pdf`,document.body.appendChild(u),u.click(),document.body.removeChild(u)}})()},[e]);const t=i5({decisions:globalThis.__OPS_DECISIONS__||MOCK_DECISIONS,uxScore:93,dataBreaches:0});return e==="download"?s.jsxs("div",{style:{padding:40,background:"#111",color:"#fff",fontFamily:"monospace"},children:[s.jsx("h1",{children:" Generating PDF..."}),s.jsx("p",{children:"Your download should start automatically."}),s.jsx("button",{onClick:()=>window.history.back(),children:"Go Back"})]}):s.jsx("pre",{style:{padding:20,background:"#0d1117",color:"#c9d1d9",fontSize:14,overflow:"auto"},children:JSON.stringify(t,null,2)})},Ex=({children:e})=>{const[t,r]=z.useState(!1),[n,a]=z.useState(""),[o,c]=z.useState(!1);z.useEffect(()=>{localStorage.getItem("dashboard_auth_token")==="valid_session_secured"&&r(!0)},[]);const u=d=>{d.preventDefault(),n==="admin"||n==="edf"||n==="demo"?(localStorage.setItem("dashboard_auth_token","valid_session_secured"),r(!0),c(!1)):c(!0)};return t?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"min-h-screen bg-[#020408] flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-[rgba(20,20,20,0.6)] backdrop-blur-xl border border-[rgba(255,255,255,0.08)] rounded-2xl p-8 shadow-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"text-3xl mb-4",children:""}),s.jsx("h1",{className:"text-xl font-bold text-white mb-2 font-['Outfit'] tracking-wide",children:"ACCS SCURIS"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Veuillez vous identifier pour accder au systme."})]}),s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsx("div",{children:s.jsx("input",{type:"password",value:n,onChange:d=>a(d.target.value),placeholder:"Mot de passe",className:"w-full bg-[rgba(0,0,0,0.3)] border border-[rgba(255,255,255,0.1)] rounded-lg px-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-[#f97316] transition-colors text-center tracking-widest",autoFocus:!0})}),o&&s.jsx("div",{className:"text-red-400 text-xs text-center bg-red-500/10 py-2 rounded",children:"Mot de passe incorrect"}),s.jsx("button",{type:"submit",className:"w-full bg-[#f97316] hover:bg-[#ea580c] text-white font-bold py-3 rounded-lg transition-all transform hover:scale-[1.02] shadow-[0_0_20px_rgba(249,115,22,0.2)]",children:"DVERROUILLER"}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("p",{className:"text-[10px] text-gray-600 uppercase tracking-widest",children:"Systme AutoPilote Scuris"})})]})]})})},HO=()=>{const[e,t]=z.useState(!1),[r,n]=z.useState(null),[a,o]=z.useState(null),[c,u]=z.useState(null),[d,f]=z.useState(null),[p,b]=z.useState(!1);console.log(" MainApp mont"),console.log("hasData:",e),console.log("profileDetected:",r),console.log("simulationData:",a),console.log("study:",c);const[y,v]=z.useState(null),_=async E=>{b(!0),console.log(" handleUploadSuccess appel avec:",E);let A=typeof E=="string"?JSON.parse(E):E;o(A);try{if(A.address&&A.houseSize){const L=await VL(A.address,Number(A.houseSize));console.log(" Green positioning:",L),f(L)}}catch(L){console.error(" Green engine error:",L),f(null)}t(!0),b(!1)},k=E=>{const A=E.profile||E;console.log(" Profil dtect:",A),console.log(" Signaux psychologiques:",E.signals),E.alerts&&(console.log(" Alertes Garde-Fous:",E.alerts),E.alerts.fatigueCritical&&console.warn(" FATIGUE CRITIQUE  Parcours ultra-simplifi impos"),E.alerts.incoherentAnswers&&console.warn(" CONTRADICTIONS  Bascule prudente active")),v(E),n(A)};return s.jsx("div",{className:"min-h-screen bg-[#020202]",children:e?r?p?s.jsx("div",{className:"flex items-center justify-center min-h-screen text-white text-xl",children:" Chargement du cockpit..."}):s.jsx(TL,{data:{profile:r,speechResult:y,greenPositioning:d,params:{inflationRate:parseFloat(a.inflation)||5,electricityPrice:parseFloat(a.pricePerKwh)||.25,yearlyProduction:parseFloat(a.production)||7e3,selfConsumptionRate:parseFloat(a.selfConsumption)||70,yearlyConsumption:parseFloat(a.yearlyConsumption)||1e4,installCost:parseFloat(a.installPrice)||18990,creditMonthlyPayment:parseFloat(a.creditMonthly)||147.8,insuranceMonthlyPayment:parseFloat(a.insuranceMonthly)||4.7,creditDurationMonths:parseFloat(a.creditDuration)||180,creditInterestRate:parseFloat(a.creditRate)||5.89,address:a.address||"",houseSize:parseFloat(a.houseSize)||120,installedPower:parseFloat(a.puissanceInstallee)||3,currentBillYear:parseFloat(a.currentBillYear)||2500,annualBill:parseFloat(a.currentBillYear)||2500,monthlyBill:parseFloat(a.currentBillYear)/12||208,cashApport:0,taxRate:0,buybackRate:.04}},studyId:c==null?void 0:c.id,projectionYears:25,onReset:()=>{t(!1),n(null),v(null),o(null),u(null)},onProfileChange:E=>{n(E)}}):s.jsx(BL,{onProfileDetected:k}):s.jsx(OL,{onFileSelect:E=>{const A=new FileReader;A.onload=L=>{var P;try{const R=JSON.parse((P=L.target)==null?void 0:P.result);_(R)}catch{console.error("Erreur lecture fichier")}},A.readAsText(E)},onTextSubmit:_,isLoading:!1})})},GO=jt.lazy(()=>ih(()=>import("./AdminDashboard-Biha6WNp.js"),[])),YO=jt.lazy(()=>ih(()=>import("./Dashboard-CxAxanwq.js"),[])),KO=()=>s.jsx("div",{className:"min-h-screen bg-[#020202] flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-white/10 border-t-orange-500 rounded-full animate-spin"}),s.jsx("div",{className:"text-white text-sm font-bold uppercase tracking-widest animate-pulse",children:"Chargement du systme..."})]})}),JO=()=>s.jsx(wj,{children:s.jsx(jt.Suspense,{fallback:s.jsx(KO,{}),children:s.jsxs(X3,{children:[s.jsx(su,{path:"/",element:s.jsx(Ex,{children:s.jsx(HO,{})})}),s.jsx(su,{path:"/guest/:token",element:s.jsx($L,{})}),s.jsx(su,{path:"/dashboard",element:s.jsx(Ex,{children:s.jsx(YO,{})})}),s.jsx(su,{path:"/admin",element:s.jsx(Ex,{children:s.jsx(GO,{})})}),s.jsx(su,{path:"/api/ops/audit",element:s.jsx(wy,{mode:"json"})}),s.jsx(su,{path:"/api/ops/audit/download",element:s.jsx(wy,{mode:"download"})})]})})}),oN=document.getElementById("root");if(!oN)throw new Error("Could not find root element to mount to");const XO=JN.createRoot(oN);XO.render(s.jsx(jt.StrictMode,{children:s.jsx(JO,{})}));export{h2 as A,OE as B,$y as C,vc as D,$f as E,C_ as F,Np as G,i5 as H,WO as I,m4 as J,GP as K,xg as L,rL as M,Xg as N,UE as O,hg as P,WE as Q,jt as R,qs as S,cu as T,fE as U,af as V,Dr as W,fa as Z,Ct as _,Ka as a,Gw as b,It as c,md as d,ko as e,vL as f,Pg as g,xE as h,Pw as i,s as j,kc as k,U8 as l,vE as m,AA as n,CA as o,EA as p,SA as q,z as r,o4 as s,E8 as t,O3 as u,mf as v,d2 as w,BP as x,DP as y,dL as z};
