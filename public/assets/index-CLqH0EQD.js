var QN=Object.defineProperty;var ZN=(e,t,r)=>t in e?QN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Fr=(e,t,r)=>ZN(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ac(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var k0={exports:{}},Qd={},E0={exports:{}},mr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function e3(){if(vv)return mr;vv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.iterator;function y(G){return G===null||typeof G!="object"?null:(G=b&&G[b]||G["@@iterator"],typeof G=="function"?G:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function E(G,ce,I){this.props=G,this.context=ce,this.refs=k,this.updater=I||g}E.prototype.isReactComponent={},E.prototype.setState=function(G,ce){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ce,"setState")},E.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function A(){}A.prototype=E.prototype;function L(G,ce,I){this.props=G,this.context=ce,this.refs=k,this.updater=I||g}var P=L.prototype=new A;P.constructor=L,S(P,E.prototype),P.isPureReactComponent=!0;var R=Array.isArray,X=Object.prototype.hasOwnProperty,Q={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function se(G,ce,I){var J,Z={},le=null,ue=null;if(ce!=null)for(J in ce.ref!==void 0&&(ue=ce.ref),ce.key!==void 0&&(le=""+ce.key),ce)X.call(ce,J)&&!ae.hasOwnProperty(J)&&(Z[J]=ce[J]);var be=arguments.length-2;if(be===1)Z.children=I;else if(1<be){for(var Ee=Array(be),fe=0;fe<be;fe++)Ee[fe]=arguments[fe+2];Z.children=Ee}if(G&&G.defaultProps)for(J in be=G.defaultProps,be)Z[J]===void 0&&(Z[J]=be[J]);return{$$typeof:e,type:G,key:le,ref:ue,props:Z,_owner:Q.current}}function V(G,ce){return{$$typeof:e,type:G.type,key:ce,ref:G.ref,props:G.props,_owner:G._owner}}function re(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function T(G){var ce={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(I){return ce[I]})}var F=/\/+/g;function z(G,ce){return typeof G=="object"&&G!==null&&G.key!=null?T(""+G.key):ce.toString(36)}function H(G,ce,I,J,Z){var le=typeof G;(le==="undefined"||le==="boolean")&&(G=null);var ue=!1;if(G===null)ue=!0;else switch(le){case"string":case"number":ue=!0;break;case"object":switch(G.$$typeof){case e:case t:ue=!0}}if(ue)return ue=G,Z=Z(ue),G=J===""?"."+z(ue,0):J,R(Z)?(I="",G!=null&&(I=G.replace(F,"$&/")+"/"),H(Z,ce,I,"",function(fe){return fe})):Z!=null&&(re(Z)&&(Z=V(Z,I+(!Z.key||ue&&ue.key===Z.key?"":(""+Z.key).replace(F,"$&/")+"/")+G)),ce.push(Z)),1;if(ue=0,J=J===""?".":J+":",R(G))for(var be=0;be<G.length;be++){le=G[be];var Ee=J+z(le,be);ue+=H(le,ce,I,Ee,Z)}else if(Ee=y(G),typeof Ee=="function")for(G=Ee.call(G),be=0;!(le=G.next()).done;)le=le.value,Ee=J+z(le,be++),ue+=H(le,ce,I,Ee,Z);else if(le==="object")throw ce=String(G),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.");return ue}function ve(G,ce,I){if(G==null)return G;var J=[],Z=0;return H(G,J,"","",function(le){return ce.call(I,le,Z++)}),J}function ye(G){if(G._status===-1){var ce=G._result;ce=ce(),ce.then(function(I){(G._status===0||G._status===-1)&&(G._status=1,G._result=I)},function(I){(G._status===0||G._status===-1)&&(G._status=2,G._result=I)}),G._status===-1&&(G._status=0,G._result=ce)}if(G._status===1)return G._result.default;throw G._result}var xe={current:null},ie={transition:null},he={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Q};return mr.Children={map:ve,forEach:function(G,ce,I){ve(G,function(){ce.apply(this,arguments)},I)},count:function(G){var ce=0;return ve(G,function(){ce++}),ce},toArray:function(G){return ve(G,function(ce){return ce})||[]},only:function(G){if(!re(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},mr.Component=E,mr.Fragment=r,mr.Profiler=i,mr.PureComponent=L,mr.StrictMode=n,mr.Suspense=d,mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,mr.cloneElement=function(G,ce,I){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var J=S({},G.props),Z=G.key,le=G.ref,ue=G._owner;if(ce!=null){if(ce.ref!==void 0&&(le=ce.ref,ue=Q.current),ce.key!==void 0&&(Z=""+ce.key),G.type&&G.type.defaultProps)var be=G.type.defaultProps;for(Ee in ce)X.call(ce,Ee)&&!ae.hasOwnProperty(Ee)&&(J[Ee]=ce[Ee]===void 0&&be!==void 0?be[Ee]:ce[Ee])}var Ee=arguments.length-2;if(Ee===1)J.children=I;else if(1<Ee){be=Array(Ee);for(var fe=0;fe<Ee;fe++)be[fe]=arguments[fe+2];J.children=be}return{$$typeof:e,type:G.type,key:Z,ref:le,props:J,_owner:ue}},mr.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:o,_context:G},G.Consumer=G},mr.createElement=se,mr.createFactory=function(G){var ce=se.bind(null,G);return ce.type=G,ce},mr.createRef=function(){return{current:null}},mr.forwardRef=function(G){return{$$typeof:u,render:G}},mr.isValidElement=re,mr.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:ye}},mr.memo=function(G,ce){return{$$typeof:h,type:G,compare:ce===void 0?null:ce}},mr.startTransition=function(G){var ce=ie.transition;ie.transition={};try{G()}finally{ie.transition=ce}},mr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},mr.useCallback=function(G,ce){return xe.current.useCallback(G,ce)},mr.useContext=function(G){return xe.current.useContext(G)},mr.useDebugValue=function(){},mr.useDeferredValue=function(G){return xe.current.useDeferredValue(G)},mr.useEffect=function(G,ce){return xe.current.useEffect(G,ce)},mr.useId=function(){return xe.current.useId()},mr.useImperativeHandle=function(G,ce,I){return xe.current.useImperativeHandle(G,ce,I)},mr.useInsertionEffect=function(G,ce){return xe.current.useInsertionEffect(G,ce)},mr.useLayoutEffect=function(G,ce){return xe.current.useLayoutEffect(G,ce)},mr.useMemo=function(G,ce){return xe.current.useMemo(G,ce)},mr.useReducer=function(G,ce,I){return xe.current.useReducer(G,ce,I)},mr.useRef=function(G){return xe.current.useRef(G)},mr.useState=function(G){return xe.current.useState(G)},mr.useSyncExternalStore=function(G,ce,I){return xe.current.useSyncExternalStore(G,ce,I)},mr.useTransition=function(){return xe.current.useTransition()},mr.version="18.2.0",mr}var bv;function zg(){return bv||(bv=1,E0.exports=e3()),E0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function t3(){if(yv)return Qd;yv=1;var e=zg(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,h){var p,b={},y=null,g=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(g=d.ref);for(p in d)n.call(d,p)&&!o.hasOwnProperty(p)&&(b[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)b[p]===void 0&&(b[p]=d[p]);return{$$typeof:t,type:u,key:y,ref:g,props:b,_owner:i.current}}return Qd.Fragment=r,Qd.jsx=c,Qd.jsxs=c,Qd}var wv;function r3(){return wv||(wv=1,k0.exports=t3()),k0.exports}var s=r3(),B=zg();const jt=Ac(B);var ff={},C0={exports:{}},Gi={},A0={exports:{}},P0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function n3(){return Nv||(Nv=1,(function(e){function t(ie,he){var G=ie.length;ie.push(he);e:for(;0<G;){var ce=G-1>>>1,I=ie[ce];if(0<i(I,he))ie[ce]=he,ie[G]=I,G=ce;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var he=ie[0],G=ie.pop();if(G!==he){ie[0]=G;e:for(var ce=0,I=ie.length,J=I>>>1;ce<J;){var Z=2*(ce+1)-1,le=ie[Z],ue=Z+1,be=ie[ue];if(0>i(le,G))ue<I&&0>i(be,le)?(ie[ce]=be,ie[ue]=G,ce=ue):(ie[ce]=le,ie[Z]=G,ce=Z);else if(ue<I&&0>i(be,G))ie[ce]=be,ie[ue]=G,ce=ue;else break e}}return he}function i(ie,he){var G=ie.sortIndex-he.sortIndex;return G!==0?G:ie.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var d=[],h=[],p=1,b=null,y=3,g=!1,S=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ie){for(var he=r(h);he!==null;){if(he.callback===null)n(h);else if(he.startTime<=ie)n(h),he.sortIndex=he.expirationTime,t(d,he);else break;he=r(h)}}function R(ie){if(k=!1,P(ie),!S)if(r(d)!==null)S=!0,ye(X);else{var he=r(h);he!==null&&xe(R,he.startTime-ie)}}function X(ie,he){S=!1,k&&(k=!1,A(se),se=-1),g=!0;var G=y;try{for(P(he),b=r(d);b!==null&&(!(b.expirationTime>he)||ie&&!T());){var ce=b.callback;if(typeof ce=="function"){b.callback=null,y=b.priorityLevel;var I=ce(b.expirationTime<=he);he=e.unstable_now(),typeof I=="function"?b.callback=I:b===r(d)&&n(d),P(he)}else n(d);b=r(d)}if(b!==null)var J=!0;else{var Z=r(h);Z!==null&&xe(R,Z.startTime-he),J=!1}return J}finally{b=null,y=G,g=!1}}var Q=!1,ae=null,se=-1,V=5,re=-1;function T(){return!(e.unstable_now()-re<V)}function F(){if(ae!==null){var ie=e.unstable_now();re=ie;var he=!0;try{he=ae(!0,ie)}finally{he?z():(Q=!1,ae=null)}}else Q=!1}var z;if(typeof L=="function")z=function(){L(F)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ve=H.port2;H.port1.onmessage=F,z=function(){ve.postMessage(null)}}else z=function(){E(F,0)};function ye(ie){ae=ie,Q||(Q=!0,z())}function xe(ie,he){se=E(function(){ie(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_continueExecution=function(){S||g||(S=!0,ye(X))},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(ie){switch(y){case 1:case 2:case 3:var he=3;break;default:he=y}var G=y;y=he;try{return ie()}finally{y=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ie,he){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var G=y;y=ie;try{return he()}finally{y=G}},e.unstable_scheduleCallback=function(ie,he,G){var ce=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ce+G:ce):G=ce,ie){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=G+I,ie={id:p++,callback:he,priorityLevel:ie,startTime:G,expirationTime:I,sortIndex:-1},G>ce?(ie.sortIndex=G,t(h,ie),r(d)===null&&ie===r(h)&&(k?(A(se),se=-1):k=!0,xe(R,G-ce))):(ie.sortIndex=I,t(d,ie),S||g||(S=!0,ye(X))),ie},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(ie){var he=y;return function(){var G=y;y=he;try{return ie.apply(this,arguments)}finally{y=G}}}})(P0)),P0}var jv;function s3(){return jv||(jv=1,A0.exports=n3()),A0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function i3(){if(Sv)return Gi;Sv=1;var e=zg(),t=s3();function r(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(a,l){c(a,l),c(a+"Capture",l)}function c(a,l){for(i[a]=l,a=0;a<l.length;a++)n.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},b={};function y(a){return d.call(b,a)?!0:d.call(p,a)?!1:h.test(a)?b[a]=!0:(p[a]=!0,!1)}function g(a,l,f,x){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return x?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,l,f,x){if(l===null||typeof l>"u"||g(a,l,f,x))return!0;if(x)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function k(a,l,f,x,N,_,q){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=x,this.attributeNamespace=N,this.mustUseProperty=f,this.propertyName=a,this.type=l,this.sanitizeURL=_,this.removeEmptyString=q}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){E[a]=new k(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];E[l]=new k(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){E[a]=new k(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){E[a]=new k(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){E[a]=new k(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){E[a]=new k(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){E[a]=new k(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){E[a]=new k(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){E[a]=new k(a,5,!1,a.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function L(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(A,L);E[l]=new k(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(A,L);E[l]=new k(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(A,L);E[l]=new k(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){E[a]=new k(a,1,!1,a.toLowerCase(),null,!1,!1)}),E.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){E[a]=new k(a,1,!1,a.toLowerCase(),null,!0,!0)});function P(a,l,f,x){var N=E.hasOwnProperty(l)?E[l]:null;(N!==null?N.type!==0:x||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,f,N,x)&&(f=null),x||N===null?y(l)&&(f===null?a.removeAttribute(l):a.setAttribute(l,""+f)):N.mustUseProperty?a[N.propertyName]=f===null?N.type===3?!1:"":f:(l=N.attributeName,x=N.attributeNamespace,f===null?a.removeAttribute(l):(N=N.type,f=N===3||N===4&&f===!0?"":""+f,x?a.setAttributeNS(x,l,f):a.setAttribute(l,f))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),Q=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),T=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),ie=Symbol.iterator;function he(a){return a===null||typeof a!="object"?null:(a=ie&&a[ie]||a["@@iterator"],typeof a=="function"?a:null)}var G=Object.assign,ce;function I(a){if(ce===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);ce=l&&l[1]||""}return`
`+ce+a}var J=!1;function Z(a,l){if(!a||J)return"";J=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Ie){var x=Ie}Reflect.construct(a,[],l)}else{try{l.call()}catch(Ie){x=Ie}a.call(l.prototype)}else{try{throw Error()}catch(Ie){x=Ie}a()}}catch(Ie){if(Ie&&x&&typeof Ie.stack=="string"){for(var N=Ie.stack.split(`
`),_=x.stack.split(`
`),q=N.length-1,oe=_.length-1;1<=q&&0<=oe&&N[q]!==_[oe];)oe--;for(;1<=q&&0<=oe;q--,oe--)if(N[q]!==_[oe]){if(q!==1||oe!==1)do if(q--,oe--,0>oe||N[q]!==_[oe]){var ge=`
`+N[q].replace(" at new "," at ");return a.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",a.displayName)),ge}while(1<=q&&0<=oe);break}}}finally{J=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?I(a):""}function le(a){switch(a.tag){case 5:return I(a.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return a=Z(a.type,!1),a;case 11:return a=Z(a.type.render,!1),a;case 1:return a=Z(a.type,!0),a;default:return""}}function ue(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ae:return"Fragment";case Q:return"Portal";case V:return"Profiler";case se:return"StrictMode";case z:return"Suspense";case H:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case T:return(a.displayName||"Context")+".Consumer";case re:return(a._context.displayName||"Context")+".Provider";case F:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ve:return l=a.displayName||null,l!==null?l:ue(a.type)||"Memo";case ye:l=a._payload,a=a._init;try{return ue(a(l))}catch{}}return null}function be(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(l);case 8:return l===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ee(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function fe(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function me(a){var l=fe(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),x=""+a[l];if(!a.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var N=f.get,_=f.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return N.call(this)},set:function(q){x=""+q,_.call(this,q)}}),Object.defineProperty(a,l,{enumerable:f.enumerable}),{getValue:function(){return x},setValue:function(q){x=""+q},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Oe(a){a._valueTracker||(a._valueTracker=me(a))}function je(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var f=l.getValue(),x="";return a&&(x=fe(a)?a.checked?"true":"false":a.value),a=x,a!==f?(l.setValue(a),!0):!1}function Ve(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ze(a,l){var f=l.checked;return G({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function K(a,l){var f=l.defaultValue==null?"":l.defaultValue,x=l.checked!=null?l.checked:l.defaultChecked;f=Ee(l.value!=null?l.value:f),a._wrapperState={initialChecked:x,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function We(a,l){l=l.checked,l!=null&&P(a,"checked",l,!1)}function vt(a,l){We(a,l);var f=Ee(l.value),x=l.type;if(f!=null)x==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(x==="submit"||x==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?Be(a,l.type,f):l.hasOwnProperty("defaultValue")&&Be(a,l.type,Ee(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function tt(a,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var x=l.type;if(!(x!=="submit"&&x!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,f||l===a.value||(a.value=l),a.defaultValue=l}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function Be(a,l,f){(l!=="number"||Ve(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var ht=Array.isArray;function Ze(a,l,f,x){if(a=a.options,l){l={};for(var N=0;N<f.length;N++)l["$"+f[N]]=!0;for(f=0;f<a.length;f++)N=l.hasOwnProperty("$"+a[f].value),a[f].selected!==N&&(a[f].selected=N),N&&x&&(a[f].defaultSelected=!0)}else{for(f=""+Ee(f),l=null,N=0;N<a.length;N++){if(a[N].value===f){a[N].selected=!0,x&&(a[N].defaultSelected=!0);return}l!==null||a[N].disabled||(l=a[N])}l!==null&&(l.selected=!0)}}function mt(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return G({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function xt(a,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(r(92));if(ht(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),f=l}a._wrapperState={initialValue:Ee(f)}}function yr(a,l){var f=Ee(l.value),x=Ee(l.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),l.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),x!=null&&(a.defaultValue=""+x)}function nr(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function $t(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sr(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?$t(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Jt,at=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,x,N){MSApp.execUnsafeLocalFunction(function(){return a(l,f,x,N)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Jt=Jt||document.createElement("div"),Jt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Jt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function Mt(a,l){if(l){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=l;return}}a.textContent=l}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zr=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(a){Zr.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),ot[l]=ot[a]})});function Qt(a,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||ot.hasOwnProperty(a)&&ot[a]?(""+l).trim():l+"px"}function Gt(a,l){a=a.style;for(var f in l)if(l.hasOwnProperty(f)){var x=f.indexOf("--")===0,N=Qt(f,l[f],x);f==="float"&&(f="cssFloat"),x?a.setProperty(f,N):a[f]=N}}var Vt=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Or(a,l){if(l){if(Vt[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function yt(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Er=null;function kt(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ut=null,jr=null,Yt=null;function At(a){if(a=bo(a)){if(typeof Ut!="function")throw Error(r(280));var l=a.stateNode;l&&(l=sl(l),Ut(a.stateNode,a.type,l))}}function lr(a){jr?Yt?Yt.push(a):Yt=[a]:jr=a}function to(){if(jr){var a=jr,l=Yt;if(Yt=jr=null,At(a),l)for(a=0;a<l.length;a++)At(l[a])}}function $n(a,l){return a(l)}function Xi(){}var ui=!1;function Lt(a,l,f){if(ui)return a(l,f);ui=!0;try{return $n(a,l,f)}finally{ui=!1,(jr!==null||Yt!==null)&&(Xi(),to())}}function Bs(a,l){var f=a.stateNode;if(f===null)return null;var x=sl(f);if(x===null)return null;f=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(a=a.type,x=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!x;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Nn=!1;if(u)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{Nn=!1}function Ss(a,l,f,x,N,_,q,oe,ge){var Ie=Array.prototype.slice.call(arguments,3);try{l.apply(f,Ie)}catch(Ge){this.onError(Ge)}}var gr=!1,en=null,on=!1,Qi=null,$s={onError:function(a){gr=!0,en=a}};function Vs(a,l,f,x,N,_,q,oe,ge){gr=!1,en=null,Ss.apply($s,arguments)}function Ws(a,l,f,x,N,_,q,oe,ge){if(Vs.apply(this,arguments),gr){if(gr){var Ie=en;gr=!1,en=null}else throw Error(r(198));on||(on=!0,Qi=Ie)}}function jn(a){var l=a,f=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(f=l.return),a=l.return;while(a)}return l.tag===3?f:null}function di(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Hs(a){if(jn(a)!==a)throw Error(r(188))}function Zi(a){var l=a.alternate;if(!l){if(l=jn(a),l===null)throw Error(r(188));return l!==a?null:a}for(var f=a,x=l;;){var N=f.return;if(N===null)break;var _=N.alternate;if(_===null){if(x=N.return,x!==null){f=x;continue}break}if(N.child===_.child){for(_=N.child;_;){if(_===f)return Hs(N),a;if(_===x)return Hs(N),l;_=_.sibling}throw Error(r(188))}if(f.return!==x.return)f=N,x=_;else{for(var q=!1,oe=N.child;oe;){if(oe===f){q=!0,f=N,x=_;break}if(oe===x){q=!0,x=N,f=_;break}oe=oe.sibling}if(!q){for(oe=_.child;oe;){if(oe===f){q=!0,f=_,x=N;break}if(oe===x){q=!0,x=_,f=N;break}oe=oe.sibling}if(!q)throw Error(r(189))}}if(f.alternate!==x)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:l}function hi(a){return a=Zi(a),a!==null?ro(a):null}function ro(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=ro(a);if(l!==null)return l;a=a.sibling}return null}var Mo=t.unstable_scheduleCallback,Fo=t.unstable_cancelCallback,Do=t.unstable_shouldYield,Lu=t.unstable_requestPaint,Mr=t.unstable_now,Lc=t.unstable_getCurrentPriorityLevel,qo=t.unstable_ImmediatePriority,Gs=t.unstable_UserBlockingPriority,Na=t.unstable_NormalPriority,fn=t.unstable_LowPriority,ja=t.unstable_IdlePriority,Uo=null,fs=null;function Rc(a){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(Uo,a,void 0,(a.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:mn,yl=Math.log,Ru=Math.LN2;function mn(a){return a>>>=0,a===0?32:31-(yl(a)/Ru|0)|0}var no=64,Ys=4194304;function ea(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Sn(a,l){var f=a.pendingLanes;if(f===0)return 0;var x=0,N=a.suspendedLanes,_=a.pingedLanes,q=f&268435455;if(q!==0){var oe=q&~N;oe!==0?x=ea(oe):(_&=q,_!==0&&(x=ea(_)))}else q=f&~N,q!==0?x=ea(q):_!==0&&(x=ea(_));if(x===0)return 0;if(l!==0&&l!==x&&(l&N)===0&&(N=x&-x,_=l&-l,N>=_||N===16&&(_&4194240)!==0))return l;if((x&4)!==0&&(x|=f&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=x;0<l;)f=31-pn(l),N=1<<f,x|=a[f],l&=~N;return x}function _s(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cr(a,l){for(var f=a.suspendedLanes,x=a.pingedLanes,N=a.expirationTimes,_=a.pendingLanes;0<_;){var q=31-pn(_),oe=1<<q,ge=N[q];ge===-1?((oe&f)===0||(oe&x)!==0)&&(N[q]=_s(oe,l)):ge<=l&&(a.expiredLanes|=oe),_&=~oe}}function Ks(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Xn(){var a=no;return no<<=1,(no&4194240)===0&&(no=64),a}function zo(a){for(var l=[],f=0;31>f;f++)l.push(a);return l}function Vn(a,l,f){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-pn(l),a[l]=f}function Ai(a,l){var f=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var x=a.eventTimes;for(a=a.expirationTimes;0<f;){var N=31-pn(f),_=1<<N;l[N]=0,x[N]=-1,a[N]=-1,f&=~_}}function rr(a,l){var f=a.entangledLanes|=l;for(a=a.entanglements;f;){var x=31-pn(f),N=1<<x;N&l|a[x]&l&&(a[x]|=l),f&=~N}}var hr=0;function Sa(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var _a,Xl,Ql,Tc,Bo,$o=!1,Wn=[],ta=null,ks=null,Qn=null,so=new Map,Et=new Map,Pi=[],Zl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vo(a,l){switch(a){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":so.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(l.pointerId)}}function _n(a,l,f,x,N,_){return a===null||a.nativeEvent!==_?(a={blockedOn:l,domEventName:f,eventSystemFlags:x,nativeEvent:_,targetContainers:[N]},l!==null&&(l=bo(l),l!==null&&Xl(l)),a):(a.eventSystemFlags|=x,l=a.targetContainers,N!==null&&l.indexOf(N)===-1&&l.push(N),a)}function Li(a,l,f,x,N){switch(l){case"focusin":return ta=_n(ta,a,l,f,x,N),!0;case"dragenter":return ks=_n(ks,a,l,f,x,N),!0;case"mouseover":return Qn=_n(Qn,a,l,f,x,N),!0;case"pointerover":var _=N.pointerId;return so.set(_,_n(so.get(_)||null,a,l,f,x,N)),!0;case"gotpointercapture":return _=N.pointerId,Et.set(_,_n(Et.get(_)||null,a,l,f,x,N)),!0}return!1}function io(a){var l=ca(a.target);if(l!==null){var f=jn(l);if(f!==null){if(l=f.tag,l===13){if(l=di(f),l!==null){a.blockedOn=l,Bo(a.priority,function(){Ql(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function fi(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var f=Ea(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var x=new f.constructor(f.type,f);Er=x,f.target.dispatchEvent(x),Er=null}else return l=bo(f),l!==null&&Xl(l),a.blockedOn=f,!1;l.shift()}return!0}function Wo(a,l,f){fi(a)&&f.delete(l)}function ec(){$o=!1,ta!==null&&fi(ta)&&(ta=null),ks!==null&&fi(ks)&&(ks=null),Qn!==null&&fi(Qn)&&(Qn=null),so.forEach(Wo),Et.forEach(Wo)}function Zn(a,l){a.blockedOn===l&&(a.blockedOn=null,$o||($o=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ec)))}function ao(a){function l(N){return Zn(N,a)}if(0<Wn.length){Zn(Wn[0],a);for(var f=1;f<Wn.length;f++){var x=Wn[f];x.blockedOn===a&&(x.blockedOn=null)}}for(ta!==null&&Zn(ta,a),ks!==null&&Zn(ks,a),Qn!==null&&Zn(Qn,a),so.forEach(l),Et.forEach(l),f=0;f<Pi.length;f++)x=Pi[f],x.blockedOn===a&&(x.blockedOn=null);for(;0<Pi.length&&(f=Pi[0],f.blockedOn===null);)io(f),f.blockedOn===null&&Pi.shift()}var Tn=R.ReactCurrentBatchConfig,Ho=!0;function wl(a,l,f,x){var N=hr,_=Tn.transition;Tn.transition=null;try{hr=1,ka(a,l,f,x)}finally{hr=N,Tn.transition=_}}function tc(a,l,f,x){var N=hr,_=Tn.transition;Tn.transition=null;try{hr=4,ka(a,l,f,x)}finally{hr=N,Tn.transition=_}}function ka(a,l,f,x){if(Ho){var N=Ea(a,l,f,x);if(N===null)tl(a,l,x,Js,f),Vo(a,x);else if(Li(N,a,l,f,x))x.stopPropagation();else if(Vo(a,x),l&4&&-1<Zl.indexOf(a)){for(;N!==null;){var _=bo(N);if(_!==null&&_a(_),_=Ea(a,l,f,x),_===null&&tl(a,l,x,Js,f),_===N)break;N=_}N!==null&&x.stopPropagation()}else tl(a,l,x,null,f)}}var Js=null;function Ea(a,l,f,x){if(Js=null,a=kt(x),a=ca(a),a!==null)if(l=jn(a),l===null)a=null;else if(f=l.tag,f===13){if(a=di(l),a!==null)return a;a=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return Js=a,null}function oo(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lc()){case qo:return 1;case Gs:return 4;case Na:case fn:return 16;case ja:return 536870912;default:return 16}default:return 16}}var Es=null,ra=null,Xs=null;function Nl(){if(Xs)return Xs;var a,l=ra,f=l.length,x,N="value"in Es?Es.value:Es.textContent,_=N.length;for(a=0;a<f&&l[a]===N[a];a++);var q=f-a;for(x=1;x<=q&&l[f-x]===N[_-x];x++);return Xs=N.slice(a,1<x?1-x:void 0)}function Qs(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function pi(){return!0}function Wr(){return!1}function es(a){function l(f,x,N,_,q){this._reactName=f,this._targetInst=N,this.type=x,this.nativeEvent=_,this.target=q,this.currentTarget=null;for(var oe in a)a.hasOwnProperty(oe)&&(f=a[oe],this[oe]=f?f(_):_[oe]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?pi:Wr,this.isPropagationStopped=Wr,this}return G(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),l}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=es(kn),w=G({},kn,{view:0,detail:0}),M=es(w),ne,de,Se,qe=G({},w,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Se&&(Se&&a.type==="mousemove"?(ne=a.screenX-Se.screenX,de=a.screenY-Se.screenY):de=ne=0,Se=a),ne)},movementY:function(a){return"movementY"in a?a.movementY:de}}),$e=es(qe),lt=G({},qe,{dataTransfer:0}),et=es(lt),Rt=G({},w,{relatedTarget:0}),St=es(Rt),ir=G({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ft=es(ir),tn=G({},kn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),tr=es(tn),ln=G({},kn,{data:0}),ur=es(ln),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},na={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ri={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Ri[a])?!!l[a]:!1}function lo(){return On}var vr=G({},w,{key:function(a){if(a.key){var l=En[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Qs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?na[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(a){return a.type==="keypress"?Qs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Qs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),mi=es(vr),Ti=G({},qe,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ca=es(Ti),Aa=G({},w,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),cn=es(Aa),Pa=G({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),La=es(Pa),Sl=G({},qe,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),co=es(Sl),ts=[9,13,27,32],xi=u&&"CompositionEvent"in window,Oi=null;u&&"documentMode"in document&&(Oi=document.documentMode);var sa=u&&"TextEvent"in window&&!Oi,Cs=u&&(!xi||Oi&&8<Oi&&11>=Oi),uo=" ",Go=!1;function _l(a,l){switch(a){case"keyup":return ts.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var gi=!1;function As(a,l){switch(a){case"compositionend":return Ra(l);case"keypress":return l.which!==32?null:(Go=!0,uo);case"textInput":return a=l.data,a===uo&&Go?null:a;default:return null}}function Zs(a,l){if(gi)return a==="compositionend"||!xi&&_l(a,l)?(a=Nl(),Xs=ra=Es=null,gi=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Cs&&l.locale!=="ko"?null:l.data;default:return null}}var ho={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ii(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!ho[a.type]:l==="textarea"}function ia(a,l,f,x){lr(x),l=Pl(l,"onChange"),0<l.length&&(f=new jl("onChange","change",null,f,x),a.push({event:f,listeners:l}))}var Ta=null,Mi=null;function Hr(a){Cl(a,0)}function aa(a){var l=Ua(a);if(je(l))return a}function vi(a,l){if(a==="change")return l}var bi=!1;if(u){var fo;if(u){var po="oninput"in document;if(!po){var Fi=document.createElement("div");Fi.setAttribute("oninput","return;"),po=typeof Fi.oninput=="function"}fo=po}else fo=!1;bi=fo&&(!document.documentMode||9<document.documentMode)}function Yo(){Ta&&(Ta.detachEvent("onpropertychange",yi),Mi=Ta=null)}function yi(a){if(a.propertyName==="value"&&aa(Mi)){var l=[];ia(l,Mi,a,kt(a)),Lt(Hr,l)}}function mo(a,l,f){a==="focusin"?(Yo(),Ta=l,Mi=f,Ta.attachEvent("onpropertychange",yi)):a==="focusout"&&Yo()}function wi(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return aa(Mi)}function Oa(a,l){if(a==="click")return aa(l)}function In(a,l){if(a==="input"||a==="change")return aa(l)}function Ia(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var br=typeof Object.is=="function"?Object.is:Ia;function rs(a,l){if(br(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var f=Object.keys(a),x=Object.keys(l);if(f.length!==x.length)return!1;for(x=0;x<f.length;x++){var N=f[x];if(!d.call(l,N)||!br(a[N],l[N]))return!1}return!0}function wr(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Rr(a,l){var f=wr(a);a=0;for(var x;f;){if(f.nodeType===3){if(x=a+f.textContent.length,a<=l&&x>=l)return{node:f,offset:l-a};a=x}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=wr(f)}}function rn(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?rn(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function xn(){for(var a=window,l=Ve();l instanceof a.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)a=l.contentWindow;else break;l=Ve(a.document)}return l}function ps(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function Ko(a){var l=xn(),f=a.focusedElem,x=a.selectionRange;if(l!==f&&f&&f.ownerDocument&&rn(f.ownerDocument.documentElement,f)){if(x!==null&&ps(f)){if(l=x.start,a=x.end,a===void 0&&(a=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(a,f.value.length);else if(a=(l=f.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var N=f.textContent.length,_=Math.min(x.start,N);x=x.end===void 0?_:Math.min(x.end,N),!a.extend&&_>x&&(N=x,x=_,_=N),N=Rr(f,_);var q=Rr(f,x);N&&q&&(a.rangeCount!==1||a.anchorNode!==N.node||a.anchorOffset!==N.offset||a.focusNode!==q.node||a.focusOffset!==q.offset)&&(l=l.createRange(),l.setStart(N.node,N.offset),a.removeAllRanges(),_>x?(a.addRange(l),a.extend(q.node,q.offset)):(l.setEnd(q.node,q.offset),a.addRange(l)))}}for(l=[],a=f;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)a=l[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var kl=u&&"documentMode"in document&&11>=document.documentMode,oa=null,Ni=null,Ma=null,Jo=!1;function Oc(a,l,f){var x=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Jo||oa==null||oa!==Ve(x)||(x=oa,"selectionStart"in x&&ps(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ma&&rs(Ma,x)||(Ma=x,x=Pl(Ni,"onSelect"),0<x.length&&(l=new jl("onSelect","select",null,l,f),a.push({event:l,listeners:x}),l.target=oa)))}function El(a,l){var f={};return f[a.toLowerCase()]=l.toLowerCase(),f["Webkit"+a]="webkit"+l,f["Moz"+a]="moz"+l,f}var _e={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},Ps={},la={};u&&(la=document.createElement("div").style,"AnimationEvent"in window||(delete _e.animationend.animation,delete _e.animationiteration.animation,delete _e.animationstart.animation),"TransitionEvent"in window||delete _e.transitionend.transition);function Di(a){if(Ps[a])return Ps[a];if(!_e[a])return a;var l=_e[a],f;for(f in l)if(l.hasOwnProperty(f)&&f in la)return Ps[a]=l[f];return a}var rc=Di("animationend"),Tu=Di("animationiteration"),nc=Di("animationstart"),Ic=Di("transitionend"),Mc=new Map,Fc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(a,l){Mc.set(a,l),o(l,[a])}for(var Xo=0;Xo<Fc.length;Xo++){var ns=Fc[Xo],Rs=ns.toLowerCase(),Qo=ns[0].toUpperCase()+ns.slice(1);Ls(Rs,"on"+Qo)}Ls(rc,"onAnimationEnd"),Ls(Tu,"onAnimationIteration"),Ls(nc,"onAnimationStart"),Ls("dblclick","onDoubleClick"),Ls("focusin","onFocus"),Ls("focusout","onBlur"),Ls(Ic,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dc=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function Zo(a,l,f){var x=a.type||"unknown-event";a.currentTarget=f,Ws(x,l,void 0,a),a.currentTarget=null}function Cl(a,l){l=(l&4)!==0;for(var f=0;f<a.length;f++){var x=a[f],N=x.event;x=x.listeners;e:{var _=void 0;if(l)for(var q=x.length-1;0<=q;q--){var oe=x[q],ge=oe.instance,Ie=oe.currentTarget;if(oe=oe.listener,ge!==_&&N.isPropagationStopped())break e;Zo(N,oe,Ie),_=ge}else for(q=0;q<x.length;q++){if(oe=x[q],ge=oe.instance,Ie=oe.currentTarget,oe=oe.listener,ge!==_&&N.isPropagationStopped())break e;Zo(N,oe,Ie),_=ge}}}if(on)throw a=Qi,on=!1,Qi=null,a}function Cr(a,l){var f=l[is];f===void 0&&(f=l[is]=new Set);var x=a+"__bubble";f.has(x)||(el(l,a,2,!1),f.add(x))}function Al(a,l,f){var x=0;l&&(x|=4),el(f,a,x,l)}var xo="_reactListening"+Math.random().toString(36).slice(2);function Fa(a){if(!a[xo]){a[xo]=!0,n.forEach(function(f){f!=="selectionchange"&&(Dc.has(f)||Al(f,!1,a),Al(f,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[xo]||(l[xo]=!0,Al("selectionchange",!1,l))}}function el(a,l,f,x){switch(oo(l)){case 1:var N=wl;break;case 4:N=tc;break;default:N=ka}f=N.bind(null,l,f,a),N=void 0,!Nn||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(N=!0),x?N!==void 0?a.addEventListener(l,f,{capture:!0,passive:N}):a.addEventListener(l,f,!0):N!==void 0?a.addEventListener(l,f,{passive:N}):a.addEventListener(l,f,!1)}function tl(a,l,f,x,N){var _=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var q=x.tag;if(q===3||q===4){var oe=x.stateNode.containerInfo;if(oe===N||oe.nodeType===8&&oe.parentNode===N)break;if(q===4)for(q=x.return;q!==null;){var ge=q.tag;if((ge===3||ge===4)&&(ge=q.stateNode.containerInfo,ge===N||ge.nodeType===8&&ge.parentNode===N))return;q=q.return}for(;oe!==null;){if(q=ca(oe),q===null)return;if(ge=q.tag,ge===5||ge===6){x=_=q;continue e}oe=oe.parentNode}}x=x.return}Lt(function(){var Ie=_,Ge=kt(f),Ye=[];e:{var He=Mc.get(a);if(He!==void 0){var rt=jl,ft=a;switch(a){case"keypress":if(Qs(f)===0)break e;case"keydown":case"keyup":rt=mi;break;case"focusin":ft="focus",rt=St;break;case"focusout":ft="blur",rt=St;break;case"beforeblur":case"afterblur":rt=St;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=$e;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=et;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=cn;break;case rc:case Tu:case nc:rt=Ft;break;case Ic:rt=La;break;case"scroll":rt=M;break;case"wheel":rt=co;break;case"copy":case"cut":case"paste":rt=tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Ca}var gt=(l&4)!==0,Fn=!gt&&a==="scroll",Re=gt?He!==null?He+"Capture":null:He;gt=[];for(var Ne=Ie,Te;Ne!==null;){Te=Ne;var Ke=Te.stateNode;if(Te.tag===5&&Ke!==null&&(Te=Ke,Re!==null&&(Ke=Bs(Ne,Re),Ke!=null&&gt.push(rl(Ne,Ke,Te)))),Fn)break;Ne=Ne.return}0<gt.length&&(He=new rt(He,ft,null,f,Ge),Ye.push({event:He,listeners:gt}))}}if((l&7)===0){e:{if(He=a==="mouseover"||a==="pointerover",rt=a==="mouseout"||a==="pointerout",He&&f!==Er&&(ft=f.relatedTarget||f.fromElement)&&(ca(ft)||ft[Mn]))break e;if((rt||He)&&(He=Ge.window===Ge?Ge:(He=Ge.ownerDocument)?He.defaultView||He.parentWindow:window,rt?(ft=f.relatedTarget||f.toElement,rt=Ie,ft=ft?ca(ft):null,ft!==null&&(Fn=jn(ft),ft!==Fn||ft.tag!==5&&ft.tag!==6)&&(ft=null)):(rt=null,ft=Ie),rt!==ft)){if(gt=$e,Ke="onMouseLeave",Re="onMouseEnter",Ne="mouse",(a==="pointerout"||a==="pointerover")&&(gt=Ca,Ke="onPointerLeave",Re="onPointerEnter",Ne="pointer"),Fn=rt==null?He:Ua(rt),Te=ft==null?He:Ua(ft),He=new gt(Ke,Ne+"leave",rt,f,Ge),He.target=Fn,He.relatedTarget=Te,Ke=null,ca(Ge)===Ie&&(gt=new gt(Re,Ne+"enter",ft,f,Ge),gt.target=Te,gt.relatedTarget=Fn,Ke=gt),Fn=Ke,rt&&ft)t:{for(gt=rt,Re=ft,Ne=0,Te=gt;Te;Te=Da(Te))Ne++;for(Te=0,Ke=Re;Ke;Ke=Da(Ke))Te++;for(;0<Ne-Te;)gt=Da(gt),Ne--;for(;0<Te-Ne;)Re=Da(Re),Te--;for(;Ne--;){if(gt===Re||Re!==null&&gt===Re.alternate)break t;gt=Da(gt),Re=Da(Re)}gt=null}else gt=null;rt!==null&&qc(Ye,He,rt,gt,!1),ft!==null&&Fn!==null&&qc(Ye,Fn,ft,gt,!0)}}e:{if(He=Ie?Ua(Ie):window,rt=He.nodeName&&He.nodeName.toLowerCase(),rt==="select"||rt==="input"&&He.type==="file")var bt=vi;else if(Ii(He))if(bi)bt=In;else{bt=wi;var Tt=mo}else(rt=He.nodeName)&&rt.toLowerCase()==="input"&&(He.type==="checkbox"||He.type==="radio")&&(bt=Oa);if(bt&&(bt=bt(a,Ie))){ia(Ye,bt,f,Ge);break e}Tt&&Tt(a,He,Ie),a==="focusout"&&(Tt=He._wrapperState)&&Tt.controlled&&He.type==="number"&&Be(He,"number",He.value)}switch(Tt=Ie?Ua(Ie):window,a){case"focusin":(Ii(Tt)||Tt.contentEditable==="true")&&(oa=Tt,Ni=Ie,Ma=null);break;case"focusout":Ma=Ni=oa=null;break;case"mousedown":Jo=!0;break;case"contextmenu":case"mouseup":case"dragend":Jo=!1,Oc(Ye,f,Ge);break;case"selectionchange":if(kl)break;case"keydown":case"keyup":Oc(Ye,f,Ge)}var Ot;if(xi)e:{switch(a){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else gi?_l(a,f)&&(Wt="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Wt="onCompositionStart");Wt&&(Cs&&f.locale!=="ko"&&(gi||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&gi&&(Ot=Nl()):(Es=Ge,ra="value"in Es?Es.value:Es.textContent,gi=!0)),Tt=Pl(Ie,Wt),0<Tt.length&&(Wt=new ur(Wt,a,null,f,Ge),Ye.push({event:Wt,listeners:Tt}),Ot?Wt.data=Ot:(Ot=Ra(f),Ot!==null&&(Wt.data=Ot)))),(Ot=sa?As(a,f):Zs(a,f))&&(Ie=Pl(Ie,"onBeforeInput"),0<Ie.length&&(Ge=new ur("onBeforeInput","beforeinput",null,f,Ge),Ye.push({event:Ge,listeners:Ie}),Ge.data=Ot))}Cl(Ye,l)})}function rl(a,l,f){return{instance:a,listener:l,currentTarget:f}}function Pl(a,l){for(var f=l+"Capture",x=[];a!==null;){var N=a,_=N.stateNode;N.tag===5&&_!==null&&(N=_,_=Bs(a,f),_!=null&&x.unshift(rl(a,_,N)),_=Bs(a,l),_!=null&&x.push(rl(a,_,N))),a=a.return}return x}function Da(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function qc(a,l,f,x,N){for(var _=l._reactName,q=[];f!==null&&f!==x;){var oe=f,ge=oe.alternate,Ie=oe.stateNode;if(ge!==null&&ge===x)break;oe.tag===5&&Ie!==null&&(oe=Ie,N?(ge=Bs(f,_),ge!=null&&q.unshift(rl(f,ge,oe))):N||(ge=Bs(f,_),ge!=null&&q.push(rl(f,ge,oe)))),f=f.return}q.length!==0&&a.push({event:l,listeners:q})}var Ou=/\r\n?/g,Iu=/\u0000|\uFFFD/g;function Uc(a){return(typeof a=="string"?a:""+a).replace(Ou,`
`).replace(Iu,"")}function Ll(a,l,f){if(l=Uc(l),Uc(a)!==l&&f)throw Error(r(425))}function go(){}var nl=null,qa=null;function sc(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ic=typeof setTimeout=="function"?setTimeout:void 0,zc=typeof clearTimeout=="function"?clearTimeout:void 0,Bc=typeof Promise=="function"?Promise:void 0,Mu=typeof queueMicrotask=="function"?queueMicrotask:typeof Bc<"u"?function(a){return Bc.resolve(null).then(a).catch(Fu)}:ic;function Fu(a){setTimeout(function(){throw a})}function ac(a,l){var f=l,x=0;do{var N=f.nextSibling;if(a.removeChild(f),N&&N.nodeType===8)if(f=N.data,f==="/$"){if(x===0){a.removeChild(N),ao(l);return}x--}else f!=="$"&&f!=="$?"&&f!=="$!"||x++;f=N}while(f);ao(l)}function Hn(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function Ts(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return a;l--}else f==="/$"&&l++}a=a.previousSibling}return null}var ss=Math.random().toString(36).slice(2),Si="__reactFiber$"+ss,vo="__reactProps$"+ss,Mn="__reactContainer$"+ss,is="__reactEvents$"+ss,Du="__reactListeners$"+ss,qu="__reactHandles$"+ss;function ca(a){var l=a[Si];if(l)return l;for(var f=a.parentNode;f;){if(l=f[Mn]||f[Si]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(a=Ts(a);a!==null;){if(f=a[Si])return f;a=Ts(a)}return l}a=f,f=a.parentNode}return null}function bo(a){return a=a[Si]||a[Mn],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ua(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function sl(a){return a[vo]||null}var oc=[],qi=-1;function ei(a){return{current:a}}function Nr(a){0>qi||(a.current=oc[qi],oc[qi]=null,qi--)}function Sr(a,l){qi++,oc[qi]=a.current,a.current=l}var ua={},Cn=ei(ua),as=ei(!1),za=ua;function yo(a,l){var f=a.type.contextTypes;if(!f)return ua;var x=a.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===l)return x.__reactInternalMemoizedMaskedChildContext;var N={},_;for(_ in f)N[_]=l[_];return x&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=N),N}function os(a){return a=a.childContextTypes,a!=null}function $(){Nr(as),Nr(Cn)}function Ae(a,l,f){if(Cn.current!==ua)throw Error(r(168));Sr(Cn,l),Sr(as,f)}function Xe(a,l,f){var x=a.stateNode;if(l=l.childContextTypes,typeof x.getChildContext!="function")return f;x=x.getChildContext();for(var N in x)if(!(N in l))throw Error(r(108,be(a)||"Unknown",N));return G({},f,x)}function nt(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ua,za=Cn.current,Sr(Cn,a),Sr(as,as.current),!0}function Dt(a,l,f){var x=a.stateNode;if(!x)throw Error(r(169));f?(a=Xe(a,l,za),x.__reactInternalMemoizedMergedChildContext=a,Nr(as),Nr(Cn),Sr(Cn,a)):Nr(as),Sr(as,f)}var Bt=null,_t=!1,m=!1;function v(a){Bt===null?Bt=[a]:Bt.push(a)}function j(a){_t=!0,v(a)}function C(){if(!m&&Bt!==null){m=!0;var a=0,l=hr;try{var f=Bt;for(hr=1;a<f.length;a++){var x=f[a];do x=x(!0);while(x!==null)}Bt=null,_t=!1}catch(N){throw Bt!==null&&(Bt=Bt.slice(a+1)),Mo(qo,C),N}finally{hr=l,m=!1}}return null}var O=[],D=0,U=null,W=0,Y=[],ee=0,pe=null,ke=1,te="";function we(a,l){O[D++]=W,O[D++]=U,U=a,W=l}function Ce(a,l,f){Y[ee++]=ke,Y[ee++]=te,Y[ee++]=pe,pe=a;var x=ke;a=te;var N=32-pn(x)-1;x&=~(1<<N),f+=1;var _=32-pn(l)+N;if(30<_){var q=N-N%5;_=(x&(1<<q)-1).toString(32),x>>=q,N-=q,ke=1<<32-pn(l)+N|f<<N|x,te=_+a}else ke=1<<_|f<<N|x,te=a}function Fe(a){a.return!==null&&(we(a,1),Ce(a,1,0))}function Pe(a){for(;a===U;)U=O[--D],O[D]=null,W=O[--D],O[D]=null;for(;a===pe;)pe=Y[--ee],Y[ee]=null,te=Y[--ee],Y[ee]=null,ke=Y[--ee],Y[ee]=null}var Le=null,Me=null,De=!1,Ue=null;function ut(a,l){var f=Ha(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=a,l=a.deletions,l===null?(a.deletions=[f],a.flags|=16):l.push(f)}function st(a,l){switch(a.tag){case 5:var f=a.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,Le=a,Me=Hn(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,Le=a,Me=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=pe!==null?{id:ke,overflow:te}:null,a.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Ha(18,null,null,0),f.stateNode=l,f.return=a,a.child=f,Le=a,Me=null,!0):!1;default:return!1}}function Xt(a){return(a.mode&1)!==0&&(a.flags&128)===0}function dt(a){if(De){var l=Me;if(l){var f=l;if(!st(a,l)){if(Xt(a))throw Error(r(418));l=Hn(f.nextSibling);var x=Le;l&&st(a,l)?ut(x,f):(a.flags=a.flags&-4097|2,De=!1,Le=a)}}else{if(Xt(a))throw Error(r(418));a.flags=a.flags&-4097|2,De=!1,Le=a}}}function dr(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Le=a}function un(a){if(a!==Le)return!1;if(!De)return dr(a),De=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!sc(a.type,a.memoizedProps)),l&&(l=Me)){if(Xt(a))throw Zt(),Error(r(418));for(;l;)ut(a,l),l=Hn(l.nextSibling)}if(dr(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(l===0){Me=Hn(a.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}a=a.nextSibling}Me=null}}else Me=Le?Hn(a.stateNode.nextSibling):null;return!0}function Zt(){for(var a=Me;a;)a=Hn(a.nextSibling)}function it(){Me=Le=null,De=!1}function Je(a){Ue===null?Ue=[a]:Ue.push(a)}var gn=R.ReactCurrentBatchConfig;function Pt(a,l){if(a&&a.defaultProps){l=G({},l),a=a.defaultProps;for(var f in a)l[f]===void 0&&(l[f]=a[f]);return l}return l}var or=ei(null),Ir=null,dn=null,ls=null;function Gr(){ls=dn=Ir=null}function Gn(a){var l=or.current;Nr(or),a._currentValue=l}function cs(a,l,f){for(;a!==null;){var x=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),a===f)break;a=a.return}}function Yr(a,l){Ir=a,ls=dn=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(Vi=!0),a.firstContext=null)}function Kt(a){var l=a._currentValue;if(ls!==a)if(a={context:a,memoizedValue:l,next:null},dn===null){if(Ir===null)throw Error(r(308));dn=a,Ir.dependencies={lanes:0,firstContext:a}}else dn=dn.next=a;return l}var fr=null;function Kr(a){fr===null?fr=[a]:fr.push(a)}function Ar(a,l,f,x){var N=l.interleaved;return N===null?(f.next=f,Kr(l)):(f.next=N.next,N.next=f),l.interleaved=f,Br(a,x)}function Br(a,l){a.lanes|=l;var f=a.alternate;for(f!==null&&(f.lanes|=l),f=a,a=a.return;a!==null;)a.childLanes|=l,f=a.alternate,f!==null&&(f.childLanes|=l),f=a,a=a.return;return f.tag===3?f.stateNode:null}var Yn=!1;function nn(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Os(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function pr(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Ur(a,l,f){var x=a.updateQueue;if(x===null)return null;if(x=x.shared,(_r&2)!==0){var N=x.pending;return N===null?l.next=l:(l.next=N.next,N.next=l),x.pending=l,Br(a,f)}return N=x.interleaved,N===null?(l.next=l,Kr(x)):(l.next=N.next,N.next=l),x.interleaved=l,Br(a,f)}function ms(a,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var x=l.lanes;x&=a.pendingLanes,f|=x,l.lanes=f,rr(a,f)}}function xs(a,l){var f=a.updateQueue,x=a.alternate;if(x!==null&&(x=x.updateQueue,f===x)){var N=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var q={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?N=_=q:_=_.next=q,f=f.next}while(f!==null);_===null?N=_=l:_=_.next=l}else N=_=l;f={baseState:x.baseState,firstBaseUpdate:N,lastBaseUpdate:_,shared:x.shared,effects:x.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=l:a.next=l,f.lastBaseUpdate=l}function gs(a,l,f,x){var N=a.updateQueue;Yn=!1;var _=N.firstBaseUpdate,q=N.lastBaseUpdate,oe=N.shared.pending;if(oe!==null){N.shared.pending=null;var ge=oe,Ie=ge.next;ge.next=null,q===null?_=Ie:q.next=Ie,q=ge;var Ge=a.alternate;Ge!==null&&(Ge=Ge.updateQueue,oe=Ge.lastBaseUpdate,oe!==q&&(oe===null?Ge.firstBaseUpdate=Ie:oe.next=Ie,Ge.lastBaseUpdate=ge))}if(_!==null){var Ye=N.baseState;q=0,Ge=Ie=ge=null,oe=_;do{var He=oe.lane,rt=oe.eventTime;if((x&He)===He){Ge!==null&&(Ge=Ge.next={eventTime:rt,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var ft=a,gt=oe;switch(He=l,rt=f,gt.tag){case 1:if(ft=gt.payload,typeof ft=="function"){Ye=ft.call(rt,Ye,He);break e}Ye=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=gt.payload,He=typeof ft=="function"?ft.call(rt,Ye,He):ft,He==null)break e;Ye=G({},Ye,He);break e;case 2:Yn=!0}}oe.callback!==null&&oe.lane!==0&&(a.flags|=64,He=N.effects,He===null?N.effects=[oe]:He.push(oe))}else rt={eventTime:rt,lane:He,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Ge===null?(Ie=Ge=rt,ge=Ye):Ge=Ge.next=rt,q|=He;if(oe=oe.next,oe===null){if(oe=N.shared.pending,oe===null)break;He=oe,oe=He.next,He.next=null,N.lastBaseUpdate=He,N.shared.pending=null}}while(!0);if(Ge===null&&(ge=Ye),N.baseState=ge,N.firstBaseUpdate=Ie,N.lastBaseUpdate=Ge,l=N.shared.interleaved,l!==null){N=l;do q|=N.lane,N=N.next;while(N!==l)}else _===null&&(N.shared.lanes=0);Zc|=q,a.lanes=q,a.memoizedState=Ye}}function ti(a,l,f){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var x=a[l],N=x.callback;if(N!==null){if(x.callback=null,x=f,typeof N!="function")throw Error(r(191,N));N.call(x)}}}var Is=new e.Component().refs;function Ms(a,l,f,x){l=a.memoizedState,f=f(x,l),f=f==null?l:G({},l,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var Tr={isMounted:function(a){return(a=a._reactInternals)?jn(a)===a:!1},enqueueSetState:function(a,l,f){a=a._reactInternals;var x=ki(),N=fc(a),_=pr(x,N);_.payload=l,f!=null&&(_.callback=f),l=Ur(a,_,N),l!==null&&(ko(l,a,N,x),ms(l,a,N))},enqueueReplaceState:function(a,l,f){a=a._reactInternals;var x=ki(),N=fc(a),_=pr(x,N);_.tag=1,_.payload=l,f!=null&&(_.callback=f),l=Ur(a,_,N),l!==null&&(ko(l,a,N,x),ms(l,a,N))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var f=ki(),x=fc(a),N=pr(f,x);N.tag=2,l!=null&&(N.callback=l),l=Ur(a,N,x),l!==null&&(ko(l,a,x,f),ms(l,a,x))}};function ri(a,l,f,x,N,_,q){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(x,_,q):l.prototype&&l.prototype.isPureReactComponent?!rs(f,x)||!rs(N,_):!0}function Ui(a,l,f){var x=!1,N=ua,_=l.contextType;return typeof _=="object"&&_!==null?_=Kt(_):(N=os(l)?za:Cn.current,x=l.contextTypes,_=(x=x!=null)?yo(a,N):ua),l=new l(f,_),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Tr,a.stateNode=l,l._reactInternals=a,x&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=N,a.__reactInternalMemoizedMaskedChildContext=_),l}function il(a,l,f,x){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,x),l.state!==a&&Tr.enqueueReplaceState(l,l.state,null)}function da(a,l,f,x){var N=a.stateNode;N.props=f,N.state=a.memoizedState,N.refs=Is,nn(a);var _=l.contextType;typeof _=="object"&&_!==null?N.context=Kt(_):(_=os(l)?za:Cn.current,N.context=yo(a,_)),N.state=a.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Ms(a,l,_,f),N.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(l=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),l!==N.state&&Tr.enqueueReplaceState(N,N.state,null),gs(a,f,N,x),N.state=a.memoizedState),typeof N.componentDidMount=="function"&&(a.flags|=4194308)}function vn(a,l,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var x=f.stateNode}if(!x)throw Error(r(147,a));var N=x,_=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(q){var oe=N.refs;oe===Is&&(oe=N.refs={}),q===null?delete oe[_]:oe[_]=q},l._stringRef=_,l)}if(typeof a!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,a))}return a}function Rl(a,l){throw a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function Uu(a){var l=a._init;return l(a._payload)}function $c(a){function l(Re,Ne){if(a){var Te=Re.deletions;Te===null?(Re.deletions=[Ne],Re.flags|=16):Te.push(Ne)}}function f(Re,Ne){if(!a)return null;for(;Ne!==null;)l(Re,Ne),Ne=Ne.sibling;return null}function x(Re,Ne){for(Re=new Map;Ne!==null;)Ne.key!==null?Re.set(Ne.key,Ne):Re.set(Ne.index,Ne),Ne=Ne.sibling;return Re}function N(Re,Ne){return Re=mc(Re,Ne),Re.index=0,Re.sibling=null,Re}function _(Re,Ne,Te){return Re.index=Te,a?(Te=Re.alternate,Te!==null?(Te=Te.index,Te<Ne?(Re.flags|=2,Ne):Te):(Re.flags|=2,Ne)):(Re.flags|=1048576,Ne)}function q(Re){return a&&Re.alternate===null&&(Re.flags|=2),Re}function oe(Re,Ne,Te,Ke){return Ne===null||Ne.tag!==6?(Ne=y0(Te,Re.mode,Ke),Ne.return=Re,Ne):(Ne=N(Ne,Te),Ne.return=Re,Ne)}function ge(Re,Ne,Te,Ke){var bt=Te.type;return bt===ae?Ge(Re,Ne,Te.props.children,Ke,Te.key):Ne!==null&&(Ne.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===ye&&Uu(bt)===Ne.type)?(Ke=N(Ne,Te.props),Ke.ref=vn(Re,Ne,Te),Ke.return=Re,Ke):(Ke=nf(Te.type,Te.key,Te.props,null,Re.mode,Ke),Ke.ref=vn(Re,Ne,Te),Ke.return=Re,Ke)}function Ie(Re,Ne,Te,Ke){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==Te.containerInfo||Ne.stateNode.implementation!==Te.implementation?(Ne=w0(Te,Re.mode,Ke),Ne.return=Re,Ne):(Ne=N(Ne,Te.children||[]),Ne.return=Re,Ne)}function Ge(Re,Ne,Te,Ke,bt){return Ne===null||Ne.tag!==7?(Ne=nu(Te,Re.mode,Ke,bt),Ne.return=Re,Ne):(Ne=N(Ne,Te),Ne.return=Re,Ne)}function Ye(Re,Ne,Te){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return Ne=y0(""+Ne,Re.mode,Te),Ne.return=Re,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case X:return Te=nf(Ne.type,Ne.key,Ne.props,null,Re.mode,Te),Te.ref=vn(Re,null,Ne),Te.return=Re,Te;case Q:return Ne=w0(Ne,Re.mode,Te),Ne.return=Re,Ne;case ye:var Ke=Ne._init;return Ye(Re,Ke(Ne._payload),Te)}if(ht(Ne)||he(Ne))return Ne=nu(Ne,Re.mode,Te,null),Ne.return=Re,Ne;Rl(Re,Ne)}return null}function He(Re,Ne,Te,Ke){var bt=Ne!==null?Ne.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return bt!==null?null:oe(Re,Ne,""+Te,Ke);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case X:return Te.key===bt?ge(Re,Ne,Te,Ke):null;case Q:return Te.key===bt?Ie(Re,Ne,Te,Ke):null;case ye:return bt=Te._init,He(Re,Ne,bt(Te._payload),Ke)}if(ht(Te)||he(Te))return bt!==null?null:Ge(Re,Ne,Te,Ke,null);Rl(Re,Te)}return null}function rt(Re,Ne,Te,Ke,bt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return Re=Re.get(Te)||null,oe(Ne,Re,""+Ke,bt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case X:return Re=Re.get(Ke.key===null?Te:Ke.key)||null,ge(Ne,Re,Ke,bt);case Q:return Re=Re.get(Ke.key===null?Te:Ke.key)||null,Ie(Ne,Re,Ke,bt);case ye:var Tt=Ke._init;return rt(Re,Ne,Te,Tt(Ke._payload),bt)}if(ht(Ke)||he(Ke))return Re=Re.get(Te)||null,Ge(Ne,Re,Ke,bt,null);Rl(Ne,Ke)}return null}function ft(Re,Ne,Te,Ke){for(var bt=null,Tt=null,Ot=Ne,Wt=Ne=0,bs=null;Ot!==null&&Wt<Te.length;Wt++){Ot.index>Wt?(bs=Ot,Ot=null):bs=Ot.sibling;var Pr=He(Re,Ot,Te[Wt],Ke);if(Pr===null){Ot===null&&(Ot=bs);break}a&&Ot&&Pr.alternate===null&&l(Re,Ot),Ne=_(Pr,Ne,Wt),Tt===null?bt=Pr:Tt.sibling=Pr,Tt=Pr,Ot=bs}if(Wt===Te.length)return f(Re,Ot),De&&we(Re,Wt),bt;if(Ot===null){for(;Wt<Te.length;Wt++)Ot=Ye(Re,Te[Wt],Ke),Ot!==null&&(Ne=_(Ot,Ne,Wt),Tt===null?bt=Ot:Tt.sibling=Ot,Tt=Ot);return De&&we(Re,Wt),bt}for(Ot=x(Re,Ot);Wt<Te.length;Wt++)bs=rt(Ot,Re,Wt,Te[Wt],Ke),bs!==null&&(a&&bs.alternate!==null&&Ot.delete(bs.key===null?Wt:bs.key),Ne=_(bs,Ne,Wt),Tt===null?bt=bs:Tt.sibling=bs,Tt=bs);return a&&Ot.forEach(function(xc){return l(Re,xc)}),De&&we(Re,Wt),bt}function gt(Re,Ne,Te,Ke){var bt=he(Te);if(typeof bt!="function")throw Error(r(150));if(Te=bt.call(Te),Te==null)throw Error(r(151));for(var Tt=bt=null,Ot=Ne,Wt=Ne=0,bs=null,Pr=Te.next();Ot!==null&&!Pr.done;Wt++,Pr=Te.next()){Ot.index>Wt?(bs=Ot,Ot=null):bs=Ot.sibling;var xc=He(Re,Ot,Pr.value,Ke);if(xc===null){Ot===null&&(Ot=bs);break}a&&Ot&&xc.alternate===null&&l(Re,Ot),Ne=_(xc,Ne,Wt),Tt===null?bt=xc:Tt.sibling=xc,Tt=xc,Ot=bs}if(Pr.done)return f(Re,Ot),De&&we(Re,Wt),bt;if(Ot===null){for(;!Pr.done;Wt++,Pr=Te.next())Pr=Ye(Re,Pr.value,Ke),Pr!==null&&(Ne=_(Pr,Ne,Wt),Tt===null?bt=Pr:Tt.sibling=Pr,Tt=Pr);return De&&we(Re,Wt),bt}for(Ot=x(Re,Ot);!Pr.done;Wt++,Pr=Te.next())Pr=rt(Ot,Re,Wt,Pr.value,Ke),Pr!==null&&(a&&Pr.alternate!==null&&Ot.delete(Pr.key===null?Wt:Pr.key),Ne=_(Pr,Ne,Wt),Tt===null?bt=Pr:Tt.sibling=Pr,Tt=Pr);return a&&Ot.forEach(function(XN){return l(Re,XN)}),De&&we(Re,Wt),bt}function Fn(Re,Ne,Te,Ke){if(typeof Te=="object"&&Te!==null&&Te.type===ae&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case X:e:{for(var bt=Te.key,Tt=Ne;Tt!==null;){if(Tt.key===bt){if(bt=Te.type,bt===ae){if(Tt.tag===7){f(Re,Tt.sibling),Ne=N(Tt,Te.props.children),Ne.return=Re,Re=Ne;break e}}else if(Tt.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===ye&&Uu(bt)===Tt.type){f(Re,Tt.sibling),Ne=N(Tt,Te.props),Ne.ref=vn(Re,Tt,Te),Ne.return=Re,Re=Ne;break e}f(Re,Tt);break}else l(Re,Tt);Tt=Tt.sibling}Te.type===ae?(Ne=nu(Te.props.children,Re.mode,Ke,Te.key),Ne.return=Re,Re=Ne):(Ke=nf(Te.type,Te.key,Te.props,null,Re.mode,Ke),Ke.ref=vn(Re,Ne,Te),Ke.return=Re,Re=Ke)}return q(Re);case Q:e:{for(Tt=Te.key;Ne!==null;){if(Ne.key===Tt)if(Ne.tag===4&&Ne.stateNode.containerInfo===Te.containerInfo&&Ne.stateNode.implementation===Te.implementation){f(Re,Ne.sibling),Ne=N(Ne,Te.children||[]),Ne.return=Re,Re=Ne;break e}else{f(Re,Ne);break}else l(Re,Ne);Ne=Ne.sibling}Ne=w0(Te,Re.mode,Ke),Ne.return=Re,Re=Ne}return q(Re);case ye:return Tt=Te._init,Fn(Re,Ne,Tt(Te._payload),Ke)}if(ht(Te))return ft(Re,Ne,Te,Ke);if(he(Te))return gt(Re,Ne,Te,Ke);Rl(Re,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,Ne!==null&&Ne.tag===6?(f(Re,Ne.sibling),Ne=N(Ne,Te),Ne.return=Re,Re=Ne):(f(Re,Ne),Ne=y0(Te,Re.mode,Ke),Ne.return=Re,Re=Ne),q(Re)):f(Re,Ne)}return Fn}var Ba=$c(!0),qh=$c(!1),Vc={},zi=ei(Vc),Bi=ei(Vc),Wc=ei(Vc);function Tl(a){if(a===Vc)throw Error(r(174));return a}function zd(a,l){switch(Sr(Wc,l),Sr(Bi,a),Sr(zi,Vc),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:sr(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=sr(l,a)}Nr(zi),Sr(zi,l)}function Ol(){Nr(zi),Nr(Bi),Nr(Wc)}function Hc(a){Tl(Wc.current);var l=Tl(zi.current),f=sr(l,a.type);l!==f&&(Sr(Bi,a),Sr(zi,f))}function zu(a){Bi.current===a&&(Nr(zi),Nr(Bi))}var Jr=ei(0);function Il(a){for(var l=a;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Gc=[];function Ml(){for(var a=0;a<Gc.length;a++)Gc[a]._workInProgressVersionPrimary=null;Gc.length=0}var Yc=R.ReactCurrentDispatcher,Bd=R.ReactCurrentBatchConfig,$a=0,Xr=null,bn=null,$r=null,Kc=!1,lc=!1,Jc=0,Uh=0;function yn(){throw Error(r(321))}function $d(a,l){if(l===null)return!1;for(var f=0;f<l.length&&f<a.length;f++)if(!br(a[f],l[f]))return!1;return!0}function Bu(a,l,f,x,N,_){if($a=_,Xr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Yc.current=a===null||a.memoizedState===null?jN:SN,a=f(x,N),lc){_=0;do{if(lc=!1,Jc=0,25<=_)throw Error(r(301));_+=1,$r=bn=null,l.updateQueue=null,Yc.current=_N,a=f(x,N)}while(lc)}if(Yc.current=Vh,l=bn!==null&&bn.next!==null,$a=0,$r=bn=Xr=null,Kc=!1,l)throw Error(r(300));return a}function Vd(){var a=Jc!==0;return Jc=0,a}function ha(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?Xr.memoizedState=$r=a:$r=$r.next=a,$r}function $i(){if(bn===null){var a=Xr.alternate;a=a!==null?a.memoizedState:null}else a=bn.next;var l=$r===null?Xr.memoizedState:$r.next;if(l!==null)$r=l,bn=a;else{if(a===null)throw Error(r(310));bn=a,a={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},$r===null?Xr.memoizedState=$r=a:$r=$r.next=a}return $r}function wo(a,l){return typeof l=="function"?l(a):l}function Xc(a){var l=$i(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var x=bn,N=x.baseQueue,_=f.pending;if(_!==null){if(N!==null){var q=N.next;N.next=_.next,_.next=q}x.baseQueue=N=_,f.pending=null}if(N!==null){_=N.next,x=x.baseState;var oe=q=null,ge=null,Ie=_;do{var Ge=Ie.lane;if(($a&Ge)===Ge)ge!==null&&(ge=ge.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),x=Ie.hasEagerState?Ie.eagerState:a(x,Ie.action);else{var Ye={lane:Ge,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};ge===null?(oe=ge=Ye,q=x):ge=ge.next=Ye,Xr.lanes|=Ge,Zc|=Ge}Ie=Ie.next}while(Ie!==null&&Ie!==_);ge===null?q=x:ge.next=oe,br(x,l.memoizedState)||(Vi=!0),l.memoizedState=x,l.baseState=q,l.baseQueue=ge,f.lastRenderedState=x}if(a=f.interleaved,a!==null){N=a;do _=N.lane,Xr.lanes|=_,Zc|=_,N=N.next;while(N!==a)}else N===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function cc(a){var l=$i(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var x=f.dispatch,N=f.pending,_=l.memoizedState;if(N!==null){f.pending=null;var q=N=N.next;do _=a(_,q.action),q=q.next;while(q!==N);br(_,l.memoizedState)||(Vi=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),f.lastRenderedState=_}return[_,x]}function Va(){}function No(a,l){var f=Xr,x=$i(),N=l(),_=!br(x.memoizedState,N);if(_&&(x.memoizedState=N,Vi=!0),x=x.queue,Yp($u.bind(null,f,x,a),[a]),x.getSnapshot!==l||_||$r!==null&&$r.memoizedState.tag&1){if(f.flags|=2048,Fl(9,Qc.bind(null,f,x,N,l),void 0,null),vs===null)throw Error(r(349));($a&30)!==0||jo(f,l,N)}return N}function jo(a,l,f){a.flags|=16384,a={getSnapshot:l,value:f},l=Xr.updateQueue,l===null?(l={lastEffect:null,stores:null},Xr.updateQueue=l,l.stores=[a]):(f=l.stores,f===null?l.stores=[a]:f.push(a))}function Qc(a,l,f,x){l.value=f,l.getSnapshot=x,Wd(l)&&zh(a)}function $u(a,l,f){return f(function(){Wd(l)&&zh(a)})}function Wd(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!br(a,f)}catch{return!0}}function zh(a){var l=Br(a,1);l!==null&&ko(l,a,1,-1)}function Vu(a){var l=ha();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:a},l.queue=a,a=a.dispatch=NN.bind(null,Xr,a),[l.memoizedState,a]}function Fl(a,l,f,x){return a={tag:a,create:l,destroy:f,deps:x,next:null},l=Xr.updateQueue,l===null?(l={lastEffect:null,stores:null},Xr.updateQueue=l,l.lastEffect=a.next=a):(f=l.lastEffect,f===null?l.lastEffect=a.next=a:(x=f.next,f.next=a,a.next=x,l.lastEffect=a)),a}function p1(){return $i().memoizedState}function Bh(a,l,f,x){var N=ha();Xr.flags|=a,N.memoizedState=Fl(1|l,f,void 0,x===void 0?null:x)}function $h(a,l,f,x){var N=$i();x=x===void 0?null:x;var _=void 0;if(bn!==null){var q=bn.memoizedState;if(_=q.destroy,x!==null&&$d(x,q.deps)){N.memoizedState=Fl(l,f,_,x);return}}Xr.flags|=a,N.memoizedState=Fl(1|l,f,_,x)}function m1(a,l){return Bh(8390656,8,a,l)}function Yp(a,l){return $h(2048,8,a,l)}function x1(a,l){return $h(4,2,a,l)}function g1(a,l){return $h(4,4,a,l)}function v1(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function b1(a,l,f){return f=f!=null?f.concat([a]):null,$h(4,4,v1.bind(null,l,a),f)}function Kp(){}function y1(a,l){var f=$i();l=l===void 0?null:l;var x=f.memoizedState;return x!==null&&l!==null&&$d(l,x[1])?x[0]:(f.memoizedState=[a,l],a)}function w1(a,l){var f=$i();l=l===void 0?null:l;var x=f.memoizedState;return x!==null&&l!==null&&$d(l,x[1])?x[0]:(a=a(),f.memoizedState=[a,l],a)}function N1(a,l,f){return($a&21)===0?(a.baseState&&(a.baseState=!1,Vi=!0),a.memoizedState=f):(br(f,l)||(f=Xn(),Xr.lanes|=f,Zc|=f,a.baseState=!0),l)}function yN(a,l){var f=hr;hr=f!==0&&4>f?f:4,a(!0);var x=Bd.transition;Bd.transition={};try{a(!1),l()}finally{hr=f,Bd.transition=x}}function j1(){return $i().memoizedState}function wN(a,l,f){var x=fc(a);if(f={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null},S1(a))_1(l,f);else if(f=Ar(a,l,f,x),f!==null){var N=ki();ko(f,a,x,N),k1(f,l,x)}}function NN(a,l,f){var x=fc(a),N={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null};if(S1(a))_1(l,N);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var q=l.lastRenderedState,oe=_(q,f);if(N.hasEagerState=!0,N.eagerState=oe,br(oe,q)){var ge=l.interleaved;ge===null?(N.next=N,Kr(l)):(N.next=ge.next,ge.next=N),l.interleaved=N;return}}catch{}finally{}f=Ar(a,l,N,x),f!==null&&(N=ki(),ko(f,a,x,N),k1(f,l,x))}}function S1(a){var l=a.alternate;return a===Xr||l!==null&&l===Xr}function _1(a,l){lc=Kc=!0;var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}function k1(a,l,f){if((f&4194240)!==0){var x=l.lanes;x&=a.pendingLanes,f|=x,l.lanes=f,rr(a,f)}}var Vh={readContext:Kt,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},jN={readContext:Kt,useCallback:function(a,l){return ha().memoizedState=[a,l===void 0?null:l],a},useContext:Kt,useEffect:m1,useImperativeHandle:function(a,l,f){return f=f!=null?f.concat([a]):null,Bh(4194308,4,v1.bind(null,l,a),f)},useLayoutEffect:function(a,l){return Bh(4194308,4,a,l)},useInsertionEffect:function(a,l){return Bh(4,2,a,l)},useMemo:function(a,l){var f=ha();return l=l===void 0?null:l,a=a(),f.memoizedState=[a,l],a},useReducer:function(a,l,f){var x=ha();return l=f!==void 0?f(l):l,x.memoizedState=x.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},x.queue=a,a=a.dispatch=wN.bind(null,Xr,a),[x.memoizedState,a]},useRef:function(a){var l=ha();return a={current:a},l.memoizedState=a},useState:Vu,useDebugValue:Kp,useDeferredValue:function(a){return ha().memoizedState=a},useTransition:function(){var a=Vu(!1),l=a[0];return a=yN.bind(null,a[1]),ha().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,f){var x=Xr,N=ha();if(De){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),vs===null)throw Error(r(349));($a&30)!==0||jo(x,l,f)}N.memoizedState=f;var _={value:f,getSnapshot:l};return N.queue=_,m1($u.bind(null,x,_,a),[a]),x.flags|=2048,Fl(9,Qc.bind(null,x,_,f,l),void 0,null),f},useId:function(){var a=ha(),l=vs.identifierPrefix;if(De){var f=te,x=ke;f=(x&~(1<<32-pn(x)-1)).toString(32)+f,l=":"+l+"R"+f,f=Jc++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=Uh++,l=":"+l+"r"+f.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},SN={readContext:Kt,useCallback:y1,useContext:Kt,useEffect:Yp,useImperativeHandle:b1,useInsertionEffect:x1,useLayoutEffect:g1,useMemo:w1,useReducer:Xc,useRef:p1,useState:function(){return Xc(wo)},useDebugValue:Kp,useDeferredValue:function(a){var l=$i();return N1(l,bn.memoizedState,a)},useTransition:function(){var a=Xc(wo)[0],l=$i().memoizedState;return[a,l]},useMutableSource:Va,useSyncExternalStore:No,useId:j1,unstable_isNewReconciler:!1},_N={readContext:Kt,useCallback:y1,useContext:Kt,useEffect:Yp,useImperativeHandle:b1,useInsertionEffect:x1,useLayoutEffect:g1,useMemo:w1,useReducer:cc,useRef:p1,useState:function(){return cc(wo)},useDebugValue:Kp,useDeferredValue:function(a){var l=$i();return bn===null?l.memoizedState=a:N1(l,bn.memoizedState,a)},useTransition:function(){var a=cc(wo)[0],l=$i().memoizedState;return[a,l]},useMutableSource:Va,useSyncExternalStore:No,useId:j1,unstable_isNewReconciler:!1};function Wu(a,l){try{var f="",x=l;do f+=le(x),x=x.return;while(x);var N=f}catch(_){N=`
Error generating stack: `+_.message+`
`+_.stack}return{value:a,source:l,stack:N,digest:null}}function Jp(a,l,f){return{value:a,source:null,stack:f??null,digest:l??null}}function Xp(a,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var kN=typeof WeakMap=="function"?WeakMap:Map;function E1(a,l,f){f=pr(-1,f),f.tag=3,f.payload={element:null};var x=l.value;return f.callback=function(){Xh||(Xh=!0,h0=x),Xp(a,l)},f}function C1(a,l,f){f=pr(-1,f),f.tag=3;var x=a.type.getDerivedStateFromError;if(typeof x=="function"){var N=l.value;f.payload=function(){return x(N)},f.callback=function(){Xp(a,l)}}var _=a.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){Xp(a,l),typeof x!="function"&&(dc===null?dc=new Set([this]):dc.add(this));var q=l.stack;this.componentDidCatch(l.value,{componentStack:q!==null?q:""})}),f}function A1(a,l,f){var x=a.pingCache;if(x===null){x=a.pingCache=new kN;var N=new Set;x.set(l,N)}else N=x.get(l),N===void 0&&(N=new Set,x.set(l,N));N.has(f)||(N.add(f),a=UN.bind(null,a,l,f),l.then(a,a))}function P1(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function L1(a,l,f,x,N){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=pr(-1,1),l.tag=2,Ur(f,l,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=N,a)}var EN=R.ReactCurrentOwner,Vi=!1;function _i(a,l,f,x){l.child=a===null?qh(l,null,f,x):Ba(l,a.child,f,x)}function R1(a,l,f,x,N){f=f.render;var _=l.ref;return Yr(l,N),x=Bu(a,l,f,x,_,N),f=Vd(),a!==null&&!Vi?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~N,Dl(a,l,N)):(De&&f&&Fe(l),l.flags|=1,_i(a,l,x,N),l.child)}function T1(a,l,f,x,N){if(a===null){var _=f.type;return typeof _=="function"&&!b0(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=_,O1(a,l,_,x,N)):(a=nf(f.type,null,x,l,l.mode,N),a.ref=l.ref,a.return=l,l.child=a)}if(_=a.child,(a.lanes&N)===0){var q=_.memoizedProps;if(f=f.compare,f=f!==null?f:rs,f(q,x)&&a.ref===l.ref)return Dl(a,l,N)}return l.flags|=1,a=mc(_,x),a.ref=l.ref,a.return=l,l.child=a}function O1(a,l,f,x,N){if(a!==null){var _=a.memoizedProps;if(rs(_,x)&&a.ref===l.ref)if(Vi=!1,l.pendingProps=x=_,(a.lanes&N)!==0)(a.flags&131072)!==0&&(Vi=!0);else return l.lanes=a.lanes,Dl(a,l,N)}return Qp(a,l,f,x,N)}function I1(a,l,f){var x=l.pendingProps,N=x.children,_=a!==null?a.memoizedState:null;if(x.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(Gu,fa),fa|=f;else{if((f&1073741824)===0)return a=_!==null?_.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Sr(Gu,fa),fa|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=_!==null?_.baseLanes:f,Sr(Gu,fa),fa|=x}else _!==null?(x=_.baseLanes|f,l.memoizedState=null):x=f,Sr(Gu,fa),fa|=x;return _i(a,l,N,f),l.child}function M1(a,l){var f=l.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function Qp(a,l,f,x,N){var _=os(f)?za:Cn.current;return _=yo(l,_),Yr(l,N),f=Bu(a,l,f,x,_,N),x=Vd(),a!==null&&!Vi?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~N,Dl(a,l,N)):(De&&x&&Fe(l),l.flags|=1,_i(a,l,f,N),l.child)}function F1(a,l,f,x,N){if(os(f)){var _=!0;nt(l)}else _=!1;if(Yr(l,N),l.stateNode===null)Hh(a,l),Ui(l,f,x),da(l,f,x,N),x=!0;else if(a===null){var q=l.stateNode,oe=l.memoizedProps;q.props=oe;var ge=q.context,Ie=f.contextType;typeof Ie=="object"&&Ie!==null?Ie=Kt(Ie):(Ie=os(f)?za:Cn.current,Ie=yo(l,Ie));var Ge=f.getDerivedStateFromProps,Ye=typeof Ge=="function"||typeof q.getSnapshotBeforeUpdate=="function";Ye||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(oe!==x||ge!==Ie)&&il(l,q,x,Ie),Yn=!1;var He=l.memoizedState;q.state=He,gs(l,x,q,N),ge=l.memoizedState,oe!==x||He!==ge||as.current||Yn?(typeof Ge=="function"&&(Ms(l,f,Ge,x),ge=l.memoizedState),(oe=Yn||ri(l,f,oe,x,He,ge,Ie))?(Ye||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(l.flags|=4194308)):(typeof q.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=ge),q.props=x,q.state=ge,q.context=Ie,x=oe):(typeof q.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{q=l.stateNode,Os(a,l),oe=l.memoizedProps,Ie=l.type===l.elementType?oe:Pt(l.type,oe),q.props=Ie,Ye=l.pendingProps,He=q.context,ge=f.contextType,typeof ge=="object"&&ge!==null?ge=Kt(ge):(ge=os(f)?za:Cn.current,ge=yo(l,ge));var rt=f.getDerivedStateFromProps;(Ge=typeof rt=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(oe!==Ye||He!==ge)&&il(l,q,x,ge),Yn=!1,He=l.memoizedState,q.state=He,gs(l,x,q,N);var ft=l.memoizedState;oe!==Ye||He!==ft||as.current||Yn?(typeof rt=="function"&&(Ms(l,f,rt,x),ft=l.memoizedState),(Ie=Yn||ri(l,f,Ie,x,He,ft,ge)||!1)?(Ge||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(x,ft,ge),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(x,ft,ge)),typeof q.componentDidUpdate=="function"&&(l.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof q.componentDidUpdate!="function"||oe===a.memoizedProps&&He===a.memoizedState||(l.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||oe===a.memoizedProps&&He===a.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=ft),q.props=x,q.state=ft,q.context=ge,x=Ie):(typeof q.componentDidUpdate!="function"||oe===a.memoizedProps&&He===a.memoizedState||(l.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||oe===a.memoizedProps&&He===a.memoizedState||(l.flags|=1024),x=!1)}return Zp(a,l,f,x,_,N)}function Zp(a,l,f,x,N,_){M1(a,l);var q=(l.flags&128)!==0;if(!x&&!q)return N&&Dt(l,f,!1),Dl(a,l,_);x=l.stateNode,EN.current=l;var oe=q&&typeof f.getDerivedStateFromError!="function"?null:x.render();return l.flags|=1,a!==null&&q?(l.child=Ba(l,a.child,null,_),l.child=Ba(l,null,oe,_)):_i(a,l,oe,_),l.memoizedState=x.state,N&&Dt(l,f,!0),l.child}function D1(a){var l=a.stateNode;l.pendingContext?Ae(a,l.pendingContext,l.pendingContext!==l.context):l.context&&Ae(a,l.context,!1),zd(a,l.containerInfo)}function q1(a,l,f,x,N){return it(),Je(N),l.flags|=256,_i(a,l,f,x),l.child}var e0={dehydrated:null,treeContext:null,retryLane:0};function t0(a){return{baseLanes:a,cachePool:null,transitions:null}}function U1(a,l,f){var x=l.pendingProps,N=Jr.current,_=!1,q=(l.flags&128)!==0,oe;if((oe=q)||(oe=a!==null&&a.memoizedState===null?!1:(N&2)!==0),oe?(_=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(N|=1),Sr(Jr,N&1),a===null)return dt(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(q=x.children,a=x.fallback,_?(x=l.mode,_=l.child,q={mode:"hidden",children:q},(x&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=q):_=sf(q,x,0,null),a=nu(a,x,f,null),_.return=l,a.return=l,_.sibling=a,l.child=_,l.child.memoizedState=t0(f),l.memoizedState=e0,a):r0(l,q));if(N=a.memoizedState,N!==null&&(oe=N.dehydrated,oe!==null))return CN(a,l,q,x,oe,N,f);if(_){_=x.fallback,q=l.mode,N=a.child,oe=N.sibling;var ge={mode:"hidden",children:x.children};return(q&1)===0&&l.child!==N?(x=l.child,x.childLanes=0,x.pendingProps=ge,l.deletions=null):(x=mc(N,ge),x.subtreeFlags=N.subtreeFlags&14680064),oe!==null?_=mc(oe,_):(_=nu(_,q,f,null),_.flags|=2),_.return=l,x.return=l,x.sibling=_,l.child=x,x=_,_=l.child,q=a.child.memoizedState,q=q===null?t0(f):{baseLanes:q.baseLanes|f,cachePool:null,transitions:q.transitions},_.memoizedState=q,_.childLanes=a.childLanes&~f,l.memoizedState=e0,x}return _=a.child,a=_.sibling,x=mc(_,{mode:"visible",children:x.children}),(l.mode&1)===0&&(x.lanes=f),x.return=l,x.sibling=null,a!==null&&(f=l.deletions,f===null?(l.deletions=[a],l.flags|=16):f.push(a)),l.child=x,l.memoizedState=null,x}function r0(a,l){return l=sf({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Wh(a,l,f,x){return x!==null&&Je(x),Ba(l,a.child,null,f),a=r0(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function CN(a,l,f,x,N,_,q){if(f)return l.flags&256?(l.flags&=-257,x=Jp(Error(r(422))),Wh(a,l,q,x)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(_=x.fallback,N=l.mode,x=sf({mode:"visible",children:x.children},N,0,null),_=nu(_,N,q,null),_.flags|=2,x.return=l,_.return=l,x.sibling=_,l.child=x,(l.mode&1)!==0&&Ba(l,a.child,null,q),l.child.memoizedState=t0(q),l.memoizedState=e0,_);if((l.mode&1)===0)return Wh(a,l,q,null);if(N.data==="$!"){if(x=N.nextSibling&&N.nextSibling.dataset,x)var oe=x.dgst;return x=oe,_=Error(r(419)),x=Jp(_,x,void 0),Wh(a,l,q,x)}if(oe=(q&a.childLanes)!==0,Vi||oe){if(x=vs,x!==null){switch(q&-q){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(x.suspendedLanes|q))!==0?0:N,N!==0&&N!==_.retryLane&&(_.retryLane=N,Br(a,N),ko(x,a,N,-1))}return v0(),x=Jp(Error(r(421))),Wh(a,l,q,x)}return N.data==="$?"?(l.flags|=128,l.child=a.child,l=zN.bind(null,a),N._reactRetry=l,null):(a=_.treeContext,Me=Hn(N.nextSibling),Le=l,De=!0,Ue=null,a!==null&&(Y[ee++]=ke,Y[ee++]=te,Y[ee++]=pe,ke=a.id,te=a.overflow,pe=l),l=r0(l,x.children),l.flags|=4096,l)}function z1(a,l,f){a.lanes|=l;var x=a.alternate;x!==null&&(x.lanes|=l),cs(a.return,l,f)}function n0(a,l,f,x,N){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:f,tailMode:N}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=x,_.tail=f,_.tailMode=N)}function B1(a,l,f){var x=l.pendingProps,N=x.revealOrder,_=x.tail;if(_i(a,l,x.children,f),x=Jr.current,(x&2)!==0)x=x&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&z1(a,f,l);else if(a.tag===19)z1(a,f,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}x&=1}if(Sr(Jr,x),(l.mode&1)===0)l.memoizedState=null;else switch(N){case"forwards":for(f=l.child,N=null;f!==null;)a=f.alternate,a!==null&&Il(a)===null&&(N=f),f=f.sibling;f=N,f===null?(N=l.child,l.child=null):(N=f.sibling,f.sibling=null),n0(l,!1,N,f,_);break;case"backwards":for(f=null,N=l.child,l.child=null;N!==null;){if(a=N.alternate,a!==null&&Il(a)===null){l.child=N;break}a=N.sibling,N.sibling=f,f=N,N=a}n0(l,!0,f,null,_);break;case"together":n0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Hh(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function Dl(a,l,f){if(a!==null&&(l.dependencies=a.dependencies),Zc|=l.lanes,(f&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,f=mc(a,a.pendingProps),l.child=f,f.return=l;a.sibling!==null;)a=a.sibling,f=f.sibling=mc(a,a.pendingProps),f.return=l;f.sibling=null}return l.child}function AN(a,l,f){switch(l.tag){case 3:D1(l),it();break;case 5:Hc(l);break;case 1:os(l.type)&&nt(l);break;case 4:zd(l,l.stateNode.containerInfo);break;case 10:var x=l.type._context,N=l.memoizedProps.value;Sr(or,x._currentValue),x._currentValue=N;break;case 13:if(x=l.memoizedState,x!==null)return x.dehydrated!==null?(Sr(Jr,Jr.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?U1(a,l,f):(Sr(Jr,Jr.current&1),a=Dl(a,l,f),a!==null?a.sibling:null);Sr(Jr,Jr.current&1);break;case 19:if(x=(f&l.childLanes)!==0,(a.flags&128)!==0){if(x)return B1(a,l,f);l.flags|=128}if(N=l.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Sr(Jr,Jr.current),x)break;return null;case 22:case 23:return l.lanes=0,I1(a,l,f)}return Dl(a,l,f)}var $1,s0,V1,W1;$1=function(a,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},s0=function(){},V1=function(a,l,f,x){var N=a.memoizedProps;if(N!==x){a=l.stateNode,Tl(zi.current);var _=null;switch(f){case"input":N=ze(a,N),x=ze(a,x),_=[];break;case"select":N=G({},N,{value:void 0}),x=G({},x,{value:void 0}),_=[];break;case"textarea":N=mt(a,N),x=mt(a,x),_=[];break;default:typeof N.onClick!="function"&&typeof x.onClick=="function"&&(a.onclick=go)}Or(f,x);var q;f=null;for(Ie in N)if(!x.hasOwnProperty(Ie)&&N.hasOwnProperty(Ie)&&N[Ie]!=null)if(Ie==="style"){var oe=N[Ie];for(q in oe)oe.hasOwnProperty(q)&&(f||(f={}),f[q]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(i.hasOwnProperty(Ie)?_||(_=[]):(_=_||[]).push(Ie,null));for(Ie in x){var ge=x[Ie];if(oe=N!=null?N[Ie]:void 0,x.hasOwnProperty(Ie)&&ge!==oe&&(ge!=null||oe!=null))if(Ie==="style")if(oe){for(q in oe)!oe.hasOwnProperty(q)||ge&&ge.hasOwnProperty(q)||(f||(f={}),f[q]="");for(q in ge)ge.hasOwnProperty(q)&&oe[q]!==ge[q]&&(f||(f={}),f[q]=ge[q])}else f||(_||(_=[]),_.push(Ie,f)),f=ge;else Ie==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,oe=oe?oe.__html:void 0,ge!=null&&oe!==ge&&(_=_||[]).push(Ie,ge)):Ie==="children"?typeof ge!="string"&&typeof ge!="number"||(_=_||[]).push(Ie,""+ge):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ie)?(ge!=null&&Ie==="onScroll"&&Cr("scroll",a),_||oe===ge||(_=[])):(_=_||[]).push(Ie,ge))}f&&(_=_||[]).push("style",f);var Ie=_;(l.updateQueue=Ie)&&(l.flags|=4)}},W1=function(a,l,f,x){f!==x&&(l.flags|=4)};function Hd(a,l){if(!De)switch(a.tailMode){case"hidden":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:x.sibling=null}}function ni(a){var l=a.alternate!==null&&a.alternate.child===a.child,f=0,x=0;if(l)for(var N=a.child;N!==null;)f|=N.lanes|N.childLanes,x|=N.subtreeFlags&14680064,x|=N.flags&14680064,N.return=a,N=N.sibling;else for(N=a.child;N!==null;)f|=N.lanes|N.childLanes,x|=N.subtreeFlags,x|=N.flags,N.return=a,N=N.sibling;return a.subtreeFlags|=x,a.childLanes=f,l}function PN(a,l,f){var x=l.pendingProps;switch(Pe(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ni(l),null;case 1:return os(l.type)&&$(),ni(l),null;case 3:return x=l.stateNode,Ol(),Nr(as),Nr(Cn),Ml(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(a===null||a.child===null)&&(un(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ue!==null&&(m0(Ue),Ue=null))),s0(a,l),ni(l),null;case 5:zu(l);var N=Tl(Wc.current);if(f=l.type,a!==null&&l.stateNode!=null)V1(a,l,f,x,N),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!x){if(l.stateNode===null)throw Error(r(166));return ni(l),null}if(a=Tl(zi.current),un(l)){x=l.stateNode,f=l.type;var _=l.memoizedProps;switch(x[Si]=l,x[vo]=_,a=(l.mode&1)!==0,f){case"dialog":Cr("cancel",x),Cr("close",x);break;case"iframe":case"object":case"embed":Cr("load",x);break;case"video":case"audio":for(N=0;N<ji.length;N++)Cr(ji[N],x);break;case"source":Cr("error",x);break;case"img":case"image":case"link":Cr("error",x),Cr("load",x);break;case"details":Cr("toggle",x);break;case"input":K(x,_),Cr("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!_.multiple},Cr("invalid",x);break;case"textarea":xt(x,_),Cr("invalid",x)}Or(f,_),N=null;for(var q in _)if(_.hasOwnProperty(q)){var oe=_[q];q==="children"?typeof oe=="string"?x.textContent!==oe&&(_.suppressHydrationWarning!==!0&&Ll(x.textContent,oe,a),N=["children",oe]):typeof oe=="number"&&x.textContent!==""+oe&&(_.suppressHydrationWarning!==!0&&Ll(x.textContent,oe,a),N=["children",""+oe]):i.hasOwnProperty(q)&&oe!=null&&q==="onScroll"&&Cr("scroll",x)}switch(f){case"input":Oe(x),tt(x,_,!0);break;case"textarea":Oe(x),nr(x);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(x.onclick=go)}x=N,l.updateQueue=x,x!==null&&(l.flags|=4)}else{q=N.nodeType===9?N:N.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=$t(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=q.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof x.is=="string"?a=q.createElement(f,{is:x.is}):(a=q.createElement(f),f==="select"&&(q=a,x.multiple?q.multiple=!0:x.size&&(q.size=x.size))):a=q.createElementNS(a,f),a[Si]=l,a[vo]=x,$1(a,l,!1,!1),l.stateNode=a;e:{switch(q=yt(f,x),f){case"dialog":Cr("cancel",a),Cr("close",a),N=x;break;case"iframe":case"object":case"embed":Cr("load",a),N=x;break;case"video":case"audio":for(N=0;N<ji.length;N++)Cr(ji[N],a);N=x;break;case"source":Cr("error",a),N=x;break;case"img":case"image":case"link":Cr("error",a),Cr("load",a),N=x;break;case"details":Cr("toggle",a),N=x;break;case"input":K(a,x),N=ze(a,x),Cr("invalid",a);break;case"option":N=x;break;case"select":a._wrapperState={wasMultiple:!!x.multiple},N=G({},x,{value:void 0}),Cr("invalid",a);break;case"textarea":xt(a,x),N=mt(a,x),Cr("invalid",a);break;default:N=x}Or(f,N),oe=N;for(_ in oe)if(oe.hasOwnProperty(_)){var ge=oe[_];_==="style"?Gt(a,ge):_==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,ge!=null&&at(a,ge)):_==="children"?typeof ge=="string"?(f!=="textarea"||ge!=="")&&Mt(a,ge):typeof ge=="number"&&Mt(a,""+ge):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?ge!=null&&_==="onScroll"&&Cr("scroll",a):ge!=null&&P(a,_,ge,q))}switch(f){case"input":Oe(a),tt(a,x,!1);break;case"textarea":Oe(a),nr(a);break;case"option":x.value!=null&&a.setAttribute("value",""+Ee(x.value));break;case"select":a.multiple=!!x.multiple,_=x.value,_!=null?Ze(a,!!x.multiple,_,!1):x.defaultValue!=null&&Ze(a,!!x.multiple,x.defaultValue,!0);break;default:typeof N.onClick=="function"&&(a.onclick=go)}switch(f){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return ni(l),null;case 6:if(a&&l.stateNode!=null)W1(a,l,a.memoizedProps,x);else{if(typeof x!="string"&&l.stateNode===null)throw Error(r(166));if(f=Tl(Wc.current),Tl(zi.current),un(l)){if(x=l.stateNode,f=l.memoizedProps,x[Si]=l,(_=x.nodeValue!==f)&&(a=Le,a!==null))switch(a.tag){case 3:Ll(x.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Ll(x.nodeValue,f,(a.mode&1)!==0)}_&&(l.flags|=4)}else x=(f.nodeType===9?f:f.ownerDocument).createTextNode(x),x[Si]=l,l.stateNode=x}return ni(l),null;case 13:if(Nr(Jr),x=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(De&&Me!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Zt(),it(),l.flags|=98560,_=!1;else if(_=un(l),x!==null&&x.dehydrated!==null){if(a===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Si]=l}else it(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ni(l),_=!1}else Ue!==null&&(m0(Ue),Ue=null),_=!0;if(!_)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(x=x!==null,x!==(a!==null&&a.memoizedState!==null)&&x&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(Jr.current&1)!==0?us===0&&(us=3):v0())),l.updateQueue!==null&&(l.flags|=4),ni(l),null);case 4:return Ol(),s0(a,l),a===null&&Fa(l.stateNode.containerInfo),ni(l),null;case 10:return Gn(l.type._context),ni(l),null;case 17:return os(l.type)&&$(),ni(l),null;case 19:if(Nr(Jr),_=l.memoizedState,_===null)return ni(l),null;if(x=(l.flags&128)!==0,q=_.rendering,q===null)if(x)Hd(_,!1);else{if(us!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(q=Il(a),q!==null){for(l.flags|=128,Hd(_,!1),x=q.updateQueue,x!==null&&(l.updateQueue=x,l.flags|=4),l.subtreeFlags=0,x=f,f=l.child;f!==null;)_=f,a=x,_.flags&=14680066,q=_.alternate,q===null?(_.childLanes=0,_.lanes=a,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=q.childLanes,_.lanes=q.lanes,_.child=q.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=q.memoizedProps,_.memoizedState=q.memoizedState,_.updateQueue=q.updateQueue,_.type=q.type,a=q.dependencies,_.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return Sr(Jr,Jr.current&1|2),l.child}a=a.sibling}_.tail!==null&&Mr()>Yu&&(l.flags|=128,x=!0,Hd(_,!1),l.lanes=4194304)}else{if(!x)if(a=Il(q),a!==null){if(l.flags|=128,x=!0,f=a.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),Hd(_,!0),_.tail===null&&_.tailMode==="hidden"&&!q.alternate&&!De)return ni(l),null}else 2*Mr()-_.renderingStartTime>Yu&&f!==1073741824&&(l.flags|=128,x=!0,Hd(_,!1),l.lanes=4194304);_.isBackwards?(q.sibling=l.child,l.child=q):(f=_.last,f!==null?f.sibling=q:l.child=q,_.last=q)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=Mr(),l.sibling=null,f=Jr.current,Sr(Jr,x?f&1|2:f&1),l):(ni(l),null);case 22:case 23:return g0(),x=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==x&&(l.flags|=8192),x&&(l.mode&1)!==0?(fa&1073741824)!==0&&(ni(l),l.subtreeFlags&6&&(l.flags|=8192)):ni(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function LN(a,l){switch(Pe(l),l.tag){case 1:return os(l.type)&&$(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Ol(),Nr(as),Nr(Cn),Ml(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return zu(l),null;case 13:if(Nr(Jr),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));it()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Nr(Jr),null;case 4:return Ol(),null;case 10:return Gn(l.type._context),null;case 22:case 23:return g0(),null;case 24:return null;default:return null}}var Gh=!1,si=!1,RN=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Hu(a,l){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(x){An(a,l,x)}else f.current=null}function i0(a,l,f){try{f()}catch(x){An(a,l,x)}}var H1=!1;function TN(a,l){if(nl=Ho,a=xn(),ps(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var x=f.getSelection&&f.getSelection();if(x&&x.rangeCount!==0){f=x.anchorNode;var N=x.anchorOffset,_=x.focusNode;x=x.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var q=0,oe=-1,ge=-1,Ie=0,Ge=0,Ye=a,He=null;t:for(;;){for(var rt;Ye!==f||N!==0&&Ye.nodeType!==3||(oe=q+N),Ye!==_||x!==0&&Ye.nodeType!==3||(ge=q+x),Ye.nodeType===3&&(q+=Ye.nodeValue.length),(rt=Ye.firstChild)!==null;)He=Ye,Ye=rt;for(;;){if(Ye===a)break t;if(He===f&&++Ie===N&&(oe=q),He===_&&++Ge===x&&(ge=q),(rt=Ye.nextSibling)!==null)break;Ye=He,He=Ye.parentNode}Ye=rt}f=oe===-1||ge===-1?null:{start:oe,end:ge}}else f=null}f=f||{start:0,end:0}}else f=null;for(qa={focusedElem:a,selectionRange:f},Ho=!1,ct=l;ct!==null;)if(l=ct,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,ct=a;else for(;ct!==null;){l=ct;try{var ft=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ft!==null){var gt=ft.memoizedProps,Fn=ft.memoizedState,Re=l.stateNode,Ne=Re.getSnapshotBeforeUpdate(l.elementType===l.type?gt:Pt(l.type,gt),Fn);Re.__reactInternalSnapshotBeforeUpdate=Ne}break;case 3:var Te=l.stateNode.containerInfo;Te.nodeType===1?Te.textContent="":Te.nodeType===9&&Te.documentElement&&Te.removeChild(Te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ke){An(l,l.return,Ke)}if(a=l.sibling,a!==null){a.return=l.return,ct=a;break}ct=l.return}return ft=H1,H1=!1,ft}function Gd(a,l,f){var x=l.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var N=x=x.next;do{if((N.tag&a)===a){var _=N.destroy;N.destroy=void 0,_!==void 0&&i0(l,f,_)}N=N.next}while(N!==x)}}function Yh(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&a)===a){var x=f.create;f.destroy=x()}f=f.next}while(f!==l)}}function a0(a){var l=a.ref;if(l!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof l=="function"?l(a):l.current=a}}function G1(a){var l=a.alternate;l!==null&&(a.alternate=null,G1(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[Si],delete l[vo],delete l[is],delete l[Du],delete l[qu])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Y1(a){return a.tag===5||a.tag===3||a.tag===4}function K1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Y1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function o0(a,l,f){var x=a.tag;if(x===5||x===6)a=a.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(a,l):f.insertBefore(a,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(a,f)):(l=f,l.appendChild(a)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=go));else if(x!==4&&(a=a.child,a!==null))for(o0(a,l,f),a=a.sibling;a!==null;)o0(a,l,f),a=a.sibling}function l0(a,l,f){var x=a.tag;if(x===5||x===6)a=a.stateNode,l?f.insertBefore(a,l):f.appendChild(a);else if(x!==4&&(a=a.child,a!==null))for(l0(a,l,f),a=a.sibling;a!==null;)l0(a,l,f),a=a.sibling}var Fs=null,So=!1;function uc(a,l,f){for(f=f.child;f!==null;)J1(a,l,f),f=f.sibling}function J1(a,l,f){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(Uo,f)}catch{}switch(f.tag){case 5:si||Hu(f,l);case 6:var x=Fs,N=So;Fs=null,uc(a,l,f),Fs=x,So=N,Fs!==null&&(So?(a=Fs,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):Fs.removeChild(f.stateNode));break;case 18:Fs!==null&&(So?(a=Fs,f=f.stateNode,a.nodeType===8?ac(a.parentNode,f):a.nodeType===1&&ac(a,f),ao(a)):ac(Fs,f.stateNode));break;case 4:x=Fs,N=So,Fs=f.stateNode.containerInfo,So=!0,uc(a,l,f),Fs=x,So=N;break;case 0:case 11:case 14:case 15:if(!si&&(x=f.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){N=x=x.next;do{var _=N,q=_.destroy;_=_.tag,q!==void 0&&((_&2)!==0||(_&4)!==0)&&i0(f,l,q),N=N.next}while(N!==x)}uc(a,l,f);break;case 1:if(!si&&(Hu(f,l),x=f.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=f.memoizedProps,x.state=f.memoizedState,x.componentWillUnmount()}catch(oe){An(f,l,oe)}uc(a,l,f);break;case 21:uc(a,l,f);break;case 22:f.mode&1?(si=(x=si)||f.memoizedState!==null,uc(a,l,f),si=x):uc(a,l,f);break;default:uc(a,l,f)}}function X1(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new RN),l.forEach(function(x){var N=BN.bind(null,a,x);f.has(x)||(f.add(x),x.then(N,N))})}}function _o(a,l){var f=l.deletions;if(f!==null)for(var x=0;x<f.length;x++){var N=f[x];try{var _=a,q=l,oe=q;e:for(;oe!==null;){switch(oe.tag){case 5:Fs=oe.stateNode,So=!1;break e;case 3:Fs=oe.stateNode.containerInfo,So=!0;break e;case 4:Fs=oe.stateNode.containerInfo,So=!0;break e}oe=oe.return}if(Fs===null)throw Error(r(160));J1(_,q,N),Fs=null,So=!1;var ge=N.alternate;ge!==null&&(ge.return=null),N.return=null}catch(Ie){An(N,l,Ie)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Q1(l,a),l=l.sibling}function Q1(a,l){var f=a.alternate,x=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(_o(l,a),al(a),x&4){try{Gd(3,a,a.return),Yh(3,a)}catch(gt){An(a,a.return,gt)}try{Gd(5,a,a.return)}catch(gt){An(a,a.return,gt)}}break;case 1:_o(l,a),al(a),x&512&&f!==null&&Hu(f,f.return);break;case 5:if(_o(l,a),al(a),x&512&&f!==null&&Hu(f,f.return),a.flags&32){var N=a.stateNode;try{Mt(N,"")}catch(gt){An(a,a.return,gt)}}if(x&4&&(N=a.stateNode,N!=null)){var _=a.memoizedProps,q=f!==null?f.memoizedProps:_,oe=a.type,ge=a.updateQueue;if(a.updateQueue=null,ge!==null)try{oe==="input"&&_.type==="radio"&&_.name!=null&&We(N,_),yt(oe,q);var Ie=yt(oe,_);for(q=0;q<ge.length;q+=2){var Ge=ge[q],Ye=ge[q+1];Ge==="style"?Gt(N,Ye):Ge==="dangerouslySetInnerHTML"?at(N,Ye):Ge==="children"?Mt(N,Ye):P(N,Ge,Ye,Ie)}switch(oe){case"input":vt(N,_);break;case"textarea":yr(N,_);break;case"select":var He=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!_.multiple;var rt=_.value;rt!=null?Ze(N,!!_.multiple,rt,!1):He!==!!_.multiple&&(_.defaultValue!=null?Ze(N,!!_.multiple,_.defaultValue,!0):Ze(N,!!_.multiple,_.multiple?[]:"",!1))}N[vo]=_}catch(gt){An(a,a.return,gt)}}break;case 6:if(_o(l,a),al(a),x&4){if(a.stateNode===null)throw Error(r(162));N=a.stateNode,_=a.memoizedProps;try{N.nodeValue=_}catch(gt){An(a,a.return,gt)}}break;case 3:if(_o(l,a),al(a),x&4&&f!==null&&f.memoizedState.isDehydrated)try{ao(l.containerInfo)}catch(gt){An(a,a.return,gt)}break;case 4:_o(l,a),al(a);break;case 13:_o(l,a),al(a),N=a.child,N.flags&8192&&(_=N.memoizedState!==null,N.stateNode.isHidden=_,!_||N.alternate!==null&&N.alternate.memoizedState!==null||(d0=Mr())),x&4&&X1(a);break;case 22:if(Ge=f!==null&&f.memoizedState!==null,a.mode&1?(si=(Ie=si)||Ge,_o(l,a),si=Ie):_o(l,a),al(a),x&8192){if(Ie=a.memoizedState!==null,(a.stateNode.isHidden=Ie)&&!Ge&&(a.mode&1)!==0)for(ct=a,Ge=a.child;Ge!==null;){for(Ye=ct=Ge;ct!==null;){switch(He=ct,rt=He.child,He.tag){case 0:case 11:case 14:case 15:Gd(4,He,He.return);break;case 1:Hu(He,He.return);var ft=He.stateNode;if(typeof ft.componentWillUnmount=="function"){x=He,f=He.return;try{l=x,ft.props=l.memoizedProps,ft.state=l.memoizedState,ft.componentWillUnmount()}catch(gt){An(x,f,gt)}}break;case 5:Hu(He,He.return);break;case 22:if(He.memoizedState!==null){tv(Ye);continue}}rt!==null?(rt.return=He,ct=rt):tv(Ye)}Ge=Ge.sibling}e:for(Ge=null,Ye=a;;){if(Ye.tag===5){if(Ge===null){Ge=Ye;try{N=Ye.stateNode,Ie?(_=N.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(oe=Ye.stateNode,ge=Ye.memoizedProps.style,q=ge!=null&&ge.hasOwnProperty("display")?ge.display:null,oe.style.display=Qt("display",q))}catch(gt){An(a,a.return,gt)}}}else if(Ye.tag===6){if(Ge===null)try{Ye.stateNode.nodeValue=Ie?"":Ye.memoizedProps}catch(gt){An(a,a.return,gt)}}else if((Ye.tag!==22&&Ye.tag!==23||Ye.memoizedState===null||Ye===a)&&Ye.child!==null){Ye.child.return=Ye,Ye=Ye.child;continue}if(Ye===a)break e;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===a)break e;Ge===Ye&&(Ge=null),Ye=Ye.return}Ge===Ye&&(Ge=null),Ye.sibling.return=Ye.return,Ye=Ye.sibling}}break;case 19:_o(l,a),al(a),x&4&&X1(a);break;case 21:break;default:_o(l,a),al(a)}}function al(a){var l=a.flags;if(l&2){try{e:{for(var f=a.return;f!==null;){if(Y1(f)){var x=f;break e}f=f.return}throw Error(r(160))}switch(x.tag){case 5:var N=x.stateNode;x.flags&32&&(Mt(N,""),x.flags&=-33);var _=K1(a);l0(a,_,N);break;case 3:case 4:var q=x.stateNode.containerInfo,oe=K1(a);o0(a,oe,q);break;default:throw Error(r(161))}}catch(ge){An(a,a.return,ge)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function ON(a,l,f){ct=a,Z1(a)}function Z1(a,l,f){for(var x=(a.mode&1)!==0;ct!==null;){var N=ct,_=N.child;if(N.tag===22&&x){var q=N.memoizedState!==null||Gh;if(!q){var oe=N.alternate,ge=oe!==null&&oe.memoizedState!==null||si;oe=Gh;var Ie=si;if(Gh=q,(si=ge)&&!Ie)for(ct=N;ct!==null;)q=ct,ge=q.child,q.tag===22&&q.memoizedState!==null?rv(N):ge!==null?(ge.return=q,ct=ge):rv(N);for(;_!==null;)ct=_,Z1(_),_=_.sibling;ct=N,Gh=oe,si=Ie}ev(a)}else(N.subtreeFlags&8772)!==0&&_!==null?(_.return=N,ct=_):ev(a)}}function ev(a){for(;ct!==null;){var l=ct;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:si||Yh(5,l);break;case 1:var x=l.stateNode;if(l.flags&4&&!si)if(f===null)x.componentDidMount();else{var N=l.elementType===l.type?f.memoizedProps:Pt(l.type,f.memoizedProps);x.componentDidUpdate(N,f.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&ti(l,_,x);break;case 3:var q=l.updateQueue;if(q!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}ti(l,q,f)}break;case 5:var oe=l.stateNode;if(f===null&&l.flags&4){f=oe;var ge=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":ge.autoFocus&&f.focus();break;case"img":ge.src&&(f.src=ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Ie=l.alternate;if(Ie!==null){var Ge=Ie.memoizedState;if(Ge!==null){var Ye=Ge.dehydrated;Ye!==null&&ao(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}si||l.flags&512&&a0(l)}catch(He){An(l,l.return,He)}}if(l===a){ct=null;break}if(f=l.sibling,f!==null){f.return=l.return,ct=f;break}ct=l.return}}function tv(a){for(;ct!==null;){var l=ct;if(l===a){ct=null;break}var f=l.sibling;if(f!==null){f.return=l.return,ct=f;break}ct=l.return}}function rv(a){for(;ct!==null;){var l=ct;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Yh(4,l)}catch(ge){An(l,f,ge)}break;case 1:var x=l.stateNode;if(typeof x.componentDidMount=="function"){var N=l.return;try{x.componentDidMount()}catch(ge){An(l,N,ge)}}var _=l.return;try{a0(l)}catch(ge){An(l,_,ge)}break;case 5:var q=l.return;try{a0(l)}catch(ge){An(l,q,ge)}}}catch(ge){An(l,l.return,ge)}if(l===a){ct=null;break}var oe=l.sibling;if(oe!==null){oe.return=l.return,ct=oe;break}ct=l.return}}var IN=Math.ceil,Kh=R.ReactCurrentDispatcher,c0=R.ReactCurrentOwner,Wa=R.ReactCurrentBatchConfig,_r=0,vs=null,Kn=null,Ds=0,fa=0,Gu=ei(0),us=0,Yd=null,Zc=0,Jh=0,u0=0,Kd=null,Wi=null,d0=0,Yu=1/0,ql=null,Xh=!1,h0=null,dc=null,Qh=!1,hc=null,Zh=0,Jd=0,f0=null,ef=-1,tf=0;function ki(){return(_r&6)!==0?Mr():ef!==-1?ef:ef=Mr()}function fc(a){return(a.mode&1)===0?1:(_r&2)!==0&&Ds!==0?Ds&-Ds:gn.transition!==null?(tf===0&&(tf=Xn()),tf):(a=hr,a!==0||(a=window.event,a=a===void 0?16:oo(a.type)),a)}function ko(a,l,f,x){if(50<Jd)throw Jd=0,f0=null,Error(r(185));Vn(a,f,x),((_r&2)===0||a!==vs)&&(a===vs&&((_r&2)===0&&(Jh|=f),us===4&&pc(a,Ds)),Hi(a,x),f===1&&_r===0&&(l.mode&1)===0&&(Yu=Mr()+500,_t&&C()))}function Hi(a,l){var f=a.callbackNode;cr(a,l);var x=Sn(a,a===vs?Ds:0);if(x===0)f!==null&&Fo(f),a.callbackNode=null,a.callbackPriority=0;else if(l=x&-x,a.callbackPriority!==l){if(f!=null&&Fo(f),l===1)a.tag===0?j(sv.bind(null,a)):v(sv.bind(null,a)),Mu(function(){(_r&6)===0&&C()}),f=null;else{switch(Sa(x)){case 1:f=qo;break;case 4:f=Gs;break;case 16:f=Na;break;case 536870912:f=ja;break;default:f=Na}f=hv(f,nv.bind(null,a))}a.callbackPriority=l,a.callbackNode=f}}function nv(a,l){if(ef=-1,tf=0,(_r&6)!==0)throw Error(r(327));var f=a.callbackNode;if(Ku()&&a.callbackNode!==f)return null;var x=Sn(a,a===vs?Ds:0);if(x===0)return null;if((x&30)!==0||(x&a.expiredLanes)!==0||l)l=rf(a,x);else{l=x;var N=_r;_r|=2;var _=av();(vs!==a||Ds!==l)&&(ql=null,Yu=Mr()+500,tu(a,l));do try{DN();break}catch(oe){iv(a,oe)}while(!0);Gr(),Kh.current=_,_r=N,Kn!==null?l=0:(vs=null,Ds=0,l=us)}if(l!==0){if(l===2&&(N=Ks(a),N!==0&&(x=N,l=p0(a,N))),l===1)throw f=Yd,tu(a,0),pc(a,x),Hi(a,Mr()),f;if(l===6)pc(a,x);else{if(N=a.current.alternate,(x&30)===0&&!MN(N)&&(l=rf(a,x),l===2&&(_=Ks(a),_!==0&&(x=_,l=p0(a,_))),l===1))throw f=Yd,tu(a,0),pc(a,x),Hi(a,Mr()),f;switch(a.finishedWork=N,a.finishedLanes=x,l){case 0:case 1:throw Error(r(345));case 2:ru(a,Wi,ql);break;case 3:if(pc(a,x),(x&130023424)===x&&(l=d0+500-Mr(),10<l)){if(Sn(a,0)!==0)break;if(N=a.suspendedLanes,(N&x)!==x){ki(),a.pingedLanes|=a.suspendedLanes&N;break}a.timeoutHandle=ic(ru.bind(null,a,Wi,ql),l);break}ru(a,Wi,ql);break;case 4:if(pc(a,x),(x&4194240)===x)break;for(l=a.eventTimes,N=-1;0<x;){var q=31-pn(x);_=1<<q,q=l[q],q>N&&(N=q),x&=~_}if(x=N,x=Mr()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*IN(x/1960))-x,10<x){a.timeoutHandle=ic(ru.bind(null,a,Wi,ql),x);break}ru(a,Wi,ql);break;case 5:ru(a,Wi,ql);break;default:throw Error(r(329))}}}return Hi(a,Mr()),a.callbackNode===f?nv.bind(null,a):null}function p0(a,l){var f=Kd;return a.current.memoizedState.isDehydrated&&(tu(a,l).flags|=256),a=rf(a,l),a!==2&&(l=Wi,Wi=f,l!==null&&m0(l)),a}function m0(a){Wi===null?Wi=a:Wi.push.apply(Wi,a)}function MN(a){for(var l=a;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var x=0;x<f.length;x++){var N=f[x],_=N.getSnapshot;N=N.value;try{if(!br(_(),N))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function pc(a,l){for(l&=~u0,l&=~Jh,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var f=31-pn(l),x=1<<f;a[f]=-1,l&=~x}}function sv(a){if((_r&6)!==0)throw Error(r(327));Ku();var l=Sn(a,0);if((l&1)===0)return Hi(a,Mr()),null;var f=rf(a,l);if(a.tag!==0&&f===2){var x=Ks(a);x!==0&&(l=x,f=p0(a,x))}if(f===1)throw f=Yd,tu(a,0),pc(a,l),Hi(a,Mr()),f;if(f===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,ru(a,Wi,ql),Hi(a,Mr()),null}function x0(a,l){var f=_r;_r|=1;try{return a(l)}finally{_r=f,_r===0&&(Yu=Mr()+500,_t&&C())}}function eu(a){hc!==null&&hc.tag===0&&(_r&6)===0&&Ku();var l=_r;_r|=1;var f=Wa.transition,x=hr;try{if(Wa.transition=null,hr=1,a)return a()}finally{hr=x,Wa.transition=f,_r=l,(_r&6)===0&&C()}}function g0(){fa=Gu.current,Nr(Gu)}function tu(a,l){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,zc(f)),Kn!==null)for(f=Kn.return;f!==null;){var x=f;switch(Pe(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&$();break;case 3:Ol(),Nr(as),Nr(Cn),Ml();break;case 5:zu(x);break;case 4:Ol();break;case 13:Nr(Jr);break;case 19:Nr(Jr);break;case 10:Gn(x.type._context);break;case 22:case 23:g0()}f=f.return}if(vs=a,Kn=a=mc(a.current,null),Ds=fa=l,us=0,Yd=null,u0=Jh=Zc=0,Wi=Kd=null,fr!==null){for(l=0;l<fr.length;l++)if(f=fr[l],x=f.interleaved,x!==null){f.interleaved=null;var N=x.next,_=f.pending;if(_!==null){var q=_.next;_.next=N,x.next=q}f.pending=x}fr=null}return a}function iv(a,l){do{var f=Kn;try{if(Gr(),Yc.current=Vh,Kc){for(var x=Xr.memoizedState;x!==null;){var N=x.queue;N!==null&&(N.pending=null),x=x.next}Kc=!1}if($a=0,$r=bn=Xr=null,lc=!1,Jc=0,c0.current=null,f===null||f.return===null){us=1,Yd=l,Kn=null;break}e:{var _=a,q=f.return,oe=f,ge=l;if(l=Ds,oe.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ie=ge,Ge=oe,Ye=Ge.tag;if((Ge.mode&1)===0&&(Ye===0||Ye===11||Ye===15)){var He=Ge.alternate;He?(Ge.updateQueue=He.updateQueue,Ge.memoizedState=He.memoizedState,Ge.lanes=He.lanes):(Ge.updateQueue=null,Ge.memoizedState=null)}var rt=P1(q);if(rt!==null){rt.flags&=-257,L1(rt,q,oe,_,l),rt.mode&1&&A1(_,Ie,l),l=rt,ge=Ie;var ft=l.updateQueue;if(ft===null){var gt=new Set;gt.add(ge),l.updateQueue=gt}else ft.add(ge);break e}else{if((l&1)===0){A1(_,Ie,l),v0();break e}ge=Error(r(426))}}else if(De&&oe.mode&1){var Fn=P1(q);if(Fn!==null){(Fn.flags&65536)===0&&(Fn.flags|=256),L1(Fn,q,oe,_,l),Je(Wu(ge,oe));break e}}_=ge=Wu(ge,oe),us!==4&&(us=2),Kd===null?Kd=[_]:Kd.push(_),_=q;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l;var Re=E1(_,ge,l);xs(_,Re);break e;case 1:oe=ge;var Ne=_.type,Te=_.stateNode;if((_.flags&128)===0&&(typeof Ne.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(dc===null||!dc.has(Te)))){_.flags|=65536,l&=-l,_.lanes|=l;var Ke=C1(_,oe,l);xs(_,Ke);break e}}_=_.return}while(_!==null)}lv(f)}catch(bt){l=bt,Kn===f&&f!==null&&(Kn=f=f.return);continue}break}while(!0)}function av(){var a=Kh.current;return Kh.current=Vh,a===null?Vh:a}function v0(){(us===0||us===3||us===2)&&(us=4),vs===null||(Zc&268435455)===0&&(Jh&268435455)===0||pc(vs,Ds)}function rf(a,l){var f=_r;_r|=2;var x=av();(vs!==a||Ds!==l)&&(ql=null,tu(a,l));do try{FN();break}catch(N){iv(a,N)}while(!0);if(Gr(),_r=f,Kh.current=x,Kn!==null)throw Error(r(261));return vs=null,Ds=0,us}function FN(){for(;Kn!==null;)ov(Kn)}function DN(){for(;Kn!==null&&!Do();)ov(Kn)}function ov(a){var l=dv(a.alternate,a,fa);a.memoizedProps=a.pendingProps,l===null?lv(a):Kn=l,c0.current=null}function lv(a){var l=a;do{var f=l.alternate;if(a=l.return,(l.flags&32768)===0){if(f=PN(f,l,fa),f!==null){Kn=f;return}}else{if(f=LN(f,l),f!==null){f.flags&=32767,Kn=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{us=6,Kn=null;return}}if(l=l.sibling,l!==null){Kn=l;return}Kn=l=a}while(l!==null);us===0&&(us=5)}function ru(a,l,f){var x=hr,N=Wa.transition;try{Wa.transition=null,hr=1,qN(a,l,f,x)}finally{Wa.transition=N,hr=x}return null}function qN(a,l,f,x){do Ku();while(hc!==null);if((_r&6)!==0)throw Error(r(327));f=a.finishedWork;var N=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var _=f.lanes|f.childLanes;if(Ai(a,_),a===vs&&(Kn=vs=null,Ds=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Qh||(Qh=!0,hv(Na,function(){return Ku(),null})),_=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||_){_=Wa.transition,Wa.transition=null;var q=hr;hr=1;var oe=_r;_r|=4,c0.current=null,TN(a,f),Q1(f,a),Ko(qa),Ho=!!nl,qa=nl=null,a.current=f,ON(f),Lu(),_r=oe,hr=q,Wa.transition=_}else a.current=f;if(Qh&&(Qh=!1,hc=a,Zh=N),_=a.pendingLanes,_===0&&(dc=null),Rc(f.stateNode),Hi(a,Mr()),l!==null)for(x=a.onRecoverableError,f=0;f<l.length;f++)N=l[f],x(N.value,{componentStack:N.stack,digest:N.digest});if(Xh)throw Xh=!1,a=h0,h0=null,a;return(Zh&1)!==0&&a.tag!==0&&Ku(),_=a.pendingLanes,(_&1)!==0?a===f0?Jd++:(Jd=0,f0=a):Jd=0,C(),null}function Ku(){if(hc!==null){var a=Sa(Zh),l=Wa.transition,f=hr;try{if(Wa.transition=null,hr=16>a?16:a,hc===null)var x=!1;else{if(a=hc,hc=null,Zh=0,(_r&6)!==0)throw Error(r(331));var N=_r;for(_r|=4,ct=a.current;ct!==null;){var _=ct,q=_.child;if((ct.flags&16)!==0){var oe=_.deletions;if(oe!==null){for(var ge=0;ge<oe.length;ge++){var Ie=oe[ge];for(ct=Ie;ct!==null;){var Ge=ct;switch(Ge.tag){case 0:case 11:case 15:Gd(8,Ge,_)}var Ye=Ge.child;if(Ye!==null)Ye.return=Ge,ct=Ye;else for(;ct!==null;){Ge=ct;var He=Ge.sibling,rt=Ge.return;if(G1(Ge),Ge===Ie){ct=null;break}if(He!==null){He.return=rt,ct=He;break}ct=rt}}}var ft=_.alternate;if(ft!==null){var gt=ft.child;if(gt!==null){ft.child=null;do{var Fn=gt.sibling;gt.sibling=null,gt=Fn}while(gt!==null)}}ct=_}}if((_.subtreeFlags&2064)!==0&&q!==null)q.return=_,ct=q;else e:for(;ct!==null;){if(_=ct,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Gd(9,_,_.return)}var Re=_.sibling;if(Re!==null){Re.return=_.return,ct=Re;break e}ct=_.return}}var Ne=a.current;for(ct=Ne;ct!==null;){q=ct;var Te=q.child;if((q.subtreeFlags&2064)!==0&&Te!==null)Te.return=q,ct=Te;else e:for(q=Ne;ct!==null;){if(oe=ct,(oe.flags&2048)!==0)try{switch(oe.tag){case 0:case 11:case 15:Yh(9,oe)}}catch(bt){An(oe,oe.return,bt)}if(oe===q){ct=null;break e}var Ke=oe.sibling;if(Ke!==null){Ke.return=oe.return,ct=Ke;break e}ct=oe.return}}if(_r=N,C(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(Uo,a)}catch{}x=!0}return x}finally{hr=f,Wa.transition=l}}return!1}function cv(a,l,f){l=Wu(f,l),l=E1(a,l,1),a=Ur(a,l,1),l=ki(),a!==null&&(Vn(a,1,l),Hi(a,l))}function An(a,l,f){if(a.tag===3)cv(a,a,f);else for(;l!==null;){if(l.tag===3){cv(l,a,f);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(dc===null||!dc.has(x))){a=Wu(f,a),a=C1(l,a,1),l=Ur(l,a,1),a=ki(),l!==null&&(Vn(l,1,a),Hi(l,a));break}}l=l.return}}function UN(a,l,f){var x=a.pingCache;x!==null&&x.delete(l),l=ki(),a.pingedLanes|=a.suspendedLanes&f,vs===a&&(Ds&f)===f&&(us===4||us===3&&(Ds&130023424)===Ds&&500>Mr()-d0?tu(a,0):u0|=f),Hi(a,l)}function uv(a,l){l===0&&((a.mode&1)===0?l=1:(l=Ys,Ys<<=1,(Ys&130023424)===0&&(Ys=4194304)));var f=ki();a=Br(a,l),a!==null&&(Vn(a,l,f),Hi(a,f))}function zN(a){var l=a.memoizedState,f=0;l!==null&&(f=l.retryLane),uv(a,f)}function BN(a,l){var f=0;switch(a.tag){case 13:var x=a.stateNode,N=a.memoizedState;N!==null&&(f=N.retryLane);break;case 19:x=a.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(l),uv(a,f)}var dv;dv=function(a,l,f){if(a!==null)if(a.memoizedProps!==l.pendingProps||as.current)Vi=!0;else{if((a.lanes&f)===0&&(l.flags&128)===0)return Vi=!1,AN(a,l,f);Vi=(a.flags&131072)!==0}else Vi=!1,De&&(l.flags&1048576)!==0&&Ce(l,W,l.index);switch(l.lanes=0,l.tag){case 2:var x=l.type;Hh(a,l),a=l.pendingProps;var N=yo(l,Cn.current);Yr(l,f),N=Bu(null,l,x,a,N,f);var _=Vd();return l.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,os(x)?(_=!0,nt(l)):_=!1,l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,nn(l),N.updater=Tr,l.stateNode=N,N._reactInternals=l,da(l,x,a,f),l=Zp(null,l,x,!0,_,f)):(l.tag=0,De&&_&&Fe(l),_i(null,l,N,f),l=l.child),l;case 16:x=l.elementType;e:{switch(Hh(a,l),a=l.pendingProps,N=x._init,x=N(x._payload),l.type=x,N=l.tag=VN(x),a=Pt(x,a),N){case 0:l=Qp(null,l,x,a,f);break e;case 1:l=F1(null,l,x,a,f);break e;case 11:l=R1(null,l,x,a,f);break e;case 14:l=T1(null,l,x,Pt(x.type,a),f);break e}throw Error(r(306,x,""))}return l;case 0:return x=l.type,N=l.pendingProps,N=l.elementType===x?N:Pt(x,N),Qp(a,l,x,N,f);case 1:return x=l.type,N=l.pendingProps,N=l.elementType===x?N:Pt(x,N),F1(a,l,x,N,f);case 3:e:{if(D1(l),a===null)throw Error(r(387));x=l.pendingProps,_=l.memoizedState,N=_.element,Os(a,l),gs(l,x,null,f);var q=l.memoizedState;if(x=q.element,_.isDehydrated)if(_={element:x,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){N=Wu(Error(r(423)),l),l=q1(a,l,x,f,N);break e}else if(x!==N){N=Wu(Error(r(424)),l),l=q1(a,l,x,f,N);break e}else for(Me=Hn(l.stateNode.containerInfo.firstChild),Le=l,De=!0,Ue=null,f=qh(l,null,x,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(it(),x===N){l=Dl(a,l,f);break e}_i(a,l,x,f)}l=l.child}return l;case 5:return Hc(l),a===null&&dt(l),x=l.type,N=l.pendingProps,_=a!==null?a.memoizedProps:null,q=N.children,sc(x,N)?q=null:_!==null&&sc(x,_)&&(l.flags|=32),M1(a,l),_i(a,l,q,f),l.child;case 6:return a===null&&dt(l),null;case 13:return U1(a,l,f);case 4:return zd(l,l.stateNode.containerInfo),x=l.pendingProps,a===null?l.child=Ba(l,null,x,f):_i(a,l,x,f),l.child;case 11:return x=l.type,N=l.pendingProps,N=l.elementType===x?N:Pt(x,N),R1(a,l,x,N,f);case 7:return _i(a,l,l.pendingProps,f),l.child;case 8:return _i(a,l,l.pendingProps.children,f),l.child;case 12:return _i(a,l,l.pendingProps.children,f),l.child;case 10:e:{if(x=l.type._context,N=l.pendingProps,_=l.memoizedProps,q=N.value,Sr(or,x._currentValue),x._currentValue=q,_!==null)if(br(_.value,q)){if(_.children===N.children&&!as.current){l=Dl(a,l,f);break e}}else for(_=l.child,_!==null&&(_.return=l);_!==null;){var oe=_.dependencies;if(oe!==null){q=_.child;for(var ge=oe.firstContext;ge!==null;){if(ge.context===x){if(_.tag===1){ge=pr(-1,f&-f),ge.tag=2;var Ie=_.updateQueue;if(Ie!==null){Ie=Ie.shared;var Ge=Ie.pending;Ge===null?ge.next=ge:(ge.next=Ge.next,Ge.next=ge),Ie.pending=ge}}_.lanes|=f,ge=_.alternate,ge!==null&&(ge.lanes|=f),cs(_.return,f,l),oe.lanes|=f;break}ge=ge.next}}else if(_.tag===10)q=_.type===l.type?null:_.child;else if(_.tag===18){if(q=_.return,q===null)throw Error(r(341));q.lanes|=f,oe=q.alternate,oe!==null&&(oe.lanes|=f),cs(q,f,l),q=_.sibling}else q=_.child;if(q!==null)q.return=_;else for(q=_;q!==null;){if(q===l){q=null;break}if(_=q.sibling,_!==null){_.return=q.return,q=_;break}q=q.return}_=q}_i(a,l,N.children,f),l=l.child}return l;case 9:return N=l.type,x=l.pendingProps.children,Yr(l,f),N=Kt(N),x=x(N),l.flags|=1,_i(a,l,x,f),l.child;case 14:return x=l.type,N=Pt(x,l.pendingProps),N=Pt(x.type,N),T1(a,l,x,N,f);case 15:return O1(a,l,l.type,l.pendingProps,f);case 17:return x=l.type,N=l.pendingProps,N=l.elementType===x?N:Pt(x,N),Hh(a,l),l.tag=1,os(x)?(a=!0,nt(l)):a=!1,Yr(l,f),Ui(l,x,N),da(l,x,N,f),Zp(null,l,x,!0,a,f);case 19:return B1(a,l,f);case 22:return I1(a,l,f)}throw Error(r(156,l.tag))};function hv(a,l){return Mo(a,l)}function $N(a,l,f,x){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(a,l,f,x){return new $N(a,l,f,x)}function b0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function VN(a){if(typeof a=="function")return b0(a)?1:0;if(a!=null){if(a=a.$$typeof,a===F)return 11;if(a===ve)return 14}return 2}function mc(a,l){var f=a.alternate;return f===null?(f=Ha(a.tag,l,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=l,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,l=a.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function nf(a,l,f,x,N,_){var q=2;if(x=a,typeof a=="function")b0(a)&&(q=1);else if(typeof a=="string")q=5;else e:switch(a){case ae:return nu(f.children,N,_,l);case se:q=8,N|=8;break;case V:return a=Ha(12,f,l,N|2),a.elementType=V,a.lanes=_,a;case z:return a=Ha(13,f,l,N),a.elementType=z,a.lanes=_,a;case H:return a=Ha(19,f,l,N),a.elementType=H,a.lanes=_,a;case xe:return sf(f,N,_,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case re:q=10;break e;case T:q=9;break e;case F:q=11;break e;case ve:q=14;break e;case ye:q=16,x=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return l=Ha(q,f,l,N),l.elementType=a,l.type=x,l.lanes=_,l}function nu(a,l,f,x){return a=Ha(7,a,x,l),a.lanes=f,a}function sf(a,l,f,x){return a=Ha(22,a,x,l),a.elementType=xe,a.lanes=f,a.stateNode={isHidden:!1},a}function y0(a,l,f){return a=Ha(6,a,null,l),a.lanes=f,a}function w0(a,l,f){return l=Ha(4,a.children!==null?a.children:[],a.key,l),l.lanes=f,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function WN(a,l,f,x,N){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zo(0),this.expirationTimes=zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zo(0),this.identifierPrefix=x,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function N0(a,l,f,x,N,_,q,oe,ge){return a=new WN(a,l,f,oe,ge),l===1?(l=1,_===!0&&(l|=8)):l=0,_=Ha(3,null,null,l),a.current=_,_.stateNode=a,_.memoizedState={element:x,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},nn(_),a}function HN(a,l,f){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:x==null?null:""+x,children:a,containerInfo:l,implementation:f}}function fv(a){if(!a)return ua;a=a._reactInternals;e:{if(jn(a)!==a||a.tag!==1)throw Error(r(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(os(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(a.tag===1){var f=a.type;if(os(f))return Xe(a,f,l)}return l}function pv(a,l,f,x,N,_,q,oe,ge){return a=N0(f,x,!0,a,N,_,q,oe,ge),a.context=fv(null),f=a.current,x=ki(),N=fc(f),_=pr(x,N),_.callback=l??null,Ur(f,_,N),a.current.lanes=N,Vn(a,N,x),Hi(a,x),a}function af(a,l,f,x){var N=l.current,_=ki(),q=fc(N);return f=fv(f),l.context===null?l.context=f:l.pendingContext=f,l=pr(_,q),l.payload={element:a},x=x===void 0?null:x,x!==null&&(l.callback=x),a=Ur(N,l,q),a!==null&&(ko(a,N,q,_),ms(a,N,q)),q}function of(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function mv(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<l?f:l}}function j0(a,l){mv(a,l),(a=a.alternate)&&mv(a,l)}function GN(){return null}var xv=typeof reportError=="function"?reportError:function(a){console.error(a)};function S0(a){this._internalRoot=a}lf.prototype.render=S0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));af(a,l,null,null)},lf.prototype.unmount=S0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;eu(function(){af(null,a,null,null)}),l[Mn]=null}};function lf(a){this._internalRoot=a}lf.prototype.unstable_scheduleHydration=function(a){if(a){var l=Tc();a={blockedOn:null,target:a,priority:l};for(var f=0;f<Pi.length&&l!==0&&l<Pi[f].priority;f++);Pi.splice(f,0,a),f===0&&io(a)}};function _0(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function cf(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function gv(){}function YN(a,l,f,x,N){if(N){if(typeof x=="function"){var _=x;x=function(){var Ie=of(q);_.call(Ie)}}var q=pv(l,x,a,0,null,!1,!1,"",gv);return a._reactRootContainer=q,a[Mn]=q.current,Fa(a.nodeType===8?a.parentNode:a),eu(),q}for(;N=a.lastChild;)a.removeChild(N);if(typeof x=="function"){var oe=x;x=function(){var Ie=of(ge);oe.call(Ie)}}var ge=N0(a,0,!1,null,null,!1,!1,"",gv);return a._reactRootContainer=ge,a[Mn]=ge.current,Fa(a.nodeType===8?a.parentNode:a),eu(function(){af(l,ge,f,x)}),ge}function uf(a,l,f,x,N){var _=f._reactRootContainer;if(_){var q=_;if(typeof N=="function"){var oe=N;N=function(){var ge=of(q);oe.call(ge)}}af(l,q,a,N)}else q=YN(f,l,a,N,x);return of(q)}_a=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var f=ea(l.pendingLanes);f!==0&&(rr(l,f|1),Hi(l,Mr()),(_r&6)===0&&(Yu=Mr()+500,C()))}break;case 13:eu(function(){var x=Br(a,1);if(x!==null){var N=ki();ko(x,a,1,N)}}),j0(a,1)}},Xl=function(a){if(a.tag===13){var l=Br(a,134217728);if(l!==null){var f=ki();ko(l,a,134217728,f)}j0(a,134217728)}},Ql=function(a){if(a.tag===13){var l=fc(a),f=Br(a,l);if(f!==null){var x=ki();ko(f,a,l,x)}j0(a,l)}},Tc=function(){return hr},Bo=function(a,l){var f=hr;try{return hr=a,l()}finally{hr=f}},Ut=function(a,l,f){switch(l){case"input":if(vt(a,f),l=f.name,f.type==="radio"&&l!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var x=f[l];if(x!==a&&x.form===a.form){var N=sl(x);if(!N)throw Error(r(90));je(x),vt(x,N)}}}break;case"textarea":yr(a,f);break;case"select":l=f.value,l!=null&&Ze(a,!!f.multiple,l,!1)}},$n=x0,Xi=eu;var KN={usingClientEntryPoint:!1,Events:[bo,Ua,sl,lr,to,x0]},Xd={findFiberByHostInstance:ca,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},JN={bundleType:Xd.bundleType,version:Xd.version,rendererPackageName:Xd.rendererPackageName,rendererConfig:Xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=hi(a),a===null?null:a.stateNode},findFiberByHostInstance:Xd.findFiberByHostInstance||GN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{Uo=df.inject(JN),fs=df}catch{}}return Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KN,Gi.createPortal=function(a,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_0(l))throw Error(r(200));return HN(a,l,null,f)},Gi.createRoot=function(a,l){if(!_0(a))throw Error(r(299));var f=!1,x="",N=xv;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),l=N0(a,1,!1,null,null,f,!1,x,N),a[Mn]=l.current,Fa(a.nodeType===8?a.parentNode:a),new S0(l)},Gi.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=hi(l),a=a===null?null:a.stateNode,a},Gi.flushSync=function(a){return eu(a)},Gi.hydrate=function(a,l,f){if(!cf(l))throw Error(r(200));return uf(null,a,l,!0,f)},Gi.hydrateRoot=function(a,l,f){if(!_0(a))throw Error(r(405));var x=f!=null&&f.hydratedSources||null,N=!1,_="",q=xv;if(f!=null&&(f.unstable_strictMode===!0&&(N=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(q=f.onRecoverableError)),l=pv(l,null,a,1,f??null,N,!1,_,q),a[Mn]=l.current,Fa(a),x)for(a=0;a<x.length;a++)f=x[a],N=f._getVersion,N=N(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,N]:l.mutableSourceEagerHydrationData.push(f,N);return new lf(l)},Gi.render=function(a,l,f){if(!cf(l))throw Error(r(200));return uf(null,a,l,!1,f)},Gi.unmountComponentAtNode=function(a){if(!cf(a))throw Error(r(40));return a._reactRootContainer?(eu(function(){uf(null,null,a,!1,function(){a._reactRootContainer=null,a[Mn]=null})}),!0):!1},Gi.unstable_batchedUpdates=x0,Gi.unstable_renderSubtreeIntoContainer=function(a,l,f,x){if(!cf(f))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return uf(a,l,f,!1,x)},Gi.version="18.2.0-next-9e3b772b8-20220608",Gi}var _v;function Oy(){if(_v)return C0.exports;_v=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),C0.exports=i3(),C0.exports}var kv;function a3(){if(kv)return ff;kv=1;var e=Oy();return ff.createRoot=e.createRoot,ff.hydrateRoot=e.hydrateRoot,ff}var o3=a3();const l3=Ac(o3),c3="modulepreload",u3=function(e){return"/"+e},Ev={},uh=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let c=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=c(r.map(h=>{if(h=u3(h),h in Ev)return;Ev[h]=!0;const p=h.endsWith(".css"),b=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${b}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":c3,p||(y.as="script"),y.crossOrigin="",y.href=h,d&&y.setAttribute("nonce",d),document.head.appendChild(y),p)return new Promise((g,S)=>{y.addEventListener("load",g),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})};/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cv="popstate";function d3(e={}){function t(n,i){let{pathname:o,search:c,hash:u}=n.location;return qx("",{pathname:o,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:vh(i)}return f3(t,r,null,e)}function wn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function h3(){return Math.random().toString(36).substring(2,10)}function Av(e,t){return{usr:e.state,key:e.key,idx:t}}function qx(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Id(t):t,state:r,key:t&&t.key||n||h3()}}function vh({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Id(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function f3(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,c=i.history,u="POP",d=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function b(){u="POP";let E=p(),A=E==null?null:E-h;h=E,d&&d({action:u,location:k.location,delta:A})}function y(E,A){u="PUSH";let L=qx(k.location,E,A);h=p()+1;let P=Av(L,h),R=k.createHref(L);try{c.pushState(P,"",R)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(R)}o&&d&&d({action:u,location:k.location,delta:1})}function g(E,A){u="REPLACE";let L=qx(k.location,E,A);h=p();let P=Av(L,h),R=k.createHref(L);c.replaceState(P,"",R),o&&d&&d({action:u,location:k.location,delta:0})}function S(E){return p3(E)}let k={get action(){return u},get location(){return e(i,c)},listen(E){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Cv,b),d=E,()=>{i.removeEventListener(Cv,b),d=null}},createHref(E){return t(i,E)},createURL:S,encodeLocation(E){let A=S(E);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:g,go(E){return c.go(E)}};return k}function p3(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),wn(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:vh(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Iy(e,t,r="/"){return m3(e,t,r,!1)}function m3(e,t,r,n){let i=typeof t=="string"?Id(t):t,o=Yl(i.pathname||"/",r);if(o==null)return null;let c=My(e);x3(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let h=E3(o);u=_3(c[d],h,n)}return u}function My(e,t=[],r=[],n="",i=!1){let o=(c,u,d=i,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;wn(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let b=Gl([n,p.relativePath]),y=r.concat(p);c.children&&c.children.length>0&&(wn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),My(c.children,t,y,b,d)),!(c.path==null&&!c.index)&&t.push({path:b,score:j3(b,c.index),routesMeta:y})};return e.forEach((c,u)=>{var d;if(c.path===""||!((d=c.path)!=null&&d.includes("?")))o(c,u);else for(let h of Fy(c.path))o(c,u,!0,h)}),t}function Fy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let c=Fy(n.join("/")),u=[];return u.push(...c.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...c),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function x3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:S3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var g3=/^:[\w-]+$/,v3=3,b3=2,y3=1,w3=10,N3=-2,Pv=e=>e==="*";function j3(e,t){let r=e.split("/"),n=r.length;return r.some(Pv)&&(n+=N3),t&&(n+=b3),r.filter(i=>!Pv(i)).reduce((i,o)=>i+(g3.test(o)?v3:o===""?y3:w3),n)}function S3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function _3(e,t,r=!1){let{routesMeta:n}=e,i={},o="/",c=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,p=o==="/"?t:t.slice(o.length)||"/",b=Jf({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),y=d.route;if(!b&&h&&r&&!n[n.length-1].route.index&&(b=Jf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!b)return null;Object.assign(i,b.params),c.push({params:i,pathname:Gl([o,b.pathname]),pathnameBase:L3(Gl([o,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(o=Gl([o,b.pathnameBase]))}return c}function Jf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=k3(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:b},y)=>{if(p==="*"){let S=u[y]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const g=u[y];return b&&!g?h[p]=void 0:h[p]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:c,pattern:e}}function k3(e,t=!1,r=!0){xl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function E3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xl(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Yl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var C3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function A3(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Id(e):e,o;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?o=Lv(r.substring(1),"/"):o=Lv(r,t)):o=t,{pathname:o,search:R3(n),hash:T3(i)}}function Lv(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function L0(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Dy(e){let t=P3(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function qy(e,t,r,n=!1){let i;typeof e=="string"?i=Id(e):(i={...e},wn(!i.pathname||!i.pathname.includes("?"),L0("?","pathname","search",i)),wn(!i.pathname||!i.pathname.includes("#"),L0("#","pathname","hash",i)),wn(!i.search||!i.search.includes("#"),L0("#","search","hash",i)));let o=e===""||i.pathname==="",c=o?"/":i.pathname,u;if(c==null)u=r;else{let b=t.length-1;if(!n&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),b-=1;i.pathname=y.join("/")}u=b>=0?t[b]:"/"}let d=A3(i,u),h=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var Gl=e=>e.join("/").replace(/\/\/+/g,"/"),L3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,T3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,O3=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function I3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function M3(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Uy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function zy(e,t){let r=e;if(typeof r!="string"||!C3.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(Uy)try{let o=new URL(window.location.href),c=r.startsWith("//")?new URL(o.protocol+r):new URL(r),u=Yl(c.pathname,t);c.origin===o.origin&&u!=null?r=u+c.search+c.hash:i=!0}catch{xl(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var By=["POST","PUT","PATCH","DELETE"];new Set(By);var F3=["GET",...By];new Set(F3);var Md=B.createContext(null);Md.displayName="DataRouter";var _p=B.createContext(null);_p.displayName="DataRouterState";var D3=B.createContext(!1),$y=B.createContext({isTransitioning:!1});$y.displayName="ViewTransition";var q3=B.createContext(new Map);q3.displayName="Fetchers";var U3=B.createContext(null);U3.displayName="Await";var eo=B.createContext(null);eo.displayName="Navigation";var Rh=B.createContext(null);Rh.displayName="Location";var vl=B.createContext({outlet:null,matches:[],isDataRoute:!1});vl.displayName="Route";var Bg=B.createContext(null);Bg.displayName="RouteError";var Vy="REACT_ROUTER_ERROR",z3="REDIRECT",B3="ROUTE_ERROR_RESPONSE";function $3(e){if(e.startsWith(`${Vy}:${z3}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function V3(e){if(e.startsWith(`${Vy}:${B3}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new O3(t.status,t.statusText,t.data)}catch{}}function W3(e,{relative:t}={}){wn(Th(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=B.useContext(eo),{hash:i,pathname:o,search:c}=Oh(e,{relative:t}),u=o;return r!=="/"&&(u=o==="/"?r:Gl([r,o])),n.createHref({pathname:u,search:c,hash:i})}function Th(){return B.useContext(Rh)!=null}function ku(){return wn(Th(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Rh).location}var Wy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hy(e){B.useContext(eo).static||B.useLayoutEffect(e)}function H3(){let{isDataRoute:e}=B.useContext(vl);return e?aj():G3()}function G3(){wn(Th(),"useNavigate() may be used only in the context of a <Router> component.");let e=B.useContext(Md),{basename:t,navigator:r}=B.useContext(eo),{matches:n}=B.useContext(vl),{pathname:i}=ku(),o=JSON.stringify(Dy(n)),c=B.useRef(!1);return Hy(()=>{c.current=!0}),B.useCallback((d,h={})=>{if(xl(c.current,Wy),!c.current)return;if(typeof d=="number"){r.go(d);return}let p=qy(d,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Gl([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,o,i,e])}B.createContext(null);function Y3(){let{matches:e}=B.useContext(vl),t=e[e.length-1];return t?t.params:{}}function Oh(e,{relative:t}={}){let{matches:r}=B.useContext(vl),{pathname:n}=ku(),i=JSON.stringify(Dy(r));return B.useMemo(()=>qy(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function K3(e,t){return Gy(e,t)}function Gy(e,t,r,n,i){var L;wn(Th(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(eo),{matches:c}=B.useContext(vl),u=c[c.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",b=u&&u.route;{let P=b&&b.path||"";Ky(h,!b||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=ku(),g;if(t){let P=typeof t=="string"?Id(t):t;wn(p==="/"||((L=P.pathname)==null?void 0:L.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${P.pathname}" was given in the \`location\` prop.`),g=P}else g=y;let S=g.pathname||"/",k=S;if(p!=="/"){let P=p.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice(P.length).join("/")}let E=Iy(e,{pathname:k});xl(b||E!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),xl(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=ej(E&&E.map(P=>Object.assign({},P,{params:Object.assign({},d,P.params),pathname:Gl([p,o.encodeLocation?o.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:Gl([p,o.encodeLocation?o.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),c,r,n,i);return t&&A?B.createElement(Rh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},A):A}function J3(){let e=ij(),t=I3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:o},"ErrorBoundary")," or"," ",B.createElement("code",{style:o},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),r?B.createElement("pre",{style:i},r):null,c)}var X3=B.createElement(J3,null),Yy=class extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=V3(e.digest);r&&(e=r)}let t=e!==void 0?B.createElement(vl.Provider,{value:this.props.routeContext},B.createElement(Bg.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?B.createElement(Q3,{error:e},t):t}};Yy.contextType=D3;var R0=new WeakMap;function Q3({children:e,error:t}){let{basename:r}=B.useContext(eo);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=$3(t.digest);if(n){let i=R0.get(t);if(i)throw i;let o=zy(n.location,r);if(Uy&&!R0.get(t))if(o.isExternal||n.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:n.replace}));throw R0.set(t,c),c}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function Z3({routeContext:e,match:t,children:r}){let n=B.useContext(Md);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(vl.Provider,{value:e},r)}function ej(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=r==null?void 0:r.errors;if(c!=null){let p=o.findIndex(b=>b.route.id&&(c==null?void 0:c[b.route.id])!==void 0);wn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(r)for(let p=0;p<o.length;p++){let b=o[p];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=p),b.route.id){let{loaderData:y,errors:g}=r,S=b.route.loader&&!y.hasOwnProperty(b.route.id)&&(!g||g[b.route.id]===void 0);if(b.route.lazy||S){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let h=r&&n?(p,b)=>{var y,g;n(p,{location:r.location,params:((g=(y=r.matches)==null?void 0:y[0])==null?void 0:g.params)??{},unstable_pattern:M3(r.matches),errorInfo:b})}:void 0;return o.reduceRight((p,b,y)=>{let g,S=!1,k=null,E=null;r&&(g=c&&b.route.id?c[b.route.id]:void 0,k=b.route.errorElement||X3,u&&(d<0&&y===0?(Ky("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,E=null):d===y&&(S=!0,E=b.route.hydrateFallbackElement||null)));let A=t.concat(o.slice(0,y+1)),L=()=>{let P;return g?P=k:S?P=E:b.route.Component?P=B.createElement(b.route.Component,null):b.route.element?P=b.route.element:P=p,B.createElement(Z3,{match:b,routeContext:{outlet:p,matches:A,isDataRoute:r!=null},children:P})};return r&&(b.route.ErrorBoundary||b.route.errorElement||y===0)?B.createElement(Yy,{location:r.location,revalidation:r.revalidation,component:k,error:g,children:L(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:h}):L()},null)}function $g(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tj(e){let t=B.useContext(Md);return wn(t,$g(e)),t}function rj(e){let t=B.useContext(_p);return wn(t,$g(e)),t}function nj(e){let t=B.useContext(vl);return wn(t,$g(e)),t}function Vg(e){let t=nj(e),r=t.matches[t.matches.length-1];return wn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function sj(){return Vg("useRouteId")}function ij(){var n;let e=B.useContext(Bg),t=rj("useRouteError"),r=Vg("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function aj(){let{router:e}=tj("useNavigate"),t=Vg("useNavigate"),r=B.useRef(!1);return Hy(()=>{r.current=!0}),B.useCallback(async(i,o={})=>{xl(r.current,Wy),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Rv={};function Ky(e,t,r){!t&&!Rv[e]&&(Rv[e]=!0,xl(!1,r))}B.memo(oj);function oj({routes:e,future:t,state:r,onError:n}){return Gy(e,void 0,r,n,t)}function lu(e){wn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lj({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:o=!1,unstable_useTransitions:c}){wn(!Th(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:u,navigator:i,static:o,unstable_useTransitions:c,future:{}}),[u,i,o,c]);typeof r=="string"&&(r=Id(r));let{pathname:h="/",search:p="",hash:b="",state:y=null,key:g="default"}=r,S=B.useMemo(()=>{let k=Yl(h,u);return k==null?null:{location:{pathname:k,search:p,hash:b,state:y,key:g},navigationType:n}},[u,h,p,b,y,g,n]);return xl(S!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${b}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:B.createElement(eo.Provider,{value:d},B.createElement(Rh.Provider,{children:t,value:S}))}function cj({children:e,location:t}){return K3(Ux(e),t)}function Ux(e,t=[]){let r=[];return B.Children.forEach(e,(n,i)=>{if(!B.isValidElement(n))return;let o=[...t,i];if(n.type===B.Fragment){r.push.apply(r,Ux(n.props.children,o));return}wn(n.type===lu,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Ux(n.props.children,o)),r.push(c)}),r}var Ff="get",Df="application/x-www-form-urlencoded";function kp(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function uj(e){return kp(e)&&e.tagName.toLowerCase()==="button"}function dj(e){return kp(e)&&e.tagName.toLowerCase()==="form"}function hj(e){return kp(e)&&e.tagName.toLowerCase()==="input"}function fj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pj(e,t){return e.button===0&&(!t||t==="_self")&&!fj(e)}var pf=null;function mj(){if(pf===null)try{new FormData(document.createElement("form"),0),pf=!1}catch{pf=!0}return pf}var xj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function T0(e){return e!=null&&!xj.has(e)?(xl(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Df}"`),null):e}function gj(e,t){let r,n,i,o,c;if(dj(e)){let u=e.getAttribute("action");n=u?Yl(u,t):null,r=e.getAttribute("method")||Ff,i=T0(e.getAttribute("enctype"))||Df,o=new FormData(e)}else if(uj(e)||hj(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(n=d?Yl(d,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Ff,i=T0(e.getAttribute("formenctype"))||T0(u.getAttribute("enctype"))||Df,o=new FormData(u,e),!mj()){let{name:h,type:p,value:b}=e;if(p==="image"){let y=h?`${h}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else h&&o.append(h,b)}}else{if(kp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ff,n=null,i=Df,c=e}return o&&i==="text/plain"&&(c=o,o=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vj(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&Yl(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function bj(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function wj(e,t,r){let n=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let c=await bj(o,r);return c.links?c.links():[]}return[]}));return _j(n.flat(1).filter(yj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Tv(e,t,r,n,i,o){let c=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,u=(d,h)=>{var p;return r[h].pathname!==d.pathname||((p=r[h].route.path)==null?void 0:p.endsWith("*"))&&r[h].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,h)=>c(d,h)||u(d,h)):o==="data"?t.filter((d,h)=>{var b;let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(c(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((b=r[0])==null?void 0:b.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Nj(e,t,{includeHydrateFallback:r}={}){return jj(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function jj(e){return[...new Set(e)]}function Sj(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function _j(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let o=JSON.stringify(Sj(i));return r.has(o)||(r.add(o),n.push({key:o,link:i})),n},[])}function Jy(){let e=B.useContext(Md);return Wg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function kj(){let e=B.useContext(_p);return Wg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Hg=B.createContext(void 0);Hg.displayName="FrameworkContext";function Xy(){let e=B.useContext(Hg);return Wg(e,"You must render this element inside a <HydratedRouter> element"),e}function Ej(e,t){let r=B.useContext(Hg),[n,i]=B.useState(!1),[o,c]=B.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:b}=t,y=B.useRef(null);B.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let k=A=>{A.forEach(L=>{c(L.isIntersecting)})},E=new IntersectionObserver(k,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[e]),B.useEffect(()=>{if(n){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[n]);let g=()=>{i(!0)},S=()=>{i(!1),c(!1)};return r?e!=="intent"?[o,y,{}]:[o,y,{onFocus:Zd(u,g),onBlur:Zd(d,S),onMouseEnter:Zd(h,g),onMouseLeave:Zd(p,S),onTouchStart:Zd(b,g)}]:[!1,y,{}]}function Zd(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Cj({page:e,...t}){let{router:r}=Jy(),n=B.useMemo(()=>Iy(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?B.createElement(Pj,{page:e,matches:n,...t}):null}function Aj(e){let{manifest:t,routeModules:r}=Xy(),[n,i]=B.useState([]);return B.useEffect(()=>{let o=!1;return wj(e,t,r).then(c=>{o||i(c)}),()=>{o=!0}},[e,t,r]),n}function Pj({page:e,matches:t,...r}){let n=ku(),{future:i,manifest:o,routeModules:c}=Xy(),{basename:u}=Jy(),{loaderData:d,matches:h}=kj(),p=B.useMemo(()=>Tv(e,t,h,o,n,"data"),[e,t,h,o,n]),b=B.useMemo(()=>Tv(e,t,h,o,n,"assets"),[e,t,h,o,n]),y=B.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let k=new Set,E=!1;if(t.forEach(L=>{var R;let P=o.routes[L.route.id];!P||!P.hasLoader||(!p.some(X=>X.route.id===L.route.id)&&L.route.id in d&&((R=c[L.route.id])!=null&&R.shouldRevalidate)||P.hasClientLoader?E=!0:k.add(L.route.id))}),k.size===0)return[];let A=vj(e,u,i.unstable_trailingSlashAwareDataRequests,"data");return E&&k.size>0&&A.searchParams.set("_routes",t.filter(L=>k.has(L.route.id)).map(L=>L.route.id).join(",")),[A.pathname+A.search]},[u,i.unstable_trailingSlashAwareDataRequests,d,n,o,p,t,e,c]),g=B.useMemo(()=>Nj(b,o),[b,o]),S=Aj(b);return B.createElement(B.Fragment,null,y.map(k=>B.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),g.map(k=>B.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),S.map(({key:k,link:E})=>B.createElement("link",{key:k,nonce:r.nonce,...E,crossOrigin:E.crossOrigin??r.crossOrigin})))}function Lj(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Rj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rj&&(window.__reactRouterVersion="7.13.0")}catch{}function Tj({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=B.useRef();i.current==null&&(i.current=d3({window:n,v5Compat:!0}));let o=i.current,[c,u]=B.useState({action:o.action,location:o.location}),d=B.useCallback(h=>{r===!1?u(h):B.startTransition(()=>u(h))},[r]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.createElement(lj,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:r})}var Qy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zy=B.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:o,replace:c,state:u,target:d,to:h,preventScrollReset:p,viewTransition:b,unstable_defaultShouldRevalidate:y,...g},S){let{basename:k,unstable_useTransitions:E}=B.useContext(eo),A=typeof h=="string"&&Qy.test(h),L=zy(h,k);h=L.to;let P=W3(h,{relative:i}),[R,X,Q]=Ej(n,g),ae=Fj(h,{replace:c,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:b,unstable_defaultShouldRevalidate:y,unstable_useTransitions:E});function se(re){t&&t(re),re.defaultPrevented||ae(re)}let V=B.createElement("a",{...g,...Q,href:L.absoluteURL||P,onClick:L.isExternal||o?t:se,ref:Lj(S,X),target:d,"data-discover":!A&&r==="render"?"true":void 0});return R&&!A?B.createElement(B.Fragment,null,V,B.createElement(Cj,{page:P})):V});Zy.displayName="Link";var Oj=B.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:o,to:c,viewTransition:u,children:d,...h},p){let b=Oh(c,{relative:h.relative}),y=ku(),g=B.useContext(_p),{navigator:S,basename:k}=B.useContext(eo),E=g!=null&&Bj(b)&&u===!0,A=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,L=y.pathname,P=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(L=L.toLowerCase(),P=P?P.toLowerCase():null,A=A.toLowerCase()),P&&k&&(P=Yl(P,k)||P);const R=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let X=L===A||!i&&L.startsWith(A)&&L.charAt(R)==="/",Q=P!=null&&(P===A||!i&&P.startsWith(A)&&P.charAt(A.length)==="/"),ae={isActive:X,isPending:Q,isTransitioning:E},se=X?t:void 0,V;typeof n=="function"?V=n(ae):V=[n,X?"active":null,Q?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let re=typeof o=="function"?o(ae):o;return B.createElement(Zy,{...h,"aria-current":se,className:V,ref:p,style:re,to:c,viewTransition:u},typeof d=="function"?d(ae):d)});Oj.displayName="NavLink";var Ij=B.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:o,method:c=Ff,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:b,unstable_defaultShouldRevalidate:y,...g},S)=>{let{unstable_useTransitions:k}=B.useContext(eo),E=Uj(),A=zj(u,{relative:h}),L=c.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&Qy.test(u),R=X=>{if(d&&d(X),X.defaultPrevented)return;X.preventDefault();let Q=X.nativeEvent.submitter,ae=(Q==null?void 0:Q.getAttribute("formmethod"))||c,se=()=>E(Q||X.currentTarget,{fetcherKey:t,method:ae,navigate:r,replace:i,state:o,relative:h,preventScrollReset:p,viewTransition:b,unstable_defaultShouldRevalidate:y});k&&r!==!1?B.startTransition(()=>se()):se()};return B.createElement("form",{ref:S,method:L,action:A,onSubmit:n?d:R,...g,"data-discover":!P&&e==="render"?"true":void 0})});Ij.displayName="Form";function Mj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ew(e){let t=B.useContext(Md);return wn(t,Mj(e)),t}function Fj(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let h=H3(),p=ku(),b=Oh(e,{relative:o});return B.useCallback(y=>{if(pj(y,t)){y.preventDefault();let g=r!==void 0?r:vh(p)===vh(b),S=()=>h(e,{replace:g,state:n,preventScrollReset:i,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:u});d?B.startTransition(()=>S()):S()}},[p,h,b,r,n,t,e,i,o,c,u,d])}var Dj=0,qj=()=>`__${String(++Dj)}__`;function Uj(){let{router:e}=ew("useSubmit"),{basename:t}=B.useContext(eo),r=sj(),n=e.fetch,i=e.navigate;return B.useCallback(async(o,c={})=>{let{action:u,method:d,encType:h,formData:p,body:b}=gj(o,t);if(c.navigate===!1){let y=c.fetcherKey||qj();await n(y,r,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:b,formMethod:c.method||d,formEncType:c.encType||h,flushSync:c.flushSync})}else await i(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:b,formMethod:c.method||d,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,i,t,r])}function zj(e,{relative:t}={}){let{basename:r}=B.useContext(eo),n=B.useContext(vl);wn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...Oh(e||".",{relative:t})},c=ku();if(e==null){o.search=c.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(b=>b).forEach(b=>u.append("index",b));let p=u.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Gl([r,o.pathname])),vh(o)}function Bj(e,{relative:t}={}){let r=B.useContext($y);wn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ew("useViewTransitionState"),i=Oh(e,{relative:t});if(!r.isTransitioning)return!1;let o=Yl(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Yl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Jf(i.pathname,c)!=null||Jf(i.pathname,o)!=null}var qf=Oy();const tw=Ac(qf);function Ov(e,t,r){if(t===0)return e/r;const n=t/100/12;return e*n/(1-Math.pow(1+n,-r))}function zx(e){const{amount:t,rate:r,duration:n,insuranceRate:i=0}=e,o=Ov(t,r,n),c=t*(i/100)*(n/12),u=o*n+c,d=o*n-t,h=5.89;let p;if(r<h){const b=Ov(t,h,n);p={marketRate:h,marketMonthlyPayment:b,savings:(b-o)*n}}return{monthlyPayment:o,totalCost:u,totalInterests:d,insuranceCost:c/n,marketComparison:p}}const $j={bonified_rate_title:"Validation Financement Bonifi",standard_rate_title:"Financement Standard",market_comparison_title:"Comparatif March",legal_mention:"Un crdit vous engage et doit tre rembours. Vrifiez vos capacits de remboursement avant de vous engager. Taux et conditions sous rserve d'acceptation du dossier."},Nd={financial:$j},Vj=["devis","rflchir","comparer","on verra","rendez-vous","plus tard","envoyez-moi","je vais voir","je dois voir","on en reparle"];function Wj(e){const[t,r]=B.useState(null),[n,i]=B.useState(!1),o=B.useCallback(u=>{if(!u)return;const d=u.toLowerCase();Vj.find(p=>d.includes(p))&&(i(!0),setTimeout(()=>i(!1),250),r({message:e==="senior"?" STOP  vocabulaire anxiogne dtect (risque d'annulation)":" Mot interdit  cela fait perdre le closing net"}))},[e]),c=B.useCallback(()=>{r(null)},[]);return{alert:t,dismissAlert:c,checkVocabulary:o,signal:n}}const Hj=[{id:"sr-1",number:1,title:"Cadrage scurit",moduleId:null,autoOpen:!1,minDuration:60,keyPhrase:"Avant les chiffres, parlons scurit",currentAction:"Cadre EDF institutionnel, ancrer scurit",doList:["Ton calme","Respiration lente","Mentionner EDF 100 ans"],dontList:["Parler prix","Crer urgence","Dire 'dernier quota'"],successSignals:["Client acquiesce","Posture se dtend"],transitionBeforeNextModule:{silence:2,phrase:"OK. Maintenant, voyons l'essentiel",instruction:"Respirer, regarder le client, attendre son regard"}},{id:"sr-2",number:2,title:"Garanties & Scurit",moduleId:"garanties",autoOpen:!0,minDuration:90,maxDuration:120,keyPhrase:"Ce qui protge vraiment votre famille",currentAction:"Pointer ' VIE' + tat franais",silences:[{duration:5,instruction:"Regarder le client laisser digrer ' vie'"},{duration:3,instruction:"Silence aprs 'EDF = tat', acquiescer"}],doList:["Transmission enfants","tat franais","Certifications"],dontList:["Fermer module avant 90s"],successSignals:["Client demande garanties","Mention enfants"],transitionBeforeNextModule:{silence:2,phrase:"On a scuris. Maintenant votre situation",instruction:"Regard  mini pause  ouvrir module Rpartition"}},{id:"sr-3",number:3,title:"Situation actuelle",moduleId:"repartition",autoOpen:!0,minDuration:60,keyPhrase:"Aujourdhui vous payez et vous ne possdez rien",currentAction:"Refaire calcul avec le client",transitionBeforeNextModule:{silence:1,phrase:"OK. Maintenant projection concrte.",instruction:"Ouvrir module Projection"}},{id:"sr-4",number:4,title:"Projection 20 ans",moduleId:"projection",autoOpen:!0,minDuration:60,keyPhrase:"Dans 20 ans : actif vs rien",currentAction:"Pointer valeur vs perte",transitionBeforeNextModule:{silence:1,phrase:"OK. Parlons du taux calmement.",instruction:"Ouvrir module Taux"}},{id:"sr-5",number:5,title:"Taux",moduleId:"taux",autoOpen:!0,minDuration:45,keyPhrase:"On vrifie, pas on force",currentAction:"Ne rien thtraliser, factuel seulement",dontList:["Appel thtral","Ultimatum 2h"],successSignals:["Client demande validation"],transitionBeforeNextModule:{silence:2,phrase:"OK. Dcision  votre rythme.",instruction:"Regarder  Silence"}},{id:"sr-6",number:6,title:"Dcision",moduleId:"decision",autoOpen:!0,minDuration:45,keyPhrase:"Cest oui / cest non  mais prenez-la pour vous",currentAction:"Laisser client parler",transitionBeforeNextModule:{silence:1,phrase:"On scurise ?",instruction:"Prsenter signature lentement"}}],Gj=[{id:"bnq-1",number:1,title:"Cadre d'analyse",moduleId:null,autoOpen:!1,minDuration:45,keyPhrase:"Ce n'est pas un achat. C'est un arbitrage.",currentAction:"Poser structure ROI, zro motion"},{id:"bnq-2",number:2,title:"Comparaison Scnarios",moduleId:"comparateur",autoOpen:!0,minDuration:75,keyPhrase:"Perte actuelle vs actif",currentAction:"Faire calculer le client lui-mme",transitionBeforeNextModule:{silence:1,phrase:"Projection long terme",instruction:"Ouvrir Projection"}},{id:"bnq-3",number:3,title:"Projection 20 ans",moduleId:"projection",autoOpen:!0,minDuration:60,keyPhrase:"Cash flow  actif  rendement",currentAction:"Pointer non fiscalis + index nergie"},{id:"bnq-4",number:4,title:"Analyse de risque",moduleId:"risque",autoOpen:!0,minDuration:60,keyPhrase:"Le vrai risque = ne rien faire",currentAction:"Tableau risque technique / rglementaire",transitionBeforeNextModule:{silence:1,phrase:"Structuration financire",instruction:"Ouvrir Taux + simulateur"}},{id:"bnq-5",number:5,title:"Structuration financire",moduleId:"taux",autoOpen:!0,minDuration:60,keyPhrase:"Opration blanche  finance par conomies",currentAction:"Pointer mensualit vs conomies"},{id:"bnq-6",number:6,title:"Dcision",moduleId:"decision",autoOpen:!0,minDuration:45,keyPhrase:"Timing = seule variable",currentAction:"Poser silence, laisser conclure"}],Yj=[{id:"std-1",number:1,title:"Choc de ralit",moduleId:null,autoOpen:!1,minDuration:45,keyPhrase:"40 ans  0  on ne possde rien",currentAction:"Refaire calcul avec lui  SILENCE"},{id:"std-2",number:2,title:"Autonomie",moduleId:"autonomie",autoOpen:!0,minDuration:60,keyPhrase:"Vous reprenez le contrle",currentAction:"Pointer % autonomie et concret"},{id:"std-3",number:3,title:"Projection",moduleId:"projection",autoOpen:!0,minDuration:60,keyPhrase:"cart mesurable  pas opinion",currentAction:"Pointer diffrence chiffres"},{id:"std-4",number:4,title:"Taux",moduleId:"taux",autoOpen:!0,minDuration:45,keyPhrase:"On voit si vous tes ligible",currentAction:"Validation factuelle, pas thtre"},{id:"std-5",number:5,title:"Dcision",moduleId:"decision",autoOpen:!0,minDuration:45,keyPhrase:"On scurise si c'est oui  sinon on s'arrte",currentAction:"Pose directe, silence"}],Kj={constat:"repartition",solution:"projection","garanties-long-terme":"garanties","prise-en-charge-admin":"garanties",budget:"taux",synthese:"comparateur",decision:"decision",autonomie:"repartition",risque:"garanties"},Jj=JSON.parse(`{"senior_fatigue_institutional_dense":{"title":"Garanties EDF  Protection long terme","intro":{"text":"EDF existe depuis 1946 et appartient  100 %  l'tat franais. Sur un projet de 20  25 ans, cela garantit la continuit de l'acteur, la stabilit des engagements et la prennit du suivi technique.","infobulle":{"senior":{"title":" Protection dans le temps","body":"Elles couvrent le matriel, la production et le suivi. EDF ne peut ni disparatre ni modifier ses engagements unilatralement."},"banquier":{"title":" Cadre de garantie","body":"Obligations de rsultat et de remplacement. Scuris juridiquement par le statut public d'EDF."},"standard":{"title":" Vous tes couvert","body":"Le matriel est garanti. La production est suivie. EDF assure la continuit sur toute la dure."}}},"toggleLabels":{"off":"Essentielle  TVA rduite","on":"Performance  Garanties maximales"},"toggleDisclaimer":"Les deux options respectent le mme cadre de protection. Les diffrences portent uniquement sur le niveau de couverture.","bannerEssentielle":{"title":"ESSENTIELLE  TVA RDUITE","items":["Panneaux garantis 25 ans","Production garantie","Fabrication franaise"]},"bannerPerformance":{"title":"PERFORMANCE  GARANTIES MAXIMALES","items":["Garanties  vie sur certains lments","Suivi renforc","Protection maximale"]},"sections":[{"id":"cadre-institutionnel","title":"EDF  100 ans, tat, continuit garantie","text":"EDF existe depuis 1946 et appartient  100 %  l'tat franais. Sur un projet de 20  25 ans, cela garantit la continuit de l'acteur, la stabilit du cadre rglementaire et la prennit des engagements.","infobulle":{"senior":{"title":" Un cadre public de confiance","body":"EDF est dtenu  100 % par l'tat franais. Cela garantit stabilit, continuit et impossibilit de disparition. Sur un projet long terme, c'est la protection la plus solide."},"banquier":{"title":" Un acteur public structurant","body":"Groupe public soumis  des obligations d'tat. Continuit garantie, cadre rglementaire stable et impossibilit de modification unilatrale des engagements."},"standard":{"title":" Ce que signifie  Groupe EDF ","body":"EDF appartient  l'tat. Ce n'est pas une socit prive opportuniste. Sur 20 ans, cela change tout : l'acteur ne peut pas disparatre."}}},{"id":"prise-en-charge-admin","title":"Un parcours entirement pris en charge","text":"Les dmarches administratives, techniques et rglementaires sont intgralement pilotes par EDF. Vous n'avez pas  intervenir ni  coordonner des intervenants.","microText":"Autorisation  Dclaration  Coordination  Suivi","infobulle":{"senior":{"title":" Dlgation scurise","body":"EDF prend la responsabilit complte du parcours. Vous n'avez pas  grer d'intervenants, de formulaires ou de dlais. Si une tape bloque, le projet s'arrte sans frais ni engagement de votre part."},"banquier":{"title":" Pilotage administratif","body":"Processus intgralement structur et pilot par EDF. Le risque administratif est transfr  EDF. Cadre contractuel et opposable."},"standard":{"title":" EDF s'occupe du parcours","body":"Vous n'avez pas  vous battre avec des formulaires ou coordonner des artisans. EDF pilote de bout en bout. Si a bloque, le projet s'arrte sans frais."}}},{"id":"validations-techniques","title":"Des validations avant engagement","text":"Avant toute installation, des vrifications techniques sont ralises. En cas de doute (structure, amiante, conformit), des contrles complmentaires sont dclenchs.","infobulle":{"senior":{"title":" Vrifications sans engagement","body":"Aucune installation n'est lance tant que les conditions ne sont pas runies. Si un doute technique apparat, EDF dclenche des contrles supplmentaires sans frais pour vous."},"banquier":{"title":" Due diligence technique","body":"Audit technique pralable obligatoire. En cas de non-conformit dtecte (amiante, structure), le projet est suspendu sans engagement financier."},"standard":{"title":" Contrles avant installation","body":"EDF vrifie tout avant de commencer. Si quelque chose cloche, le projet s'arrte. Vous ne prenez aucun risque."}}},{"id":"garanties-long-terme","title":"Une protection dans la dure","text":"Le matriel, la production et le suivi sont couverts par des garanties contractuelles. Ces garanties s'inscrivent dans un cadre long terme, avec un interlocuteur unique.","microText":"Matriel  Production  Suivi","infobulle":{"senior":{"title":" Protection dans le temps","body":"Les garanties couvrent le matriel, la production et le suivi. Elles sont dfinies contractuellement, pas commercialement. EDF assure la continuit sur toute la dure."},"banquier":{"title":" Cadre de garantie","body":"Obligations de rsultat et de remplacement. Garanties dfinies contractuellement avec des seuils vrifiables. Scuris juridiquement."},"standard":{"title":" Vous tes couvert","body":"Le matriel est garanti. La production est suivie. Si a ne produit pas, EDF intervient. Simple et clair."}}},{"id":"continuite-sav","title":"Un projet suivi dans le temps","text":"Le projet ne s'arrte pas  l'installation. Le suivi, les interventions ventuelles et la continuit du service sont assurs par EDF.","infobulle":{"senior":{"title":" Continuit garantie","body":"La continuit de l'acteur est un lment central sur un projet long terme. EDF ne peut ni disparatre ni se dsengager. C'est la protection la plus forte possible."},"banquier":{"title":" Continuit de service","body":"Obligation de continuit par statut public. Interventions et suivi assurs sur toute la dure contractuelle. Risque de contrepartie neutralis."},"standard":{"title":" EDF reste prsent","body":"Sur 20 ans, le vrai risque n'est pas le matriel. C'est que l'entreprise n'existe plus. Avec EDF, ce risque n'existe pas."}}}],"explicationsGaranties":{"performance":{"title":"Garantie de performance","text":"EDF s'engage sur un niveau de production. Si ce niveau n'est pas atteint, EDF intervient ou compense.","infobulle":{"senior":{"title":" Production surveille","body":"EDF surveille la production relle. En cas d'cart significatif par rapport aux prvisions, une analyse est dclenche. Si l'cart est confirm et imputable au matriel, EDF intervient sans frais."},"banquier":{"title":" Garantie de performance","body":"Des seuils de production sont dfinis contractuellement. En cas d'cart constat et imputable au systme, EDF intervient ou compense selon les termes du contrat."},"standard":{"title":" Production garantie","body":"Si la production baisse anormalement, c'est dtect automatiquement. EDF analyse et intervient si ncessaire. Vous ne grez rien."}}},"materiel":{"title":"Garantie matriel","text":"Remplacement pices, main d'uvre et dplacement inclus selon l'offre slectionne.","infobulle":{"senior":{"title":" Matriel garanti","body":"Remplacement des lments dfectueux, main d'uvre et dplacement inclus. Les dures varient selon l'offre : 10 ans minimum (Essentielle),  vie sur certains composants (Performance)."},"banquier":{"title":" Garantie matriel","body":"Couverture contractuelle du matriel avec remplacement pices et main d'uvre. Dures : 1025 ans selon offre.  vie sur certains lments (Performance)."},"standard":{"title":" Pices garanties","body":"Si une pice casse, elle est remplace. Main d'uvre et dplacement inclus. Dure : 10  25 ans selon ce que vous choisissez."}}}},"systemYuze":{"title":"Supervision intelligente EDF","intro":"Votre installation est surveille en continu. EDF dtecte et intervient automatiquement si ncessaire.","features":[{"title":"Surveillance continue","text":"Analyse en temps rel, panneau par panneau."},{"title":"Dtection automatique","text":"Identification des carts et intervention si ncessaire."}]},"afficheurConnecte":{"title":"Suivi de production en temps rel","text":"Production, consommation et conomies visibles  tout moment."},"resultatBanner":{"text":"EDF installe, surveille et intervient si ncessaire. Vous bnficiez de la production sans contrainte technique."},"transition":{"senior":"Le cadre du projet est maintenant pos. Nous pouvons regarder la structure financire.","banquier":"Le cadre institutionnel et les garanties tant poss, nous pouvons analyser la structure financire.","standard":"Maintenant que le cadre est clair, on peut regarder les chiffres."},"synthese":{"senior":" ce stade, le cadre du projet est pos : responsabilits, garanties, prise en charge et continuit. Il ne s'agit pas d'une promesse, mais d'un primtre contractuel clair.","banquier":"Le cadre contractuel est dfini : acteur public, garanties opposables, continuit assure. La structure est scurise.","standard":"Rcap : EDF gre tout, garantit le matriel et la production, et reste prsent sur toute la dure. C'est scuris."}},"default":{"title":"Vos garanties  Selon l'offre choisie","intro":{"text":"Avec EDF, vous tes accompagn du dbut  la fin : tude, installation, contrle, mise en service et suivi. L'objectif est simple : que votre installation produise ce qui a t prvu, dans le temps.","infobulle":{"senior":{"title":" Protection dans le temps","body":"Elles couvrent le matriel, la production et le suivi."},"banquier":{"title":" Cadre de garantie","body":"Obligations de rsultat et de remplacement. Scuris juridiquement."},"standard":{"title":" Vous tes couvert","body":"Le matriel est garanti. La production est suivie."}}},"toggleLabels":{"off":"Essentielle (TVA 5.5%)","on":"Performance (TVA 20%)"},"toggleDisclaimer":null,"bannerEssentielle":{"title":"OFFRE ESSENTIELLE  TVA RDUITE 5.5%","items":["Panneaux  25 ans","Production garantie 0.4%/an","Fabrication franaise"]},"bannerPerformance":{"title":"OFFRE PERFORMANCE  TVA 20%","items":["Garantie maximale et srnit long terme."]},"sections":[],"explicationsGaranties":{"performance":{"title":"Garantie de performance","text":"si la production est infrieure aux engagements, une compensation est prvue contractuellement.","infobulle":{"senior":{"title":" Production surveille","body":"Si elle ne produit pas ce qui est prvu, EDF intervient."},"banquier":{"title":" Garantie de performance","body":"Des seuils de production sont dfinis contractuellement."},"standard":{"title":" Production garantie","body":"Si la production baisse, c'est dtect et pris en charge."}}},"materiel":{"title":"Garantie matriel","text":"remplacement pices, main d'uvre et dplacement selon conditions de l'offre slectionne.","infobulle":{"senior":{"title":" Matriel garanti","body":"Remplacement des lments dfectueux inclus."},"banquier":{"title":" Garantie matriel","body":"Couverture contractuelle du matriel."},"standard":{"title":" Pices garanties","body":"Si une pice casse, elle est remplace."}}}},"systemYuze":{"title":"Supervision intelligente EDF","intro":"Votre installation est suivie automatiquement. En cas d'cart de production, une alerte dclenche un diagnostic et, si ncessaire, une intervention.","features":[{"title":"Surveillance continue","text":"Analyse en temps rel, panneau par panneau."},{"title":"Optimisation IA","text":"Vos habitudes sont apprises pour maximiser votre autoconsommation."}]},"afficheurConnecte":{"title":"Afficheur Connect","text":"Production  consommation  conomies  visible en temps rel."},"resultatBanner":{"text":"Rsultat : vous installez, vous produisez, vous tes accompagn. EDF suit, et intervient si ncessaire. Votre rle : profiter des conomies."},"transition":{"senior":null,"banquier":null,"standard":null},"synthese":{"senior":null,"banquier":null,"standard":null}}}`),O0={garanties:Jj};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Iv=e=>{const t=Qj(e);return t.charAt(0).toUpperCase()+t.slice(1)},rw=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Zj=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=B.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:c,...u},d)=>B.createElement("svg",{ref:d,...eS,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:rw("lucide",i),...!o&&!Zj(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,p])=>B.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=(e,t)=>{const r=B.forwardRef(({className:n,...i},o)=>B.createElement(tS,{ref:o,iconNode:t,className:rw(`lucide-${Xj(Iv(e))}`,`lucide-${e}`,n),...i}));return r.displayName=Iv(e),r};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nw=It("arrow-right",rS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Mv=It("award",nS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iS=It("ban",sS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],oS=It("building-2",aS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ka=It("calendar",lS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],sw=It("chart-column",cS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gg=It("chevron-down",uS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hS=It("chevron-right",dS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pS=It("chevron-up",fS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bh=It("circle-alert",mS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fv=It("circle-check-big",xS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ar=It("circle-check",gS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Dv=It("circle-question-mark",vS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],yS=It("clipboard-check",bS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lh=It("clock",wS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],jS=It("cloud-upload",NS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],hl=It("coins",SS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],qv=It("crown",_S);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Bx=It("file-check",kS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],CS=It("file-search",ES);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$x=It("file-text",AS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],LS=It("flame",PS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],TS=It("heart",RS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Uf=It("house",OS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ya=It("info",IS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],ud=It("landmark",MS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],DS=It("lightbulb",FS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],US=It("loader-circle",qS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],BS=It("loader",zS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],hu=It("lock",$S);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Yg=It("map-pin",VS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],HS=It("pen-line",WS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Uv=It("phone",GS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],KS=It("plane",YS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],xd=It("scale",JS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],I0=It("settings",XS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zs=It("shield-check",QS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Vx=It("shield",ZS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],t_=It("star",e_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],yc=It("sun",r_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],iw=It("table-2",n_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zf=It("target",s_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],a_=It("timer",i_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Xf=It("trending-down",o_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],wc=It("trending-up",l_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fu=It("triangle-alert",c_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],d_=It("trophy",u_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qf=It("users",h_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ga=It("wallet",f_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Wx=It("wrench",p_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jd=It("x",m_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ga=It("zap",x_);function g_({onClose:e}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-[150]"}),s.jsx("div",{className:"fixed inset-0 z-[151] flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 border-2 border-green-500 rounded-3xl p-10 max-w-2xl w-full shadow-2xl animate-in zoom-in-95 duration-500",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-green-500/20 rounded-full blur-2xl animate-pulse"}),s.jsx("div",{className:"relative bg-gradient-to-br from-green-500 to-emerald-600 p-6 rounded-full",children:s.jsx(d_,{className:"w-16 h-16 text-white"})})]})}),s.jsx("h2",{className:"text-4xl font-black text-center text-white mb-4",children:" Parcours Termin !"}),s.jsx("p",{className:"text-center text-slate-300 text-lg mb-8",children:"Tu as complt toutes les tapes du protocole Coach NET avec succs."}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-xl p-4 text-center",children:[s.jsx(ar,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-white mb-1",children:"10/10"}),s.jsx("p",{className:"text-xs text-slate-400",children:"tapes compltes"})]}),s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4 text-center",children:[s.jsx(wc,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-white mb-1",children:"100%"}),s.jsx("p",{className:"text-xs text-slate-400",children:"Taux de russite"})]}),s.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-xl p-4 text-center",children:[s.jsx(t_,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-white mb-1",children:"Expert"}),s.jsx("p",{className:"text-xs text-slate-400",children:"Niveau atteint"})]})]}),s.jsxs("div",{className:"bg-black/40 rounded-2xl p-6 mb-8",children:[s.jsx("h3",{className:"text-sm font-bold text-green-400 uppercase tracking-wide mb-4",children:" Modules Critiques Valids"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ar,{className:"text-green-400",size:20}),s.jsx("span",{className:"text-white font-medium",children:"Rpartition nergie"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ar,{className:"text-green-400",size:20}),s.jsx("span",{className:"text-white font-medium",children:"Locataire VS Propritaire"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ar,{className:"text-green-400",size:20}),s.jsx("span",{className:"text-white font-medium",children:"Garanties & Scurit (90s+)"})]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-6 mb-8",children:s.jsxs("p",{className:"text-center text-white font-semibold text-lg",children:["Le client est maintenant"," ",s.jsx("span",{className:"text-green-400",children:"scuris motionnellement"})," ","et prt  signer."]})}),s.jsx("div",{className:"flex gap-4",children:s.jsx("button",{onClick:e,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white py-4 px-8 rounded-xl font-bold text-lg transition-all shadow-lg hover:shadow-green-500/50",children:"Fermer"})}),s.jsx("p",{className:"text-center text-slate-500 text-xs mt-6",children:"Ce parcours a t optimis par le systme Coach NET pour maximiser les taux de closing."})]})})]})}function v_({activeModule:e}){const[t,r]=B.useState(0),[n,i]=B.useState(null),o=B.useRef(Date.now()),c=B.useRef(null),u=B.useRef({orange:!1,red:!1}),d=()=>{o.current=Date.now(),r(0),i(null),u.current={orange:!1,red:!1}},h=()=>{i(null)};return B.useEffect(()=>{if(!e){c.current&&(clearInterval(c.current),c.current=null),r(0),i(null),u.current={orange:!1,red:!1};return}return o.current=Date.now(),r(0),i(null),u.current={orange:!1,red:!1},c.current=setInterval(()=>{const p=Math.floor((Date.now()-o.current)/1e3);r(p),p>=30&&!u.current.orange&&(u.current.orange=!0,i({level:"ORANGE",duration:p,title:" Silence prolong dtect",message:"Tu es sur ce module depuis 30 secondes sans avancer",impact:"Le client pourrait perdre l'attention ou douter",action:{type:"ACKNOWLEDGE",label:"OK, je continue"}})),p>=60&&!u.current.red&&(u.current.red=!0,i({level:"RED",duration:p,title:" ZONE DE DANGER - Silence critique",message:"Tu es bloqu depuis 1 minute sur ce module",impact:"Le client dcroche mentalement  risque d'abandon",action:{type:"ACKNOWLEDGE",label:"J'ai compris"}}))},1e3),()=>{c.current&&clearInterval(c.current)}},[e]),{silenceTime:t,silenceAlert:n,resetTimer:d,dismissSilenceAlert:h}}function b_(e){const t=y_(e);return{state:t,permissions:w_(t),locks:N_(t),nudges:j_(t,e),audit:__(t,e)}}function y_(e){return e.decision.isSigned?"SECURED":e.decision.hasReachedDecisionAnchor?"DECISION_OPEN":e.decision.hasSeenProjection&&e.decision.hasSeenBudgetModule?"LUCIDITY_POINT":e.decision.hasSeenCoreProofs?"CONFRONTATION":"STRUCTURATION"}function w_(e){return{budget:!0,projection:e!=="DISCOVERY",decisionAnchor:e==="LUCIDITY_POINT"||e==="DECISION_OPEN",signature:e==="DECISION_OPEN"}}function N_(e){return{lockNavigation:e==="DECISION_OPEN"||e==="SECURED",freezeAfterSign:e==="SECURED"}}function j_(e,t){return e==="DECISION_OPEN"&&t.user.fatigueScore>70?["pause","no_urgency"]:[]}function S_(e){const t=JSON.stringify(e);let r=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);r=(r<<5)-r+i,r=r&r}return"AZ-"+Math.abs(r).toString(16).toUpperCase()}function __(e,t){const r={budgetSeen:t.decision.hasSeenBudgetModule,projectionSeen:t.decision.hasSeenProjection,anchorReached:t.decision.hasReachedDecisionAnchor};return{timestamp:Date.now(),state:e,modulesSeen:t.session.openedModules,objectionsOpened:t.riskSignals.popupObjectionsOpened,decisionContext:r,decisionHash:S_({state:e,decisionContext:r,timestamp:Date.now()})}}function k_(e){return B.useMemo(()=>b_(e),[e])}function E_({activeModule:e,visitedModules:t,securityTime:r,currentStep:n,profile:i}){const[o,c]=B.useState(null);B.useEffect(()=>{if(e){if(e==="garanties"&&!t.includes("repartition")){d({level:"RED",title:" STOP - Squence casse",message:"Tu as ouvert Garanties sans faire Rpartition nergie",impact:"Le client ne ressent pas la douleur  pas d'urgence de changer",action:{type:"CLOSE_AND_OPEN",close:"garanties",open:"repartition",label:"Fermer Garanties et ouvrir Rpartition"}});return}if(e==="garanties"&&!t.includes("locataire-proprietaire")){d({level:"RED",title:" STOP - Pivot manquant",message:"Tu as ouvert Garanties sans faire le Pivot identitaire",impact:"Le client reste en mode 'locataire'  mental passif",action:{type:"CLOSE_AND_OPEN",close:"garanties",open:"locataire-proprietaire",label:"Fermer Garanties et ouvrir Locataire VS Propritaire"}});return}}},[e,t]);const u=()=>r<90?(d({level:"RED",title:" STOP - Temps minimum non respect",message:`Tu vas fermer Garanties aprs seulement ${r}s`,impact:"Le client n'est pas rassur  le doute persiste",detail:`Temps minimum requis : 90s | Temps actuel : ${r}s`,action:{type:"CANCEL_CLOSE",label:"Rester sur Garanties"}}),!1):!0,d=p=>{c(p)};return{activeAlert:o,dismissAlert:()=>{c(null)},checkSecurityTime:u}}function C_({alert:e,onDismiss:t,onAction:r}){if(!e)return null;const n=e.level==="RED",i=e.level==="ORANGE";return!n&&!i?null:s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 z-[100] backdrop-blur-sm ${n?"bg-black/80":"bg-black/60"}`}),s.jsx("div",{className:"fixed inset-0 z-[101] flex items-center justify-center p-4",children:s.jsxs("div",{className:`rounded-2xl p-8 max-w-xl w-full shadow-2xl animate-in zoom-in-95 duration-300 ${n?"bg-zinc-900 border-2 border-red-500":"bg-zinc-900 border-2 border-orange-500"}`,children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:`p-3 rounded-xl ${n?"bg-red-500/10":"bg-orange-500/10"}`,children:n?s.jsx(fu,{className:"w-8 h-8 text-red-500"}):s.jsx(bh,{className:"w-8 h-8 text-orange-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:e.title}),s.jsx("p",{className:"text-slate-300 text-base leading-relaxed",children:e.message})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:s.jsx(jd,{className:"w-5 h-5 text-slate-400"})})]}),s.jsxs("div",{className:`border rounded-xl p-4 mb-6 ${n?"bg-red-500/5 border-red-500/20":"bg-orange-500/5 border-orange-500/20"}`,children:[s.jsx("p",{className:`text-sm font-semibold mb-1 ${n?"text-red-400":"text-orange-400"}`,children:n?" Impact Closing NET :":" Impact potentiel :"}),s.jsx("p",{className:"text-sm text-slate-300",children:e.impact})]}),e.detail&&s.jsx("div",{className:"bg-white/5 rounded-lg p-3 mb-6",children:s.jsx("p",{className:"text-sm text-slate-400 font-mono",children:e.detail})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>r(e.action),className:`flex-1 text-white py-3 px-6 rounded-xl font-bold text-base transition-colors ${n?"bg-red-600 hover:bg-red-500":"bg-orange-600 hover:bg-orange-500"}`,children:e.action.label}),s.jsx("button",{onClick:t,className:"px-6 bg-zinc-800 hover:bg-zinc-700 text-slate-300 py-3 rounded-xl font-semibold transition-colors",children:"Ignorer"})]})]})})]})}const zv={75:9500,92:5200,93:3400,94:3800,91:3200,95:2900,77:2600,78:3500,69:4200,13:3600,33:3800,31:3200,44:3100,59:2400,67:2800,34:2900,"06":4500,default:2200},A_=async(e,t)=>{const n=await(await fetch(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(e)}&limit=1`)).json();if(!n.features||n.features.length===0)throw new Error("Adresse introuvable");const i=n.features[0],o=i.properties.postcode.substring(0,2),c=zv[o]||zv.default,u=t*c,d=Math.round(u*.08);return{pricePerSqm:c,greenValue:d,city:i.properties.city,dept:o}},Ei=({title:e,children:t,trigger:r,iconSize:n=16,className:i})=>{const[o,c]=B.useState(!1),u=B.useRef(null);B.useEffect(()=>{const h=p=>{u.current&&!u.current.contains(p.target)&&c(!1)};return o&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[o]),B.useEffect(()=>(o?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[o]);const d=o?s.jsxs("div",{ref:u,children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998]",onClick:()=>c(!1)}),s.jsx("div",{className:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[95vw] sm:w-[420px] md:w-[500px] max-w-[540px] z-[9999] animate-in fade-in zoom-in-95 duration-200",children:s.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 border border-blue-500/30 rounded-xl shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-blue-950/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ya,{size:20,className:"text-blue-400"}),s.jsx("h3",{className:"font-bold text-white text-sm",children:e})]}),s.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-white transition-colors p-1 rounded-lg hover:bg-white/5",children:s.jsx(jd,{size:18})})]}),s.jsx("div",{className:"p-5 text-sm text-gray-300 leading-relaxed max-h-[70vh] overflow-y-auto custom-scrollbar",children:t})]})})]}):null;return s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>c(!o),className:`inline-flex items-center justify-center text-blue-400 hover:text-blue-300 transition-colors cursor-pointer ${i||""}`,"aria-label":"Plus d'informations",children:r||s.jsx(Ya,{size:n})}),d&&tw.createPortal(d,document.body)]})},P_=({totalSavings:e,paybackYear:t,projectionYears:r})=>{const n=e>0&&t<=r;return s.jsxs("div",{className:`
      relative overflow-hidden
      min-w-[280px] px-6 py-4 rounded-2xl
      flex items-center justify-between gap-6
      backdrop-blur-md border shadow-2xl transition-all duration-300
      ${n?"bg-emerald-500/15 border-emerald-500/40 shadow-emerald-500/10":"bg-red-500/15 border-red-500/40 shadow-red-500/10"}
    `,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${n?"bg-emerald-500/20":"bg-red-500/20"}`,children:n?s.jsx(ar,{className:"w-6 h-6 text-emerald-400"}):s.jsx(bh,{className:"w-6 h-6 text-red-400"})}),s.jsxs("span",{className:`text-xs font-black uppercase tracking-widest leading-tight ${n?"text-emerald-400":"text-red-400"}`,children:["Projet",s.jsx("br",{}),"Rentable"]})]}),s.jsx("div",{className:`h-10 w-[1px] ${n?"bg-emerald-500/30":"bg-red-500/30"}`}),s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-2xl font-black text-white tracking-tighter",children:Math.round(e).toLocaleString("fr-FR")}),s.jsx("span",{className:`text-lg font-bold ${n?"text-emerald-400":"text-red-400"}`,children:""})]}),s.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tight opacity-80",children:["Gain net sur ",r," ans"]})]})]})},kr=e=>Math.round(e*100)/100,Ci=(e,t=0)=>{if(e==null||e==="")return t;const r=String(e).replace(",",".").replace(/\s/g,""),n=parseFloat(r);return isNaN(n)?t:n},Kg=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),Bv=(e,t)=>{var Z,le,ue,be,Ee,fe;const r=Ci(e.currentAnnualBill,0),n=Ci(e.yearlyConsumption,0),{inflationRate:i=5,projectionYears:o=20,electricityPrice:c=.25,yearlyProduction:u=7e3,selfConsumptionRate:d=70,installCost:h=18799,creditMonthlyPayment:p=0,insuranceMonthlyPayment:b=0,creditDurationMonths:y=0,buybackRate:g=.04,cashApport:S=0,interestRate:k}=t,E=kr(i),A=kr(h),L=n>0?n:c>0?r/c:0,P=kr(u*(d/100)),R=kr(u-P),X=kr(R*g),Q=L>0?kr(P/L*100):0,ae=new Date,se=ae.getMonth()===11?ae.getFullYear()+1:ae.getFullYear();let V=0,re=S,T=0,F=A;const z=[],H=[];S>0&&z.push({year:se,edfBillWithoutSolar:0,creditPayment:0,edfResidue:0,totalWithSolar:0,cumulativeSavings:-S,cumulativeSpendNoSolar:0,cumulativeSpendSolar:S,cashflowDiff:-S,solarSavingsValue:0}),H.push({year:se,edfBillWithoutSolar:0,creditPayment:0,edfResidue:0,totalWithSolar:0,cumulativeSavings:-A,cumulativeSpendNoSolar:0,cumulativeSpendSolar:A,cashflowDiff:-A,solarSavingsValue:0});for(let me=0;me<30;me++){const Oe=se+me,je=Math.pow(1+E/100,me),Ve=c*je,ze=kr(X*je),K=kr(L*Ve),We=kr(P*Ve),vt=Math.max(0,K-We),tt=me*12,Be=(me+1)*12,ht=Math.max(0,Math.min(Be,y)-Math.max(tt,0)),Ze=ht>0?kr((p+b)*ht):0,mt=kr(vt+Ze-ze);V+=K,re+=mt,z.push({year:Oe,edfBillWithoutSolar:K,creditPayment:Ze,edfResidue:vt,totalWithSolar:mt,cumulativeSavings:kr(V-re),cumulativeSpendNoSolar:kr(V),cumulativeSpendSolar:kr(re),cashflowDiff:kr(K-mt),solarSavingsValue:kr(We+ze)});const xt=kr(vt-ze);T+=K,F+=xt,H.push({year:Oe,edfBillWithoutSolar:K,creditPayment:0,edfResidue:vt,totalWithSolar:xt,cumulativeSavings:kr(T-F),cumulativeSpendNoSolar:kr(T),cumulativeSpendSolar:kr(F),cashflowDiff:kr(K-xt),solarSavingsValue:kr(We+ze)})}const ve=z.slice(0,o),ye=H.slice(0,o),xe=((Z=ve.at(-1))==null?void 0:Z.cumulativeSavings)??0,ie=((le=ye.at(-1))==null?void 0:le.cumulativeSavings)??0,he=z.findIndex(me=>me.cumulativeSavings>0),G=he===-1?30:he+1,ce=H.findIndex(me=>me.cumulativeSavings>0),I=ce===-1?o:ce+1,J=z[0];return{details:z,slicedDetails:ve,detailsCash:H,slicedDetailsCash:ye,totalSavingsProjected:xe,totalSavings:Math.max(0,xe),totalSpendNoSolar:((ue=ve.at(-1))==null?void 0:ue.cumulativeSpendNoSolar)??0,totalSpendSolar:((be=ve.at(-1))==null?void 0:be.cumulativeSpendSolar)??0,totalSavingsProjectedCash:ie,totalSpendNoSolarCash:((Ee=ye.at(-1))==null?void 0:Ee.cumulativeSpendNoSolar)??0,totalSpendSolarCash:((fe=ye.at(-1))==null?void 0:fe.cumulativeSpendSolar)??0,breakEvenPoint:G,breakEvenPointCash:I,paybackYear:Math.max(0,G),costOfInactionPerSecond:Math.max(1e-4,xe/o/(365*24*3600)),averageYearlyGain:kr(Math.max(0,xe/o)),averageYearlyGainCash:kr(Math.max(0,ie/o)),newMonthlyBillYear1:kr((J.creditPayment+J.edfResidue)/12),oldMonthlyBillYear1:kr(J.edfBillWithoutSolar/12),monthlyEffortYear1:kr((J.creditPayment+J.edfResidue)/12-J.edfBillWithoutSolar/12),roiPercentage:A>0?kr(Math.max(0,xe/o/A*100)):0,roiPercentageCash:A>0?kr(Math.max(0,ie/o/A*100)):0,bankEquivalentCapital:kr(Math.max(0,xe/o/.015)),bankEquivalentCapitalCash:kr(Math.max(0,ie/o/.015)),savingsRatePercent:Q,baseConsumptionKwh:L,lossIfWait1Year:kr(L*c),savingsLostIfWait1Year:kr(P*c),surplusRevenuePerYear:X,interestRate:k??Ci(e.creditInterestRate||0),year1:J}},L_=({totalCost:e})=>s.jsx("div",{className:"flex justify-center mb-8","data-testid":"expense-cards",children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl p-8 rounded-2xl border border-white/10 w-full max-w-lg text-center shadow-[0_0_40px_rgba(0,0,0,0.3)] hover:border-white/20 transition-all duration-500",children:[s.jsx("p",{className:"text-slate-500 text-[10px] uppercase font-bold tracking-[0.2em] mb-2",children:"Investissement Total"}),s.jsx("p",{className:"text-4xl md:text-5xl font-black text-white tracking-tight",children:Kg(e)})]})}),R_=({mode:e,monthlyPayment:t,durationMonths:r,cashDown:n=0})=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4","data-testid":"financing-cards",children:[s.jsxs("div",{className:"bg-black/40 p-6 rounded-2xl border border-white/10 flex flex-col items-center text-center backdrop-blur-xl hover:border-white/30 transition-all duration-500 group relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),s.jsx("h3",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-[0.2em] mb-2 relative z-10",children:"Mode de Financement"}),s.jsx("p",{className:"text-xl md:text-2xl font-black text-white tracking-tight relative z-10",children:e==="loan"?"CRDIT PARTENAIRE":"AUTO-FINANCEMENT"}),e==="loan"&&s.jsx("p",{className:"text-[10px] text-blue-400 font-bold uppercase tracking-wider mt-2 bg-blue-500/10 px-3 py-1 rounded border border-blue-500/20 relative z-10",children:"Partenaire Bancaire"})]}),s.jsxs("div",{className:"bg-black/40 p-6 rounded-2xl border border-white/10 flex flex-col items-center text-center backdrop-blur-xl hover:border-white/30 transition-all duration-500 group relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),s.jsx("h3",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-[0.2em] mb-2 relative z-10",children:"Mensualit"}),s.jsx("p",{className:"text-3xl md:text-4xl font-black text-emerald-400 tracking-tighter relative z-10",children:e==="loan"?`${Kg(t)} / mois`:"0  / mois"}),e==="loan"&&r>0&&s.jsxs("p",{className:"text-[10px] text-slate-600 font-mono mt-1 relative z-10",children:["sur ",r/12," ans"]})]})]}),T_=({savingsYear10:e,savingsYear20:t,savingsYear25:r})=>{const n=[{label:"Anne 10",value:e,color:"text-blue-400"},{label:"Anne 20",value:t,color:"text-indigo-400"},{label:"Anne 25",value:r,color:"text-emerald-400"}];return s.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4","data-testid":"timeline",children:n.map((i,o)=>s.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/5 text-center transition-all hover:bg-white/10 hover:scale-[1.02]",children:[s.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1 tracking-wider",children:i.label}),s.jsx("p",{className:`text-lg font-black ${i.color}`,children:Kg(i.value)})]},o))})};function Ep(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function O_(e,t,r,n){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function u(p){try{h(n.next(p))}catch(b){c(b)}}function d(p){try{h(n.throw(p))}catch(b){c(b)}}function h(p){p.done?o(p.value):i(p.value).then(u,d)}h((n=n.apply(e,t||[])).next())})}const I_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Jg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class M_ extends Jg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $v extends Jg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Vv extends Jg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hx||(Hx={}));class F_{constructor(t,{headers:r={},customFetch:n,region:i=Hx.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=I_(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return O_(this,arguments,void 0,function*(r,n={}){var i;let o,c;try{const{headers:u,method:d,body:h,signal:p,timeout:b}=n;let y={},{region:g}=n;g||(g=this.region);const S=new URL(`${this.url}/${r}`);g&&g!=="any"&&(y["x-region"]=g,S.searchParams.set("forceFunctionRegion",g));let k;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",k=h):typeof h=="string"?(y["Content-Type"]="text/plain",k=h):typeof FormData<"u"&&h instanceof FormData?k=h:(y["Content-Type"]="application/json",k=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?k=JSON.stringify(h):k=h;let E=p;b&&(c=new AbortController,o=setTimeout(()=>c.abort(),b),p?(E=c.signal,p.addEventListener("abort",()=>c.abort())):E=c.signal);const A=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:k,signal:E}).catch(X=>{throw new M_(X)}),L=A.headers.get("x-relay-error");if(L&&L==="true")throw new $v(A);if(!A.ok)throw new Vv(A);let P=((i=A.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),R;return P==="application/json"?R=yield A.json():P==="application/octet-stream"||P==="application/pdf"?R=yield A.blob():P==="text/event-stream"?R=A:P==="multipart/form-data"?R=yield A.formData():R=yield A.text(),{data:R,error:null,response:A}}catch(u){return{data:null,error:u,response:u instanceof Vv||u instanceof $v?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var D_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},q_=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let c=null,u=null,d=null,h=o.status,p=o.statusText;if(o.ok){var b,y;if(r.method!=="HEAD"){var g;const A=await o.text();A===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?u=A:u=JSON.parse(A))}const k=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),E=(y=o.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");k&&E&&E.length>1&&(d=parseInt(E[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var S;const k=await o.text();try{c=JSON.parse(k),Array.isArray(c)&&o.status===404&&(u=[],c=null,h=200,p="OK")}catch{o.status===404&&k===""?(h=204,p="No Content"):c={message:k}}if(c&&r.isMaybeSingle&&(!(c==null||(S=c.details)===null||S===void 0)&&S.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&r.shouldThrowOnError)throw new D_(c)}return{error:c,data:u,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(o=>{var c;let u="";const d=o==null?void 0:o.cause;if(d){var h,p,b,y;const S=(h=d==null?void 0:d.message)!==null&&h!==void 0?h:"",k=(p=d==null?void 0:d.code)!==null&&p!==void 0?p:"";u=`${(b=o==null?void 0:o.name)!==null&&b!==void 0?b:"FetchError"}: ${o==null?void 0:o.message}`,u+=`

Caused by: ${(y=d==null?void 0:d.name)!==null&&y!==void 0?y:"Error"}: ${S}`,k&&(u+=` (${k})`),d!=null&&d.stack&&(u+=`
${d.stack}`)}else{var g;u=(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(c=o==null?void 0:o.name)!==null&&c!==void 0?c:"FetchError"}: ${o==null?void 0:o.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},U_=class extends q_{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var c;const u=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Wv=new RegExp("[,()]");var dd=class extends U_{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Wv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Wv.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},z_=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let o=!1;const c=(e??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",c),n&&d.append("Prefer",`count=${n}`),new dd({method:i,url:u,headers:d,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:o,headers:c}=this.cloneRequestState();if(t&&c.append("Prefer",`count=${t}`),r||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new dd({method:i,url:o,headers:c,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var o;const c="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&u.searchParams.set("on_conflict",t),n&&d.append("Prefer",`count=${n}`),i||d.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(h.length>0){const p=[...new Set(h)].map(b=>`"${b}"`);u.searchParams.set("columns",p.join(","))}}return new dd({method:c,url:u,headers:d,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new dd({method:n,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new dd({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},B_=class aw{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new z_(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new aw(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:o}={}){var c;let u;const d=new URL(`${this.url}/rpc/${t}`);let h;const p=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(p)),b=n&&Object.values(r).some(p);b?(u="POST",h=r):n||i?(u=n?"HEAD":"GET",Object.entries(r).filter(([g,S])=>S!==void 0).map(([g,S])=>[g,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([g,S])=>{d.searchParams.append(g,S)})):(u="POST",h=r);const y=new Headers(this.headers);return b?y.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&y.set("Prefer",`count=${o}`),new dd({method:u,url:d,headers:y,schema:this.schemaName,body:h,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class $_{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const V_="2.93.3",W_=`realtime-js/${V_}`,H_="1.0.0",ow="2.0.0",Hv=ow,Gx=1e4,G_=1e3,Y_=100;var Nc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Nc||(Nc={}));var ds;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ds||(ds={}));var Lo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Lo||(Lo={}));var Yx;(function(e){e.websocket="websocket"})(Yx||(Yx={}));var pu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(pu||(pu={}));class K_{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,n){var i,o;const c=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",d=(o=t.join_ref)!==null&&o!==void 0?o:"",h=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+c.length+h.length+b.length,g=new ArrayBuffer(this.HEADER_LENGTH+y);let S=new DataView(g),k=0;S.setUint8(k++,this.KINDS.userBroadcastPush),S.setUint8(k++,d.length),S.setUint8(k++,u.length),S.setUint8(k++,c.length),S.setUint8(k++,h.length),S.setUint8(k++,b.length),S.setUint8(k++,r),Array.from(d,A=>S.setUint8(k++,A.charCodeAt(0))),Array.from(u,A=>S.setUint8(k++,A.charCodeAt(0))),Array.from(c,A=>S.setUint8(k++,A.charCodeAt(0))),Array.from(h,A=>S.setUint8(k++,A.charCodeAt(0))),Array.from(b,A=>S.setUint8(k++,A.charCodeAt(0)));var E=new Uint8Array(g.byteLength+n.byteLength);return E.set(new Uint8Array(g),0),E.set(new Uint8Array(n),g.byteLength),E.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,o,c,u,d]=n;return r({join_ref:i,ref:o,topic:c,event:u,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),o=r.getUint8(2),c=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const h=n.decode(t.slice(d,d+i));d=d+i;const p=n.decode(t.slice(d,d+o));d=d+o;const b=n.decode(t.slice(d,d+c));d=d+c;const y=t.slice(d,t.byteLength),g=u===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,S={type:this.BROADCAST_EVENT,event:p,payload:g};return c>0&&(S.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class lw{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Qr||(Qr={}));const Gv=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,c)=>(o[c]=J_(c,e,t,i),o),{}):{}},J_=(e,t,r,n)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,c=r[e];return o&&!n.includes(o)?cw(o,c):Kx(c)},cw=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ek(t,r)}switch(e){case Qr.bool:return X_(t);case Qr.float4:case Qr.float8:case Qr.int2:case Qr.int4:case Qr.int8:case Qr.numeric:case Qr.oid:return Q_(t);case Qr.json:case Qr.jsonb:return Z_(t);case Qr.timestamp:return tk(t);case Qr.abstime:case Qr.date:case Qr.daterange:case Qr.int4range:case Qr.int8range:case Qr.money:case Qr.reltime:case Qr.text:case Qr.time:case Qr.timestamptz:case Qr.timetz:case Qr.tsrange:case Qr.tstzrange:return Kx(t);default:return Kx(t)}},Kx=e=>e,X_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Q_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Z_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},ek=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const c=e.slice(1,r);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(u=>cw(t,u))}return e},tk=e=>typeof e=="string"?e.replace(" ","T"):e,uw=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class M0{constructor(t,r,n={},i=Gx){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yv||(Yv={}));class dh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dh.syncState(this.state,i,o,c),this.pendingDiffs.forEach(d=>{this.state=dh.syncDiff(this.state,d,o,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=dh.syncDiff(this.state,i,o,c),u())}),this.onJoin((i,o,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:c})}),this.onLeave((i,o,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const o=this.cloneDeep(t),c=this.transformState(r),u={},d={};return this.map(o,(h,p)=>{c[h]||(d[h]=p)}),this.map(c,(h,p)=>{const b=o[h];if(b){const y=p.map(E=>E.presence_ref),g=b.map(E=>E.presence_ref),S=p.filter(E=>g.indexOf(E.presence_ref)<0),k=b.filter(E=>y.indexOf(E.presence_ref)<0);S.length>0&&(u[h]=S),k.length>0&&(d[h]=k)}else u[h]=p}),this.syncDiff(o,{joins:u,leaves:d},n,i)}static syncDiff(t,r,n,i){const{joins:o,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(u,d)=>{var h;const p=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(d),p.length>0){const b=t[u].map(g=>g.presence_ref),y=p.filter(g=>b.indexOf(g.presence_ref)<0);t[u].unshift(...y)}n(u,p,d)}),this.map(c,(u,d)=>{let h=t[u];if(!h)return;const p=d.map(b=>b.presence_ref);h=h.filter(b=>p.indexOf(b.presence_ref)<0),t[u]=h,i(u,h,d),h.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Kv||(Kv={}));var hh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hh||(hh={}));var Bl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Bl||(Bl={}));class gd{constructor(t,r={config:{}},n){var i,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ds.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new M0(this,Lo.join,this.params,this.timeout),this.rejoinTimer=new lw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ds.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ds.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ds.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ds.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ds.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lo.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new dh(this),this.broadcastEndpointURL=uw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ds.closed){const{config:{broadcast:c,presence:u,private:d}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[hh.PRESENCE]&&this.bindings[hh.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,b={},y={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Bl.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Bl.CLOSED)),this.updateJoinPayload(Object.assign({config:y},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(Bl.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,E=(S=k==null?void 0:k.length)!==null&&S!==void 0?S:0,A=[];for(let L=0;L<E;L++){const P=k[L],{filter:{event:R,schema:X,table:Q,filter:ae}}=P,se=g&&g[L];if(se&&se.event===R&&gd.isFilterValueEqual(se.schema,X)&&gd.isFilterValueEqual(se.table,Q)&&gd.isFilterValueEqual(se.filter,ae))A.push(Object.assign(Object.assign({},P),{id:se.id}));else{this.unsubscribe(),this.state=ds.errored,t==null||t(Bl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,t&&t(Bl.SUBSCRIBED);return}}).receive("error",g=>{this.state=ds.errored,t==null||t(Bl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Bl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ds.joined&&t===hh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const h=await u.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,u,d;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ds.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new M0(this,Lo.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ds.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new M0(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Y_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,o;const c=t.toLocaleLowerCase(),{close:u,error:d,leave:h,join:p}=Lo;if(n&&[u,d,h,p].indexOf(c)>=0&&n!==this._joinRef())return;let y=this._onMessage(c,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var S,k,E;return((S=g.filter)===null||S===void 0?void 0:S.event)==="*"||((E=(k=g.filter)===null||k===void 0?void 0:k.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===c}).map(g=>g.callback(y,n)):(o=this.bindings[c])===null||o===void 0||o.filter(g=>{var S,k,E,A,L,P;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in g){const R=g.id,X=(S=g.filter)===null||S===void 0?void 0:S.event;return R&&((k=r.ids)===null||k===void 0?void 0:k.includes(R))&&(X==="*"||(X==null?void 0:X.toLocaleLowerCase())===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const R=(L=(A=g==null?void 0:g.filter)===null||A===void 0?void 0:A.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return R==="*"||R===((P=r==null?void 0:r.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===c}).map(g=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:k,table:E,commit_timestamp:A,type:L,errors:P}=S;y=Object.assign(Object.assign({},{schema:k,table:E,commit_timestamp:A,eventType:L,new:{},old:{},errors:P}),this._getPayloadRecords(S))}g.callback(y,n)})}_isClosed(){return this.state===ds.closed}_isJoined(){return this.state===ds.joined}_isJoining(){return this.state===ds.joining}_isLeaving(){return this.state===ds.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&gd.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Lo.close,{},t)}_onError(t){this._on(Lo.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ds.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Gv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Gv(t.columns,t.old_record)),r}}const F0=()=>{},mf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rk=[1e3,2e3,5e3,1e4],nk=1e4,sk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ik{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gx,this.transport=null,this.heartbeatIntervalMs=mf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=F0,this.ref=0,this.reconnectTimer=null,this.vsn=Hv,this.logger=F0,this.conn=null,this.sendBuffer=[],this.serializer=new K_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Yx.websocket}`,this.httpEndpoint=uw(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Nc.connecting:return pu.Connecting;case Nc.open:return pu.Open;case Nc.closing:return pu.Closing;default:return pu.Closed}}isConnected(){return this.connectionState()===pu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new gd(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:i,ref:o}=t,c=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(G_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},mf.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:o,ref:c}=r,u=c?`(${c})`:"",d=o.status||"";this.log("receive",`${d} ${n} ${i} ${u}`.trim(),o),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,o,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Nc.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Nc.open||this.conn.readyState===Nc.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Lo.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([sk],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const o={access_token:r,version:W_};r&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Lo.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new lw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,o,c,u,d,h,p,b,y,g;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Gx,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:mf.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=t==null?void 0:t.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:F0,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:Hv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:(S=>rk[S-1]||nk),this.vsn){case H_:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:((S,k)=>k(JSON.stringify(S))),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:((S,k)=>k(JSON.parse(S)));break;case ow:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var yh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ak(e,t,r){const n=new URL(t,e);if(r)for(const[i,o]of Object.entries(r))o!==void 0&&n.searchParams.set(i,o);return n.toString()}async function ok(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function lk(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:o,headers:c}){const u=ak(e.baseUrl,n,i),d=await ok(e.auth),h=await t(u,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...d,...c},body:o?JSON.stringify(o):void 0}),p=await h.text(),b=(h.headers.get("content-type")||"").includes("application/json"),y=b&&p?JSON.parse(p):p;if(!h.ok){const g=b?y:void 0,S=g==null?void 0:g.error;throw new yh((S==null?void 0:S.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:g})}return{status:h.status,headers:h.headers,data:y}}}}function xf(e){return e.join("")}var ck=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:xf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xf(e.namespace)}`}),!0}catch(t){if(t instanceof yh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof yh&&r.status===409)return;throw r}}};function Ju(e){return e.join("")}var uk=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ju(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ju(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ju(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ju(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ju(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ju(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof yh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof yh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},dk=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=lk({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new ck(this.client,t),this.tableOps=new uk(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Cp=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Ap(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var gf=class extends Cp{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},dw=class extends Cp{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const hk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fk=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Jx=e=>{if(Array.isArray(e))return e.map(r=>Jx(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Jx(n)}),t},pk=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}function mk(e,t){if(wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xk(e){var t=mk(e,"string");return wh(t)=="symbol"?t:t+""}function gk(e,t,r){return(t=xk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jv(Object(r),!0).forEach(function(n){gk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Xv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},vk=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e,o=i.status||500;if(typeof i.json=="function")i.json().then(c=>{const u=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||o+"";t(new gf(Xv(c),o,u,n))}).catch(()=>{if(n==="vectors"){const c=o+"";t(new gf(i.statusText||`HTTP ${o} error`,o,c,n))}else{const c=o+"";t(new gf(i.statusText||`HTTP ${o} error`,o,c,n))}});else{const c=o+"";t(new gf(i.statusText||`HTTP ${o} error`,o,c,n))}}else t(new dw(Xv(e),e,n))},bk=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?zt(zt({},i),r):(fk(n)?(i.headers=zt({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),zt(zt({},i),r))};async function eh(e,t,r,n,i,o,c){return new Promise((u,d)=>{e(r,bk(t,n,i,o)).then(h=>{if(!h.ok)throw h;if(n!=null&&n.noResolveJson)return h;if(c==="vectors"){const p=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!p||!p.includes("application/json"))return{}}return h.json()}).then(h=>u(h)).catch(h=>vk(h,d,n,c))})}function hw(e="storage"){return{get:async(t,r,n,i)=>eh(t,"GET",r,n,i,void 0,e),post:async(t,r,n,i,o)=>eh(t,"POST",r,i,o,n,e),put:async(t,r,n,i,o)=>eh(t,"PUT",r,i,o,n,e),head:async(t,r,n,i)=>eh(t,"HEAD",r,zt(zt({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,r,n,i,o)=>eh(t,"DELETE",r,i,o,n,e)}}const yk=hw("storage"),{get:Nh,post:Po,put:Xx,head:wk,remove:Xg}=yk,va=hw("vectors");var Fd=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=hk(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ap(r))return{data:null,error:r};throw r}}},Nk=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ap(t))return{data:null,error:t};throw t}}};let fw;fw=Symbol.toStringTag;var jk=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[fw]="BlobDownloadBuilder",this.promise=null}asStream(){return new Nk(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ap(t))return{data:null,error:t};throw t}}};const Sk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var _k=class extends Fd{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var i=this;return i.handleOperation(async()=>{let o;const c=zt(zt({},Qv),n);let u=zt(zt({},i.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),d&&o.append("metadata",i.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),d&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(d))):(o=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,d&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),n!=null&&n.headers&&(u=zt(zt({},u),n.headers));const h=i._removeEmptyFolders(t),p=i._getFinalPath(h),b=await(e=="PUT"?Xx:Po)(i.fetch,`${i.url}/object/${p}`,o,zt({headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{path:h,id:b.Id,fullPath:b.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const o=i._removeEmptyFolders(e),c=i._getFinalPath(o),u=new URL(i.url+`/object/upload/sign/${c}`);return u.searchParams.set("token",t),i.handleOperation(async()=>{let d;const h=zt({upsert:Qv.upsert},n),p=zt(zt({},i.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{path:o,fullPath:(await Xx(i.fetch,u.toString(),d,{headers:p})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const i=zt({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=await Po(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(r.url+o.url),u=c.searchParams.get("token");if(!u)throw new Cp("No token returned by API");return{signedUrl:c.toString(),path:e,token:u}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Po(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Po(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),o=await Po(n.fetch,`${n.url}/object/sign/${i}`,zt({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${o.signedURL}${c}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const i=await Po(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(c=>zt(zt({},c),{},{signedUrl:c.signedURL?encodeURI(`${n.url}${c.signedURL}${o}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",o=this._getFinalPath(e),c=()=>Nh(this.fetch,`${this.url}/${r}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new jk(c,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Jx(await Nh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await wk(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ap(n)&&n instanceof dw){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Xg(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const i=zt(zt(zt({},Sk),t),{},{prefix:e||""});return await Po(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=zt({},e);return await Po(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const kk="2.93.3",Ih={"X-Client-Info":`storage-js/${kk}`};var Ek=class extends Fd{constructor(e,t={},r,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const o=i.href.replace(/\/$/,""),c=zt(zt({},Ih),t);super(o,c,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Nh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Nh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Po(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Xx(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Po(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Xg(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Ck=class extends Fd{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=zt(zt({},Ih),t);super(n,i,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Po(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Nh(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Xg(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!pk(e))throw new Cp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new dk({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,o){const c=i[o];return typeof c!="function"?c:async(...u)=>{try{return{data:await c.apply(i,u),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}},Ak=class extends Fd{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=zt(zt({},Ih),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await va.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await va.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await va.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await va.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},Pk=class extends Fd{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=zt(zt({},Ih),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await va.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await va.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await va.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await va.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await va.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Lk=class extends Fd{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=zt(zt({},Ih),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await va.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await va.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await va.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await va.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Rk=class extends Lk{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Tk(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Tk=class extends Ak{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,zt(zt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,zt(zt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Ok(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Ok=class extends Pk{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,zt(zt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,zt(zt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,zt(zt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,zt(zt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,zt(zt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Ik=class extends Ek{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new _k(this.url,this.headers,e,this.fetch)}get vectors(){return new Rk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ck(this.url+"/iceberg",this.headers,this.fetch)}};const pw="2.93.3",hd=30*1e3,Qx=3,D0=Qx*hd,Mk="http://localhost:9999",Fk="supabase.auth.token",Dk={"X-Client-Info":`gotrue-js/${pw}`},Zx="X-Supabase-Api-Version",mw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Uk=600*1e3;class jh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function wt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zk extends jh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Bk(e){return wt(e)&&e.name==="AuthApiError"}class mu extends jh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Jl extends jh{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class xa extends Jl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function q0(e){return wt(e)&&e.name==="AuthSessionMissingError"}class Xu extends Jl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vf extends Jl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bf extends Jl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $k(e){return wt(e)&&e.name==="AuthImplicitGrantRedirectError"}class Zv extends Jl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vk extends Jl{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class eg extends Jl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function U0(e){return wt(e)&&e.name==="AuthRetryableFetchError"}class e2 extends Jl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class tg extends Jl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),t2=` 	
\r=`.split(""),Wk=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<t2.length;t+=1)e[t2[t].charCodeAt(0)]=-2;for(let t=0;t<Zf.length;t+=1)e[Zf[t].charCodeAt(0)]=t;return e})();function r2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Zf[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Zf[n]),t.queuedBits-=6}}function xw(e,t,r){const n=Wk[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function n2(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=c=>{Yk(c,n,r)};for(let c=0;c<e.length;c+=1)xw(e.charCodeAt(c),i,o);return t.join("")}function Hk(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Gk(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Hk(n,t)}}function Yk(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Sd(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)xw(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Kk(e){const t=[];return Gk(e,r=>t.push(r)),new Uint8Array(t)}function gu(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>r2(i,r,n)),r2(null,r,n),t.join("")}function Jk(e){return Math.round(Date.now()/1e3)+e}function Xk(){return Symbol("auth-callback")}const Us=()=>typeof window<"u"&&typeof document<"u",su={tested:!1,writable:!1},gw=()=>{if(!Us())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(su.tested)return su.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),su.tested=!0,su.writable=!0}catch{su.tested=!0,su.writable=!1}return su.writable};function Qk(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const vw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Zk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fd=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},iu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qs=async(e,t)=>{await e.removeItem(t)};class Pp{constructor(){this.promise=new Pp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Pp.promiseConstructor=Promise;function yf(e){const t=e.split(".");if(t.length!==3)throw new tg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!qk.test(t[n]))throw new tg("JWT not in base64url format");return{header:JSON.parse(n2(t[0])),payload:JSON.parse(n2(t[1])),signature:Sd(t[2]),raw:{header:t[0],payload:t[1]}}}async function e6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function t6(e,t){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await e(o);if(!t(o,null,c)){n(c);return}}catch(c){if(!t(o,c)){i(c);return}}})()})}function r6(e){return("0"+e.toString(16)).substr(-2)}function n6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,r6).join("")}async function s6(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function i6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await s6(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qu(e,t,r=!1){const n=n6();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await fd(e,`${t}-code-verifier`,i);const o=await i6(n);return[o,n===o?"plain":"s256"]}const a6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function o6(e){const t=e.headers.get(Zx);if(!t||!t.match(a6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function l6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function c6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const u6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zu(e){if(!u6.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function z0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function d6(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function s2(e){return JSON.parse(JSON.stringify(e))}const cu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),h6=[502,503,504];async function i2(e){var t;if(!Zk(e))throw new eg(cu(e),0);if(h6.includes(e.status))throw new eg(cu(e),e.status);let r;try{r=await e.json()}catch(o){throw new mu(cu(o),o)}let n;const i=o6(e);if(i&&i.getTime()>=mw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new e2(cu(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new xa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new e2(cu(r),e.status,r.weak_password.reasons);throw new zk(cu(r),e.status||500,n)}const f6=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function qt(e,t,r,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[Zx]||(o[Zx]=mw["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const c=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await p6(e,t,r+u,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function p6(e,t,r,n,i,o){const c=f6(t,n,i,o);let u;try{u=await e(r,Object.assign({},c))}catch(d){throw console.error(d),new eg(cu(d),0)}if(u.ok||await i2(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(d){await i2(d)}}function Co(e){var t;let r=null;g6(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Jk(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function a2(e){const t=Co(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Sc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function m6(e){return{data:e,error:null}}function x6(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=e,c=Ep(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},d=Object.assign({},c);return{data:{properties:u,user:d},error:null}}function o2(e){return e}function g6(e){return e.access_token&&e.refresh_token&&e.expires_in}const B0=["global","local","others"];class v6{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=vw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=B0[0]){if(B0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${B0.join(", ")}`);try{return await qt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await qt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Sc})}catch(n){if(wt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ep(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await qt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:x6,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(wt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await qt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Sc})}catch(r){if(wt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,o,c,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await qt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:o2});if(p.error)throw p.error;const b=await p.json(),y=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,g=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return g.length>0&&(g.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);h[`${E}Page`]=k}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},b),h),error:null}}catch(h){if(wt(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Zu(t);try{return await qt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Sc})}catch(r){if(wt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Zu(t);try{return await qt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Sc})}catch(n){if(wt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Zu(t);try{return await qt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Sc})}catch(n){if(wt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Zu(t.userId);try{const{data:r,error:n}=await qt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(wt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Zu(t.userId),Zu(t.id);try{return{data:await qt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,o,c,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await qt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:o2});if(p.error)throw p.error;const b=await p.json(),y=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,g=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return g.length>0&&(g.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);h[`${E}Page`]=k}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},b),h),error:null}}catch(h){if(wt(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await qt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(wt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await qt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(wt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await qt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(wt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await qt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await qt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(wt(r))return{data:null,error:r};throw r}}}function l2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ed={debug:!!(globalThis&&gw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class b6 extends bw{}async function y6(e,t,r){ed.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ed.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ed.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ed.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ed.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new b6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ed.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function w6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yw(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function N6(e){return parseInt(e,16)}function j6(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function S6(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:c,notBefore:u,requestId:d,resources:h,scheme:p,uri:b,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=yw(e.address),S=p?`${p}://${n}`:n,k=e.statement?`${e.statement}
`:"",E=`${S} wants you to sign in with your Ethereum account:
${g}

${k}`;let A=`URI: ${b}
Version: ${y}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(i&&(A+=`
Expiration Time: ${i.toISOString()}`),u&&(A+=`
Not Before: ${u.toISOString()}`),d&&(A+=`
Request ID: ${d}`),h){let L=`
Resources:`;for(const P of h){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);L+=`
- ${P}`}A+=L}return`${E}
${A}`}class Jn extends Error{constructor({message:t,code:r,cause:n,name:i}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=i??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class ep extends Jn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function _6({error:e,options:t}){var r,n,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Jn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Jn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Jn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Jn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Jn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Jn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Jn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(ww(c)){if(o.rp.id!==c)return new Jn({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Jn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Jn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function k6({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Jn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(ww(n)){if(r.rpId!==n)return new Jn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Jn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class E6{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const C6=new E6;function A6(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Ep(e,["challenge","user","excludeCredentials"]),o=Sd(t).buffer,c=Object.assign(Object.assign({},r),{id:Sd(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:c});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:Sd(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function P6(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ep(e,["challenge","allowCredentials"]),i=Sd(t).buffer,o=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];o.allowCredentials[c]=Object.assign(Object.assign({},u),{id:Sd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function L6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:gu(new Uint8Array(e.response.attestationObject)),clientDataJSON:gu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function R6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:gu(new Uint8Array(i.authenticatorData)),clientDataJSON:gu(new Uint8Array(i.clientDataJSON)),signature:gu(new Uint8Array(i.signature)),userHandle:i.userHandle?gu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ww(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function c2(){var e,t;return!!(Us()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function T6(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ep("Browser returned unexpected credential type",t)}:{data:null,error:new ep("Empty credential response",t)}}catch(t){return{data:null,error:_6({error:t,options:e})}}}async function O6(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ep("Browser returned unexpected credential type",t)}:{data:null,error:new ep("Empty credential response",t)}}catch(t){return{data:null,error:k6({error:t,options:e})}}}const I6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},M6={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function tp(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const o in i){const c=i[o];if(c!==void 0)if(Array.isArray(c))n[o]=c;else if(r(c))n[o]=c;else if(t(c)){const u=n[o];t(u)?n[o]=tp(u,c):n[o]=tp(c)}else n[o]=c}return n}function F6(e,t){return tp(I6,e,t||{})}function D6(e,t){return tp(M6,e,t||{})}class q6{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},o){var c;try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!u)return{data:null,error:d};const h=i??C6.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;if(!p.name){const b=n;if(b)p.name=`${p.id}:${b}`;else{const g=(await this.client.getUser()).data.user,S=((c=g==null?void 0:g.user_metadata)===null||c===void 0?void 0:c.name)||(g==null?void 0:g.email)||(g==null?void 0:g.id)||"User";p.name=`${p.id}:${S}`}}p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=F6(u.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:b,error:y}=await T6({publicKey:p,signal:h});return b?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:b}},error:null}:{data:null,error:y}}case"request":{const p=D6(u.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:b,error:y}=await O6(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return b?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:b}},error:null}:{data:null,error:y}}}}catch(u){return wt(u)?{data:null,error:u}:{data:null,error:new mu("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!r)return{data:null,error:new jh("rpId is required for WebAuthn authentication")};try{if(!c2())return{data:null,error:new mu("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:o});if(!c)return{data:null,error:u};const{webauthn:d}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(c){return wt(c)?{data:null,error:c}:{data:null,error:new mu("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!r)return{data:null,error:new jh("rpId is required for WebAuthn registration")};try{if(!c2())return{data:null,error:new mu("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(p=>{var b;return(b=p.data)===null||b===void 0?void 0:b.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:u};const{data:d,error:h}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:o});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(c){return wt(c)?{data:null,error:c}:{data:null,error:new mu("Unexpected error in register",c)}}}}w6();const U6={url:Mk,storageKey:Fk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function u2(e,t,r){return await r()}const td={};class Sh{get jwks(){var t,r;return(r=(t=td[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){td[this.storageKey]=Object.assign(Object.assign({},td[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=td[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){td[this.storageKey]=Object.assign(Object.assign({},td[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},U6),t);if(this.storageKey=o.storageKey,this.instanceID=(r=Sh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Sh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Us()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new v6({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=vw(o.fetch),this.lock=o.lock||u2,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&Us()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=y6:this.lock=u2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new q6(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:gw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=l2(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=l2(this.memoryStorage)),Us()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c);try{await this._notifyAllSubscribers(c.data.event,c.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}this.initialize().catch(c=>{this._debug("#initialize()","error",c)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${pw}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Us()&&(r=Qk(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Us()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),$k(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:c,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return wt(r)?this._returnResult({error:r}):this._returnResult({error:new mu("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const o=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Co}),{data:c,error:u}=o;if(u||!c)return this._returnResult({data:{user:null,session:null},error:u});const d=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(wt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,n,i;try{let o;if("email"in t){const{email:p,password:b,options:y}=t;let g=null,S=null;this.flowType==="pkce"&&([g,S]=await Qu(this.storage,this.storageKey)),o=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:b,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:g,code_challenge_method:S},xform:Co})}else if("phone"in t){const{phone:p,password:b,options:y}=t;o=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:b,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Co})}else throw new vf("You must provide either an email or phone number and a password");const{data:c,error:u}=o;if(u||!c)return await qs(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(await qs(this.storage,`${this.storageKey}-code-verifier`),wt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:c,options:u}=t;r=await qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:a2})}else if("phone"in t){const{phone:o,password:c,options:u}=t;r=await qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:a2})}else throw new vf("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const o=new Xu;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(wt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,o,c,u,d,h,p,b,y;let g,S;if("message"in t)g=t.message,S=t.signature;else{const{chain:k,wallet:E,statement:A,options:L}=t;let P;if(Us())if(typeof E=="object")P=E;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")P=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=E}const R=new URL((r=L==null?void 0:L.url)!==null&&r!==void 0?r:window.location.href),X=await P.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!X||X.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=yw(X[0]);let ae=(n=L==null?void 0:L.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!ae){const V=await P.request({method:"eth_chainId"});ae=N6(V)}const se={domain:R.host,address:Q,statement:A,uri:R.href,version:"1",chainId:ae,nonce:(i=L==null?void 0:L.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(o=L==null?void 0:L.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=L==null?void 0:L.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=L==null?void 0:L.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=L==null?void 0:L.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=L==null?void 0:L.signInWithEthereum)===null||p===void 0?void 0:p.resources};g=S6(se),S=await P.request({method:"personal_sign",params:[j6(g),Q]})}try{const{data:k,error:E}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:S},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Co});if(E)throw E;if(!k||!k.session||!k.user){const A=new Xu;return this._returnResult({data:{user:null,session:null},error:A})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:E})}catch(k){if(wt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var r,n,i,o,c,u,d,h,p,b,y,g;let S,k;if("message"in t)S=t.message,k=t.signature;else{const{chain:E,wallet:A,statement:L,options:P}=t;let R;if(Us())if(typeof A=="object")R=A;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))R=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=A}const X=new URL((r=P==null?void 0:P.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const Q=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),L?{statement:L}:null));let ae;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")ae=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)ae=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)S=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),k=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${X.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(i=(n=P==null?void 0:P.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=P==null?void 0:P.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((c=P==null?void 0:P.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((u=P==null?void 0:P.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((d=P==null?void 0:P.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((h=P==null?void 0:P.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((b=(p=P==null?void 0:P.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||b===void 0)&&b.length?["Resources",...P.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const Q=await R.signMessage(new TextEncoder().encode(S),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=Q}}try{const{data:E,error:A}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:gu(k)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Co});if(A)throw A;if(!E||!E.session||!E.user){const L=new Xu;return this._returnResult({data:{user:null,session:null},error:L})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:A})}catch(E){if(wt(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const r=await iu(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Vk;const{data:o,error:c}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Co});if(await qs(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const u=new Xu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:c})}catch(o){if(await qs(this.storage,`${this.storageKey}-code-verifier`),wt(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:o,nonce:c}=t,u=await qt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Co}),{data:d,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const p=new Xu;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(r){if(wt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,o,c;try{if("email"in t){const{email:u,options:d}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Qu(this.storage,this.storageKey));const{error:b}=await qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:u,options:d}=t,{data:h,error:p}=await qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(c=d==null?void 0:d.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new vf("You must provide either an email or phone number.")}catch(u){if(await qs(this.storage,`${this.storageKey}-code-verifier`),wt(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let i,o;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await qt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Co});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,h=c.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(wt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,o,c;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Qu(this.storage,this.storageKey));const h=await qt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:m6});return!((o=h.data)===null||o===void 0)&&o.url&&Us()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(await qs(this.storage,`${this.storageKey}-code-verifier`),wt(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new xa;const{error:i}=await qt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(wt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:o}=t,{error:c}=await qt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:n,type:i,options:o}=t,{data:c,error:u}=await qt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new vf("You must provide either an email or phone number and a type")}catch(r){if(wt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await iu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<D0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await iu(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=z0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=d6(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Sc}):await this._useSession(async r=>{var n,i,o;const{data:c,error:u}=r;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xa}:await qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Sc})})}catch(r){if(wt(r))return q0(r)&&(await this._removeSession(),await qs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new xa;const c=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Qu(this.storage,this.storageKey));const{data:h,error:p}=await qt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:c.access_token,xform:Sc});if(p)throw p;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await qs(this.storage,`${this.storageKey}-code-verifier`),wt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xa;const r=Date.now()/1e3;let n=r,i=!0,o=null;const{payload:c}=yf(t.access_token);if(c.exp&&(n=c.exp,i=n<=r),i){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(wt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:u}=r;if(u)throw u;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new xa;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(wt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Us())throw new bf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Zv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Zv("No code detected.");const{data:L,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:c,expires_in:u,expires_at:d,token_type:h}=t;if(!o||!u||!c||!h)throw new bf("No session defined in URL");const p=Math.round(Date.now()/1e3),b=parseInt(u);let y=p+b;d&&(y=parseInt(d));const g=y-p;g*1e3<=hd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${b}s`);const S=y-b;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,p);const{data:k,error:E}=await this._getUser(o);if(E)throw E;const A={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:b,expires_at:y,refresh_token:c,token_type:h,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:t.type},error:null})}catch(n){if(wt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await iu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o&&!q0(o))return this._returnResult({error:o});const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,t);if(u&&!(Bk(u)&&(u.status===404||u.status===401||u.status===403)||q0(u)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await qs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Xk(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Qu(this.storage,this.storageKey,!0));try{return await qt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await qs(this.storage,`${this.storageKey}-code-verifier`),wt(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(wt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var c,u,d,h,p;const{data:b,error:y}=o;if(y)throw y;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await qt(this.fetch,"GET",g,{headers:this.headers,jwt:(p=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Us()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(wt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:o}}=r;if(i)throw i;const{options:c,provider:u,token:d,access_token:h,nonce:p}=t,b=await qt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Co}),{data:y,error:g}=b;return g?this._returnResult({data:{user:null,session:null},error:g}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Xu}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:g}))}catch(i){if(await qs(this.storage,`${this.storageKey}-code-verifier`),wt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:o,error:c}=r;if(c)throw c;return await qt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(wt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await t6(async i=>(i>0&&await e6(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await qt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Co})),(i,o)=>{const c=200*Math.pow(2,i);return o&&U0(o)&&Date.now()+c-n<hd})}catch(n){if(this._debug(r,"error",n),wt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Us()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await iu(this.storage,this.storageKey);if(i&&this.userStorage){let c=await iu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await fd(this.userStorage,this.storageKey+"-user",c)),i.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:z0()}else if(i&&!i.user&&!i.user){const c=await iu(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(i.user=c.user,await qs(this.storage,this.storageKey+"-user"),await fd(this.storage,this.storageKey,i)):i.user=z0()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<D0;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${D0}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),U0(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(i.access_token);!u&&(c!=null&&c.user)?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new xa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pp;const{data:o,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!o.session)throw new xa;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),wt(o)){const c={data:null,error:o};return U0(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){o.push(d)}});if(await Promise.all(c),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await qs(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await fd(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const o=s2(i);await fd(this.storage,this.storageKey,o)}else{const i=s2(r);await fd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await qs(this.storage,this.storageKey),await qs(this.storage,this.storageKey+"-code-verifier"),await qs(this.storage,this.storageKey+"-user"),this.userStorage&&await qs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Us()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),hd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/hd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${hd}ms, refresh threshold is ${Qx} ticks`),i<=Qx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof bw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Us()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,c]=await Qu(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(u.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?this._returnResult({data:null,error:o}):await qt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(wt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:h}=await qt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(wt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?L6(t.webauthn.credential_response):R6(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await qt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(wt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=await qt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:u}=c;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:A6(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:P6(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(wt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,i,o;if(t)try{const{payload:g}=yf(t);let S=null;g.aal&&(S=g.aal);let k=S;const{data:{user:E},error:A}=await this.getUser(t);if(A)return this._returnResult({data:null,error:A});((n=(r=E==null?void 0:E.factors)===null||r===void 0?void 0:r.filter(R=>R.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(k="aal2");const P=g.amr||[];return{data:{currentLevel:S,nextLevel:k,currentAuthenticationMethods:P},error:null}}catch(g){if(wt(g))return this._returnResult({data:null,error:g});throw g}const{data:{session:c},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=yf(c.access_token);let h=null;d.aal&&(h=d.aal);let p=h;((o=(i=c.user.factors)===null||i===void 0?void 0:i.filter(g=>g.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(p="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await qt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new xa})})}catch(r){if(wt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new xa});const c=await qt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&Us()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(n){if(wt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new xa});const c=await qt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&Us()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(n){if(wt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await qt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new xa})})}catch(t){if(wt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await qt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xa})})}catch(r){if(wt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+Uk>i)return n;const{data:o,error:c}=await qt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:S}=await this.getSession();if(S||!g.session)return this._returnResult({data:null,error:S});n=g.session.access_token}const{header:i,payload:o,signature:c,raw:{header:u,payload:d}}=yf(n);r!=null&&r.allowExpired||l6(o.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:o,header:i,signature:c},error:null}}const p=c6(i.alg),b=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,b,c,Kk(`${u}.${d}`)))throw new tg("Invalid JWT signature");return{data:{claims:o,header:i,signature:c},error:null}}catch(n){if(wt(n))return this._returnResult({data:null,error:n});throw n}}}Sh.nextInstanceID={};const z6=Sh,B6="2.93.3";let ch="";typeof Deno<"u"?ch="deno":typeof document<"u"?ch="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ch="react-native":ch="node";const $6={"X-Client-Info":`supabase-js-${ch}/${B6}`},V6={headers:$6},W6={schema:"public"},H6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},G6={};function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function Y6(e,t){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K6(e){var t=Y6(e,"string");return _h(t)=="symbol"?t:t+""}function J6(e,t,r){return(t=K6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(r),!0).forEach(function(n){J6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const X6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Q6=()=>Headers,Z6=(e,t,r)=>{const n=X6(r),i=Q6();return async(o,c)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let h=new i(c==null?void 0:c.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(o,Rn(Rn({},c),{},{headers:h}))}};function eE(e){return e.endsWith("/")?e:e+"/"}function tE(e,t){var r,n;const{db:i,auth:o,realtime:c,global:u}=e,{db:d,auth:h,realtime:p,global:b}=t,y={db:Rn(Rn({},d),i),auth:Rn(Rn({},h),o),realtime:Rn(Rn({},p),c),storage:{},global:Rn(Rn(Rn({},b),u),{},{headers:Rn(Rn({},(r=b==null?void 0:b.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function rE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var nE=class extends z6{constructor(e){super(e)}},sE=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const o=rE(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:W6,realtime:G6,auth:Rn(Rn({},H6),{},{storageKey:c}),global:V6},d=tE(r??{},u);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=d.auth)!==null&&h!==void 0?h:{},this.headers,d.global.fetch)}this.fetch=Z6(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Rn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new B_(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Ik(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new F_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:o,flowType:c,lock:u,debug:d,throwOnError:h},p,b){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nE({url:this.authUrl.href,headers:Rn(Rn({},y),p),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:c,lock:u,debug:d,throwOnError:h,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ik(this.realtimeUrl.href,Rn(Rn({},e),{},{params:Rn(Rn({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Nw=(e,t,r)=>new sE(e,t,r);function iE(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}iE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const aE="https://ugwqfvwclwctzgtxcakp.supabase.co",oE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVnd3FmdndjbHdjdHpndHhjYWtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYyNDg4OTgsImV4cCI6MjA4MTgyNDg5OH0.sx9z3p3svG5V6djfzUXtzdOwbUU3wjIVaAyIjRoFzaE",Ao=Nw(aE,oE);var lE=Object.defineProperty,rp=Object.getOwnPropertySymbols,jw=Object.prototype.hasOwnProperty,Sw=Object.prototype.propertyIsEnumerable,h2=(e,t,r)=>t in e?lE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rg=(e,t)=>{for(var r in t||(t={}))jw.call(t,r)&&h2(e,r,t[r]);if(rp)for(var r of rp(t))Sw.call(t,r)&&h2(e,r,t[r]);return e},ng=(e,t)=>{var r={};for(var n in e)jw.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&rp)for(var n of rp(e))t.indexOf(n)<0&&Sw.call(e,n)&&(r[n]=e[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Nu;(e=>{const t=class xr{constructor(d,h,p,b){if(this.version=d,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],d<xr.MIN_VERSION||d>xr.MAX_VERSION)throw new RangeError("Version value out of range");if(b<-1||b>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let y=[];for(let S=0;S<this.size;S++)y.push(!1);for(let S=0;S<this.size;S++)this.modules.push(y.slice()),this.isFunction.push(y.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(p);if(this.drawCodewords(g),b==-1){let S=1e9;for(let k=0;k<8;k++){this.applyMask(k),this.drawFormatBits(k);const E=this.getPenaltyScore();E<S&&(b=k,S=E),this.applyMask(k)}}i(0<=b&&b<=7),this.mask=b,this.applyMask(b),this.drawFormatBits(b),this.isFunction=[]}static encodeText(d,h){const p=e.QrSegment.makeSegments(d);return xr.encodeSegments(p,h)}static encodeBinary(d,h){const p=e.QrSegment.makeBytes(d);return xr.encodeSegments([p],h)}static encodeSegments(d,h,p=1,b=40,y=-1,g=!0){if(!(xr.MIN_VERSION<=p&&p<=b&&b<=xr.MAX_VERSION)||y<-1||y>7)throw new RangeError("Invalid value");let S,k;for(S=p;;S++){const P=xr.getNumDataCodewords(S,h)*8,R=c.getTotalBits(d,S);if(R<=P){k=R;break}if(S>=b)throw new RangeError("Data too long")}for(const P of[xr.Ecc.MEDIUM,xr.Ecc.QUARTILE,xr.Ecc.HIGH])g&&k<=xr.getNumDataCodewords(S,P)*8&&(h=P);let E=[];for(const P of d){r(P.mode.modeBits,4,E),r(P.numChars,P.mode.numCharCountBits(S),E);for(const R of P.getData())E.push(R)}i(E.length==k);const A=xr.getNumDataCodewords(S,h)*8;i(E.length<=A),r(0,Math.min(4,A-E.length),E),r(0,(8-E.length%8)%8,E),i(E.length%8==0);for(let P=236;E.length<A;P^=253)r(P,8,E);let L=[];for(;L.length*8<E.length;)L.push(0);return E.forEach((P,R)=>L[R>>>3]|=P<<7-(R&7)),new xr(S,h,L,y)}getModule(d,h){return 0<=d&&d<this.size&&0<=h&&h<this.size&&this.modules[h][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),h=d.length;for(let p=0;p<h;p++)for(let b=0;b<h;b++)p==0&&b==0||p==0&&b==h-1||p==h-1&&b==0||this.drawAlignmentPattern(d[p],d[b]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const h=this.errorCorrectionLevel.formatBits<<3|d;let p=h;for(let y=0;y<10;y++)p=p<<1^(p>>>9)*1335;const b=(h<<10|p)^21522;i(b>>>15==0);for(let y=0;y<=5;y++)this.setFunctionModule(8,y,n(b,y));this.setFunctionModule(8,7,n(b,6)),this.setFunctionModule(8,8,n(b,7)),this.setFunctionModule(7,8,n(b,8));for(let y=9;y<15;y++)this.setFunctionModule(14-y,8,n(b,y));for(let y=0;y<8;y++)this.setFunctionModule(this.size-1-y,8,n(b,y));for(let y=8;y<15;y++)this.setFunctionModule(8,this.size-15+y,n(b,y));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let p=0;p<12;p++)d=d<<1^(d>>>11)*7973;const h=this.version<<12|d;i(h>>>18==0);for(let p=0;p<18;p++){const b=n(h,p),y=this.size-11+p%3,g=Math.floor(p/3);this.setFunctionModule(y,g,b),this.setFunctionModule(g,y,b)}}drawFinderPattern(d,h){for(let p=-4;p<=4;p++)for(let b=-4;b<=4;b++){const y=Math.max(Math.abs(b),Math.abs(p)),g=d+b,S=h+p;0<=g&&g<this.size&&0<=S&&S<this.size&&this.setFunctionModule(g,S,y!=2&&y!=4)}}drawAlignmentPattern(d,h){for(let p=-2;p<=2;p++)for(let b=-2;b<=2;b++)this.setFunctionModule(d+b,h+p,Math.max(Math.abs(b),Math.abs(p))!=1)}setFunctionModule(d,h,p){this.modules[h][d]=p,this.isFunction[h][d]=!0}addEccAndInterleave(d){const h=this.version,p=this.errorCorrectionLevel;if(d.length!=xr.getNumDataCodewords(h,p))throw new RangeError("Invalid argument");const b=xr.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][h],y=xr.ECC_CODEWORDS_PER_BLOCK[p.ordinal][h],g=Math.floor(xr.getNumRawDataModules(h)/8),S=b-g%b,k=Math.floor(g/b);let E=[];const A=xr.reedSolomonComputeDivisor(y);for(let P=0,R=0;P<b;P++){let X=d.slice(R,R+k-y+(P<S?0:1));R+=X.length;const Q=xr.reedSolomonComputeRemainder(X,A);P<S&&X.push(0),E.push(X.concat(Q))}let L=[];for(let P=0;P<E[0].length;P++)E.forEach((R,X)=>{(P!=k-y||X>=S)&&L.push(R[P])});return i(L.length==g),L}drawCodewords(d){if(d.length!=Math.floor(xr.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let b=0;b<this.size;b++)for(let y=0;y<2;y++){const g=p-y,k=(p+1&2)==0?this.size-1-b:b;!this.isFunction[k][g]&&h<d.length*8&&(this.modules[k][g]=n(d[h>>>3],7-(h&7)),h++)}}i(h==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let p=0;p<this.size;p++){let b;switch(d){case 0:b=(p+h)%2==0;break;case 1:b=h%2==0;break;case 2:b=p%3==0;break;case 3:b=(p+h)%3==0;break;case 4:b=(Math.floor(p/3)+Math.floor(h/2))%2==0;break;case 5:b=p*h%2+p*h%3==0;break;case 6:b=(p*h%2+p*h%3)%2==0;break;case 7:b=((p+h)%2+p*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][p]&&b&&(this.modules[h][p]=!this.modules[h][p])}}getPenaltyScore(){let d=0;for(let y=0;y<this.size;y++){let g=!1,S=0,k=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[y][E]==g?(S++,S==5?d+=xr.PENALTY_N1:S>5&&d++):(this.finderPenaltyAddHistory(S,k),g||(d+=this.finderPenaltyCountPatterns(k)*xr.PENALTY_N3),g=this.modules[y][E],S=1);d+=this.finderPenaltyTerminateAndCount(g,S,k)*xr.PENALTY_N3}for(let y=0;y<this.size;y++){let g=!1,S=0,k=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[E][y]==g?(S++,S==5?d+=xr.PENALTY_N1:S>5&&d++):(this.finderPenaltyAddHistory(S,k),g||(d+=this.finderPenaltyCountPatterns(k)*xr.PENALTY_N3),g=this.modules[E][y],S=1);d+=this.finderPenaltyTerminateAndCount(g,S,k)*xr.PENALTY_N3}for(let y=0;y<this.size-1;y++)for(let g=0;g<this.size-1;g++){const S=this.modules[y][g];S==this.modules[y][g+1]&&S==this.modules[y+1][g]&&S==this.modules[y+1][g+1]&&(d+=xr.PENALTY_N2)}let h=0;for(const y of this.modules)h=y.reduce((g,S)=>g+(S?1:0),h);const p=this.size*this.size,b=Math.ceil(Math.abs(h*20-p*10)/p)-1;return i(0<=b&&b<=9),d+=b*xr.PENALTY_N4,i(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let p=[6];for(let b=this.size-7;p.length<d;b-=h)p.splice(1,0,b);return p}}static getNumRawDataModules(d){if(d<xr.MIN_VERSION||d>xr.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*d+128)*d+64;if(d>=2){const p=Math.floor(d/7)+2;h-=(25*p-10)*p-55,d>=7&&(h-=36)}return i(208<=h&&h<=29648),h}static getNumDataCodewords(d,h){return Math.floor(xr.getNumRawDataModules(d)/8)-xr.ECC_CODEWORDS_PER_BLOCK[h.ordinal][d]*xr.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let h=[];for(let b=0;b<d-1;b++)h.push(0);h.push(1);let p=1;for(let b=0;b<d;b++){for(let y=0;y<h.length;y++)h[y]=xr.reedSolomonMultiply(h[y],p),y+1<h.length&&(h[y]^=h[y+1]);p=xr.reedSolomonMultiply(p,2)}return h}static reedSolomonComputeRemainder(d,h){let p=h.map(b=>0);for(const b of d){const y=b^p.shift();p.push(0),h.forEach((g,S)=>p[S]^=xr.reedSolomonMultiply(g,y))}return p}static reedSolomonMultiply(d,h){if(d>>>8||h>>>8)throw new RangeError("Byte out of range");let p=0;for(let b=7;b>=0;b--)p=p<<1^(p>>>7)*285,p^=(h>>>b&1)*d;return i(p>>>8==0),p}finderPenaltyCountPatterns(d){const h=d[1];i(h<=this.size*3);const p=h>0&&d[2]==h&&d[3]==h*3&&d[4]==h&&d[5]==h;return(p&&d[0]>=h*4&&d[6]>=h?1:0)+(p&&d[6]>=h*4&&d[0]>=h?1:0)}finderPenaltyTerminateAndCount(d,h,p){return d&&(this.finderPenaltyAddHistory(h,p),h=0),h+=this.size,this.finderPenaltyAddHistory(h,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(d,h){h[0]==0&&(d+=this.size),h.pop(),h.unshift(d)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(u,d,h){if(d<0||d>31||u>>>d)throw new RangeError("Value out of range");for(let p=d-1;p>=0;p--)h.push(u>>>p&1)}function n(u,d){return(u>>>d&1)!=0}function i(u){if(!u)throw new Error("Assertion error")}const o=class Pn{constructor(d,h,p){if(this.mode=d,this.numChars=h,this.bitData=p,h<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(d){let h=[];for(const p of d)r(p,8,h);return new Pn(Pn.Mode.BYTE,d.length,h)}static makeNumeric(d){if(!Pn.isNumeric(d))throw new RangeError("String contains non-numeric characters");let h=[];for(let p=0;p<d.length;){const b=Math.min(d.length-p,3);r(parseInt(d.substring(p,p+b),10),b*3+1,h),p+=b}return new Pn(Pn.Mode.NUMERIC,d.length,h)}static makeAlphanumeric(d){if(!Pn.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],p;for(p=0;p+2<=d.length;p+=2){let b=Pn.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p))*45;b+=Pn.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p+1)),r(b,11,h)}return p<d.length&&r(Pn.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p)),6,h),new Pn(Pn.Mode.ALPHANUMERIC,d.length,h)}static makeSegments(d){return d==""?[]:Pn.isNumeric(d)?[Pn.makeNumeric(d)]:Pn.isAlphanumeric(d)?[Pn.makeAlphanumeric(d)]:[Pn.makeBytes(Pn.toUtf8ByteArray(d))]}static makeEci(d){let h=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)r(d,8,h);else if(d<16384)r(2,2,h),r(d,14,h);else if(d<1e6)r(6,3,h),r(d,21,h);else throw new RangeError("ECI assignment value out of range");return new Pn(Pn.Mode.ECI,0,h)}static isNumeric(d){return Pn.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return Pn.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,h){let p=0;for(const b of d){const y=b.mode.numCharCountBits(h);if(b.numChars>=1<<y)return 1/0;p+=4+y+b.bitData.length}return p}static toUtf8ByteArray(d){d=encodeURI(d);let h=[];for(let p=0;p<d.length;p++)d.charAt(p)!="%"?h.push(d.charCodeAt(p)):(h.push(parseInt(d.substring(p+1,p+3),16)),p+=2);return h}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=o;e.QrSegment=o})(Nu||(Nu={}));(e=>{(t=>{const r=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Nu||(Nu={}));(e=>{(t=>{const r=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Nu||(Nu={}));var vd=Nu;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var cE={L:vd.QrCode.Ecc.LOW,M:vd.QrCode.Ecc.MEDIUM,Q:vd.QrCode.Ecc.QUARTILE,H:vd.QrCode.Ecc.HIGH},_w=128,kw="L",Ew="#FFFFFF",Cw="#000000",Aw=!1,Pw=1,uE=4,dE=0,hE=.1;function Lw(e,t=0){const r=[];return e.forEach(function(n,i){let o=null;n.forEach(function(c,u){if(!c&&o!==null){r.push(`M${o+t} ${i+t}h${u-o}v1H${o+t}z`),o=null;return}if(u===n.length-1){if(!c)return;o===null?r.push(`M${u+t},${i+t} h1v1H${u+t}z`):r.push(`M${o+t},${i+t} h${u+1-o}v1H${o+t}z`);return}c&&o===null&&(o=u)})}),r.join("")}function Rw(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((i,o)=>o<t.x||o>=t.x+t.w?i:!1))}function fE(e,t,r,n){if(n==null)return null;const i=e.length+r*2,o=Math.floor(t*hE),c=i/t,u=(n.width||o)*c,d=(n.height||o)*c,h=n.x==null?e.length/2-u/2:n.x*c,p=n.y==null?e.length/2-d/2:n.y*c,b=n.opacity==null?1:n.opacity;let y=null;if(n.excavate){let S=Math.floor(h),k=Math.floor(p),E=Math.ceil(u+h-S),A=Math.ceil(d+p-k);y={x:S,y:k,w:E,h:A}}const g=n.crossOrigin;return{x:h,y:p,h:d,w:u,excavation:y,opacity:b,crossOrigin:g}}function pE(e,t){return t!=null?Math.max(Math.floor(t),0):e?uE:dE}function Tw({value:e,level:t,minVersion:r,includeMargin:n,marginSize:i,imageSettings:o,size:c,boostLevel:u}){let d=jt.useMemo(()=>{const S=(Array.isArray(e)?e:[e]).reduce((k,E)=>(k.push(...vd.QrSegment.makeSegments(E)),k),[]);return vd.QrCode.encodeSegments(S,cE[t],r,void 0,void 0,u)},[e,t,r,u]);const{cells:h,margin:p,numCells:b,calculatedImageSettings:y}=jt.useMemo(()=>{let g=d.getModules();const S=pE(n,i),k=g.length+S*2,E=fE(g,c,S,o);return{cells:g,margin:S,numCells:k,calculatedImageSettings:E}},[d,c,o,n,i]);return{qrcode:d,margin:p,cells:h,numCells:b,calculatedImageSettings:y}}var mE=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),xE=jt.forwardRef(function(t,r){const n=t,{value:i,size:o=_w,level:c=kw,bgColor:u=Ew,fgColor:d=Cw,includeMargin:h=Aw,minVersion:p=Pw,boostLevel:b,marginSize:y,imageSettings:g}=n,k=ng(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:E}=k,A=ng(k,["style"]),L=g==null?void 0:g.src,P=jt.useRef(null),R=jt.useRef(null),X=jt.useCallback(H=>{P.current=H,typeof r=="function"?r(H):r&&(r.current=H)},[r]),[Q,ae]=jt.useState(!1),{margin:se,cells:V,numCells:re,calculatedImageSettings:T}=Tw({value:i,level:c,minVersion:p,boostLevel:b,includeMargin:h,marginSize:y,imageSettings:g,size:o});jt.useEffect(()=>{if(P.current!=null){const H=P.current,ve=H.getContext("2d");if(!ve)return;let ye=V;const xe=R.current,ie=T!=null&&xe!==null&&xe.complete&&xe.naturalHeight!==0&&xe.naturalWidth!==0;ie&&T.excavation!=null&&(ye=Rw(V,T.excavation));const he=window.devicePixelRatio||1;H.height=H.width=o*he;const G=o/re*he;ve.scale(G,G),ve.fillStyle=u,ve.fillRect(0,0,re,re),ve.fillStyle=d,mE?ve.fill(new Path2D(Lw(ye,se))):V.forEach(function(ce,I){ce.forEach(function(J,Z){J&&ve.fillRect(Z+se,I+se,1,1)})}),T&&(ve.globalAlpha=T.opacity),ie&&ve.drawImage(xe,T.x+se,T.y+se,T.w,T.h)}}),jt.useEffect(()=>{ae(!1)},[L]);const F=rg({height:o,width:o},E);let z=null;return L!=null&&(z=jt.createElement("img",{src:L,key:L,style:{display:"none"},onLoad:()=>{ae(!0)},ref:R,crossOrigin:T==null?void 0:T.crossOrigin})),jt.createElement(jt.Fragment,null,jt.createElement("canvas",rg({style:F,height:o,width:o,ref:X,role:"img"},A)),z)});xE.displayName="QRCodeCanvas";var Ow=jt.forwardRef(function(t,r){const n=t,{value:i,size:o=_w,level:c=kw,bgColor:u=Ew,fgColor:d=Cw,includeMargin:h=Aw,minVersion:p=Pw,boostLevel:b,title:y,marginSize:g,imageSettings:S}=n,k=ng(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:E,cells:A,numCells:L,calculatedImageSettings:P}=Tw({value:i,level:c,minVersion:p,boostLevel:b,includeMargin:h,marginSize:g,imageSettings:S,size:o});let R=A,X=null;S!=null&&P!=null&&(P.excavation!=null&&(R=Rw(A,P.excavation)),X=jt.createElement("image",{href:S.src,height:P.h,width:P.w,x:P.x+E,y:P.y+E,preserveAspectRatio:"none",opacity:P.opacity,crossOrigin:P.crossOrigin}));const Q=Lw(R,E);return jt.createElement("svg",rg({height:o,width:o,viewBox:`0 0 ${L} ${L}`,ref:r,role:"img"},k),!!y&&jt.createElement("title",null,y),jt.createElement("path",{fill:u,d:`M0,0 h${L}v${L}H0z`,shapeRendering:"crispEdges"}),jt.createElement("path",{fill:d,d:Q,shapeRendering:"crispEdges"}),X)});Ow.displayName="QRCodeSVG";function gE(){const[e,t]=B.useState(0),[r,n]=B.useState([]),[i,o]=B.useState(0),c=B.useRef(null),[u,d]=B.useState(null),h={protocole:1,repartition:2,"locataire-proprietaire":3,synthese:4,realisations:5,calendrier:6,garanties:7,securisation:8,budget:9,impact:10},p=S=>{const{moduleOpen:k,moduleClosed:E}=S;if(!k)return;const A=h[k];if(A&&(r.includes(k)||(y(A,b(A)),n([...r,k])),k==="garanties"&&!c.current&&(c.current=Date.now()),E==="garanties"&&c.current)){const L=Math.floor((Date.now()-c.current)/1e3);o(L),c.current=null}},b=S=>({1:"Protocole pos ?",2:"Perte ancre ?",3:"Pivot mental valid ?",4:"Logique comprise ?",5:"Preuve sociale active ?",6:"Projection faite ?",7:"Scurit ancre ?",8:"Verrou administratif pos ?",9:"Logique de paiement valide ?",10:"Impact final ancr ?"})[S]||"tape valide ?",y=(S,k)=>{S>e&&(d({step:S,message:k}),setTimeout(()=>d(null),3e3))},g=S=>{t(S),d(null)};return B.useEffect(()=>{if(c.current){const S=setInterval(()=>{const k=Math.floor((Date.now()-c.current)/1e3);o(k)},1e3);return()=>clearInterval(S)}},[c.current]),{currentStep:e,stepNotification:u,confirmStep:g,detectStep:p,securityTime:i,visitedModules:r}}function vE({step:e,message:t,onConfirm:r,onDismiss:n}){const[i,o]=B.useState(!0),[c,u]=B.useState(100);return B.useEffect(()=>{const d=setInterval(()=>{u(p=>Math.max(0,p-3.3333333333333335))},100),h=setTimeout(()=>{o(!1),n==null||n()},3e3);return()=>{clearInterval(d),clearTimeout(h)}},[n]),i?s.jsxs("div",{className:`fixed bottom-24 right-4 z-50 
                    w-80 bg-zinc-800 border border-blue-500/30 
                    rounded-xl p-4 shadow-2xl
                    animate-in slide-in-from-bottom-4 fade-in duration-300`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(bh,{className:"w-5 h-5 text-blue-400"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:["tape ",e," dtecte"]}),s.jsx("p",{className:"text-sm text-white font-semibold",children:t})]})]}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("button",{onClick:()=>{r(e),o(!1)},className:`flex-1 bg-blue-600 hover:bg-blue-500 
                     text-white py-2 rounded-lg text-xs font-bold
                     uppercase tracking-wider transition-colors`,children:"OUI"}),s.jsx("button",{onClick:()=>{n==null||n(),o(!1)},className:`flex-1 bg-zinc-700 hover:bg-zinc-600 
                     text-white py-2 rounded-lg text-xs font-bold
                     uppercase tracking-wider transition-colors`,children:"NON"}),s.jsx("button",{onClick:()=>o(!1),className:`px-3 bg-zinc-700 hover:bg-zinc-600 
                     text-slate-400 py-2 rounded-lg text-xs
                     transition-colors`,children:""})]}),s.jsx("div",{className:"h-1 bg-black rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 transition-all duration-100",style:{width:`${c}%`}})})]}):null}const bE=e=>{const t=[],r=[],n=e==null?void 0:e.details,i=e==null?void 0:e.detailsCash;if(Array.isArray(n)&&n.length>0){const o=n[n.length-1].cumulativeSavings;Math.abs(o-((e==null?void 0:e.totalSavingsProjected)||0))>1&&t.push({severity:"ERROR",category:"TOTAUX",message:"Incohrence : totalSavingsProjected ne correspond pas au cumul final.",expected:o,actual:(e==null?void 0:e.totalSavingsProjected)||0})}if(Array.isArray(i)&&i.length>0){const o=i[i.length-1].cumulativeSavings;Math.abs(o-((e==null?void 0:e.totalSavingsProjectedCash)||0))>1&&t.push({severity:"ERROR",category:"TOTAUX CASH",message:"Incohrence : totalSavingsProjectedCash ne correspond pas au cumul final cash.",expected:o,actual:(e==null?void 0:e.totalSavingsProjectedCash)||0})}return{errors:t,warnings:r,info:[],isValid:t.length===0,score:t.length===0?100:0}},yE=e=>{const t=[],r=[],n=(i,o,c)=>{let u=-1/0;i.forEach((d,h)=>{d[o]<u&&t.push({severity:"ERROR",category:"MONOTONIE",message:`Dcroissance illogique sur ${c}.${o}  l'index ${h}.`,expected:`>= ${u}`,actual:d[o]}),u=d[o]})};return Array.isArray(e==null?void 0:e.details)&&n(e.details,"cumulativeSavings","details"),Array.isArray(e==null?void 0:e.detailsCash)&&n(e.detailsCash,"cumulativeSavings","detailsCash"),{errors:t,warnings:r,info:[],isValid:t.length===0,score:t.length===0?100:0}},wE=e=>{const t=[],r=[];return["slicedDetails","slicedDetailsCash"].forEach(i=>{const o=e==null?void 0:e[i];!Array.isArray(o)||o.length===0?t.push({severity:"ERROR",category:"GRAPHIQUES",message:`La srie graphique ${i} est vide ou manquante.`,actual:i}):o.some(c=>!Number.isFinite(c.cumulativeSavings))&&t.push({severity:"ERROR",category:"GRAPHIQUES",message:`La srie ${i} contient des valeurs non-finies (NaN/Inf).`,actual:i})}),{errors:t,warnings:r,info:[],isValid:t.length===0,score:t.length===0?100:0}},NE=e=>{const t=[],r=[],n=e==null?void 0:e.roiPercentage;return typeof n!="number"||isNaN(n)?t.push({severity:"ERROR",category:"ROI",message:"ROI invalide ou manquant.",actual:n}):n>0&&(e==null?void 0:e.totalSavingsProjected)<=0&&t.push({severity:"ERROR",category:"ROI",message:"ROI positif incohrent avec des conomies ngatives.",expected:"ROI ngatif ou nul",actual:`ROI: ${n}%, conomies: ${e==null?void 0:e.totalSavingsProjected}`}),{errors:t,warnings:r,info:[],isValid:t.length===0,score:t.length===0?100:0}},f2=[bE,yE,wE,NE],jE=e=>{const r=f2.map(n=>n(e)).reduce((n,i)=>({isValid:n.isValid&&i.isValid,score:n.score+i.score,errors:[...n.errors,...i.errors],warnings:[...n.warnings,...i.warnings],info:[...n.info,...i.info]}),{isValid:!0,score:0,errors:[],warnings:[],info:[]});return{...r,score:Math.round(r.score/f2.length)}};function Iw(e){var re;const t=[],r=[],n=[],i=e;Number(i.interestRate??3.89),Number(i.creditDurationMonths??180),Number(((re=i.year1)==null?void 0:re.loanMonthly)??i.creditMonthlyPayment??0),Number(i.remainingToFinance??0),Number(i.installCost??0);const o=Number(i.yearlyProduction??0),c=Number(i.selfConsumptionRate??0),u=Number(i.breakEvenPoint??0),d=Number(i.breakEvenPointCash??0),h=Number(i.roiPercentage??0),p=Number(i.roiPercentageCash??h),b=Number(i.inflationRate??5),y=Number(i.savingsRatePercent??i.selfConsumptionRate??0),g=Number(i.totalSavingsProjected??i.heritageNet??0),S=Number(i.totalSavingsProjectedCash??0),k=o*(c/100),E=o-k,A=k+E;Math.abs(A-o)>1?t.push({severity:"ERROR",category:"RPARTITION NERGIE",message:"La somme autoconso + surplus  production totale",expected:o+" kWh",actual:A.toFixed(0)+" kWh"}):n.push({severity:"INFO",category:"RPARTITION NERGIE",message:" Rpartition = 100%"}),u<1||u>25?r.push({severity:"WARNING",category:"POINT MORT",message:`Point mort crdit hors norme: ${u} ans`,expected:"Entre 1 et 25 ans",actual:u+" ans"}):n.push({severity:"INFO",category:"POINT MORT",message:` Point mort crdit: ${u} ans`}),d<1||d>25?r.push({severity:"WARNING",category:"POINT MORT CASH",message:`Point mort cash hors norme: ${d} ans`,expected:"Entre 1 et 25 ans",actual:d+" ans"}):n.push({severity:"INFO",category:"POINT MORT CASH",message:` Point mort cash: ${d} ans`}),h<0||h>30?r.push({severity:"WARNING",category:"ROI",message:`ROI crdit hors norme: ${h}%`,expected:"Entre 0% et 30%",actual:h+"%"}):n.push({severity:"INFO",category:"ROI",message:` ROI crdit: ${h}%`}),p<h?r.push({severity:"WARNING",category:"ROI CASH",message:"ROI cash infrieur au ROI crdit (anormal)",expected:`>= ${h}%`,actual:p+"%"}):n.push({severity:"INFO",category:"ROI CASH",message:` ROI cash: ${p}%`});let L=!0;const P=Array.isArray(i.details)?i.details:[];if(P.length>0)for(let T=1;T<Math.min(P.length,20);T++){const F=P[T-1],z=P[T];if(Number(z.cumulativeSpendNoSolar)<=Number(F.cumulativeSpendNoSolar)){L=!1,t.push({severity:"ERROR",category:"COHRENCE TEMPORELLE",message:`Dpenses Sans Solaire dcroissantes (anne ${T+1})`,expected:`> ${Number(F.cumulativeSpendNoSolar).toFixed(0)}`,actual:Number(z.cumulativeSpendNoSolar).toFixed(0)+""});break}}L&&P.length>0&&n.push({severity:"INFO",category:"COHRENCE TEMPORELLE",message:" Dpenses Sans Solaire croissantes"});let R=!0;if(P.length>0)for(let T=1;T<Math.min(P.length,10);T++){const F=P[T-1],z=P[T];if(b>0&&Number(z.edfBillWithoutSolar)<=Number(F.edfBillWithoutSolar)){R=!1,t.push({severity:"ERROR",category:"INFLATION",message:`Facture sans solaire n'augmente pas (anne ${T+1}, inflation=${b}%)`,expected:`> ${Number(F.edfBillWithoutSolar).toFixed(0)}`,actual:Number(z.edfBillWithoutSolar).toFixed(0)+""});break}}R&&P.length>0&&n.push({severity:"INFO",category:"INFLATION",message:` Inflation ${b}% applique correctement`});let X=!1;if(P.length>0)for(let T=1;T<P.length;T++){const F=P[T-1],z=P[T],H=Number(F.cumulativeSpendNoSolar)-Number(F.cumulativeSpendSolar),ve=Number(z.cumulativeSpendNoSolar)-Number(z.cumulativeSpendSolar);if(H<0&&ve>=0){X=!0,n.push({severity:"INFO",category:"GRAPHIQUE GOUFFRE",message:` Croisement dtect anne ${T+1}`});break}}!X&&P.length>0&&(Number(P[P.length-1].cumulativeSavings)>0?n.push({severity:"INFO",category:"GRAPHIQUE GOUFFRE",message:" Rentable  terme (pas de croisement visible mais cumul positif)"}):r.push({severity:"WARNING",category:"GRAPHIQUE GOUFFRE",message:"Aucun croisement dtect sur la priode"})),g<0?t.push({severity:"ERROR",category:"GAINS TOTAUX",message:"Gain total ngatif (projet non rentable)",expected:"> 0",actual:g.toFixed(0)+""}):n.push({severity:"INFO",category:"GAINS TOTAUX",message:` Gain total: ${g.toFixed(0)}`}),S<0?t.push({severity:"ERROR",category:"GAINS TOTAUX CASH",message:"Gain total cash ngatif",expected:"> 0",actual:S.toFixed(0)+""}):n.push({severity:"INFO",category:"GAINS TOTAUX CASH",message:` Gain total cash: ${S.toFixed(0)}`}),y<0||y>100?r.push({severity:"WARNING",category:"AUTONOMIE",message:`Autonomie hors norme: ${y}%`,expected:"Entre 0% et 100%",actual:y+"%"}):n.push({severity:"INFO",category:"AUTONOMIE",message:` Autonomie: ${y}%`});const Q=t.length+r.length+n.length,ae=n.length,se=Q>0?Math.round(ae/Q*100):0,V=t.length===0;return{errors:t,warnings:r,info:n,isValid:V,score:se}}function SE(e,t){const r=[10,15,20,25],n=[];return console.group(" STRESS TEST MULTI-PRIODES"),r.forEach(i=>{const o=t(e,i),c=Iw(o);n.push({Horizon:`${i} ans`,Score:`${c.score}%`,Status:c.isValid?" OK":" ERREUR","Gain Total":`${Math.round(o.totalSavingsProjected||0)}`,"ROI (%)":`${o.roiPercentage}%`,Erreurs:c.errors.length,Warnings:c.warnings.length})}),console.table(n),console.groupEnd(),n}const sn=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),ba=e=>new Intl.NumberFormat("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e)+" %";function $0({title:e,children:t}){const[r,n]=B.useState(!1);return s.jsxs("span",{className:"relative inline-block ml-2",children:[s.jsx("button",{type:"button",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onClick:()=>n(!r),className:"p-1 rounded-full border border-white/10 bg-black/40 hover:bg-black/70 transition",children:s.jsx(Ya,{size:12,className:"text-slate-400"})}),r&&s.jsxs("div",{className:"absolute z-[999] top-full mt-2 right-0 w-72 bg-black/95 border border-white/10 rounded-xl p-3 shadow-2xl backdrop-blur-xl",children:[s.jsx("div",{className:"text-[10px] uppercase tracking-wider text-slate-400 mb-1",children:e}),s.jsx("div",{className:"text-[16px] text-slate-200 leading-relaxed space-y-2",children:t})]})]})}function V0({label:e,title:t,subtitle:r}){return s.jsx("div",{className:"my-14 flex items-center justify-center",children:s.jsxs("div",{className:"w-full max-w-3xl text-center px-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"flex-1 h-px bg-white/10"}),e&&s.jsx("span",{className:"text-[10px] uppercase tracking-[0.3em] text-slate-500 font-bold",children:e}),s.jsx("div",{className:"flex-1 h-px bg-white/10"})]}),s.jsx("p",{className:"text-lg md:text-xl font-black text-white italic leading-snug",children:t}),r&&s.jsx("p",{className:"mt-2 text-[12px] text-slate-400 italic leading-relaxed",children:r})]})})}const _E=({status:e})=>{const r={draft:{label:" DRAFT",className:"bg-yellow-500/15 text-yellow-400 border-yellow-500/30"},sent:{label:" ENVOY",className:"bg-blue-500/15 text-blue-400 border-blue-500/30"},signed:{label:" SIGN",className:"bg-emerald-500/15 text-emerald-400 border-emerald-500/30"},cancelled:{label:" ANNUL",className:"bg-red-500/15 text-red-400 border-red-500/30"}}[e??""]||{label:" INCONNU",className:"bg-slate-500/10 text-slate-300 border-slate-500/20"};return s.jsx("div",{className:`inline-flex items-center px-4 py-1.5 rounded-full text-[11px] font-black tracking-widest border ${r.className}`,children:r.label})};var W0={exports:{}},H0,p2;function kE(){if(p2)return H0;p2=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return H0=e,H0}var G0,m2;function EE(){if(m2)return G0;m2=1;var e=kE();function t(){}function r(){}return r.resetWarningCache=t,G0=function(){function n(c,u,d,h,p,b){if(b!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},G0}var x2;function CE(){return x2||(x2=1,W0.exports=EE()()),W0.exports}var AE=CE();const Ct=Ac(AE);var Y0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var g2;function PE(){return g2||(g2=1,(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var o="",c=0;c<arguments.length;c++){var u=arguments[c];u&&(o=i(o,n(u)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var c="";for(var u in o)t.call(o,u)&&o[u]&&(c=i(c,u));return c}function i(o,c){return c?o?o+" "+c:o+c:o}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Y0)),Y0.exports}var LE=PE();const Qa=Ac(LE);var RE=["top","left","transform","className","children","innerRef"];function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sg.apply(this,arguments)}function TE(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Lp(e){var t=e.top,r=t===void 0?0:t,n=e.left,i=n===void 0?0:n,o=e.transform,c=e.className,u=e.children,d=e.innerRef,h=TE(e,RE);return jt.createElement("g",sg({ref:d,className:Qa("visx-group",c),transform:o||"translate("+i+", "+r+")"},h),u)}Lp.propTypes={top:Ct.number,left:Ct.number,transform:Ct.string,className:Ct.string,children:Ct.node,innerRef:Ct.oneOfType([Ct.string,Ct.func,Ct.object])};var ig=Math.PI,ag=2*ig,uu=1e-6,OE=ag-uu;function og(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Rp(){return new og}og.prototype=Rp.prototype={constructor:og,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,o){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var o=this._x1,c=this._y1,u=r-e,d=n-t,h=o-e,p=c-t,b=h*h+p*p;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(b>uu)if(!(Math.abs(p*u-d*h)>uu)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var y=r-o,g=n-c,S=u*u+d*d,k=y*y+g*g,E=Math.sqrt(S),A=Math.sqrt(b),L=i*Math.tan((ig-Math.acos((S+b-k)/(2*E*A)))/2),P=L/A,R=L/E;Math.abs(P-1)>uu&&(this._+="L"+(e+P*h)+","+(t+P*p)),this._+="A"+i+","+i+",0,0,"+ +(p*y>h*g)+","+(this._x1=e+R*u)+","+(this._y1=t+R*d)}},arc:function(e,t,r,n,i,o){e=+e,t=+t,r=+r,o=!!o;var c=r*Math.cos(n),u=r*Math.sin(n),d=e+c,h=t+u,p=1^o,b=o?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+d+","+h:(Math.abs(this._x1-d)>uu||Math.abs(this._y1-h)>uu)&&(this._+="L"+d+","+h),r&&(b<0&&(b=b%ag+ag),b>OE?this._+="A"+r+","+r+",0,1,"+p+","+(e-c)+","+(t-u)+"A"+r+","+r+",0,1,"+p+","+(this._x1=d)+","+(this._y1=h):b>uu&&(this._+="A"+r+","+r+",0,"+ +(b>=ig)+","+p+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};function zr(e){return function(){return e}}var v2=Math.abs,ii=Math.atan2,au=Math.cos,IE=Math.max,K0=Math.min,ol=Math.sin,bd=Math.sqrt,Ki=1e-12,kh=Math.PI,np=kh/2,Bf=2*kh;function ME(e){return e>1?0:e<-1?kh:Math.acos(e)}function b2(e){return e>=1?np:e<=-1?-np:Math.asin(e)}function FE(e){return e.innerRadius}function DE(e){return e.outerRadius}function qE(e){return e.startAngle}function UE(e){return e.endAngle}function zE(e){return e&&e.padAngle}function BE(e,t,r,n,i,o,c,u){var d=r-e,h=n-t,p=c-i,b=u-o,y=b*d-p*h;if(!(y*y<Ki))return y=(p*(t-o)-b*(e-i))/y,[e+y*d,t+y*h]}function wf(e,t,r,n,i,o,c){var u=e-r,d=t-n,h=(c?o:-o)/bd(u*u+d*d),p=h*d,b=-h*u,y=e+p,g=t+b,S=r+p,k=n+b,E=(y+S)/2,A=(g+k)/2,L=S-y,P=k-g,R=L*L+P*P,X=i-o,Q=y*k-S*g,ae=(P<0?-1:1)*bd(IE(0,X*X*R-Q*Q)),se=(Q*P-L*ae)/R,V=(-Q*L-P*ae)/R,re=(Q*P+L*ae)/R,T=(-Q*L+P*ae)/R,F=se-E,z=V-A,H=re-E,ve=T-A;return F*F+z*z>H*H+ve*ve&&(se=re,V=T),{cx:se,cy:V,x01:-p,y01:-b,x11:se*(i/X-1),y11:V*(i/X-1)}}function $E(){var e=FE,t=DE,r=zr(0),n=null,i=qE,o=UE,c=zE,u=null;function d(){var h,p,b=+e.apply(this,arguments),y=+t.apply(this,arguments),g=i.apply(this,arguments)-np,S=o.apply(this,arguments)-np,k=v2(S-g),E=S>g;if(u||(u=h=Rp()),y<b&&(p=y,y=b,b=p),!(y>Ki))u.moveTo(0,0);else if(k>Bf-Ki)u.moveTo(y*au(g),y*ol(g)),u.arc(0,0,y,g,S,!E),b>Ki&&(u.moveTo(b*au(S),b*ol(S)),u.arc(0,0,b,S,g,E));else{var A=g,L=S,P=g,R=S,X=k,Q=k,ae=c.apply(this,arguments)/2,se=ae>Ki&&(n?+n.apply(this,arguments):bd(b*b+y*y)),V=K0(v2(y-b)/2,+r.apply(this,arguments)),re=V,T=V,F,z;if(se>Ki){var H=b2(se/b*ol(ae)),ve=b2(se/y*ol(ae));(X-=H*2)>Ki?(H*=E?1:-1,P+=H,R-=H):(X=0,P=R=(g+S)/2),(Q-=ve*2)>Ki?(ve*=E?1:-1,A+=ve,L-=ve):(Q=0,A=L=(g+S)/2)}var ye=y*au(A),xe=y*ol(A),ie=b*au(R),he=b*ol(R);if(V>Ki){var G=y*au(L),ce=y*ol(L),I=b*au(P),J=b*ol(P),Z;if(k<kh&&(Z=BE(ye,xe,I,J,G,ce,ie,he))){var le=ye-Z[0],ue=xe-Z[1],be=G-Z[0],Ee=ce-Z[1],fe=1/ol(ME((le*be+ue*Ee)/(bd(le*le+ue*ue)*bd(be*be+Ee*Ee)))/2),me=bd(Z[0]*Z[0]+Z[1]*Z[1]);re=K0(V,(b-me)/(fe-1)),T=K0(V,(y-me)/(fe+1))}}Q>Ki?T>Ki?(F=wf(I,J,ye,xe,y,T,E),z=wf(G,ce,ie,he,y,T,E),u.moveTo(F.cx+F.x01,F.cy+F.y01),T<V?u.arc(F.cx,F.cy,T,ii(F.y01,F.x01),ii(z.y01,z.x01),!E):(u.arc(F.cx,F.cy,T,ii(F.y01,F.x01),ii(F.y11,F.x11),!E),u.arc(0,0,y,ii(F.cy+F.y11,F.cx+F.x11),ii(z.cy+z.y11,z.cx+z.x11),!E),u.arc(z.cx,z.cy,T,ii(z.y11,z.x11),ii(z.y01,z.x01),!E))):(u.moveTo(ye,xe),u.arc(0,0,y,A,L,!E)):u.moveTo(ye,xe),!(b>Ki)||!(X>Ki)?u.lineTo(ie,he):re>Ki?(F=wf(ie,he,G,ce,b,-re,E),z=wf(ye,xe,I,J,b,-re,E),u.lineTo(F.cx+F.x01,F.cy+F.y01),re<V?u.arc(F.cx,F.cy,re,ii(F.y01,F.x01),ii(z.y01,z.x01),!E):(u.arc(F.cx,F.cy,re,ii(F.y01,F.x01),ii(F.y11,F.x11),!E),u.arc(0,0,b,ii(F.cy+F.y11,F.cx+F.x11),ii(z.cy+z.y11,z.cx+z.x11),E),u.arc(z.cx,z.cy,re,ii(z.y11,z.x11),ii(z.y01,z.x01),!E))):u.arc(0,0,b,R,P,E)}if(u.closePath(),h)return u=null,h+""||null}return d.centroid=function(){var h=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,p=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-kh/2;return[au(p)*h,ol(p)*h]},d.innerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:zr(+h),d):e},d.outerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:zr(+h),d):t},d.cornerRadius=function(h){return arguments.length?(r=typeof h=="function"?h:zr(+h),d):r},d.padRadius=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:zr(+h),d):n},d.startAngle=function(h){return arguments.length?(i=typeof h=="function"?h:zr(+h),d):i},d.endAngle=function(h){return arguments.length?(o=typeof h=="function"?h:zr(+h),d):o},d.padAngle=function(h){return arguments.length?(c=typeof h=="function"?h:zr(+h),d):c},d.context=function(h){return arguments.length?(u=h??null,d):u},d}function Mw(e){this._context=e}Mw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Fw(e){return new Mw(e)}function Dw(e){return e[0]}function qw(e){return e[1]}function Uw(){var e=Dw,t=qw,r=zr(!0),n=null,i=Fw,o=null;function c(u){var d,h=u.length,p,b=!1,y;for(n==null&&(o=i(y=Rp())),d=0;d<=h;++d)!(d<h&&r(p=u[d],d,u))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+e(p,d,u),+t(p,d,u));if(y)return o=null,y+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:zr(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:zr(+u),c):t},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:zr(!!u),c):r},c.curve=function(u){return arguments.length?(i=u,n!=null&&(o=i(n)),c):i},c.context=function(u){return arguments.length?(u==null?n=o=null:o=i(n=u),c):n},c}function VE(){var e=Dw,t=null,r=zr(0),n=qw,i=zr(!0),o=null,c=Fw,u=null;function d(p){var b,y,g,S=p.length,k,E=!1,A,L=new Array(S),P=new Array(S);for(o==null&&(u=c(A=Rp())),b=0;b<=S;++b){if(!(b<S&&i(k=p[b],b,p))===E)if(E=!E)y=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),g=b-1;g>=y;--g)u.point(L[g],P[g]);u.lineEnd(),u.areaEnd()}E&&(L[b]=+e(k,b,p),P[b]=+r(k,b,p),u.point(t?+t(k,b,p):L[b],n?+n(k,b,p):P[b]))}if(A)return u=null,A+""||null}function h(){return Uw().defined(i).curve(c).context(o)}return d.x=function(p){return arguments.length?(e=typeof p=="function"?p:zr(+p),t=null,d):e},d.x0=function(p){return arguments.length?(e=typeof p=="function"?p:zr(+p),d):e},d.x1=function(p){return arguments.length?(t=p==null?null:typeof p=="function"?p:zr(+p),d):t},d.y=function(p){return arguments.length?(r=typeof p=="function"?p:zr(+p),n=null,d):r},d.y0=function(p){return arguments.length?(r=typeof p=="function"?p:zr(+p),d):r},d.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:zr(+p),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(r)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(t).y(r)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:zr(!!p),d):i},d.curve=function(p){return arguments.length?(c=p,o!=null&&(u=c(o)),d):c},d.context=function(p){return arguments.length?(p==null?o=u=null:u=c(o=p),d):o},d}function WE(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function HE(e){return e}function GE(){var e=HE,t=WE,r=null,n=zr(0),i=zr(Bf),o=zr(0);function c(u){var d,h=u.length,p,b,y=0,g=new Array(h),S=new Array(h),k=+n.apply(this,arguments),E=Math.min(Bf,Math.max(-Bf,i.apply(this,arguments)-k)),A,L=Math.min(Math.abs(E)/h,o.apply(this,arguments)),P=L*(E<0?-1:1),R;for(d=0;d<h;++d)(R=S[g[d]=d]=+e(u[d],d,u))>0&&(y+=R);for(t!=null?g.sort(function(X,Q){return t(S[X],S[Q])}):r!=null&&g.sort(function(X,Q){return r(u[X],u[Q])}),d=0,b=y?(E-h*P)/y:0;d<h;++d,k=A)p=g[d],R=S[p],A=k+(R>0?R*b:0)+P,S[p]={data:u[p],index:d,value:R,startAngle:k,endAngle:A,padAngle:L};return S}return c.value=function(u){return arguments.length?(e=typeof u=="function"?u:zr(+u),c):e},c.sortValues=function(u){return arguments.length?(t=u,r=null,c):t},c.sort=function(u){return arguments.length?(r=u,t=null,c):r},c.startAngle=function(u){return arguments.length?(n=typeof u=="function"?u:zr(+u),c):n},c.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:zr(+u),c):i},c.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:zr(+u),c):o},c}function y2(e){return e<0?-1:1}function w2(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),c=(r-e._y1)/(i||n<0&&-0),u=(o*i+c*n)/(n+i);return(y2(o)+y2(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(u))||0}function N2(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function J0(e,t,r){var n=e._x0,i=e._y0,o=e._x1,c=e._y1,u=(o-n)/3;e._context.bezierCurveTo(n+u,i+u*t,o-u,c-u*r,o,c)}function sp(e){this._context=e}sp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:J0(this,this._t0,N2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,J0(this,N2(this,r=w2(this,e,t)),r);break;default:J0(this,this._t0,r=w2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};Object.create(sp.prototype).point=function(e,t){sp.prototype.point.call(this,t,e)};function Nf(e){return new sp(e)}function qn(e,t){e(t)}function _I(e){var t=e===void 0?{}:e,r=t.innerRadius,n=t.outerRadius,i=t.cornerRadius,o=t.startAngle,c=t.endAngle,u=t.padAngle,d=t.padRadius,h=$E();return r!=null&&qn(h.innerRadius,r),n!=null&&qn(h.outerRadius,n),i!=null&&qn(h.cornerRadius,i),o!=null&&qn(h.startAngle,o),c!=null&&qn(h.endAngle,c),u!=null&&qn(h.padAngle,u),d!=null&&qn(h.padRadius,d),h}function YE(e){var t=e===void 0?{}:e,r=t.x,n=t.x0,i=t.x1,o=t.y,c=t.y0,u=t.y1,d=t.defined,h=t.curve,p=VE();return r&&qn(p.x,r),n&&qn(p.x0,n),i&&qn(p.x1,i),o&&qn(p.y,o),c&&qn(p.y0,c),u&&qn(p.y1,u),d&&p.defined(d),h&&p.curve(h),p}function KE(e){var t=e===void 0?{}:e,r=t.x,n=t.y,i=t.defined,o=t.curve,c=Uw();return r&&qn(c.x,r),n&&qn(c.y,n),i&&c.defined(i),o&&c.curve(o),c}function kI(e){var t=e===void 0?{}:e,r=t.startAngle,n=t.endAngle,i=t.padAngle,o=t.value,c=t.sort,u=t.sortValues,d=GE();return(c===null||c!=null)&&d.sort(c),(u===null||u!=null)&&d.sortValues(u),o!=null&&d.value(o),i!=null&&qn(d.padAngle,i),r!=null&&qn(d.startAngle,r),n!=null&&qn(d.endAngle,n),d}var JE=["from","to","fill","className","innerRef"];function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(this,arguments)}function XE(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function zw(e){var t=e.from,r=t===void 0?{x:0,y:0}:t,n=e.to,i=n===void 0?{x:1,y:1}:n,o=e.fill,c=o===void 0?"transparent":o,u=e.className,d=e.innerRef,h=XE(e,JE),p=r.x===i.x||r.y===i.y;return jt.createElement("line",lg({ref:d,className:Qa("visx-line",u),x1:r.x,y1:r.y,x2:i.x,y2:i.y,fill:c,shapeRendering:p?"crispEdges":"auto"},h))}var QE=["children","data","x","y","fill","className","curve","innerRef","defined"];function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cg.apply(this,arguments)}function ZE(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function j2(e){var t=e.children,r=e.data,n=r===void 0?[]:r,i=e.x,o=e.y,c=e.fill,u=c===void 0?"transparent":c,d=e.className,h=e.curve,p=e.innerRef,b=e.defined,y=b===void 0?function(){return!0}:b,g=ZE(e,QE),S=KE({x:i,y:o,defined:y,curve:h});return t?jt.createElement(jt.Fragment,null,t({path:S})):jt.createElement("path",cg({ref:p,className:Qa("visx-linepath",d),d:S(n)||"",fill:u,strokeLinecap:"round"},g))}var e8=["x","x0","x1","y","y1","y0","yScale","data","defined","className","curve","innerRef","children"];function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ug.apply(this,arguments)}function t8(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function S2(e){var t=e.x,r=e.x0,n=e.x1,i=e.y,o=e.y1,c=e.y0,u=e.yScale,d=e.data,h=d===void 0?[]:d,p=e.defined,b=p===void 0?function(){return!0}:p,y=e.className,g=e.curve,S=e.innerRef,k=e.children,E=t8(e,e8),A=YE({x:t,x0:r,x1:n,defined:b,curve:g});return c==null?A.y0(u.range()[0]):qn(A.y0,c),i&&!o&&qn(A.y1,i),o&&!i&&qn(A.y1,o),k?jt.createElement(jt.Fragment,null,k({path:A})):jt.createElement("path",ug({ref:S,className:Qa("visx-area-closed",y),d:A(h)||""},E))}var r8=["className","innerRef"];function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dg.apply(this,arguments)}function n8(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function s8(e){var t=e.className,r=e.innerRef,n=n8(e,r8);return jt.createElement("rect",dg({ref:r,className:Qa("visx-bar",t)},n))}function $f(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function i8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Tp(e){let t,r,n;e.length!==2?(t=$f,r=(u,d)=>$f(e(u),d),n=(u,d)=>e(u)-d):(t=e===$f||e===i8?e:a8,r=e,n=e);function i(u,d,h=0,p=u.length){if(h<p){if(t(d,d)!==0)return p;do{const b=h+p>>>1;r(u[b],d)<0?h=b+1:p=b}while(h<p)}return h}function o(u,d,h=0,p=u.length){if(h<p){if(t(d,d)!==0)return p;do{const b=h+p>>>1;r(u[b],d)<=0?h=b+1:p=b}while(h<p)}return h}function c(u,d,h=0,p=u.length){const b=i(u,d,h,p-1);return b>h&&n(u[b-1],d)>-n(u[b],d)?b-1:b}return{left:i,center:c,right:o}}function a8(){return 0}function o8(e){return e===null?NaN:+e}const l8=Tp($f),c8=l8.right;Tp(o8).center;function u8(e,t){let r,n;if(t===void 0)for(const i of e)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(r===void 0?o>=o&&(r=n=o):(r>o&&(r=o),n<o&&(n=o)))}return[r,n]}const d8=Math.sqrt(50),h8=Math.sqrt(10),f8=Math.sqrt(2);function ip(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),c=o>=d8?10:o>=h8?5:o>=f8?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/c,u=Math.round(e*h),d=Math.round(t*h),u/h<e&&++u,d/h>t&&--d,h=-h):(h=Math.pow(10,i)*c,u=Math.round(e/h),d=Math.round(t/h),u*h<e&&++u,d*h>t&&--d),d<u&&.5<=r&&r<2?ip(e,t,r*2):[u,d,h]}function p8(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,c]=n?ip(t,e,r):ip(e,t,r);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(n)if(c<0)for(let h=0;h<u;++h)d[h]=(o-h)/-c;else for(let h=0;h<u;++h)d[h]=(o-h)*c;else if(c<0)for(let h=0;h<u;++h)d[h]=(i+h)/-c;else for(let h=0;h<u;++h)d[h]=(i+h)*c;return d}function hg(e,t,r){return t=+t,e=+e,r=+r,ip(e,t,r)[2]}function fg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?hg(t,e,r):hg(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function m8(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Bw(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Dd(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Mh(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Pc(){}var ju=.7,Ld=1/ju,_d="\\s*([+-]?\\d+)\\s*",Eh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",x8=/^#([0-9a-f]{3,8})$/,g8=new RegExp(`^rgb\\(${_d},${_d},${_d}\\)$`),v8=new RegExp(`^rgb\\(${pl},${pl},${pl}\\)$`),b8=new RegExp(`^rgba\\(${_d},${_d},${_d},${Eh}\\)$`),y8=new RegExp(`^rgba\\(${pl},${pl},${pl},${Eh}\\)$`),w8=new RegExp(`^hsl\\(${Eh},${pl},${pl}\\)$`),N8=new RegExp(`^hsla\\(${Eh},${pl},${pl},${Eh}\\)$`),_2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dd(Pc,Ch,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:k2,formatHex:k2,formatHex8:j8,formatHsl:S8,formatRgb:E2,toString:E2});function k2(){return this.rgb().formatHex()}function j8(){return this.rgb().formatHex8()}function S8(){return $w(this).formatHsl()}function E2(){return this.rgb().formatRgb()}function Ch(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=x8.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?C2(t):r===3?new ws(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?jf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?jf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=g8.exec(e))?new ws(t[1],t[2],t[3],1):(t=v8.exec(e))?new ws(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=b8.exec(e))?jf(t[1],t[2],t[3],t[4]):(t=y8.exec(e))?jf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=w8.exec(e))?L2(t[1],t[2]/100,t[3]/100,1):(t=N8.exec(e))?L2(t[1],t[2]/100,t[3]/100,t[4]):_2.hasOwnProperty(e)?C2(_2[e]):e==="transparent"?new ws(NaN,NaN,NaN,0):null}function C2(e){return new ws(e>>16&255,e>>8&255,e&255,1)}function jf(e,t,r,n){return n<=0&&(e=t=r=NaN),new ws(e,t,r,n)}function Qg(e){return e instanceof Pc||(e=Ch(e)),e?(e=e.rgb(),new ws(e.r,e.g,e.b,e.opacity)):new ws}function pg(e,t,r,n){return arguments.length===1?Qg(e):new ws(e,t,r,n??1)}function ws(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Dd(ws,pg,Mh(Pc,{brighter(e){return e=e==null?Ld:Math.pow(Ld,e),new ws(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ju:Math.pow(ju,e),new ws(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ws(bu(this.r),bu(this.g),bu(this.b),ap(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A2,formatHex:A2,formatHex8:_8,formatRgb:P2,toString:P2}));function A2(){return`#${vu(this.r)}${vu(this.g)}${vu(this.b)}`}function _8(){return`#${vu(this.r)}${vu(this.g)}${vu(this.b)}${vu((isNaN(this.opacity)?1:this.opacity)*255)}`}function P2(){const e=ap(this.opacity);return`${e===1?"rgb(":"rgba("}${bu(this.r)}, ${bu(this.g)}, ${bu(this.b)}${e===1?")":`, ${e})`}`}function ap(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vu(e){return e=bu(e),(e<16?"0":"")+e.toString(16)}function L2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ro(e,t,r,n)}function $w(e){if(e instanceof Ro)return new Ro(e.h,e.s,e.l,e.opacity);if(e instanceof Pc||(e=Ch(e)),!e)return new Ro;if(e instanceof Ro)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),c=NaN,u=o-i,d=(o+i)/2;return u?(t===o?c=(r-n)/u+(r<n)*6:r===o?c=(n-t)/u+2:c=(t-r)/u+4,u/=d<.5?o+i:2-o-i,c*=60):u=d>0&&d<1?0:c,new Ro(c,u,d,e.opacity)}function mg(e,t,r,n){return arguments.length===1?$w(e):new Ro(e,t,r,n??1)}function Ro(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Dd(Ro,mg,Mh(Pc,{brighter(e){return e=e==null?Ld:Math.pow(Ld,e),new Ro(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ju:Math.pow(ju,e),new Ro(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ws(X0(e>=240?e-240:e+120,i,n),X0(e,i,n),X0(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ro(R2(this.h),Sf(this.s),Sf(this.l),ap(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ap(this.opacity);return`${e===1?"hsl(":"hsla("}${R2(this.h)}, ${Sf(this.s)*100}%, ${Sf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function R2(e){return e=(e||0)%360,e<0?e+360:e}function Sf(e){return Math.max(0,Math.min(1,e||0))}function X0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Vw=Math.PI/180,Ww=180/Math.PI,op=18,Hw=.96422,Gw=1,Yw=.82521,Kw=4/29,kd=6/29,Jw=3*kd*kd,k8=kd*kd*kd;function Xw(e){if(e instanceof ml)return new ml(e.l,e.a,e.b,e.opacity);if(e instanceof Vl)return Qw(e);e instanceof ws||(e=Qg(e));var t=tm(e.r),r=tm(e.g),n=tm(e.b),i=Q0((.2225045*t+.7168786*r+.0606169*n)/Gw),o,c;return t===r&&r===n?o=c=i:(o=Q0((.4360747*t+.3850649*r+.1430804*n)/Hw),c=Q0((.0139322*t+.0971045*r+.7141733*n)/Yw)),new ml(116*i-16,500*(o-i),200*(i-c),e.opacity)}function xg(e,t,r,n){return arguments.length===1?Xw(e):new ml(e,t,r,n??1)}function ml(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}Dd(ml,xg,Mh(Pc,{brighter(e){return new ml(this.l+op*(e??1),this.a,this.b,this.opacity)},darker(e){return new ml(this.l-op*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=Hw*Z0(t),e=Gw*Z0(e),r=Yw*Z0(r),new ws(em(3.1338561*t-1.6168667*e-.4906146*r),em(-.9787684*t+1.9161415*e+.033454*r),em(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function Q0(e){return e>k8?Math.pow(e,1/3):e/Jw+Kw}function Z0(e){return e>kd?e*e*e:Jw*(e-Kw)}function em(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function tm(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function E8(e){if(e instanceof Vl)return new Vl(e.h,e.c,e.l,e.opacity);if(e instanceof ml||(e=Xw(e)),e.a===0&&e.b===0)return new Vl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Ww;return new Vl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function gg(e,t,r,n){return arguments.length===1?E8(e):new Vl(e,t,r,n??1)}function Vl(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function Qw(e){if(isNaN(e.h))return new ml(e.l,0,0,e.opacity);var t=e.h*Vw;return new ml(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Dd(Vl,gg,Mh(Pc,{brighter(e){return new Vl(this.h,this.c,this.l+op*(e??1),this.opacity)},darker(e){return new Vl(this.h,this.c,this.l-op*(e??1),this.opacity)},rgb(){return Qw(this).rgb()}}));var Zw=-.14861,Zg=1.78277,e1=-.29227,Op=-.90649,Ah=1.97294,T2=Ah*Op,O2=Ah*Zg,I2=Zg*e1-Op*Zw;function C8(e){if(e instanceof yu)return new yu(e.h,e.s,e.l,e.opacity);e instanceof ws||(e=Qg(e));var t=e.r/255,r=e.g/255,n=e.b/255,i=(I2*n+T2*t-O2*r)/(I2+T2-O2),o=n-i,c=(Ah*(r-i)-e1*o)/Op,u=Math.sqrt(c*c+o*o)/(Ah*i*(1-i)),d=u?Math.atan2(c,o)*Ww-120:NaN;return new yu(d<0?d+360:d,u,i,e.opacity)}function vg(e,t,r,n){return arguments.length===1?C8(e):new yu(e,t,r,n??1)}function yu(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Dd(yu,vg,Mh(Pc,{brighter(e){return e=e==null?Ld:Math.pow(Ld,e),new yu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ju:Math.pow(ju,e),new yu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Vw,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),i=Math.sin(e);return new ws(255*(t+r*(Zw*n+Zg*i)),255*(t+r*(e1*n+Op*i)),255*(t+r*(Ah*n)),this.opacity)}}));const Ip=e=>()=>e;function e4(e,t){return function(r){return e+r*t}}function A8(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function t1(e,t){var r=t-e;return r?e4(e,r>180||r<-180?r-360*Math.round(r/360):r):Ip(isNaN(e)?t:e)}function P8(e){return(e=+e)==1?Ns:function(t,r){return r-t?A8(t,r,e):Ip(isNaN(t)?r:t)}}function Ns(e,t){var r=t-e;return r?e4(e,r):Ip(isNaN(e)?t:e)}const bg=(function e(t){var r=P8(t);function n(i,o){var c=r((i=pg(i)).r,(o=pg(o)).r),u=r(i.g,o.g),d=r(i.b,o.b),h=Ns(i.opacity,o.opacity);return function(p){return i.r=c(p),i.g=u(p),i.b=d(p),i.opacity=h(p),i+""}}return n.gamma=e,n})(1);function L8(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function R8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function T8(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),c;for(c=0;c<n;++c)i[c]=r1(e[c],t[c]);for(;c<r;++c)o[c]=t[c];return function(u){for(c=0;c<n;++c)o[c]=i[c](u);return o}}function O8(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function lp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function I8(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=r1(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var yg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rm=new RegExp(yg.source,"g");function M8(e){return function(){return e}}function F8(e){return function(t){return e(t)+""}}function D8(e,t){var r=yg.lastIndex=rm.lastIndex=0,n,i,o,c=-1,u=[],d=[];for(e=e+"",t=t+"";(n=yg.exec(e))&&(i=rm.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),u[c]?u[c]+=o:u[++c]=o),(n=n[0])===(i=i[0])?u[c]?u[c]+=i:u[++c]=i:(u[++c]=null,d.push({i:c,x:lp(n,i)})),r=rm.lastIndex;return r<t.length&&(o=t.slice(r),u[c]?u[c]+=o:u[++c]=o),u.length<2?d[0]?F8(d[0].x):M8(t):(t=d.length,function(h){for(var p=0,b;p<t;++p)u[(b=d[p]).i]=b.x(h);return u.join("")})}function r1(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ip(t):(r==="number"?lp:r==="string"?(n=Ch(t))?(t=n,bg):D8:t instanceof Ch?bg:t instanceof Date?O8:R8(t)?L8:Array.isArray(t)?T8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?I8:lp)(e,t)}function t4(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function r4(e){return function(t,r){var n=e((t=mg(t)).h,(r=mg(r)).h),i=Ns(t.s,r.s),o=Ns(t.l,r.l),c=Ns(t.opacity,r.opacity);return function(u){return t.h=n(u),t.s=i(u),t.l=o(u),t.opacity=c(u),t+""}}}const q8=r4(t1);var U8=r4(Ns);function z8(e,t){var r=Ns((e=xg(e)).l,(t=xg(t)).l),n=Ns(e.a,t.a),i=Ns(e.b,t.b),o=Ns(e.opacity,t.opacity);return function(c){return e.l=r(c),e.a=n(c),e.b=i(c),e.opacity=o(c),e+""}}function n4(e){return function(t,r){var n=e((t=gg(t)).h,(r=gg(r)).h),i=Ns(t.c,r.c),o=Ns(t.l,r.l),c=Ns(t.opacity,r.opacity);return function(u){return t.h=n(u),t.c=i(u),t.l=o(u),t.opacity=c(u),t+""}}}const B8=n4(t1);var $8=n4(Ns);function s4(e){return(function t(r){r=+r;function n(i,o){var c=e((i=vg(i)).h,(o=vg(o)).h),u=Ns(i.s,o.s),d=Ns(i.l,o.l),h=Ns(i.opacity,o.opacity);return function(p){return i.h=c(p),i.s=u(p),i.l=d(Math.pow(p,r)),i.opacity=h(p),i+""}}return n.gamma=t,n})(1)}const V8=s4(t1);var W8=s4(Ns);function H8(e){return function(){return e}}function G8(e){return+e}var M2=[0,1];function yd(e){return e}function wg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:H8(isNaN(t)?NaN:.5)}function Y8(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function K8(e,t,r){var n=e[0],i=e[1],o=t[0],c=t[1];return i<n?(n=wg(i,n),o=r(c,o)):(n=wg(n,i),o=r(o,c)),function(u){return o(n(u))}}function J8(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)i[c]=wg(e[c],e[c+1]),o[c]=r(t[c],t[c+1]);return function(u){var d=c8(e,u,1,n)-1;return o[d](i[d](u))}}function i4(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function X8(){var e=M2,t=M2,r=r1,n,i,o,c=yd,u,d,h;function p(){var y=Math.min(e.length,t.length);return c!==yd&&(c=Y8(e[0],e[y-1])),u=y>2?J8:K8,d=h=null,b}function b(y){return y==null||isNaN(y=+y)?o:(d||(d=u(e.map(n),t,r)))(n(c(y)))}return b.invert=function(y){return c(i((h||(h=u(t,e.map(n),lp)))(y)))},b.domain=function(y){return arguments.length?(e=Array.from(y,G8),p()):e.slice()},b.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},b.rangeRound=function(y){return t=Array.from(y),r=t4,p()},b.clamp=function(y){return arguments.length?(c=y?!0:yd,p()):c!==yd},b.interpolate=function(y){return arguments.length?(r=y,p()):r},b.unknown=function(y){return arguments.length?(o=y,b):o},function(y,g){return n=y,i=g,p()}}function a4(){return X8()(yd,yd)}function Q8(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Rd(e){return e=cp(Math.abs(e)),e?e[1]:NaN}function Z8(e,t){return function(r,n){for(var i=r.length,o=[],c=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),o.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=e[c=(c+1)%e.length];return o.reverse().join(t)}}function eC(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var tC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function up(e){if(!(t=tC.exec(e)))throw new Error("invalid format: "+e);var t;return new n1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}up.prototype=n1.prototype;function n1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}n1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rC(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var o4;function nC(e,t){var r=cp(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(o4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=n.length;return o===c?n:o>c?n+new Array(o-c+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+cp(e,Math.max(0,t+o-1))[0]}function F2(e,t){var r=cp(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const D2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Q8,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>F2(e*100,t),r:F2,s:nC,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function q2(e){return e}var U2=Array.prototype.map,z2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function sC(e){var t=e.grouping===void 0||e.thousands===void 0?q2:Z8(U2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?q2:eC(U2.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function h(b){b=up(b);var y=b.fill,g=b.align,S=b.sign,k=b.symbol,E=b.zero,A=b.width,L=b.comma,P=b.precision,R=b.trim,X=b.type;X==="n"?(L=!0,X="g"):D2[X]||(P===void 0&&(P=12),R=!0,X="g"),(E||y==="0"&&g==="=")&&(E=!0,y="0",g="=");var Q=k==="$"?r:k==="#"&&/[boxX]/.test(X)?"0"+X.toLowerCase():"",ae=k==="$"?n:/[%p]/.test(X)?c:"",se=D2[X],V=/[defgprs%]/.test(X);P=P===void 0?6:/[gprs]/.test(X)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function re(T){var F=Q,z=ae,H,ve,ye;if(X==="c")z=se(T)+z,T="";else{T=+T;var xe=T<0||1/T<0;if(T=isNaN(T)?d:se(Math.abs(T),P),R&&(T=rC(T)),xe&&+T==0&&S!=="+"&&(xe=!1),F=(xe?S==="("?S:u:S==="-"||S==="("?"":S)+F,z=(X==="s"?z2[8+o4/3]:"")+z+(xe&&S==="("?")":""),V){for(H=-1,ve=T.length;++H<ve;)if(ye=T.charCodeAt(H),48>ye||ye>57){z=(ye===46?i+T.slice(H+1):T.slice(H))+z,T=T.slice(0,H);break}}}L&&!E&&(T=t(T,1/0));var ie=F.length+T.length+z.length,he=ie<A?new Array(A-ie+1).join(y):"";switch(L&&E&&(T=t(he+T,he.length?A-z.length:1/0),he=""),g){case"<":T=F+T+z+he;break;case"=":T=F+he+T+z;break;case"^":T=he.slice(0,ie=he.length>>1)+F+T+z+he.slice(ie);break;default:T=he+F+T+z;break}return o(T)}return re.toString=function(){return b+""},re}function p(b,y){var g=h((b=up(b),b.type="f",b)),S=Math.max(-8,Math.min(8,Math.floor(Rd(y)/3)))*3,k=Math.pow(10,-S),E=z2[8+S/3];return function(A){return g(k*A)+E}}return{format:h,formatPrefix:p}}var _f,l4,c4;iC({thousands:",",grouping:[3],currency:["$",""]});function iC(e){return _f=sC(e),l4=_f.format,c4=_f.formatPrefix,_f}function aC(e){return Math.max(0,-Rd(Math.abs(e)))}function oC(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rd(t)/3)))*3-Rd(Math.abs(e)))}function lC(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Rd(t)-Rd(e))+1}function cC(e,t,r,n){var i=fg(e,t,r),o;switch(n=up(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=oC(i,c))&&(n.precision=o),c4(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=lC(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=aC(i))&&(n.precision=o-(n.type==="%")*2);break}}return l4(n)}function uC(e){var t=e.domain;return e.ticks=function(r){var n=t();return p8(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return cC(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,c=n[i],u=n[o],d,h,p=10;for(u<c&&(h=c,c=u,u=h,h=i,i=o,o=h);p-- >0;){if(h=hg(c,u,r),h===d)return n[i]=c,n[o]=u,t(n);if(h>0)c=Math.floor(c/h)*h,u=Math.ceil(u/h)*h;else if(h<0)c=Math.ceil(c*h)/h,u=Math.floor(u*h)/h;else break;d=h}return e},e}function u4(){var e=a4();return e.copy=function(){return i4(e,u4())},Bw.apply(e,arguments),uC(e)}function dC(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],c;return o<i&&(c=r,r=n,n=c,c=i,i=o,o=c),e[r]=t.floor(i),e[n]=t.ceil(o),e}const nm=new Date,sm=new Date;function hs(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const c=i(o),u=i.ceil(o);return o-c<u-o?c:u},i.offset=(o,c)=>(t(o=new Date(+o),c==null?1:Math.floor(c)),o),i.range=(o,c,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<c)||!(u>0))return d;let h;do d.push(h=new Date(+o)),t(o,u),e(o);while(h<o&&o<c);return d},i.filter=o=>hs(c=>{if(c>=c)for(;e(c),!o(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!o(c););else for(;--u>=0;)for(;t(c,1),!o(c););}),r&&(i.count=(o,c)=>(nm.setTime(+o),sm.setTime(+c),e(nm),e(sm),Math.floor(r(nm,sm))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?c=>n(c)%o===0:c=>i.count(0,c)%o===0):i)),i}const dp=hs(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?hs(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):dp);dp.range;const Wl=1e3,Xa=Wl*60,Hl=Xa*60,Kl=Hl*24,s1=Kl*7,B2=Kl*30,im=Kl*365,_c=hs(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wl)},(e,t)=>(t-e)/Wl,e=>e.getUTCSeconds());_c.range;const Mp=hs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wl)},(e,t)=>{e.setTime(+e+t*Xa)},(e,t)=>(t-e)/Xa,e=>e.getMinutes());Mp.range;const d4=hs(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xa)},(e,t)=>(t-e)/Xa,e=>e.getUTCMinutes());d4.range;const Fp=hs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wl-e.getMinutes()*Xa)},(e,t)=>{e.setTime(+e+t*Hl)},(e,t)=>(t-e)/Hl,e=>e.getHours());Fp.range;const h4=hs(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Hl)},(e,t)=>(t-e)/Hl,e=>e.getUTCHours());h4.range;const qd=hs(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xa)/Kl,e=>e.getDate()-1);qd.range;const Dp=hs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Kl,e=>e.getUTCDate()-1);Dp.range;const hC=hs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Kl,e=>Math.floor(e/Kl));hC.range;function Eu(e){return hs(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Xa)/s1)}const Fh=Eu(0),hp=Eu(1),fC=Eu(2),pC=Eu(3),Td=Eu(4),mC=Eu(5),xC=Eu(6);Fh.range;hp.range;fC.range;pC.range;Td.range;mC.range;xC.range;function Cu(e){return hs(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/s1)}const i1=Cu(0),fp=Cu(1),gC=Cu(2),vC=Cu(3),Od=Cu(4),bC=Cu(5),yC=Cu(6);i1.range;fp.range;gC.range;vC.range;Od.range;bC.range;yC.range;const qp=hs(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qp.range;const f4=hs(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());f4.range;const gl=hs(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:hs(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});gl.range;const Ec=hs(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ec.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:hs(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ec.range;function wC(e,t,r,n,i,o){const c=[[_c,1,Wl],[_c,5,5*Wl],[_c,15,15*Wl],[_c,30,30*Wl],[o,1,Xa],[o,5,5*Xa],[o,15,15*Xa],[o,30,30*Xa],[i,1,Hl],[i,3,3*Hl],[i,6,6*Hl],[i,12,12*Hl],[n,1,Kl],[n,2,2*Kl],[r,1,s1],[t,1,B2],[t,3,3*B2],[e,1,im]];function u(h,p,b){const y=p<h;y&&([h,p]=[p,h]);const g=b&&typeof b.range=="function"?b:d(h,p,b),S=g?g.range(h,+p+1):[];return y?S.reverse():S}function d(h,p,b){const y=Math.abs(p-h)/b,g=Tp(([,,E])=>E).right(c,y);if(g===c.length)return e.every(fg(h/im,p/im,b));if(g===0)return dp.every(Math.max(fg(h,p,b),1));const[S,k]=c[y/c[g-1][2]<c[g][2]/y?g-1:g];return S.every(k)}return[u,d]}const[NC,jC]=wC(gl,qp,Fh,qd,Fp,Mp);function am(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function om(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function th(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function SC(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,c=e.shortDays,u=e.months,d=e.shortMonths,h=rh(i),p=nh(i),b=rh(o),y=nh(o),g=rh(c),S=nh(c),k=rh(u),E=nh(u),A=rh(d),L=nh(d),P={a:xe,A:ie,b:he,B:G,c:null,d:Y2,e:Y2,f:GC,g:nA,G:iA,H:VC,I:WC,j:HC,L:p4,m:YC,M:KC,p:ce,q:I,Q:X2,s:Q2,S:JC,u:XC,U:QC,V:ZC,w:eA,W:tA,x:null,X:null,y:rA,Y:sA,Z:aA,"%":J2},R={a:J,A:Z,b:le,B:ue,c:null,d:K2,e:K2,f:uA,g:yA,G:NA,H:oA,I:lA,j:cA,L:x4,m:dA,M:hA,p:be,q:Ee,Q:X2,s:Q2,S:fA,u:pA,U:mA,V:xA,w:gA,W:vA,x:null,X:null,y:bA,Y:wA,Z:jA,"%":J2},X={a:re,A:T,b:F,B:z,c:H,d:H2,e:H2,f:UC,g:W2,G:V2,H:G2,I:G2,j:MC,L:qC,m:IC,M:FC,p:V,q:OC,Q:BC,s:$C,S:DC,u:AC,U:PC,V:LC,w:CC,W:RC,x:ve,X:ye,y:W2,Y:V2,Z:TC,"%":zC};P.x=Q(r,P),P.X=Q(n,P),P.c=Q(t,P),R.x=Q(r,R),R.X=Q(n,R),R.c=Q(t,R);function Q(fe,me){return function(Oe){var je=[],Ve=-1,ze=0,K=fe.length,We,vt,tt;for(Oe instanceof Date||(Oe=new Date(+Oe));++Ve<K;)fe.charCodeAt(Ve)===37&&(je.push(fe.slice(ze,Ve)),(vt=$2[We=fe.charAt(++Ve)])!=null?We=fe.charAt(++Ve):vt=We==="e"?" ":"0",(tt=me[We])&&(We=tt(Oe,vt)),je.push(We),ze=Ve+1);return je.push(fe.slice(ze,Ve)),je.join("")}}function ae(fe,me){return function(Oe){var je=th(1900,void 0,1),Ve=se(je,fe,Oe+="",0),ze,K;if(Ve!=Oe.length)return null;if("Q"in je)return new Date(je.Q);if("s"in je)return new Date(je.s*1e3+("L"in je?je.L:0));if(me&&!("Z"in je)&&(je.Z=0),"p"in je&&(je.H=je.H%12+je.p*12),je.m===void 0&&(je.m="q"in je?je.q:0),"V"in je){if(je.V<1||je.V>53)return null;"w"in je||(je.w=1),"Z"in je?(ze=om(th(je.y,0,1)),K=ze.getUTCDay(),ze=K>4||K===0?fp.ceil(ze):fp(ze),ze=Dp.offset(ze,(je.V-1)*7),je.y=ze.getUTCFullYear(),je.m=ze.getUTCMonth(),je.d=ze.getUTCDate()+(je.w+6)%7):(ze=am(th(je.y,0,1)),K=ze.getDay(),ze=K>4||K===0?hp.ceil(ze):hp(ze),ze=qd.offset(ze,(je.V-1)*7),je.y=ze.getFullYear(),je.m=ze.getMonth(),je.d=ze.getDate()+(je.w+6)%7)}else("W"in je||"U"in je)&&("w"in je||(je.w="u"in je?je.u%7:"W"in je?1:0),K="Z"in je?om(th(je.y,0,1)).getUTCDay():am(th(je.y,0,1)).getDay(),je.m=0,je.d="W"in je?(je.w+6)%7+je.W*7-(K+5)%7:je.w+je.U*7-(K+6)%7);return"Z"in je?(je.H+=je.Z/100|0,je.M+=je.Z%100,om(je)):am(je)}}function se(fe,me,Oe,je){for(var Ve=0,ze=me.length,K=Oe.length,We,vt;Ve<ze;){if(je>=K)return-1;if(We=me.charCodeAt(Ve++),We===37){if(We=me.charAt(Ve++),vt=X[We in $2?me.charAt(Ve++):We],!vt||(je=vt(fe,Oe,je))<0)return-1}else if(We!=Oe.charCodeAt(je++))return-1}return je}function V(fe,me,Oe){var je=h.exec(me.slice(Oe));return je?(fe.p=p.get(je[0].toLowerCase()),Oe+je[0].length):-1}function re(fe,me,Oe){var je=g.exec(me.slice(Oe));return je?(fe.w=S.get(je[0].toLowerCase()),Oe+je[0].length):-1}function T(fe,me,Oe){var je=b.exec(me.slice(Oe));return je?(fe.w=y.get(je[0].toLowerCase()),Oe+je[0].length):-1}function F(fe,me,Oe){var je=A.exec(me.slice(Oe));return je?(fe.m=L.get(je[0].toLowerCase()),Oe+je[0].length):-1}function z(fe,me,Oe){var je=k.exec(me.slice(Oe));return je?(fe.m=E.get(je[0].toLowerCase()),Oe+je[0].length):-1}function H(fe,me,Oe){return se(fe,t,me,Oe)}function ve(fe,me,Oe){return se(fe,r,me,Oe)}function ye(fe,me,Oe){return se(fe,n,me,Oe)}function xe(fe){return c[fe.getDay()]}function ie(fe){return o[fe.getDay()]}function he(fe){return d[fe.getMonth()]}function G(fe){return u[fe.getMonth()]}function ce(fe){return i[+(fe.getHours()>=12)]}function I(fe){return 1+~~(fe.getMonth()/3)}function J(fe){return c[fe.getUTCDay()]}function Z(fe){return o[fe.getUTCDay()]}function le(fe){return d[fe.getUTCMonth()]}function ue(fe){return u[fe.getUTCMonth()]}function be(fe){return i[+(fe.getUTCHours()>=12)]}function Ee(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var me=Q(fe+="",P);return me.toString=function(){return fe},me},parse:function(fe){var me=ae(fe+="",!1);return me.toString=function(){return fe},me},utcFormat:function(fe){var me=Q(fe+="",R);return me.toString=function(){return fe},me},utcParse:function(fe){var me=ae(fe+="",!0);return me.toString=function(){return fe},me}}}var $2={"-":"",_:" ",0:"0"},js=/^\s*\d+/,_C=/^%/,kC=/[\\^$*+?|[\]().{}]/g;function Lr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function EC(e){return e.replace(kC,"\\$&")}function rh(e){return new RegExp("^(?:"+e.map(EC).join("|")+")","i")}function nh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function CC(e,t,r){var n=js.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function AC(e,t,r){var n=js.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function PC(e,t,r){var n=js.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function LC(e,t,r){var n=js.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function RC(e,t,r){var n=js.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function V2(e,t,r){var n=js.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function W2(e,t,r){var n=js.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function TC(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function OC(e,t,r){var n=js.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function IC(e,t,r){var n=js.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function H2(e,t,r){var n=js.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function MC(e,t,r){var n=js.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function G2(e,t,r){var n=js.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function FC(e,t,r){var n=js.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function DC(e,t,r){var n=js.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function qC(e,t,r){var n=js.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function UC(e,t,r){var n=js.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function zC(e,t,r){var n=_C.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function BC(e,t,r){var n=js.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function $C(e,t,r){var n=js.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Y2(e,t){return Lr(e.getDate(),t,2)}function VC(e,t){return Lr(e.getHours(),t,2)}function WC(e,t){return Lr(e.getHours()%12||12,t,2)}function HC(e,t){return Lr(1+qd.count(gl(e),e),t,3)}function p4(e,t){return Lr(e.getMilliseconds(),t,3)}function GC(e,t){return p4(e,t)+"000"}function YC(e,t){return Lr(e.getMonth()+1,t,2)}function KC(e,t){return Lr(e.getMinutes(),t,2)}function JC(e,t){return Lr(e.getSeconds(),t,2)}function XC(e){var t=e.getDay();return t===0?7:t}function QC(e,t){return Lr(Fh.count(gl(e)-1,e),t,2)}function m4(e){var t=e.getDay();return t>=4||t===0?Td(e):Td.ceil(e)}function ZC(e,t){return e=m4(e),Lr(Td.count(gl(e),e)+(gl(e).getDay()===4),t,2)}function eA(e){return e.getDay()}function tA(e,t){return Lr(hp.count(gl(e)-1,e),t,2)}function rA(e,t){return Lr(e.getFullYear()%100,t,2)}function nA(e,t){return e=m4(e),Lr(e.getFullYear()%100,t,2)}function sA(e,t){return Lr(e.getFullYear()%1e4,t,4)}function iA(e,t){var r=e.getDay();return e=r>=4||r===0?Td(e):Td.ceil(e),Lr(e.getFullYear()%1e4,t,4)}function aA(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Lr(t/60|0,"0",2)+Lr(t%60,"0",2)}function K2(e,t){return Lr(e.getUTCDate(),t,2)}function oA(e,t){return Lr(e.getUTCHours(),t,2)}function lA(e,t){return Lr(e.getUTCHours()%12||12,t,2)}function cA(e,t){return Lr(1+Dp.count(Ec(e),e),t,3)}function x4(e,t){return Lr(e.getUTCMilliseconds(),t,3)}function uA(e,t){return x4(e,t)+"000"}function dA(e,t){return Lr(e.getUTCMonth()+1,t,2)}function hA(e,t){return Lr(e.getUTCMinutes(),t,2)}function fA(e,t){return Lr(e.getUTCSeconds(),t,2)}function pA(e){var t=e.getUTCDay();return t===0?7:t}function mA(e,t){return Lr(i1.count(Ec(e)-1,e),t,2)}function g4(e){var t=e.getUTCDay();return t>=4||t===0?Od(e):Od.ceil(e)}function xA(e,t){return e=g4(e),Lr(Od.count(Ec(e),e)+(Ec(e).getUTCDay()===4),t,2)}function gA(e){return e.getUTCDay()}function vA(e,t){return Lr(fp.count(Ec(e)-1,e),t,2)}function bA(e,t){return Lr(e.getUTCFullYear()%100,t,2)}function yA(e,t){return e=g4(e),Lr(e.getUTCFullYear()%100,t,2)}function wA(e,t){return Lr(e.getUTCFullYear()%1e4,t,4)}function NA(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Od(e):Od.ceil(e),Lr(e.getUTCFullYear()%1e4,t,4)}function jA(){return"+0000"}function J2(){return"%"}function X2(e){return+e}function Q2(e){return Math.floor(+e/1e3)}var rd,a1;SA({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SA(e){return rd=SC(e),a1=rd.format,rd.parse,rd.utcFormat,rd.utcParse,rd}function _A(e){return new Date(e)}function kA(e){return e instanceof Date?+e:+new Date(+e)}function v4(e,t,r,n,i,o,c,u,d,h){var p=a4(),b=p.invert,y=p.domain,g=h(".%L"),S=h(":%S"),k=h("%I:%M"),E=h("%I %p"),A=h("%a %d"),L=h("%b %d"),P=h("%B"),R=h("%Y");function X(Q){return(d(Q)<Q?g:u(Q)<Q?S:c(Q)<Q?k:o(Q)<Q?E:n(Q)<Q?i(Q)<Q?A:L:r(Q)<Q?P:R)(Q)}return p.invert=function(Q){return new Date(b(Q))},p.domain=function(Q){return arguments.length?y(Array.from(Q,kA)):y().map(_A)},p.ticks=function(Q){var ae=y();return e(ae[0],ae[ae.length-1],Q??10)},p.tickFormat=function(Q,ae){return ae==null?X:h(ae)},p.nice=function(Q){var ae=y();return(!Q||typeof Q.range!="function")&&(Q=t(ae[0],ae[ae.length-1],Q??10)),Q?y(dC(ae,Q)):p},p.copy=function(){return i4(p,v4(e,t,r,n,i,o,c,u,d,h))},p}function EA(){return Bw.apply(v4(NC,jC,gl,qp,Fh,qd,Fp,Mp,_c,a1).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CA(e,t){t.domain&&("nice"in e||"quantiles"in e||"padding"in e,e.domain(t.domain))}function AA(e,t){t.range&&("padding"in e,e.range(t.range))}function PA(e,t){"align"in e&&"align"in t&&typeof t.align<"u"&&e.align(t.align)}function LA(e,t){"base"in e&&"base"in t&&typeof t.base<"u"&&e.base(t.base)}function RA(e,t){"clamp"in e&&"clamp"in t&&typeof t.clamp<"u"&&e.clamp(t.clamp)}function TA(e,t){"constant"in e&&"constant"in t&&typeof t.constant<"u"&&e.constant(t.constant)}function OA(e,t){"exponent"in e&&"exponent"in t&&typeof t.exponent<"u"&&e.exponent(t.exponent)}var Z2={lab:z8,hcl:B8,"hcl-long":$8,hsl:q8,"hsl-long":U8,cubehelix:V8,"cubehelix-long":W8,rgb:bg};function IA(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return Z2[e]}var t=e.type,r=e.gamma,n=Z2[t];return typeof r>"u"?n:n.gamma(r)}function MA(e,t){if("interpolate"in t&&"interpolate"in e&&typeof t.interpolate<"u"){var r=IA(t.interpolate);e.interpolate(r)}}var FA=new Date(Date.UTC(2020,1,2,3,4,5)),DA="%Y-%m-%d %H:%M";function qA(e){var t=e.tickFormat(1,DA)(FA);return t==="2020-02-02 03:04"}var eb={day:qd,hour:Fp,minute:Mp,month:qp,second:_c,week:Fh,year:gl},tb={day:Dp,hour:h4,minute:d4,month:f4,second:_c,week:i1,year:Ec};function UA(e,t){if("nice"in t&&typeof t.nice<"u"&&"nice"in e){var r=t.nice;if(typeof r=="boolean")r&&e.nice();else if(typeof r=="number")e.nice(r);else{var n=e,i=qA(n);if(typeof r=="string")n.nice(i?tb[r]:eb[r]);else{var o=r.interval,c=r.step,u=(i?tb[o]:eb[o]).every(c);u!=null&&n.nice(u)}}}}function zA(e,t){"padding"in e&&"padding"in t&&typeof t.padding<"u"&&e.padding(t.padding),"paddingInner"in e&&"paddingInner"in t&&typeof t.paddingInner<"u"&&e.paddingInner(t.paddingInner),"paddingOuter"in e&&"paddingOuter"in t&&typeof t.paddingOuter<"u"&&e.paddingOuter(t.paddingOuter)}function BA(e,t){if(t.reverse){var r=e.range().slice().reverse();"padding"in e,e.range(r)}}function $A(e,t){"round"in t&&typeof t.round<"u"&&(t.round&&"interpolate"in t&&typeof t.interpolate<"u"?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(t4))}function VA(e,t){"unknown"in e&&"unknown"in t&&typeof t.unknown<"u"&&e.unknown(t.unknown)}function WA(e,t){if("zero"in t&&t.zero===!0){var r=e.domain(),n=r[0],i=r[1],o=i<n,c=o?[i,n]:[n,i],u=c[0],d=c[1],h=[Math.min(0,u),Math.max(0,d)];e.domain(o?h.reverse():h)}}var HA=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],GA={domain:CA,nice:UA,zero:WA,interpolate:MA,round:$A,align:PA,base:LA,clamp:RA,constant:TA,exponent:OA,padding:zA,range:AA,reverse:BA,unknown:VA};function b4(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=new Set(t),i=HA.filter(function(o){return n.has(o)});return function(c,u){return typeof u<"u"&&i.forEach(function(d){GA[d](c,u)}),c}}var YA=b4("domain","range","reverse","clamp","interpolate","nice","round","zero");function KA(e){return YA(u4(),e)}var JA=b4("domain","range","reverse","clamp","interpolate","nice","round");function XA(e){return JA(EA(),e)}function QA(e){if((typeof e=="function"||typeof e=="object"&&e)&&"valueOf"in e){var t=e.valueOf();if(typeof t=="number")return t}return e}function ZA(e,t){var r=e;return"ticks"in r?r.ticks(t):r.domain().filter(function(n,i,o){return t==null||o.length<=t||i%Math.round((o.length-1)/t)===0})}function eP(e){return e==null?void 0:e.toString()}var lm,rb;function tP(){if(rb)return lm;rb=1,lm=e;function e(n,i,o){n instanceof RegExp&&(n=t(n,o)),i instanceof RegExp&&(i=t(i,o));var c=r(n,i,o);return c&&{start:c[0],end:c[1],pre:o.slice(0,c[0]),body:o.slice(c[0]+n.length,c[1]),post:o.slice(c[1]+i.length)}}function t(n,i){var o=i.match(n);return o?o[0]:null}e.range=r;function r(n,i,o){var c,u,d,h,p,b=o.indexOf(n),y=o.indexOf(i,b+1),g=b;if(b>=0&&y>0){for(c=[],d=o.length;g>=0&&!p;)g==b?(c.push(g),b=o.indexOf(n,g+1)):c.length==1?p=[c.pop(),y]:(u=c.pop(),u<d&&(d=u,h=y),y=o.indexOf(i,g+1)),g=b<y&&b>=0?b:y;c.length&&(p=[d,h])}return p}return lm}var cm,nb;function rP(){if(nb)return cm;nb=1,cm=e;function e(n,i,o){n instanceof RegExp&&(n=t(n,o)),i instanceof RegExp&&(i=t(i,o));var c=r(n,i,o);return c&&{start:c[0],end:c[1],pre:o.slice(0,c[0]),body:o.slice(c[0]+n.length,c[1]),post:o.slice(c[1]+i.length)}}function t(n,i){var o=i.match(n);return o?o[0]:null}e.range=r;function r(n,i,o){var c,u,d,h,p,b=o.indexOf(n),y=o.indexOf(i,b+1),g=b;if(b>=0&&y>0){if(n===i)return[b,y];for(c=[],d=o.length;g>=0&&!p;)g==b?(c.push(g),b=o.indexOf(n,g+1)):c.length==1?p=[c.pop(),y]:(u=c.pop(),u<d&&(d=u,h=y),y=o.indexOf(i,g+1)),g=b<y&&b>=0?b:y;c.length&&(p=[d,h])}return p}return cm}var um,sb;function nP(){if(sb)return um;sb=1;var e=rP();um=t;function t(i,o,c){var u=i;return r(i,o).reduce(function(d,h){return d.replace(h.functionIdentifier+"("+h.matches.body+")",n(h.matches.body,h.functionIdentifier,c,u,o))},i)}function r(i,o){var c=[],u=typeof o=="string"?new RegExp("\\b("+o+")\\("):o;do{var d=u.exec(i);if(!d)return c;if(d[1]===void 0)throw new Error("Missing the first couple of parenthesis to get the function identifier in "+o);var h=d[1],p=d.index,b=e("(",")",i.substring(p));if(!b||b.start!==d[0].length-1)throw new SyntaxError(h+"(): missing closing ')' in the value '"+i+"'");c.push({matches:b,functionIdentifier:h}),i=b.post}while(u.test(i));return c}function n(i,o,c,u,d){return c(t(i,d,c),o,u)}return um}var dm,ib;function sP(){if(ib)return dm;ib=1;var e=function(t){this.value=t};return e.math={isDegree:!0,acos:function(t){return e.math.isDegree?180/Math.PI*Math.acos(t):Math.acos(t)},add:function(t,r){return t+r},asin:function(t){return e.math.isDegree?180/Math.PI*Math.asin(t):Math.asin(t)},atan:function(t){return e.math.isDegree?180/Math.PI*Math.atan(t):Math.atan(t)},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},asinh:function(t){return Math.log(t+Math.sqrt(t*t+1))},atanh:function(t){return Math.log((1+t)/(1-t))},C:function(t,r){var n=1,i=t-r,o=r;o<i&&(o=i,i=r);for(var c=o+1;c<=t;c++)n*=c;return n/e.math.fact(i)},changeSign:function(t){return-t},cos:function(t){return e.math.isDegree&&(t=e.math.toRadian(t)),Math.cos(t)},cosh:function(t){return(Math.pow(Math.E,t)+Math.pow(Math.E,-1*t))/2},div:function(t,r){return t/r},fact:function(t){if(t%1!==0)return"NaN";for(var r=1,n=2;n<=t;n++)r*=n;return r},inverse:function(t){return 1/t},log:function(t){return Math.log(t)/Math.log(10)},mod:function(t,r){return t%r},mul:function(t,r){return t*r},P:function(t,r){for(var n=1,i=Math.floor(t)-Math.floor(r)+1;i<=Math.floor(t);i++)n*=i;return n},Pi:function(t,r,n){for(var i=1,o=t;o<=r;o++)i*=Number(n.postfixEval({n:o}));return i},pow10x:function(t){for(var r=1;t--;)r*=10;return r},sigma:function(t,r,n){for(var i=0,o=t;o<=r;o++)i+=Number(n.postfixEval({n:o}));return i},sin:function(t){return e.math.isDegree&&(t=e.math.toRadian(t)),Math.sin(t)},sinh:function(t){return(Math.pow(Math.E,t)-Math.pow(Math.E,-1*t))/2},sub:function(t,r){return t-r},tan:function(t){return e.math.isDegree&&(t=e.math.toRadian(t)),Math.tan(t)},tanh:function(t){return e.sinha(t)/e.cosha(t)},toRadian:function(t){return t*Math.PI/180},and:function(t,r){return t&r}},e.Exception=function(t){this.message=t},dm=e,dm}var hm,ab;function iP(){if(ab)return hm;ab=1;var e=sP();function t(L,P){for(var R=0;R<L.length;R++)L[R]+=P;return L}for(var r=[{token:"sin",show:"sin",type:0,value:e.math.sin},{token:"cos",show:"cos",type:0,value:e.math.cos},{token:"tan",show:"tan",type:0,value:e.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:e.math.P},{token:"C",show:"C",type:10,value:e.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:e.math.asin},{token:"acos",show:"acos",type:0,value:e.math.acos},{token:"atan",show:"atan",type:0,value:e.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:e.math.cosh},{token:"acosh",show:"acosh",type:0,value:e.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:e.math.div},{token:"!",show:"!",type:7,value:e.math.fact},{token:"tanh",show:"tanh",type:0,value:e.math.tanh},{token:"atanh",show:"atanh",type:0,value:e.math.atanh},{token:"Mod",show:" Mod ",type:2,value:e.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:e.math.mul},{token:"sinh",show:"sinh",type:0,value:e.math.sinh},{token:"asinh",show:"asinh",type:0,value:e.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:e.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:e.math.add},{token:"-",show:"-",type:9,value:e.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:e.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:e.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:e.math.and}],n={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1,15:11},i=0;i<r.length;i++)r[i].precedence=n[r[i].type];var o={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0,15:!0},c={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,15:!0},u={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0,15:!0},d={},h={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0,15:!0},p={1:!0},b=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function y(L,P,R,X){for(var Q=0;Q<X;Q++)if(L[R+Q]!==P[Q])return!1;return!0}e.tokenTypes={FUNCTION_WITH_ONE_ARG:0,NUMBER:1,BINARY_OPERATOR_HIGH_PRECENDENCE:2,CONSTANT:3,OPENING_PARENTHESIS:4,CLOSING_PARENTHESIS:5,DECIMAL:6,POSTFIX_FUNCTION_WITH_ONE_ARG:7,FUNCTION_WITH_N_ARGS:8,BINARY_OPERATOR_LOW_PRECENDENCE:9,BINARY_OPERATOR_PERMUTATION:10,COMMA:11,EVALUATED_FUNCTION:12,EVALUATED_FUNCTION_PARAMETER:13,SPACE:14},e.addToken=function(L){for(var P=0;P<L.length;P++){var R=L[P].token.length,X=-1;L[P].type===e.tokenTypes.FUNCTION_WITH_N_ARGS&&L[P].numberOfArguments===void 0&&(L[P].numberOfArguments=2),b[R]=b[R]||[];for(var Q=0;Q<b[R].length;Q++)if(L[P].token===b[R][Q]){X=g(b[R][Q],r);break}X===-1?(r.push(L[P]),L[P].precedence=n[L[P].type],b.length<=L[P].token.length&&(b[L[P].token.length]=[]),b[L[P].token.length].push(L[P].token)):(r[X]=L[P],L[P].precedence=n[L[P].type])}};function g(L,P){for(var R=0;R<P.length;R++)if(P[R].token===L)return R;return-1}function S(L){for(var P=[],R=L.length,X,Q,ae,se=0;se<R;se++)if(!(se<R-1&&L[se]===" "&&L[se+1]===" ")){for(X="",Q=L.length-se>b.length-2?b.length-1:L.length-se;Q>0;Q--)if(b[Q]!==void 0)for(ae=0;ae<b[Q].length;ae++)y(L,b[Q][ae],se,Q)&&(X=b[Q][ae],ae=b[Q].length,Q=0);if(se+=X.length-1,X==="")throw new e.Exception("Can't understand after "+L.slice(se));P.push(r[g(X,r)])}return P}var k={value:e.math.changeSign,type:0,pre:21,show:"-"},E={value:")",show:")",type:5,pre:0},A={value:"(",type:4,pre:0,show:"("};return e.lex=function(L,P){var R=[A],X=[],Q=L,ae=o,se=0,V=d,re="",T;typeof P<"u"&&e.addToken(P);var F={},z=S(Q);for(T=0;T<z.length;T++){var H=z[T];if(H.type===14){if(T>0&&T<z.length-1&&z[T+1].type===1&&(z[T-1].type===1||z[T-1].type===6))throw new e.Exception("Unexpected Space");continue}var ve=H.token,ye=H.type,xe=H.value,ie=H.precedence,he=H.show,G=R[R.length-1],ce;for(ce=X.length;ce--&&X[ce]===0;)if([0,2,3,4,5,9,11,12,13].indexOf(ye)!==-1){if(ae[ye]!==!0)throw new e.Exception(ve+" is not allowed after "+re);R.push(E),ae=c,V=h,X.pop()}if(ae[ye]!==!0)throw new e.Exception(ve+" is not allowed after "+re);if(V[ye]===!0&&(ye=2,xe=e.math.mul,he="&times;",ie=3,T=T-1),F={value:xe,type:ye,pre:ie,show:he,numberOfArguments:H.numberOfArguments},ye===0)ae=o,V=d,t(X,2),R.push(F),z[T+1].type!==4&&(R.push(A),X.push(2));else if(ye===1)G.type===1?(G.value+=xe,t(X,1)):R.push(F),ae=c,V=u;else if(ye===2)ae=o,V=d,t(X,2),R.push(F);else if(ye===3)R.push(F),ae=c,V=h;else if(ye===4)t(X,1),se++,ae=o,V=d,R.push(F);else if(ye===5){if(!se)throw new e.Exception("Closing parenthesis are more than opening one, wait What!!!");se--,ae=c,V=h,R.push(F),t(X,1)}else if(ye===6){if(G.hasDec)throw new e.Exception("Two decimals are not allowed in one number");G.type!==1&&(G={value:0,type:1,pre:0},R.push(G)),ae=p,t(X,1),V=d,G.value+=xe,G.hasDec=!0}else ye===7&&(ae=c,V=h,t(X,1),R.push(F));ye===8?(ae=o,V=d,t(X,H.numberOfArguments+2),R.push(F),z[T+1].type!==4&&(R.push(A),X.push(H.numberOfArguments+2))):ye===9?(G.type===9?G.value===e.math.add?(G.value=xe,G.show=he,t(X,1)):G.value===e.math.sub&&he==="-"&&(G.value=e.math.add,G.show="+",t(X,1)):G.type!==5&&G.type!==7&&G.type!==1&&G.type!==3&&G.type!==13?ve==="-"&&(ae=o,V=d,t(X,2).push(2),R.push(k),R.push(A)):(R.push(F),t(X,2)),ae=o,V=d):ye===10?(ae=o,V=d,t(X,2),R.push(F)):ye===11?(ae=o,V=d,R.push(F)):ye===12?(ae=o,V=d,t(X,6),R.push(F),z[T+1].type!==4&&(R.push(A),X.push(6))):ye===13&&(ae=c,V=h,R.push(F)),t(X,-1),re=ve}for(ce=X.length;ce--;)R.push(E);if(ae[5]!==!0)throw new e.Exception("complete the expression");for(;se--;)R.push(E);return R.push(E),new e(R)},hm=e,hm}var fm,ob;function aP(){if(ob)return fm;ob=1;var e=iP();return e.prototype.toPostfix=function(){for(var t=[],r,n,i,o,c,u=[{value:"(",type:4,pre:0}],d=this.value,h=1;h<d.length;h++)if(d[h].type===1||d[h].type===3||d[h].type===13)d[h].type===1&&(d[h].value=Number(d[h].value)),t.push(d[h]);else if(d[h].type===4)u.push(d[h]);else if(d[h].type===5)for(;(n=u.pop()).type!==4;)t.push(n);else if(d[h].type===11){for(;(n=u.pop()).type!==4;)t.push(n);u.push(n)}else{r=d[h],o=r.pre,c=u[u.length-1],i=c.pre;var p=c.value=="Math.pow"&&r.value=="Math.pow";if(o>i)u.push(r);else{for(;i>=o&&!p||p&&o<i;)n=u.pop(),c=u[u.length-1],t.push(n),i=c.pre,p=r.value=="Math.pow"&&c.value=="Math.pow";u.push(r)}}return new e(t)},fm=e,fm}var pm,lb;function oP(){if(lb)return pm;lb=1;var e=aP();return e.prototype.postfixEval=function(t){t=t||{},t.PI=Math.PI,t.E=Math.E;for(var r=[],n,i,o,c=this.value,u=typeof t.n<"u",d=0;d<c.length;d++)if(c[d].type===1)r.push({value:c[d].value,type:1});else if(c[d].type===3)r.push({value:t[c[d].value],type:1});else if(c[d].type===0)typeof r[r.length-1].type>"u"?r[r.length-1].value.push(c[d]):r[r.length-1].value=c[d].value(r[r.length-1].value);else if(c[d].type===7)typeof r[r.length-1].type>"u"?r[r.length-1].value.push(c[d]):r[r.length-1].value=c[d].value(r[r.length-1].value);else if(c[d].type===8){for(var h=[],p=0;p<c[d].numberOfArguments;p++)h.push(r.pop().value);r.push({type:1,value:c[d].value.apply(c[d],h.reverse())})}else c[d].type===10?(n=r.pop(),i=r.pop(),typeof i.type>"u"?(i.value=i.concat(n),i.value.push(c[d]),r.push(i)):typeof n.type>"u"?(n.unshift(i),n.push(c[d]),r.push(n)):r.push({type:1,value:c[d].value(i.value,n.value)})):c[d].type===2||c[d].type===9?(n=r.pop(),i=r.pop(),typeof i.type>"u"?(i=i.concat(n),i.push(c[d]),r.push(i)):typeof n.type>"u"?(n.unshift(i),n.push(c[d]),r.push(n)):r.push({type:1,value:c[d].value(i.value,n.value)})):c[d].type===12?(n=r.pop(),typeof n.type<"u"&&(n=[n]),i=r.pop(),o=r.pop(),r.push({type:1,value:c[d].value(o.value,i.value,new e(n))})):c[d].type===13&&(u?r.push({value:t[c[d].value],type:3}):r.push([c[d]]));if(r.length>1)throw new e.Exception("Uncaught Syntax error");return r[0].value>1e15?"Infinity":parseFloat(r[0].value.toFixed(15))},e.eval=function(t,r,n){return typeof r>"u"?this.lex(t).toPostfix().postfixEval():typeof n>"u"?typeof r.length<"u"?this.lex(t,r).toPostfix().postfixEval():this.lex(t).toPostfix().postfixEval(r):this.lex(t,r).toPostfix().postfixEval(n)},pm=e,pm}var mm,cb;function lP(){if(cb)return mm;cb=1;var e=oP();return e.prototype.formulaEval=function(){for(var t,r,n,i=[],o=this.value,c=0;c<o.length;c++)o[c].type===1||o[c].type===3?i.push({value:o[c].type===3?o[c].show:o[c].value,type:1}):o[c].type===13?i.push({value:o[c].show,type:1}):o[c].type===0?i[i.length-1]={value:o[c].show+(o[c].show!="-"?"(":"")+i[i.length-1].value+(o[c].show!="-"?")":""),type:0}:o[c].type===7?i[i.length-1]={value:(i[i.length-1].type!=1?"(":"")+i[i.length-1].value+(i[i.length-1].type!=1?")":"")+o[c].show,type:7}:o[c].type===10?(t=i.pop(),r=i.pop(),o[c].show==="P"||o[c].show==="C"?i.push({value:"<sup>"+r.value+"</sup>"+o[c].show+"<sub>"+t.value+"</sub>",type:10}):i.push({value:(r.type!=1?"(":"")+r.value+(r.type!=1?")":"")+"<sup>"+t.value+"</sup>",type:1})):o[c].type===2||o[c].type===9?(t=i.pop(),r=i.pop(),i.push({value:(r.type!=1?"(":"")+r.value+(r.type!=1?")":"")+o[c].show+(t.type!=1?"(":"")+t.value+(t.type!=1?")":""),type:o[c].type})):o[c].type===12&&(t=i.pop(),r=i.pop(),n=i.pop(),i.push({value:o[c].show+"("+n.value+","+r.value+","+t.value+")",type:12}));return i[0].value},mm=e,mm}var xm,ub;function cP(){if(ub)return xm;ub=1;var e=tP(),t=nP(),r=lP(),n=100,i=/(\+|\-|\*|\\|[^a-z]|)(\s*)(\()/g,o;xm=c;function c(d,h){o=0,h=Math.pow(10,h===void 0?5:h),d=d.replace(/\n+/g," ");function p(y,g,S){if(o++>n)throw o=0,new Error("Call stack overflow for "+S);if(y==="")throw new Error(g+"(): '"+S+"' must contain a non-whitespace string");y=b(y,S);var k=u(y);if(k.length>1||y.indexOf("var(")>-1)return g+"("+y+")";var E=k[0]||"";E==="%"&&(y=y.replace(/\b[0-9\.]+%/g,function(P){return parseFloat(P.slice(0,-1))*.01}));var A=y.replace(new RegExp(E,"gi"),""),L;try{L=r.eval(A)}catch{return g+"("+y+")"}return E==="%"&&(L*=100),(g.length||E==="%")&&(L=Math.round(L*h)/h),L+=E,L}function b(y,g){y=y.replace(/((?:\-[a-z]+\-)?calc)/g,"");for(var S="",k=y,E;E=i.exec(k);){E[0].index>0&&(S+=k.substring(0,E[0].index));var A=e("(",")",k.substring([0].index));if(A.body==="")throw new Error("'"+y+"' must contain a non-whitespace string");var L=p(A.body,"",g);S+=A.pre+L,k=A.post}return S+k}return t(d,/((?:\-[a-z]+\-)?calc)\(/,p)}function u(d){for(var h=[],p=[],b=/[\.0-9]([%a-z]+)/gi,y=b.exec(d);y;)!y||!y[1]||(p.indexOf(y[1].toLowerCase())===-1&&(h.push(y[1]),p.push(y[1].toLowerCase())),y=b.exec(d));return h}return xm}var uP=cP();const gm=Ac(uP);var vm,db;function dP(){if(db)return vm;db=1;var e=typeof hf=="object"&&hf&&hf.Object===Object&&hf;return vm=e,vm}var bm,hb;function Up(){if(hb)return bm;hb=1;var e=dP(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return bm=r,bm}var ym,fb;function y4(){if(fb)return ym;fb=1;var e=Up(),t=e.Symbol;return ym=t,ym}var wm,pb;function hP(){if(pb)return wm;pb=1;var e=y4(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function o(c){var u=r.call(c,i),d=c[i];try{c[i]=void 0;var h=!0}catch{}var p=n.call(c);return h&&(u?c[i]=d:delete c[i]),p}return wm=o,wm}var Nm,mb;function fP(){if(mb)return Nm;mb=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Nm=r,Nm}var jm,xb;function w4(){if(xb)return jm;xb=1;var e=y4(),t=hP(),r=fP(),n="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function c(u){return u==null?u===void 0?i:n:o&&o in Object(u)?t(u):r(u)}return jm=c,jm}var Sm,gb;function zp(){if(gb)return Sm;gb=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Sm=e,Sm}var _m,vb;function pP(){if(vb)return _m;vb=1;var e=w4(),t=zp(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function c(u){if(!t(u))return!1;var d=e(u);return d==n||d==i||d==r||d==o}return _m=c,_m}var km,bb;function mP(){if(bb)return km;bb=1;var e=Up(),t=e["__core-js_shared__"];return km=t,km}var Em,yb;function xP(){if(yb)return Em;yb=1;var e=mP(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Em=r,Em}var Cm,wb;function gP(){if(wb)return Cm;wb=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Cm=r,Cm}var Am,Nb;function vP(){if(Nb)return Am;Nb=1;var e=pP(),t=xP(),r=zp(),n=gP(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,h=u.hasOwnProperty,p=RegExp("^"+d.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b(y){if(!r(y)||t(y))return!1;var g=e(y)?p:o;return g.test(n(y))}return Am=b,Am}var Pm,jb;function bP(){if(jb)return Pm;jb=1;function e(t,r){return t==null?void 0:t[r]}return Pm=e,Pm}var Lm,Sb;function N4(){if(Sb)return Lm;Sb=1;var e=vP(),t=bP();function r(n,i){var o=t(n,i);return e(o)?o:void 0}return Lm=r,Lm}var Rm,_b;function Bp(){if(_b)return Rm;_b=1;var e=N4(),t=e(Object,"create");return Rm=t,Rm}var Tm,kb;function yP(){if(kb)return Tm;kb=1;var e=Bp();function t(){this.__data__=e?e(null):{},this.size=0}return Tm=t,Tm}var Om,Eb;function wP(){if(Eb)return Om;Eb=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Om=e,Om}var Im,Cb;function NP(){if(Cb)return Im;Cb=1;var e=Bp(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var c=this.__data__;if(e){var u=c[o];return u===t?void 0:u}return n.call(c,o)?c[o]:void 0}return Im=i,Im}var Mm,Ab;function jP(){if(Ab)return Mm;Ab=1;var e=Bp(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var o=this.__data__;return e?o[i]!==void 0:r.call(o,i)}return Mm=n,Mm}var Fm,Pb;function SP(){if(Pb)return Fm;Pb=1;var e=Bp(),t="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=e&&i===void 0?t:i,this}return Fm=r,Fm}var Dm,Lb;function _P(){if(Lb)return Dm;Lb=1;var e=yP(),t=wP(),r=NP(),n=jP(),i=SP();function o(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var h=c[u];this.set(h[0],h[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Dm=o,Dm}var qm,Rb;function kP(){if(Rb)return qm;Rb=1;function e(){this.__data__=[],this.size=0}return qm=e,qm}var Um,Tb;function EP(){if(Tb)return Um;Tb=1;function e(t,r){return t===r||t!==t&&r!==r}return Um=e,Um}var zm,Ob;function $p(){if(Ob)return zm;Ob=1;var e=EP();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return zm=t,zm}var Bm,Ib;function CP(){if(Ib)return Bm;Ib=1;var e=$p(),t=Array.prototype,r=t.splice;function n(i){var o=this.__data__,c=e(o,i);if(c<0)return!1;var u=o.length-1;return c==u?o.pop():r.call(o,c,1),--this.size,!0}return Bm=n,Bm}var $m,Mb;function AP(){if(Mb)return $m;Mb=1;var e=$p();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return $m=t,$m}var Vm,Fb;function PP(){if(Fb)return Vm;Fb=1;var e=$p();function t(r){return e(this.__data__,r)>-1}return Vm=t,Vm}var Wm,Db;function LP(){if(Db)return Wm;Db=1;var e=$p();function t(r,n){var i=this.__data__,o=e(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return Wm=t,Wm}var Hm,qb;function RP(){if(qb)return Hm;qb=1;var e=kP(),t=CP(),r=AP(),n=PP(),i=LP();function o(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var h=c[u];this.set(h[0],h[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Hm=o,Hm}var Gm,Ub;function TP(){if(Ub)return Gm;Ub=1;var e=N4(),t=Up(),r=e(t,"Map");return Gm=r,Gm}var Ym,zb;function OP(){if(zb)return Ym;zb=1;var e=_P(),t=RP(),r=TP();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Ym=n,Ym}var Km,Bb;function IP(){if(Bb)return Km;Bb=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Km=e,Km}var Jm,$b;function Vp(){if($b)return Jm;$b=1;var e=IP();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Jm=t,Jm}var Xm,Vb;function MP(){if(Vb)return Xm;Vb=1;var e=Vp();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Xm=t,Xm}var Qm,Wb;function FP(){if(Wb)return Qm;Wb=1;var e=Vp();function t(r){return e(this,r).get(r)}return Qm=t,Qm}var Zm,Hb;function DP(){if(Hb)return Zm;Hb=1;var e=Vp();function t(r){return e(this,r).has(r)}return Zm=t,Zm}var ex,Gb;function qP(){if(Gb)return ex;Gb=1;var e=Vp();function t(r,n){var i=e(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return ex=t,ex}var tx,Yb;function UP(){if(Yb)return tx;Yb=1;var e=OP(),t=MP(),r=FP(),n=DP(),i=qP();function o(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var h=c[u];this.set(h[0],h[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,tx=o,tx}var rx,Kb;function zP(){if(Kb)return rx;Kb=1;var e=UP(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var c=arguments,u=i?i.apply(this,c):c[0],d=o.cache;if(d.has(u))return d.get(u);var h=n.apply(this,c);return o.cache=d.set(u,h)||d,h};return o.cache=new(r.Cache||e),o}return r.Cache=e,rx=r,rx}var BP=zP();const $P=Ac(BP);var Jb="__react_svg_text_measurement_id";function VP(e,t){try{var r=document.getElementById(Jb);if(!r){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("aria-hidden","true"),n.style.width="0",n.style.height="0",n.style.position="absolute",n.style.top="-100%",n.style.left="-100%",r=document.createElementNS("http://www.w3.org/2000/svg","text"),r.setAttribute("id",Jb),n.appendChild(r),document.body.appendChild(n)}return Object.assign(r.style,t),r.textContent=e,r.getComputedTextLength()}catch{return null}}const Xb=$P(VP,function(e,t){return e+"_"+JSON.stringify(t)});var WP=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function HP(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function nx(e){return typeof e=="number"}function Qb(e){return typeof e=="number"&&Number.isFinite(e)||typeof e=="string"}function GP(e){var t=e.verticalAnchor,r=t===void 0?"end":t,n=e.scaleToFit,i=n===void 0?!1:n,o=e.angle,c=e.width,u=e.lineHeight,d=u===void 0?"1em":u,h=e.capHeight,p=h===void 0?"0.71em":h,b=e.children,y=e.style,g=HP(e,WP),S=g.x,k=S===void 0?0:S,E=g.y,A=E===void 0?0:E,L=!Qb(k)||!Qb(A),P=B.useMemo(function(){var V=b==null?[]:b.toString().split(/(?:(?!\u00A0+)\s+)/);return{wordsWithWidth:V.map(function(re){return{word:re,wordWidth:Xb(re,y)||0}}),spaceWidth:Xb("",y)||0}},[b,y]),R=P.wordsWithWidth,X=P.spaceWidth,Q=B.useMemo(function(){return L?[]:c||i?R.reduce(function(V,re){var T=re.word,F=re.wordWidth,z=V[V.length-1];if(z&&(c==null||i||(z.width||0)+F+X<c))z.words.push(T),z.width=z.width||0,z.width+=F+X;else{var H={words:[T],width:F};V.push(H)}return V},[]):[{words:b==null?[]:b.toString().split(/(?:(?!\u00A0+)\s+)/)}]},[L,c,i,b,R,X]),ae=B.useMemo(function(){var V=L?"":gm(r==="start"?"calc("+p+")":r==="middle"?"calc("+(Q.length-1)/2+" * -"+d+" + ("+p+" / 2))":"calc("+(Q.length-1)+" * -"+d+")");return V},[L,r,p,Q.length,d]),se=B.useMemo(function(){var V=[];if(L)return"";if(nx(k)&&nx(A)&&nx(c)&&i&&Q.length>0){var re=Q[0].width||1,T=i==="shrink-only"?Math.min(c/re,1):c/re,F=T,z=k-T*k,H=A-F*A;V.push("matrix("+T+", 0, 0, "+F+", "+z+", "+H+")")}return o&&V.push("rotate("+o+", "+k+", "+A+")"),V.length>0?V.join(" "):""},[L,k,A,c,i,Q,o]);return{wordsByLines:Q,startDy:ae,transform:se}}var YP=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(this,arguments)}function KP(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var JP={overflow:"visible"};function j4(e){var t=e.dx,r=t===void 0?0:t,n=e.dy,i=n===void 0?0:n,o=e.textAnchor,c=o===void 0?"start":o,u=e.innerRef,d=e.innerTextRef;e.verticalAnchor,e.angle;var h=e.lineHeight,p=h===void 0?"1em":h;e.scaleToFit,e.capHeight,e.width;var b=KP(e,YP),y=b.x,g=y===void 0?0:y,S=b.fontSize,k=GP(e),E=k.wordsByLines,A=k.startDy,L=k.transform;return jt.createElement("svg",{ref:u,x:r,y:i,fontSize:S,style:JP},E.length>0?jt.createElement("text",Ng({ref:d,transform:L},b,{textAnchor:c}),E.map(function(P,R){return jt.createElement("tspan",{key:R,x:g,dy:R===0?A:p},P.words.join(" "))})):null)}var ya={top:"top",left:"left",bottom:"bottom"};function XP(e){var t=e.labelOffset,r=e.labelProps,n=e.orientation,i=e.range,o=e.tickLabelFontSize,c=e.tickLength,u=n===ya.left||n===ya.top?-1:1,d,h,p;if(n===ya.top||n===ya.bottom){var b=n===ya.bottom&&typeof r.fontSize=="number"?r.fontSize:0;d=(Number(i[0])+Number(i[i.length-1]))/2,h=u*(c+t+o+b)}else d=u*((Number(i[0])+Number(i[i.length-1]))/2),h=-(c+t),p="rotate("+u*90+")";return{x:d,y:h,transform:p}}function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(this,arguments)}function QP(e){var t=e.hideTicks,r=e.horizontal,n=e.orientation,i=e.tickClassName,o=e.tickComponent,c=e.tickLabelProps,u=e.tickStroke,d=u===void 0?"#222":u,h=e.tickTransform,p=e.ticks,b=e.strokeWidth,y=e.tickLineProps;return p.map(function(g){var S,k=g.value,E=g.index,A=g.from,L=g.to,P=g.formattedValue,R=(S=c[E])!=null?S:{},X=Math.max(10,typeof R.fontSize=="number"&&R.fontSize||0),Q=L.y+(r&&n!==ya.top?X:0);return jt.createElement(Lp,{key:"visx-tick-"+k+"-"+E,className:Qa("visx-axis-tick",i),transform:h},!t&&jt.createElement(zw,fh({from:A,to:L,stroke:d,strokeWidth:b,strokeLinecap:"square"},y)),o?o(fh({},R,{x:L.x,y:Q,formattedValue:P})):jt.createElement(j4,fh({x:L.x,y:Q},R),P))})}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(this,arguments)}var Zb={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"};function ZP(e){var t=e.axisFromPoint,r=e.axisLineClassName,n=e.axisToPoint,i=e.hideAxisLine,o=e.hideTicks,c=e.horizontal,u=e.label,d=u===void 0?"":u,h=e.labelClassName,p=e.labelOffset,b=p===void 0?14:p,y=e.labelProps,g=e.orientation,S=g===void 0?ya.bottom:g,k=e.scale,E=e.stroke,A=E===void 0?"#222":E,L=e.strokeDasharray,P=e.strokeWidth,R=P===void 0?1:P,X=e.tickClassName,Q=e.tickComponent,ae=e.tickLineProps,se=e.tickLabelProps,V=e.tickLength,re=V===void 0?8:V,T=e.tickStroke,F=T===void 0?"#222":T,z=e.tickTransform,H=e.ticks,ve=e.ticksComponent,ye=ve===void 0?QP:ve,xe=ph({},Zb,y),ie=ph({},Zb,typeof se=="object"?se:null),he=H.map(function(ce){var I=ce.value,J=ce.index;return typeof se=="function"?se(I,J,H):ie}),G=Math.max.apply(Math,[10].concat(he.map(function(ce){return typeof ce.fontSize=="number"?ce.fontSize:0})));return jt.createElement(jt.Fragment,null,ye({hideTicks:o,horizontal:c,orientation:S,scale:k,tickClassName:X,tickComponent:Q,tickLabelProps:he,tickStroke:F,tickTransform:z,ticks:H,strokeWidth:R,tickLineProps:ae}),!i&&jt.createElement(zw,{className:Qa("visx-axis-line",r),from:t,to:n,stroke:A,strokeWidth:R,strokeDasharray:L}),d&&jt.createElement(j4,ph({className:Qa("visx-axis-label",h)},XP({labelOffset:b,labelProps:xe,orientation:S,range:k.range(),tickLabelFontSize:G,tickLength:re}),xe),d))}function eL(e,t){t===void 0&&(t="center");var r=e;if(t!=="start"&&"bandwidth"in r){var n=r.bandwidth();return t==="center"&&(n/=2),r.round()&&(n=Math.round(n)),function(i){var o=r(i);return typeof o=="number"?o+n:o}}return e}function tL(e){var t=e;return"tickFormat"in t?t.tickFormat():eP}var jg=(function(){function e(r){var n=r.x,i=n===void 0?0:n,o=r.y,c=o===void 0?0:o;this.x=0,this.y=0,this.x=i,this.y=c}var t=e.prototype;return t.value=function(){return{x:this.x,y:this.y}},t.toArray=function(){return[this.x,this.y]},e})();function kf(e,t){var r=e.x,n=e.y;return new jg(t?{x:r,y:n}:{x:n,y:r})}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(this,arguments)}var sx=0;function rL(e){return e===void 0&&(e=sx),typeof e=="number"?{start:e,end:e}:Sg({start:sx,end:sx},e)}var nL=["children","axisClassName","hideAxisLine","hideTicks","hideZero","innerRef","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_g.apply(this,arguments)}function sL(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function S4(e){var t=e.children,r=t===void 0?ZP:t,n=e.axisClassName,i=e.hideAxisLine,o=i===void 0?!1:i,c=e.hideTicks,u=c===void 0?!1:c,d=e.hideZero,h=d===void 0?!1:d,p=e.innerRef,b=e.left,y=b===void 0?0:b,g=e.numTicks,S=g===void 0?10:g,k=e.orientation,E=k===void 0?ya.bottom:k,A=e.rangePadding,L=A===void 0?0:A,P=e.scale,R=e.tickFormat,X=e.tickLength,Q=X===void 0?8:X,ae=e.tickValues,se=e.top,V=se===void 0?0:se,re=sL(e,nL),T=R??tL(P),F=E===ya.left,z=E===ya.top,H=z||E===ya.bottom,ve=eL(P),ye=F||z?-1:1,xe=P.range(),ie=rL(L),he=kf({x:Number(xe[0])+.5-ie.start,y:0},H),G=kf({x:Number(xe[xe.length-1])+.5+ie.end,y:0},H),ce=(ae??ZA(P,S)).filter(function(J){return!h||J!==0&&J!=="0"}).map(function(J,Z){return{value:J,index:Z}}),I=ce.map(function(J){var Z=J.value,le=J.index,ue=QA(ve(Z));return{value:Z,index:le,from:kf({x:ue,y:0},H),to:kf({x:ue,y:Q*ye},H),formattedValue:T(Z,le,ce)}});return jt.createElement(Lp,{className:Qa("visx-axis",n),innerRef:p,top:V,left:y},r(_g({},re,{axisFromPoint:he,axisToPoint:G,hideAxisLine:o,hideTicks:u,hideZero:h,horizontal:H,numTicks:S,orientation:E,rangePadding:L,scale:P,tickFormat:T,tickLength:Q,tickPosition:ve,tickSign:ye,ticks:I})))}var iL=["axisClassName","labelOffset","tickLength","tickLabelProps"];function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(this,arguments)}function aL(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var oL={dx:"-0.25em",dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"end"};function lL(e){var t=e.axisClassName,r=e.labelOffset,n=r===void 0?36:r,i=e.tickLength,o=i===void 0?8:i,c=e.tickLabelProps,u=aL(e,iL),d=typeof c=="function"?c:pp({},oL,c);return jt.createElement(S4,pp({axisClassName:Qa("visx-axis-left",t),labelOffset:n,orientation:ya.left,tickLabelProps:d,tickLength:o},u))}var cL=["axisClassName","labelOffset","tickLength","tickLabelProps"];function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(this,arguments)}function uL(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var dL={dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"middle"};function hL(e){var t=e.axisClassName,r=e.labelOffset,n=r===void 0?8:r,i=e.tickLength,o=i===void 0?8:i,c=e.tickLabelProps,u=uL(e,cL),d=typeof c=="function"?c:mp({},dL,c);return jt.createElement(S4,mp({axisClassName:Qa("visx-axis-bottom",t),labelOffset:n,orientation:ya.bottom,tickLabelProps:d,tickLength:o},u))}var fL=["children","id","from","to","x1","y1","x2","y2","fromOffset","fromOpacity","toOffset","toOpacity","rotate","transform","vertical"];function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(this,arguments)}function pL(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Eg(e){var t=e.children,r=e.id,n=e.from,i=e.to,o=e.x1,c=e.y1,u=e.x2,d=e.y2,h=e.fromOffset,p=h===void 0?"0%":h,b=e.fromOpacity,y=b===void 0?1:b,g=e.toOffset,S=g===void 0?"100%":g,k=e.toOpacity,E=k===void 0?1:k,A=e.rotate,L=e.transform,P=e.vertical,R=P===void 0?!0:P,X=pL(e,fL),Q=o,ae=u,se=c,V=d;return R&&!Q&&!ae&&!se&&!V&&(Q="0",ae="0",se="0",V="1"),jt.createElement("defs",null,jt.createElement("linearGradient",kg({id:r,x1:Q,y1:se,x2:ae,y2:V,gradientTransform:A?"rotate("+A+")":L},X),!!t&&t,!t&&jt.createElement("stop",{offset:p,stopColor:n,stopOpacity:y}),!t&&jt.createElement("stop",{offset:S,stopColor:i,stopOpacity:E})))}Eg.propTypes={id:Ct.string.isRequired,from:Ct.string,to:Ct.string,x1:Ct.oneOfType([Ct.string,Ct.number]),x2:Ct.oneOfType([Ct.string,Ct.number]),y1:Ct.oneOfType([Ct.string,Ct.number]),y2:Ct.oneOfType([Ct.string,Ct.number]),fromOffset:Ct.oneOfType([Ct.string,Ct.number]),fromOpacity:Ct.oneOfType([Ct.string,Ct.number]),toOffset:Ct.oneOfType([Ct.string,Ct.number]),toOpacity:Ct.oneOfType([Ct.string,Ct.number]),rotate:Ct.oneOfType([Ct.string,Ct.number]),transform:Ct.string,children:Ct.node,vertical:Ct.bool};var mL=["tooltipOpen"];function xL(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(this,arguments)}function gL(e){var t=B.useState(xp({tooltipOpen:!1},e)),r=t[0],n=t[1],i=B.useCallback(function(c){return n(typeof c=="function"?function(u){u.tooltipOpen;var d=xL(u,mL);return xp({},c(d),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:c.tooltipLeft,tooltipTop:c.tooltipTop,tooltipData:c.tooltipData})},[n]),o=B.useCallback(function(){return n({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})},[n]);return{tooltipOpen:r.tooltipOpen,tooltipLeft:r.tooltipLeft,tooltipTop:r.tooltipTop,tooltipData:r.tooltipData,updateTooltip:n,showTooltip:i,hideTooltip:o}}var vL=["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"];function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(this,arguments)}function bL(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var o1={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"},l1=jt.forwardRef(function(e,t){var r=e.className,n=e.top,i=e.left,o=e.offsetLeft,c=o===void 0?10:o,u=e.offsetTop,d=u===void 0?10:u,h=e.style,p=h===void 0?o1:h,b=e.children,y=e.unstyled,g=y===void 0?!1:y,S=e.applyPositionStyle,k=S===void 0?!1:S,E=bL(e,vL);return jt.createElement("div",gp({ref:t,className:Qa("visx-tooltip",r),style:gp({top:n==null||d==null?n:n+d,left:i==null||c==null?i:i+c},k&&{position:"absolute"},!g&&p)},E),b)});l1.propTypes={children:Ct.node,className:Ct.string,left:Ct.number,offsetLeft:Ct.number,offsetTop:Ct.number,top:Ct.number,applyPositionStyle:Ct.bool,unstyled:Ct.bool};l1.displayName="Tooltip";function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}function yL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wL(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ag(e,t)}function Ag(e,t){return Ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ag(e,t)}var e5={top:0,right:0,bottom:0,left:0,width:0,height:0};function NL(e){var t;return t=(function(r){wL(n,r);function n(o){var c;return c=r.call(this,o)||this,c.state={rect:void 0,parentRect:void 0},c.nodeRef=jt.createRef(),c.getRects=c.getRects.bind(yL(c)),c}var i=n.prototype;return i.componentDidMount=function(){var c,u=this;this.node=(c=this.nodeRef)!=null&&c.current?this.nodeRef.current:tw.findDOMNode(this),this.setState(function(){return u.getRects()})},i.getRects=function(){if(!this.node)return this.state;var c=this.node,u=c.parentNode,d=c.getBoundingClientRect?c.getBoundingClientRect():e5,h=u!=null&&u.getBoundingClientRect?u.getBoundingClientRect():e5;return{rect:d,parentRect:h}},i.render=function(){return jt.createElement(e,Cg({nodeRef:this.nodeRef,getRects:this.getRects},this.state,this.props))},n})(jt.PureComponent),t.displayName="withBoundingRects("+(e.displayName||"")+")",t}var _4=B.createContext({isFlippedVertically:!1,isFlippedHorizontally:!1}),jL=_4.Provider;_4.Consumer;var SL=["children","getRects","left","offsetLeft","offsetTop","parentRect","rect","style","top","unstyled","nodeRef"];function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(this,arguments)}function _L(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function k4(e){var t=e.children;e.getRects;var r=e.left,n=r===void 0?0:r,i=e.offsetLeft,o=i===void 0?10:i,c=e.offsetTop,u=c===void 0?10:c,d=e.parentRect,h=e.rect,p=e.style,b=p===void 0?o1:p,y=e.top,g=y===void 0?0:y,S=e.unstyled,k=S===void 0?!1:S,E=e.nodeRef,A=_L(e,SL),L,P=!1,R=!1;if(h&&d){var X=n,Q=g;if(d.width){var ae=X+o+h.width-d.width,se=h.width-X-o;P=ae>0&&ae>se}else{var V=X+o+h.width-window.innerWidth,re=h.width-X-o;P=V>0&&V>re}if(d.height){var T=Q+u+h.height-d.height,F=h.height-Q-u;R=T>0&&T>F}else R=Q+u+h.height>window.innerHeight;X=P?X-h.width-o:X+o,Q=R?Q-h.height-u:Q+u,X=Math.round(X),Q=Math.round(Q),L="translate("+X+"px, "+Q+"px)"}return jt.createElement(l1,vp({ref:E,style:vp({left:0,top:0,transform:L},!k&&b)},A),jt.createElement(jL,{value:{isFlippedVertically:!R,isFlippedHorizontally:!P}},t))}k4.propTypes={nodeRef:Ct.oneOfType([Ct.string,Ct.func,Ct.object])};const kL=NL(k4);function EL(e){return!!e&&e instanceof Element}function CL(e){return!!e&&(e instanceof SVGElement||"ownerSVGElement"in e)}function AL(e){return!!e&&"createSVGPoint"in e}function PL(e){return!!e&&"getScreenCTM"in e}function LL(e){return!!e&&"changedTouches"in e}function RL(e){return!!e&&"clientX"in e}function TL(e){return!!e&&(e instanceof Event||"nativeEvent"in e&&e.nativeEvent instanceof Event)}function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mh.apply(this,arguments)}var ix={x:0,y:0};function OL(e){if(!e)return mh({},ix);if(LL(e))return e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:mh({},ix);if(RL(e))return{x:e.clientX,y:e.clientY};var t=e==null?void 0:e.target,r=t&&"getBoundingClientRect"in t?t.getBoundingClientRect():null;return r?{x:r.x+r.width/2,y:r.y+r.height/2}:mh({},ix)}function t5(e,t){if(!e||!t)return null;var r=OL(t),n=CL(e)?e.ownerSVGElement:e,i=PL(n)?n.getScreenCTM():null;if(AL(n)&&i){var o=n.createSVGPoint();return o.x=r.x,o.y=r.y,o=o.matrixTransform(i.inverse()),new jg({x:o.x,y:o.y})}var c=e.getBoundingClientRect();return new jg({x:r.x-c.left-e.clientLeft,y:r.y-c.top-e.clientTop})}function IL(e,t){if(EL(e)&&t)return t5(e,t);if(TL(e)){var r=e,n=r.target;if(n)return t5(n,r)}return null}var ax,r5;function ML(){if(r5)return ax;r5=1;var e=Up(),t=function(){return e.Date.now()};return ax=t,ax}var ox,n5;function FL(){if(n5)return ox;n5=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return ox=t,ox}var lx,s5;function DL(){if(s5)return lx;s5=1;var e=FL(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return lx=r,lx}var cx,i5;function qL(){if(i5)return cx;i5=1;function e(t){return t!=null&&typeof t=="object"}return cx=e,cx}var ux,a5;function UL(){if(a5)return ux;a5=1;var e=w4(),t=qL(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return ux=n,ux}var dx,o5;function zL(){if(o5)return dx;o5=1;var e=DL(),t=zp(),r=UL(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(t(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=t(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=e(h);var b=o.test(h);return b||c.test(h)?u(h.slice(2),b?2:8):i.test(h)?n:+h}return dx=d,dx}var hx,l5;function BL(){if(l5)return hx;l5=1;var e=zp(),t=ML(),r=zL(),n="Expected a function",i=Math.max,o=Math.min;function c(u,d,h){var p,b,y,g,S,k,E=0,A=!1,L=!1,P=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,e(h)&&(A=!!h.leading,L="maxWait"in h,y=L?i(r(h.maxWait)||0,d):y,P="trailing"in h?!!h.trailing:P);function R(z){var H=p,ve=b;return p=b=void 0,E=z,g=u.apply(ve,H),g}function X(z){return E=z,S=setTimeout(se,d),A?R(z):g}function Q(z){var H=z-k,ve=z-E,ye=d-H;return L?o(ye,y-ve):ye}function ae(z){var H=z-k,ve=z-E;return k===void 0||H>=d||H<0||L&&ve>=y}function se(){var z=t();if(ae(z))return V(z);S=setTimeout(se,Q(z))}function V(z){return S=void 0,P&&p?R(z):(p=b=void 0,g)}function re(){S!==void 0&&clearTimeout(S),E=0,p=k=b=S=void 0}function T(){return S===void 0?g:V(t())}function F(){var z=t(),H=ae(z);if(p=arguments,b=this,k=z,H){if(S===void 0)return X(k);if(L)return clearTimeout(S),S=setTimeout(se,d),R(k)}return S===void 0&&(S=setTimeout(se,d)),g}return F.cancel=re,F.flush=T,F}return hx=c,hx}var $L=BL();const VL=Ac($L);function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bp.apply(this,arguments)}var WL=[],c5={width:0,height:0,top:0,left:0};function HL(e){var t=e===void 0?{}:e,r=t.initialSize,n=r===void 0?c5:r,i=t.debounceTime,o=i===void 0?300:i,c=t.ignoreDimensions,u=c===void 0?WL:c,d=t.enableDebounceLeadingCall,h=d===void 0?!0:d,p=t.resizeObserverPolyfill,b=B.useRef(null),y=B.useRef(0),g=B.useState(bp({},c5,n)),S=g[0],k=g[1],E=B.useMemo(function(){var A=Array.isArray(u)?u:[u];return VL(function(L){k(function(P){var R=Object.keys(P),X=R.filter(function(ae){return P[ae]!==L[ae]}),Q=X.every(function(ae){return A.includes(ae)});return Q?P:L})},o,{leading:h})},[o,h,u]);return B.useEffect(function(){var A=p||window.ResizeObserver,L=new A(function(P){P.forEach(function(R){var X,Q=(X=R==null?void 0:R.contentRect)!=null?X:{},ae=Q.left,se=Q.top,V=Q.width,re=Q.height;y.current=window.requestAnimationFrame(function(){E({width:V,height:re,top:se,left:ae})})})});return b.current&&L.observe(b.current),function(){window.cancelAnimationFrame(y.current),L.disconnect(),E.cancel()}},[E,p]),bp({parentRef:b,resize:E},S)}var GL=["className","children","debounceTime","ignoreDimensions","initialSize","parentSizeStyles","enableDebounceLeadingCall","resizeObserverPolyfill"],YL=["parentRef","resize"];function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yp.apply(this,arguments)}function u5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var KL={width:"100%",height:"100%"};function E4(e){var t=e.className,r=e.children,n=e.debounceTime,i=e.ignoreDimensions,o=e.initialSize,c=e.parentSizeStyles,u=c===void 0?KL:c,d=e.enableDebounceLeadingCall,h=d===void 0?!0:d,p=e.resizeObserverPolyfill,b=u5(e,GL),y=HL({initialSize:o,debounceTime:n,ignoreDimensions:i,enableDebounceLeadingCall:h,resizeObserverPolyfill:p}),g=y.parentRef,S=y.resize,k=u5(y,YL);return jt.createElement("div",yp({style:u,ref:g,className:t},b),r(yp({},k,{ref:g.current,resize:S})))}E4.propTypes={className:Ct.string,children:Ct.func.isRequired};const ll={securedStart:"#10B981",securedEnd:"#064E3B",securedStroke:"#34D399",exposedStart:"#EF4444",exposedEnd:"#7F1D1D",exposedStroke:"#F87171",axis:"#9CA3AF",grid:"#FFFFFF10",tooltipBg:"#0F172A"},d5=a1("%Y"),cl=e=>new Date(e.date),nd=e=>e.securedCA,fx=e=>e.exposedCA,px=e=>e.securedCA+e.exposedCA,JL=Tp(e=>new Date(e.date)).left,XL=({data:e,width:t,height:r})=>{const n={top:40,right:30,bottom:50,left:60},i=t-n.left-n.right,o=r-n.top-n.bottom,{showTooltip:c,hideTooltip:u,tooltipData:d,tooltipTop:h=0,tooltipLeft:p=0}=gL(),b=B.useMemo(()=>XA({domain:u8(e,cl),range:[0,i]}),[e,i]),y=B.useMemo(()=>KA({domain:[0,(m8(e,px)||1e3)*1.1],range:[o,0],nice:!0}),[e,o]),g=B.useCallback(S=>{const{x:k}=IL(S)||{x:0},E=b.invert(k-n.left),A=JL(e,E,1),L=e[A-1],P=e[A];let R=L;P&&cl(P)&&(R=E.valueOf()-cl(L).valueOf()>cl(P).valueOf()-E.valueOf()?P:L),R&&c({tooltipData:R,tooltipLeft:b(cl(R))+n.left,tooltipTop:y(px(R))+n.top})},[c,b,y,e,n]);return t<10?null:s.jsxs(s.Fragment,{children:[s.jsxs("svg",{width:t,height:r,children:[s.jsxs("defs",{children:[s.jsx(Eg,{id:"gradient-secured",from:ll.securedStart,to:ll.securedEnd,fromOpacity:.6,toOpacity:.05}),s.jsx(Eg,{id:"gradient-exposed",from:ll.exposedStart,to:ll.exposedEnd,fromOpacity:.6,toOpacity:.05}),s.jsxs("filter",{id:"glow-secured",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[s.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),s.jsxs("feMerge",{children:[s.jsx("feMergeNode",{in:"coloredBlur"}),s.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),s.jsxs("filter",{id:"glow-exposed",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[s.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),s.jsxs("feMerge",{children:[s.jsx("feMergeNode",{in:"coloredBlur"}),s.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),s.jsxs(Lp,{left:n.left,top:n.top,children:[y.ticks(5).map((S,k)=>s.jsx("line",{x1:0,x2:i,y1:y(S),y2:y(S),stroke:ll.grid,strokeDasharray:"4 4"},`line-${S}-${k}`)),s.jsx(S2,{data:e,x:S=>b(cl(S)),y:S=>y(nd(S)),yScale:y,stroke:"transparent",fill:"url(#gradient-secured)",curve:Nf}),s.jsx(j2,{data:e,x:S=>b(cl(S)),y:S=>y(nd(S)),stroke:ll.securedStroke,strokeWidth:3,curve:Nf,filter:"url(#glow-secured)"}),s.jsx(S2,{data:e,x:S=>b(cl(S)),y0:S=>y(nd(S)),y1:S=>y(nd(S)+fx(S)),yScale:y,stroke:"transparent",fill:"url(#gradient-exposed)",curve:Nf}),s.jsx(j2,{data:e,x:S=>b(cl(S)),y:S=>y(nd(S)+fx(S)),stroke:ll.exposedStroke,strokeWidth:3,curve:Nf,filter:"url(#glow-exposed)"}),s.jsx(hL,{top:o,scale:b,stroke:"transparent",tickStroke:"transparent",numTicks:t>500?10:5,tickLabelProps:()=>({fill:ll.axis,fontSize:10,textAnchor:"middle",fontFamily:"sans-serif",fontWeight:600}),tickFormat:S=>d5(S)}),s.jsx(lL,{scale:y,stroke:"transparent",tickStroke:"transparent",numTicks:5,tickLabelProps:()=>({fill:ll.axis,fontSize:10,textAnchor:"end",dx:-5,dy:3,fontFamily:"sans-serif",fontWeight:600}),tickFormat:S=>`${(S/1e3).toFixed(0)}k`}),s.jsx(s8,{x:0,y:0,width:i,height:o,fill:"transparent",rx:14,onTouchStart:g,onTouchMove:g,onMouseMove:g,onMouseLeave:()=>u()}),d&&s.jsx("line",{x1:p-n.left,x2:p-n.left,y1:0,y2:o,stroke:"white",strokeOpacity:.2,strokeWidth:1,pointerEvents:"none"})]})]}),d&&s.jsx(kL,{top:h,left:p,style:{...o1,backgroundColor:ll.tooltipBg,color:"white",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",padding:"12px",boxShadow:"0 10px 30px -10px rgba(0,0,0,0.5)"},children:s.jsxs("div",{className:"flex flex-col gap-1 min-w-[140px]",children:[s.jsx("div",{className:"text-xs font-bold text-slate-400 mb-1 uppercase tracking-wider",children:d5(cl(d))}),s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-xs text-red-300 font-medium",children:" Risque"}),s.jsxs("span",{className:"text-sm font-black text-red-400",children:[fx(d).toLocaleString()," "]})]}),s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-xs text-emerald-300 font-medium",children:"Scuris"}),s.jsxs("span",{className:"text-sm font-black text-emerald-400",children:[nd(d).toLocaleString()," "]})]}),s.jsx("div",{className:"h-[1px] bg-white/10 my-1"}),s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-xs text-white font-bold",children:"TOTAL"}),s.jsxs("span",{className:"text-sm font-black text-white",children:[px(d).toLocaleString()," "]})]})]})})]})},QL=({data:e})=>s.jsx("div",{className:"w-full h-[350px] relative font-sans",children:s.jsx(E4,{children:({width:t,height:r})=>s.jsx(XL,{data:e,width:t,height:r})})}),Dn=({id:e,title:t,icon:r,children:n,defaultOpen:i=!1,onOpen:o,onClose:c,forceOpen:u})=>{const[d,h]=B.useState(i),[p,b]=B.useState(i||u);B.useEffect(()=>{u&&(h(!0),b(!0))},[u]);const y=()=>{const g=!d;!g&&c&&c(e)===!1||(g&&(b(!0),o&&o(e)),h(g))};return s.jsxs("div",{id:e,className:"bg-black/20 backdrop-blur-sm border border-white/5 rounded-2xl overflow-hidden mb-4",children:[s.jsxs("button",{onClick:y,className:"w-full flex items-center justify-between p-4 hover:bg-white/5 transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-white/5 rounded-lg group-hover:bg-white/10 transition-colors",children:r}),s.jsx("h3",{className:"text-lg font-black text-white uppercase tracking-tight text-left",children:t})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"hidden sm:inline text-xs text-slate-500 font-mono",children:["#",e]}),s.jsx(Gg,{className:`text-slate-400 transition-transform duration-300 ${d?"rotate-180":""}`,size:20})]})]}),p&&s.jsx("div",{className:`transition-all duration-300 ease-in-out ${d?"max-h-[5000px] opacity-100":"max-h-0 opacity-0"} overflow-hidden`,children:s.jsx("div",{className:"p-4 pt-0",children:n})})]})},Qe=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(e),sd=e=>new Intl.NumberFormat("fr-FR").format(e),h5=({checked:e,onChange:t,labelOn:r,labelOff:n})=>s.jsxs("div",{className:"flex items-center gap-3 bg-black/60 backdrop-blur-md p-1 rounded-full border border-white/10",children:[s.jsx("button",{onClick:()=>t(!1),className:`px-3 py-1 rounded-full text-xs font-bold transition-all ${e?"text-slate-500 hover:text-slate-300":"bg-slate-700 text-white shadow-sm"}`,children:n}),s.jsx("button",{onClick:()=>t(!0),className:`px-3 py-1 rounded-full text-xs font-bold transition-all ${e?"bg-blue-600 text-white shadow-sm":"text-slate-500 hover:text-slate-300"}`,children:r})]}),pa=({label:e,value:t,setValue:r,unit:n,sublabel:i,icon:o,min:c=0,step:u=1,disabled:d=!1})=>s.jsxs("div",{className:`bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-4 flex flex-col justify-between relative overflow-hidden group transition-all duration-300 hover:border-white/30 hover:shadow-[0_0_20px_rgba(255,255,255,0.1)] ${d?"opacity-50 pointer-events-none":""}`,children:[s.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none",style:{backgroundImage:"linear-gradient(0deg, rgba(255,255,255,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),s.jsx("div",{className:"relative z-10 flex justify-between items-start mb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[o&&s.jsx("span",{className:"opacity-80",children:o}),s.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:e})]})}),s.jsxs("div",{className:"relative z-10 flex items-end gap-2",children:[s.jsx("input",{type:"number",value:t,onChange:h=>r(parseFloat(h.target.value)||0),className:"bg-transparent text-2xl font-bold text-white outline-none w-full appearance-none m-0 p-0 leading-none placeholder-slate-700",step:u,min:c,disabled:d}),n&&s.jsx("span",{className:"text-slate-500 font-bold text-sm mb-1",children:n}),!d&&s.jsxs("div",{className:"flex flex-col gap-0.5 absolute right-0 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-black/60 p-1 rounded border border-white/10",children:[s.jsx("button",{onClick:()=>r(parseFloat((t+u).toFixed(2))),className:"text-slate-500 hover:text-white",children:s.jsx(pS,{size:16})}),s.jsx("button",{onClick:()=>r(parseFloat(Math.max(c,t-u).toFixed(2))),className:"text-slate-500 hover:text-white",children:s.jsx(Gg,{size:16})})]})]}),i&&s.jsx("div",{className:"relative z-10 h-4 mt-2",children:s.jsx("p",{className:"text-[10px] text-slate-600 truncate",children:i})})]}),ZL=({taux:e,mensualite:t,duree:r,montantFinance:n,hasPromoCode:i})=>{var b,y,g;const o=zx({amount:n,rate:e,duration:r});if(e!==1.99||!i)return null;const c=((b=o.marketComparison)==null?void 0:b.marketRate)||5.89,u=((y=o.marketComparison)==null?void 0:y.savings)||0,d=((g=o.marketComparison)==null?void 0:g.marketMonthlyPayment)||0,h=3.89,p=zx({amount:n,rate:h,duration:r});return s.jsxs("div",{className:"bg-zinc-900/40 border border-white/10 rounded-xl p-8 my-8",children:[s.jsx("div",{className:"border-b border-white/10 pb-6 mb-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:Nd.financial.bonified_rate_title}),s.jsxs("p",{className:"text-xs text-slate-500 font-mono uppercase tracking-wider",children:["Rfrence Dossier : EDF-SOL-",new Date().getFullYear(),"-",Math.random().toString(36).substr(2,6).toUpperCase()]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Date d'mission"}),s.jsx("div",{className:"text-sm font-mono text-white",children:new Date().toLocaleDateString("fr-FR")})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-5",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:"Taux Annuel Effectif Global (TAEG)"}),s.jsx("div",{className:"text-5xl font-black text-white font-mono tabular-nums mb-1",children:ba(e)}),s.jsx("div",{className:"text-xs text-emerald-400 font-mono",children:" Taux bonifi valid"})]}),s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-5",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:"Mensualit (Hors Assurance)"}),s.jsx("div",{className:"text-5xl font-black text-white font-mono tabular-nums mb-1",children:sn(o.monthlyPayment)}),s.jsxs("div",{className:"text-xs text-slate-400 font-mono",children:["sur ",r," mois"]})]}),s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-5",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:Nd.financial.market_comparison_title}),s.jsx("div",{className:"text-5xl font-black text-white font-mono tabular-nums mb-1",children:sn(u)}),s.jsxs("div",{className:"text-xs text-slate-400 font-mono",children:["vs taux march ",ba(c)]})]})]}),s.jsx("div",{className:"bg-black/20 border border-white/5 rounded-lg overflow-hidden mb-6",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-white/5 border-b border-white/10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Paramtre"}),s.jsx("th",{className:"text-right p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Taux March"}),s.jsx("th",{className:"text-right p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Taux Bonifi Standard"}),s.jsx("th",{className:"text-right p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Taux Bonifi Privilgi"})]})}),s.jsxs("tbody",{className:"font-mono",children:[s.jsxs("tr",{className:"border-b border-white/5",children:[s.jsx("td",{className:"p-4 text-slate-300",children:"TAEG"}),s.jsx("td",{className:"p-4 text-right text-red-400",children:ba(c)}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:ba(h)}),s.jsx("td",{className:"p-4 text-right text-emerald-400 font-bold",children:ba(e)})]}),s.jsxs("tr",{className:"border-b border-white/5",children:[s.jsx("td",{className:"p-4 text-slate-300",children:"Mensualit"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:sn(d)}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:sn(p.monthlyPayment)}),s.jsx("td",{className:"p-4 text-right text-white font-bold",children:sn(o.monthlyPayment)})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-4 text-slate-300",children:"Cot Total Crdit"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:sn(d*r)}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:sn(p.monthlyPayment*r)}),s.jsx("td",{className:"p-4 text-right text-white font-bold",children:sn(o.monthlyPayment*r)})]}),s.jsxs("tr",{className:"bg-emerald-950/20",children:[s.jsx("td",{className:"p-4 text-slate-300 font-bold",children:"conomie Totale"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:""}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:""}),s.jsx("td",{className:"p-4 text-right text-emerald-400 font-bold",children:sn(u)})]})]})]})}),s.jsxs("div",{className:"border-t border-white/5 pt-4 flex items-start justify-between text-[10px] text-slate-600 font-mono",children:[s.jsxs("div",{children:[s.jsx("p",{className:"mb-1",children:Nd.financial.legal_mention}),s.jsxs("p",{children:["Offre valable jusqu'au"," ",new Date(Date.now()+3*864e5).toLocaleDateString("fr-FR")," ","inclus"]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"font-bold text-slate-500",children:"EDF SOLUTIONS SOLAIRES"})})]})]})},eR=({taux:e,mensualite:t,duree:r,montantFinance:n,hasPromoCode:i})=>{var h,p,b;const o=zx({amount:n,rate:e,duration:r});if(e!==3.89||!i)return null;const c=((h=o.marketComparison)==null?void 0:h.marketRate)||5.89,u=((p=o.marketComparison)==null?void 0:p.savings)||0,d=((b=o.marketComparison)==null?void 0:b.marketMonthlyPayment)||0;return s.jsxs("div",{className:"bg-zinc-900/40 border border-white/10 rounded-xl p-8 my-8",children:[s.jsx("div",{className:"border-b border-white/10 pb-6 mb-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:Nd.financial.standard_rate_title}),s.jsxs("p",{className:"text-xs text-slate-500 font-mono uppercase tracking-wider",children:["Rfrence Dossier : EDF-SOL-",new Date().getFullYear(),"-",Math.random().toString(36).substr(2,6).toUpperCase()]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Date d'mission"}),s.jsx("div",{className:"text-sm font-mono text-white",children:new Date().toLocaleDateString("fr-FR")})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-5",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:"Taux Annuel Effectif Global (TAEG)"}),s.jsx("div",{className:"text-5xl font-black text-white font-mono tabular-nums mb-1",children:ba(e)}),s.jsx("div",{className:"text-xs text-emerald-400 font-mono",children:" Taux bonifi valid"})]}),s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-5",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:"Mensualit (Hors Assurance)"}),s.jsx("div",{className:"text-5xl font-black text-white font-mono tabular-nums mb-1",children:sn(o.monthlyPayment)}),s.jsxs("div",{className:"text-xs text-slate-400 font-mono",children:["sur ",r," mois"]})]}),s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-5",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:Nd.financial.market_comparison_title}),s.jsx("div",{className:"text-5xl font-black text-white font-mono tabular-nums mb-1",children:sn(u)}),s.jsxs("div",{className:"text-xs text-slate-400 font-mono",children:["vs march ",ba(c)]})]})]}),s.jsx("div",{className:"bg-black/20 border border-white/5 rounded-lg overflow-hidden mb-6",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-white/5 border-b border-white/10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Paramtre"}),s.jsx("th",{className:"text-right p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Taux March"}),s.jsx("th",{className:"text-right p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Taux Bonifi Standard"})]})}),s.jsxs("tbody",{className:"font-mono",children:[s.jsxs("tr",{className:"border-b border-white/5",children:[s.jsx("td",{className:"p-4 text-slate-300",children:"TAEG"}),s.jsx("td",{className:"p-4 text-right text-red-400",children:ba(c)}),s.jsx("td",{className:"p-4 text-right text-emerald-400 font-bold",children:ba(e)})]}),s.jsxs("tr",{className:"border-b border-white/5",children:[s.jsx("td",{className:"p-4 text-slate-300",children:"Mensualit"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:sn(d)}),s.jsx("td",{className:"p-4 text-right text-white font-bold",children:sn(o.monthlyPayment)})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-4 text-slate-300",children:"Cot Total Crdit"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:sn(d*r)}),s.jsx("td",{className:"p-4 text-right text-white font-bold",children:sn(o.monthlyPayment*r)})]}),s.jsxs("tr",{className:"bg-emerald-950/20",children:[s.jsx("td",{className:"p-4 text-slate-300 font-bold",children:"conomie Totale"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:""}),s.jsx("td",{className:"p-4 text-right text-emerald-400 font-bold",children:sn(u)})]})]})]})}),s.jsx("div",{className:"bg-blue-950/10 border border-blue-500/10 rounded-lg p-5 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx(zs,{className:"text-blue-400 flex-shrink-0 mt-0.5",size:18}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-white mb-3",children:"Conditions d'Accs Valides"}),s.jsxs("div",{className:"space-y-2 text-xs text-slate-300",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),s.jsx("span",{children:"Zone gographique ligible (06 - Alpes-Maritimes)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),s.jsx("span",{children:"Installation conforme RGE et normes NFC 15-100"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),s.jsx("span",{children:"Dossier valid selon critres d'ligibilit"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),s.jsxs("span",{children:["Programme actif au ",new Date().toLocaleDateString("fr-FR")]})]})]})]})]})}),s.jsxs("div",{className:"border-t border-white/5 pt-4 flex items-start justify-between text-[10px] text-slate-600 font-mono",children:[s.jsxs("div",{children:[s.jsx("p",{className:"mb-1",children:Nd.financial.legal_mention}),s.jsxs("p",{children:["Offre valable jusqu'au"," ",new Date(Date.now()+3*864e5).toLocaleDateString("fr-FR")," ","inclus"]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"font-bold text-slate-500",children:"EDF SOLUTIONS SOLAIRES"})})]})]})},tR=({taux:e,mensualite:t,duree:r,montantFinance:n,hasPromoCode:i})=>{if(e!==.99||!i)return null;const o=5.89,c=3.89,u=n*(o/12/100)/(1-Math.pow(1+o/12/100,-r)),d=n*(c/12/100)/(1-Math.pow(1+c/12/100,-r)),h=Math.abs((u-t)*r);return s.jsxs("div",{className:"bg-zinc-900/40 border border-white/10 rounded-xl p-8 my-8",children:[s.jsx("div",{className:"border-b border-white/10 pb-6 mb-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Financement Exceptionnel"}),s.jsxs("p",{className:"text-xs text-slate-500 font-mono uppercase tracking-wider",children:["Rfrence Dossier : EDF-SOL-",new Date().getFullYear(),"-",Math.random().toString(36).substr(2,6).toUpperCase()]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Date d'mission"}),s.jsx("div",{className:"text-sm font-mono text-white",children:new Date().toLocaleDateString("fr-FR")})]})]})}),s.jsx("div",{className:"bg-blue-950/10 border border-blue-500/10 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-xs text-slate-300 leading-relaxed",children:"Ce dossier bnficie d'un taux prfrentiel exceptionnel dans le cadre de votre ligibilit aux conditions spcifiques du programme."})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-4",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:"TAEG"}),s.jsx("div",{className:"text-4xl font-black text-white font-mono tabular-nums",children:ba(e)}),s.jsx("div",{className:"text-xs text-emerald-400 font-mono mt-1",children:" Valid"})]}),s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-4",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:"Mensualit"}),s.jsx("div",{className:"text-4xl font-black text-white font-mono tabular-nums",children:sn(t)}),s.jsxs("div",{className:"text-xs text-slate-400 font-mono mt-1",children:["sur ",r," mois"]})]}),s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-4",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:"conomie"}),s.jsx("div",{className:"text-4xl font-black text-white font-mono tabular-nums",children:sn(h)})]}),s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-4",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider mb-2",children:"Dure"}),s.jsxs("div",{className:"text-4xl font-black text-white font-mono tabular-nums",children:[r/12," ans"]})]})]}),s.jsx("div",{className:"bg-black/20 border border-white/5 rounded-lg overflow-hidden mb-6",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-white/5 border-b border-white/10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Paramtre"}),s.jsx("th",{className:"text-right p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Taux March"}),s.jsx("th",{className:"text-right p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Taux Bonifi Standard"}),s.jsx("th",{className:"text-right p-4 text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Taux Exceptionnel"})]})}),s.jsxs("tbody",{className:"font-mono",children:[s.jsxs("tr",{className:"border-b border-white/5",children:[s.jsx("td",{className:"p-4 text-slate-300",children:"TAEG"}),s.jsx("td",{className:"p-4 text-right text-red-400",children:ba(o)}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:ba(c)}),s.jsx("td",{className:"p-4 text-right text-emerald-400 font-bold",children:ba(e)})]}),s.jsxs("tr",{className:"border-b border-white/5",children:[s.jsx("td",{className:"p-4 text-slate-300",children:"Mensualit"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:sn(u)}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:sn(d)}),s.jsx("td",{className:"p-4 text-right text-white font-bold",children:sn(t)})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-4 text-slate-300",children:"Cot Total Crdit"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:sn(u*r)}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:sn(d*r)}),s.jsx("td",{className:"p-4 text-right text-white font-bold",children:sn(t*r)})]}),s.jsxs("tr",{className:"bg-emerald-950/20",children:[s.jsx("td",{className:"p-4 text-slate-300 font-bold",children:"conomie Totale"}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:""}),s.jsx("td",{className:"p-4 text-right text-slate-400",children:""}),s.jsx("td",{className:"p-4 text-right text-emerald-400 font-bold",children:sn(h)})]})]})]})}),s.jsx("div",{className:"bg-blue-950/10 border border-blue-500/10 rounded-lg p-5 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx(zs,{className:"text-blue-400 flex-shrink-0 mt-0.5",size:18}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-white mb-3",children:"Conditions d'Accs Valides"}),s.jsxs("div",{className:"space-y-2 text-xs text-slate-300",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),s.jsx("span",{children:"Zone gographique ligible (06 - Alpes-Maritimes)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),s.jsx("span",{children:"Installation conforme RGE et normes NFC 15-100"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),s.jsx("span",{children:"Dossier valid selon critres d'ligibilit"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),s.jsxs("span",{children:["Programme actif au ",new Date().toLocaleDateString("fr-FR")]})]})]})]})]})}),s.jsxs("div",{className:"border-t border-white/5 pt-4 flex items-start justify-between text-[10px] text-slate-600 font-mono",children:[s.jsxs("div",{children:[s.jsx("p",{className:"mb-1",children:"Document non contractuel - Sous rserve d'acceptation du dossier"}),s.jsxs("p",{children:["Offre valable jusqu'au"," ",new Date(Date.now()+3*864e5).toLocaleDateString("fr-FR")," ","inclus"]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"font-bold text-slate-500",children:"EDF SOLUTIONS SOLAIRES"})})]})]})},gc={cadreEDF:{senior:{title:"Un cadre public de confiance",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"EDF est dtenu  100 % par ltat franais."}),s.jsx("p",{className:"mb-2",children:"Cela garantit stabilit, continuit et protection dans le temps."}),s.jsx("p",{className:"text-slate-300",children:"Votre projet sinscrit dans un cadre public durable."})]})},banquier:{title:"Un acteur public structurant",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"EDF est un groupe public soumis  des obligations dtat."}),s.jsx("p",{className:"mb-2",children:"Continuit, cadre rglementaire, responsabilit long terme."}),s.jsx("p",{className:"text-slate-300",children:"Votre projet repose sur un acteur institutionnel."})]})},standard:{title:"Ce que signifie  Groupe EDF ",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"EDF appartient  ltat franais."}),s.jsx("p",{className:"mb-2",children:"Ce nest pas une socit prive opportuniste."}),s.jsx("p",{className:"text-slate-300",children:"Votre projet dpend dun cadre solide, fait pour durer."})]})}},zeroFaillite:{senior:{title:"Une continuit garantie",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Sur un projet long terme, le risque principal est la disparition de lacteur."}),s.jsx("p",{className:"text-slate-300",children:"Le cadre EDF protge votre tranquillit future."})]})},banquier:{title:"Un risque structurel neutralis",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Le premier risque dun actif long terme est la contrepartie."}),s.jsx("p",{className:"text-slate-300",children:"EDF neutralise ce risque par son statut public."})]})},standard:{title:"Pourquoi cest important",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Sur 20 ans, le vrai risque nest pas le matriel."}),s.jsx("p",{className:"text-slate-300",children:"Cest que lentreprise nexiste plus. Avec EDF, ce risque nexiste pas."})]})}},contrat:{senior:{title:"Un cadre juridique protecteur",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Votre contrat est encadr par la loi."}),s.jsx("p",{className:"text-slate-300",children:"Il protge vos droits et scurise votre engagement."})]})},banquier:{title:"Un cadre contractuel norm",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Contrat, dlais, conditions : tout est norm."}),s.jsx("p",{className:"text-slate-300",children:"Vous tes dans un cadre juridique structur."})]})},standard:{title:"Ce que a veut dire concrtement",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Ce nest pas un bon de commande flou."}),s.jsx("p",{className:"text-slate-300",children:"Cest un contrat protg par la loi."})]})}},aides:{senior:{title:"Des aides encadres par ltat",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Les aides sont dfinies et verses par ltat."}),s.jsx("p",{className:"text-slate-300",children:"Elles ne dpendent pas dune entreprise prive."})]})},banquier:{title:"Un cadre public national",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Aides dfinies par arrt, verses par organismes publics."}),s.jsx("p",{className:"text-slate-300",children:"Cadre national, non commercial."})]})},standard:{title:"Pourquoi elles sont fiables",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2",children:"Les aides viennent de ltat, pas dEDF."}),s.jsx("p",{className:"text-slate-300",children:"Elles sont les mmes partout en France."})]})}}},id={engagement:{senior:{title:" Engagement de protection",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"EDF prend contractuellement le risque administratif  sa charge."}),s.jsx("p",{children:"Si une autorisation est refuse, le projet s'arrte sans frais."}),s.jsx("p",{children:"Vous engagez un cadre scuris, pas une procdure incertaine."}),s.jsx("p",{children:"Vous restez protg  chaque tape."})]})},banquier:{title:" Transfert de risque",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Le risque administratif et rglementaire est port par EDF."}),s.jsx("p",{children:"Tant que le projet n'est pas valid, aucun engagement financier n'est d."}),s.jsx("p",{children:"Le cadre est contractuel et opposable."})]})},standard:{title:" Zro risque de blocage",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Si l'installation ne peut pas se faire, le projet s'arrte simplement."}),s.jsx("p",{children:"Aucun paiement d."}),s.jsx("p",{children:"Aucune perte."}),s.jsx("p",{children:"Aucune dmarche  grer."})]})}},paiement:{senior:{title:" Engagement sans pression",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Vous ne payez rien tant que tout n'est pas valid, autoris et planifi."}),s.jsx("p",{children:"Vous ne prenez pas de risque irrversible aujourd'hui."}),s.jsx("p",{children:"Vous enclenchez un cadre protg."})]})},banquier:{title:" Condition suspensive",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Le contrat inclut des conditions suspensives administratives."}),s.jsx("p",{children:"Sans validation du dossier, aucune obligation financire n'est dclenche."})]})},standard:{title:" Paiement  la validation",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Tant que ce n'est pas autoris, vous ne payez rien."}),s.jsx("p",{children:"Vous avancez seulement quand tout est clair."})]})}},priseEnCharge:{senior:{title:" Accompagnement complet",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"EDF gre l'ensemble du dossier."}),s.jsx("p",{children:"Vous n'avez ni formulaires  suivre, ni dmarches  coordonner, ni interlocuteurs  chercher."}),s.jsx("p",{children:"Vous tes accompagn."})]})},banquier:{title:" Pilotage EDF",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Le projet est centralis, pilot et suivi par EDF."}),s.jsx("p",{children:"Chaque tape est trace, valide et contractualise."})]})},standard:{title:" EDF s'occupe de tout",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Mairie, ENEDIS, autorisations, suivi : EDF gre."}),s.jsx("p",{children:"Vous validez seulement quand c'est ncessaire."})]})}}},ad={cadre:{senior:{title:" Dlgation scurise",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"EDF prend la responsabilit complte du parcours administratif."}),s.jsx("p",{children:"Vous ntes jamais seul face aux dmarches."}),s.jsx("p",{children:"Chaque tape est encadre, vrifie et scurise."})]})},banquier:{title:" Pilotage administratif",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Le processus est intgralement structur et pilot par EDF."}),s.jsx("p",{children:"Chaque tape fait lobjet dun contrle et dune validation formelle."}),s.jsx("p",{children:"Le projet reste sous gouvernance EDF du dbut  la fin."})]})},standard:{title:" EDF soccupe du parcours",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"EDF gre tout le volet administratif."}),s.jsx("p",{children:"Vous navez pas  vous battre avec des formulaires ou des organismes."}),s.jsx("p",{children:"Vous validez seulement quand cest utile."})]})}},complexite:{senior:{title:" Complexit matrise",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Le nombre dtapes peut sembler important."}),s.jsx("p",{children:"Mais elles sont gres, planifies et suivies par EDF."}),s.jsx("p",{children:"Vous tes accompagn  chaque moment cl."})]})},banquier:{title:" Processus encadr",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Le volume dtapes correspond aux exigences rglementaires."}),s.jsx("p",{children:"Elles sont standardises, suivies et documentes."}),s.jsx("p",{children:"Vous navez pas  en assurer la coordination."})]})},standard:{title:" Plusieurs tapes, un seul interlocuteur",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Il y a plusieurs dmarches, cest normal."}),s.jsx("p",{children:"Mais tout passe par EDF."}),s.jsx("p",{children:"Vous navez rien  grer vous-mme."})]})}},securisation:{senior:{title:" Continuit et protection",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Votre projet est suivi dans le temps."}),s.jsx("p",{children:"Vous ntes pas livr  vous-mme aprs la dcision."}),s.jsx("p",{children:"EDF reste votre point dappui."})]})},banquier:{title:" Suivi long terme",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Le projet ne sarrte pas  la signature."}),s.jsx("p",{children:"Il est encadr, suivi et contrl dans la dure."}),s.jsx("p",{children:"Cest un dispositif, pas une simple prestation."})]})},standard:{title:" Pas un one-shot",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Ce nest pas on installe et au revoir."}),s.jsx("p",{children:"Le projet est suivi et accompagn."}),s.jsx("p",{children:"EDF reste prsent aprs."})]})}}},f5={standard:"Ici, on ne compare pas deux offres. On regarde simplement ce que devient votre argent dans les deux scnarios.",senior:"Ici, lobjectif nest pas de vous faire choisir. Cest de vous montrer ce que devient votre budget dans le temps, selon que vous fassiez quelque chose ou pas.",banquier:"Ce graphique ne prsente pas une offre, mais deux trajectoires financires  partir de vos chiffres."},sh={senior:{intro:"Ce qui suit ne fait pas de prdiction. Il montre simplement ce qui se passe si vous ne faites rien  et ce qui se passe si vous agissez.",titleSub:"Deux chemins possibles pour le mme argent. Un seul vous laisse quelque chose.",closing:"Lenjeu nest pas un chiffre. Cest de ne pas se rveiller dans dix ans en regrettant davoir laiss partir ce qui aurait pu rester chez vous.",popup:{title:"Pourquoi ce module ?",body:s.jsxs(s.Fragment,{children:[s.jsxs("p",{children:["Ici, on ne parle ni doffre, ni de devis. On observe simplement"," ",s.jsx("strong",{children:"ce que deviennent vos dpenses"})," dans le temps."]}),s.jsx("p",{className:"mt-2",children:"Soit elles partent dfinitivement  sans aucun retour possible. Soit elles construisent quelque chose qui vous reste."}),s.jsx("p",{className:"mt-2 text-orange-400 font-medium",children:"La vraie question : voulez-vous garder le contrle, ou le confier dfinitivement  votre fournisseur dnergie ?"})]})}},banquier:{intro:"Deux trajectoires financires  partir des mmes flux. Une seule capitalise. Lautre dilue.",titleSub:"Comparaison dallocation de capital : dpense irrversible vs actif patrimonial.",closing:"Ce module ne parle pas dcologie. Il parle darbitrage entre consommation immdiate et capitalisation diffre.",popup:{title:"Lecture financire",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Ce visuel compare deux logiques :"}),s.jsxs("ul",{className:"list-disc ml-4 mt-2 space-y-1",children:[s.jsx("li",{children:s.jsx("strong",{children:"dpense nergtique non rcuprable"})}),s.jsx("li",{children:s.jsx("strong",{children:"raffectation dun flux vers un actif productif"})})]}),s.jsx("p",{className:"mt-3 text-blue-400 font-medium",children:"La diffrence nest pas une conomie. Cest un transfert de valeur vers votre patrimoine."})]})}},standard:{intro:"Ce qui suit ne cherche pas  forcer. Il montre simplement ce qui se passe si rien ne change  et ce qui se passe si vous agissez maintenant.",titleSub:"O vont vos dpenses selon ce que vous dcidez aujourdhui.",closing:"Au final, soit votre argent part pour toujours. Soit il reste quelque part chez vous  et vous en profitez.",popup:{title:"Comment lire ce module",body:s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Chaque carte montre ce que vous aurez pay en nergie  diffrentes chances."}),s.jsxs("p",{className:"mt-2",children:["La diffrence entre les deux scnarios,"," ",s.jsx("strong",{children:"cest ce qui peut rester chez vous"})," au lieu de partir dfinitivement."]}),s.jsx("p",{className:"mt-3 text-emerald-400 font-medium",children:"Dans ce type de dcision, on regrette rarement davoir agi. Mais on regrette trs souvent davoir attendu."})]})}}},rR=({data:e,projectionYears:t,onReset:r,onProfileChange:n,studyId:i})=>{var Cr,Al,xo,Fa,el,tl,rl,Pl,Da,qc,Ou,Iu,Uc,Ll,go,nl,qa,sc,ic,zc,Bc,Mu,Fu,ac,Hn,Ts,ss,Si,vo,Mn,is,Du,qu,ca,bo,Ua,sl,oc,qi,ei,Nr,Sr,ua,Cn,as,za,yo,os;const o=e==null?void 0:e.greenPositioning;B.useRef(!1);const[c,u]=B.useState(t||10),[d,h]=B.useState(null),[p,b]=B.useState(localStorage.getItem("agent_zero_url")||"https://autopilote.pythonanywhere.com/decide"),[y,g]=B.useState(localStorage.getItem("agent_zero_key")||"Titanium2025!"),[S,k]=B.useState(!1),[E,A]=B.useState(0),[L,P]=B.useState(100),[R,X]=B.useState(0),[Q,ae]=B.useState([]),se=$=>{b($),localStorage.setItem("agent_zero_url",$),localStorage.setItem("agent_zero_key",y),k(!1)},V=async $=>{try{console.log(" Envoi vers l'API:",p);const Ae={clientId:"EDF_RENO",userId:"commercial_01",profile:$.profile||"senior",modes:$.modes||{},signals:$.signals||{},alerts:$.alerts||{},state:$.state||{}};console.log(" PAYLOAD ENVOY:",Ae),console.log(" API KEY UTILISE:",y),console.log(" MODES:",Ae.modes);const Xe=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json","X-API-KEY":y},body:JSON.stringify(Ae)});if(!Xe.ok){const Dt=await Xe.text();throw new Error(`Erreur Serveur (${Xe.status}): ${Dt}`)}const nt=await Xe.json();return console.log(" Rponse Agent Zero:",nt),console.log(" Module Order:",nt.moduleOrder),console.log(" Tempo:",nt.presentationTempo),console.log(" Enable:",nt.enable),console.log(" Tooltips:",nt.tooltipsEnabled),console.log(" Summary Style:",nt.summaryStyle),console.log(" Reasoning:",nt.reasoning),nt}catch(Ae){return console.error(" chec de la connexion  l'IA:",Ae),null}},re=$=>{const Ae=(d==null?void 0:d.moduleOrder)||[],Xe=Ae[R],nt=Ae.indexOf($);if(d)if(console.log(` Vrification: Cible=${$} vs Attendu=${Xe} (Index: ${R})`),$===Xe)X(Dt=>Dt+1);else if(nt>R){const Dt=nt-R;console.warn(` Saut d'tapes : ${Dt} modules ignors.`),P(Bt=>Math.max(0,Bt-5*Dt)),ae(Bt=>[...Bt,`[${new Date().toLocaleTimeString()}] Saut : ${Dt} modules ignors pour aller  ${$}`]),X(nt+1)}else nt!==-1&&nt<R||Xe&&(P(Dt=>Math.max(0,Dt-5)),ae(Dt=>[...Dt,`[${new Date().toLocaleTimeString()}] Hors-piste : ${$}`]),console.warn(" Module hors-piste dtect"));Be($)};B.useEffect(()=>{async function $(){var Dt,Bt,_t,m,v,j,C,O,D,U,W,Y,ee,pe,ke;console.log(" Contacting Agent Zero...");const Ae=e.speechResult||{signals:{},alerts:{},rawScores:{}},Xe={defiance:H==="senior"&&(((Dt=Ae.rawScores)==null?void 0:Dt.senior)||0)>=6&&((Bt=Ae.signals)==null?void 0:Bt.peurDeSeTromper),opportunity:H==="standard"&&!((_t=Ae.signals)!=null&&_t.peurDeSeTromper)&&!((m=Ae.signals)!=null&&m.indecision)&&!((v=Ae.alerts)!=null&&v.profileUncertain)&&!((j=Ae.alerts)!=null&&j.incoherentAnswers)&&!((C=Ae.alerts)!=null&&C.fatigueSuspected)&&!((O=Ae.alerts)!=null&&O.fatigueCritical),fatigueCognitive:((D=Ae.alerts)==null?void 0:D.fatigueCritical)||!1};console.log(" DEBUG OPPORTUNITY:"),console.log("  Profile:",H),console.log("  peurDeSeTromper:",(U=Ae.signals)==null?void 0:U.peurDeSeTromper),console.log("  indecision:",(W=Ae.signals)==null?void 0:W.indecision),console.log("  profileUncertain:",(Y=Ae.alerts)==null?void 0:Y.profileUncertain),console.log("  incoherentAnswers:",(ee=Ae.alerts)==null?void 0:ee.incoherentAnswers),console.log("  fatigueSuspected:",(pe=Ae.alerts)==null?void 0:pe.fatigueSuspected),console.log("  fatigueCritical:",(ke=Ae.alerts)==null?void 0:ke.fatigueCritical),console.log("   opportunity calculated:",Xe.opportunity);const nt=await V({profile:H,modes:Xe,signals:Ae.signals||{peurDeSeTromper:!1,besoinDeChiffres:!1,urgencePercue:!1,indecision:!1},alerts:Ae.alerts||{},state:{currentModule:"constat",timeElapsedSec:420,questionsAsked:["ROI"]}});nt&&h(nt)}$()},[p]);const T=()=>{var Ae,Xe;const $={timestamp:new Date().toLocaleString(),auditId:((Ae=d==null?void 0:d.auditTrail)==null?void 0:Ae.audit_id)||`AZ-${Math.random().toString(36).toUpperCase().substr(2,9)}`,client:((Xe=d==null?void 0:d.auditTrail)==null?void 0:Xe.client)||"CLIENT_PROSPECTION",status:"STRICT_CONFORMITY_VALIDATED"};alert(` CERTIFICAT D'AUDIT GNR

ID: ${$.auditId}
Client: ${$.client}
Statut: ${$.status}

"Agent Zero empche de mal dcider."`)},[F,z]=B.useState(e.profile??null),H=F||"senior",ve=H==="senior"?Hj:H==="banquier"?Gj:Yj,ye=B.useMemo(()=>{if(!(d!=null&&d.moduleOrder)||d.moduleOrder.length===0)return ve;const $=d.moduleOrder.map(Ae=>{const Xe=Kj[Ae];return ve.find(nt=>nt.moduleId===Xe)}).filter(Boolean);return $.length>0?$:ve},[d,ve]),xe=B.useMemo(()=>{var Ae,Xe,nt,Dt,Bt;const $="garanties";if((Ae=d==null?void 0:d.contentOverrides)!=null&&Ae[$])return d.contentOverrides[$];if((Xe=d==null?void 0:d.contentVariants)!=null&&Xe[$]){const _t=d.contentVariants[$];return((nt=O0[$])==null?void 0:nt[_t])||((Dt=O0[$])==null?void 0:Dt.default)}return(Bt=O0[$])==null?void 0:Bt.default},[d]),[ie,he]=B.useState(null);B.useEffect(()=>{!ie&&ye.length>0&&he(ye[0])},[ye,ie]);const[G,ce]=B.useState(0),[I,J]=B.useState(0);ye[G],B.useEffect(()=>{e.profile&&!F&&z(e.profile)},[e.profile]);const[Z,le]=B.useState(!1),[ue,be]=B.useState(!1),[Ee,fe]=B.useState(!1),[me,Oe]=B.useState(!1),[je,Ve]=B.useState("dashboard"),[ze,K]=B.useState(!1),[We,vt]=B.useState(!1),[tt,Be]=B.useState(null),[ht,Ze]=B.useState(!1),[mt,xt]=B.useState(!0),[yr,nr]=B.useState("hud"),[$t,sr]=B.useState(!0),{currentStep:Jt,stepNotification:at,confirmStep:Mt,detectStep:ot,securityTime:Zr,visitedModules:Qt}=gE();Wj(F);const{activeAlert:Gt,dismissAlert:Vt,checkSecurityTime:Or}=E_({activeModule:tt,visitedModules:Qt,securityTime:Zr,currentStep:Jt,profile:F}),{silenceAlert:yt,resetTimer:Er,dismissSilenceAlert:kt}=v_({activeModule:tt}),Ut=$=>{switch($.type){case"CLOSE_AND_OPEN":Be(null),setTimeout(()=>{Be($.open)},100),Vt();break;case"CANCEL_CLOSE":Vt();break;case"ACKNOWLEDGE":Vt(),Er();break;default:Vt()}},jr=$=>$==="garanties"?Or():!0,[Yt,At]=B.useState(typeof window<"u"?window.innerWidth<640:!1);B.useEffect(()=>{tt&&ot({moduleOpen:tt,moduleClosed:null})},[tt,ot]),B.useEffect(()=>{const $=setTimeout(()=>K(!0),1200);return()=>clearTimeout($)},[]),B.useEffect(()=>{const $=()=>{(window.screenX||window.screenLeft)>window.screen.availWidth/2&&console.log(" HDMI dtect")};$();const Ae=setInterval($,1e3);return()=>clearInterval(Ae)},[]),B.useEffect(()=>{tt&&F==="senior"&&tt==="where-money"&&qr("STOP_XYEARS")},[tt,F]),B.useEffect(()=>{if(typeof window>"u")return;const $=()=>{At(window.innerWidth<640)};return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),B.useEffect(()=>{if(Jt===10&&ht===!1){const $=setTimeout(()=>{Ze(!0),console.log(" Fin de parcours dtecte")},1e3);return()=>clearTimeout($)}},[Jt,ht]);const lr=(e==null?void 0:e.city)||null,[to,$n]=B.useState(!1),[Xi,ui]=B.useState(!1),[Lt,Bs]=B.useState(!1),[Nn,qr]=B.useState(null),Ss=()=>qr(null),[gr,en]=B.useState(!1),[on,Qi]=B.useState(!1),[$s,Vs]=B.useState(0),[Ws,jn]=B.useState(!0),[di,Hs]=B.useState(e.params),[Zi,hi]=B.useState(5),[ro,Mo]=B.useState(c||20),[Fo,Do]=B.useState(""),[Lu,Mr]=B.useState(""),[Lc,qo]=B.useState(""),[Gs,Na]=B.useState(""),[fn,ja]=B.useState(null),[Uo,fs]=B.useState(!1),[Rc,pn]=B.useState(!1),[yl,Ru]=B.useState(!1),[mn,no]=B.useState(!1),[Ys,ea]=B.useState(!1),[Sn,_s]=B.useState(((Cr=e==null?void 0:e.params)==null?void 0:Cr.electricityPrice)||.25),[cr,Ks]=B.useState(((Al=e==null?void 0:e.params)==null?void 0:Al.yearlyProduction)||7e3),[Xn,zo]=B.useState(((xo=e==null?void 0:e.params)==null?void 0:xo.selfConsumptionRate)||70),[Vn,Ai]=B.useState(((Fa=e==null?void 0:e.params)==null?void 0:Fa.yearlyConsumption)||14e3),[rr,hr]=B.useState(((el=e==null?void 0:e.params)==null?void 0:el.installCost)||18799),[Sa,_a]=B.useState(!1),[Xl,Ql]=B.useState(""),[Tc,Bo]=B.useState(!1),[$o,Wn]=jt.useState(!1),[ta,ks]=B.useState(""),[Qn,so]=B.useState(""),[Et,Pi]=B.useState(null),[Zl,Vo]=B.useState(null),[_n,Li]=B.useState(!1),[io,fi]=B.useState(!1),[Wo,ec]=B.useState(!1),[Zn,ao]=B.useState(""),[Tn,Ho]=B.useState(""),[wl,tc]=B.useState((e==null?void 0:e.client_id)||null),[ka,Js]=B.useState(""),[Ea,oo]=B.useState("M./Mme"),[Es,ra]=B.useState(""),[Xs,Nl]=B.useState(""),[Qs,pi]=B.useState("financing"),[Wr,es]=B.useState(!1),[kn,jl]=B.useState(1500),w=B.useMemo(()=>({user:{profile:F||"prudent",engagementLevel:50,fatigueScore:0},session:{timeSpent:0,scrollDepth:0,openedModules:Qt||[],closedModules:[],idleMoments:0},decision:{hasSeenCoreProofs:(Qt||[]).includes("repartition"),hasSeenBudgetModule:(Qt||[]).includes("budget"),hasSeenProjection:(Qt||[]).includes("projection"),hasOpenedDetailsAccordion:!1,hasReachedDecisionAnchor:(Qt||[]).includes("decision-anchor"),hasClickedSign:!1,isSigned:_n},riskSignals:{hesitationLoops:0,backwardScrolls:0,popupObjectionsOpened:[]}}),[F,Qt,_n]);k_(w);const M=async()=>{if(!Zn.trim()){alert(" Veuillez entrer le nom du client");return}if(!Xs.trim()){alert(" Veuillez entrer l'email du commercial");return}Ql(Zn),qo(Tn),Na(ka),Mr(Es),Do(Xs),fi(!0);try{await Fc(Zn,Xs,wl||void 0,Tn,ka,Ea),Li(!1)}catch($){console.error("Erreur:",$)}finally{fi(!1)}},ne=async()=>{if(console.log(" handleSendStudy APPEL"),console.log(" currentStudyId =",Et),!Et){alert(" Aucune tude gnre. Veuillez d'abord gnrer l'tude.");return}try{fi(!0);const{error:$}=await Ao.from("studies").update({status:"sent"}).eq("id",Et);if($){console.error(" Erreur lors de l'envoi:",$),alert(" Erreur lors de l'envoi de l'tude : "+$.message);return}alert(" tude envoye ! Les emails de relance seront envoys automatiquement."),console.log(" tude passe en 'sent':",Et),Vo("sent")}catch($){console.error(" Erreur:",$),alert(" Une erreur est survenue.")}finally{fi(!1)}},de=async()=>{if(console.log(" SIGN PAYMENT VALUES",{paymentType:Qs,hasDeposit:Wr,depositAmount:kn}),!!confirm(" Confirmer que le client a SIGN le projet ?")){if(!Qs||Wr===null||Wr===void 0){alert(" Mode de paiement non dfini. Impossible de signer.");return}if(Wr&&(!kn||kn<=0)){alert(" Montant d'acompte invalide.");return}try{fi(!0);const{data:$,error:Ae}=await Ao.from("studies").select("id, status, study_data").order("created_at",{ascending:!1}).limit(1).single();if(Ae||!$){alert(" Impossible de retrouver l'tude");return}if($.status==="signed"){alert(" Cette tude est dj signe.");return}const Xe=Number(rr||0),nt=Number(tr||0),Dt=nt>=Xe,Bt=Dt?"cash":"financing";let _t;Dt?_t="cash_payment":Wr&&kn>0?_t="financing_with_deposit":_t="full_financing",console.log(" MAPPING DDUIT:",{totalPrice:Xe,finalCashApport:nt,isActuallyCash:Dt,financingMode:_t}),console.log("SIGN MODES",{payment_mode:Bt,financingMode:_t,hasDeposit:Wr,depositAmount:kn});const{error:m}=await Ao.from("studies").update({status:"signed",signed_at:new Date().toISOString(),payment_mode:Bt,payment_type:Bt,financing_mode:_t,has_deposit:Wr,deposit_amount:Wr?kn:null,study_data:{...$.study_data||{},mode:Bt,cashApport:nt},contract_secured:!1,cancellation_deadline:new Date(Date.now()+336*60*60*1e3).toISOString()}).eq("id",$.id);if(m)throw m;Li(!0),Vo("signed"),await Ao.from("decision_logs").insert({study_id:$.id,action_performed:"SIGNED_FROM_RESULTS_DASHBOARD",justification:`Signature client | mode=${Bt} | financing=${_t} | apport=${nt}`}),alert(" Client sign. Dossier fig financirement.")}catch($){console.error("SIGN ERROR:",$),alert(" Erreur lors de la signature")}finally{fi(!1)}}},[Se,qe]=B.useState(((tl=e==null?void 0:e.params)==null?void 0:tl.installedPower)||3.5),[$e,lt]=B.useState(((rl=e==null?void 0:e.params)==null?void 0:rl.houseSize)||120),[et,Rt]=B.useState(147.8),[St,ir]=B.useState(4.7),[Ft,tn]=B.useState(180),[tr,ln]=B.useState(0),[ur,En]=B.useState(18799),[na,Ri]=B.useState(0),[On,lo]=B.useState(!1),[vr,mi]=B.useState(3.89),[Ti,Ca]=B.useState(!1),[Aa,cn]=B.useState(180),Pa=B.useRef(!1),La=B.useRef(!1),Sl=mi,[co,ts]=B.useState(!1),[xi,Oi]=B.useState(0),[sa,Cs]=B.useState(.04),[uo,Go]=B.useState(!1),[_l,Ra]=B.useState(!1),[gi,As]=B.useState(""),[Zs,ho]=B.useState(""),[Ii,ia]=B.useState(0),[Ta,Mi]=B.useState(!1),[Hr,aa]=B.useState(!1),[vi,bi]=B.useState(""),[fo,po]=B.useState(!0),[Fi,Yo]=B.useState(!0),[yi,mo]=B.useState("financing"),[wi,Oa]=B.useState("mensuel"),[In,Ia]=B.useState("financing"),[br,rs]=B.useState("financing"),[wr,Rr]=B.useState(!1),[rn,xn]=B.useState("standard"),[ps,Ko]=B.useState("financing"),[kl]=B.useState(Date.now()),oa=()=>{const $=ur,Ae=vr/100/12,Xe=Ft,nt=$*Ae/(1-Math.pow(1+Ae,-Xe)),Dt=$*.003/12;Rt(Number(nt.toFixed(2))),ir(Number(Dt.toFixed(2)))};if(!e||!e.params)return s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsx("div",{className:"text-white/50 animate-pulse font-light italic",children:"Chargement des paramtres de simulation..."})});const Ni=B.useMemo(()=>{var $,Ae;return Ci(($=e==null?void 0:e.params)==null?void 0:$.monthlyBill)||Ci((Ae=e==null?void 0:e.params)==null?void 0:Ae.annualBill)/12||Vn*Sn/12||150},[(Pl=e==null?void 0:e.params)==null?void 0:Pl.monthlyBill,(Da=e==null?void 0:e.params)==null?void 0:Da.annualBill,Vn,Sn]);B.useEffect(()=>{oa()},[vr,Ft,ur]),B.useMemo(()=>{const $=Math.round(e.params.yearlyProduction*e.params.electricityPrice*(e.params.selfConsumptionRate/100)/12),Ae=Math.round((e.params.installCost||0)*(vr/100/12)/(1-Math.pow(1+vr/100/12,-180))),Xe=Math.round($*.3),nt=Ae+Xe,Dt=$-nt,Bt=Math.round($*12*20*1.65),_t=Math.round($*12*40*2.1),m=Math.round(Bt-((e.params.installCost||0)+Xe*12*20));return{monthlyBill:$,loanMonthly:Ae,remainingMonthly:Xe,totalWithSolar:nt,monthlySavings:Dt,cost20Years:Bt,cost40Years:_t,savings20Years:m,totalSavingsProjected:m,greenValue:Math.round((e.params.installCost||0)*1.9),heritageNet:m+Math.round((e.params.installCost||0)*1.9)}},[e.params,vr]),B.useEffect(()=>{!La.current&&(e!=null&&e.params)&&(hi(Ci(e.params.inflationRate,5)),_s(Ci(e.params.electricityPrice,.25)),Ks(Ci(e.params.yearlyProduction,7e3)),zo(Ci(e.params.selfConsumptionRate,70)),hr(Ci(e.params.installCost,18799)),Rt(Ci(e.params.creditMonthlyPayment,147.8)),ir(Ci(e.params.insuranceMonthlyPayment,4.7)),tn(Ci(e.params.creditDurationMonths,180)),ln(Ci(e.params.cashApport,0)),La.current=!0)},[e]),B.useEffect(()=>{var $;if(!Pa.current&&(($=e==null?void 0:e.params)!=null&&$.creditInterestRate)){const Ae=Ci(e.params.creditInterestRate,3.89);mi(Ae),Pa.current=!0}},[]),B.useEffect(()=>{En(Math.max(0,rr-tr))},[rr,tr]),B.useEffect(()=>{const $=(e==null?void 0:e.params)||{},Ae=$.yearlyConsumption||1e4,Xe=$.electricityPrice||.25,nt=Ae*Xe/365/24/3600,Dt=setInterval(()=>{ia(Bt=>{const _t=Bt+nt;return _t>1.5&&Mi(!0),_t})},1e3);return()=>clearInterval(Dt)},[e]);const Ma=B.useMemo(()=>{const $=(vr||0)/100/12,Ae=Ft||0,Xe=ur||0;if($===0||Ae===0)return Xe/(Ae||1);const nt=Xe*($*Math.pow(1+$,Ae))/(Math.pow(1+$,Ae)-1);return isNaN(nt)?0:nt},[ur,vr,Ft]),Jo=B.useMemo(()=>{var $;return(($=e==null?void 0:e.params)==null?void 0:$.insuranceMonthlyPayment)||0},[e]),Oc=()=>{Rt(Math.round(Ma*100)/100),ir(Math.round(Jo*100)/100),aa(!1)},El=()=>{const $=vi.toUpperCase();let Ae=vr;if($==="PREMIUM0999")Ae=.99,cn(84);else if($==="EDF2025")Ae=1.99,cn(72);else if($==="STANDARD")Ae=3.89,cn(180);else{alert(" Code invalide !");return}mi(Ae),Ca(!0)};B.useEffect(()=>{if(!vr||!Ft||!ur)return;const $=vr/100/12,Ae=Ft,nt=ur*$/(1-Math.pow(1+$,-Ae));Rt(Math.round(nt*100)/100)},[vr,Ft,ur]),B.useEffect(()=>{},[et,vr,Ft]);const _e=B.useMemo(()=>{var _t,m,v,j;if(!(e!=null&&e.params))return null;const $=Bv(e.params,{inflationRate:Zi,projectionYears:c,electricityPrice:Sn,yearlyProduction:cr,selfConsumptionRate:Xn,installCost:rr,cashApport:tr,creditMonthlyPayment:et,insuranceMonthlyPayment:St,creditDurationMonths:Ft,buybackRate:sa,interestRate:vr});if(!$)return null;const Ae=(_t=$.details)==null?void 0:_t[0];if(!Ae)return null;const Xe={year:Ae.year,edfBillWithoutSolar:Ae.edfBillWithoutSolar,creditPayment:Ae.creditPayment,edfResidue:Ae.edfResidue,totalWithSolar:Ae.totalWithSolar,cumulativeSavings:Ae.cumulativeSavings,solarSavingsValue:Ae.solarSavingsValue,monthlyBill:Math.round(Ae.edfBillWithoutSolar/12),totalWithSolarMonthly:Math.round(Ae.totalWithSolar/12),remainingMonthly:Math.round(Ae.edfResidue/12),loanMonthly:Math.round(Ae.creditPayment/12),monthlySavings:Math.round((Ae.edfBillWithoutSolar-Ae.totalWithSolar)/12)},nt=(fn==null?void 0:fn.value)||Math.round(rr*1.9),Dt=Math.min(19,c-1),Bt=Math.round(((v=(m=$.details)==null?void 0:m[Dt])==null?void 0:v.cumulativeSavings)||0);return{...$,interestRate:vr,creditDurationMonths:Ft,remainingToFinance:ur,creditMonthlyPayment:et,insuranceMonthlyPayment:St,year1:Xe,greenValue:nt,heritageNet:Bt,greenValueData:fn,houseValue:(((j=e==null?void 0:e.params)==null?void 0:j.houseSize)||100)*((fn==null?void 0:fn.pricePerSqm)||3200),monthlyBill:Xe.monthlyBill,monthlySavings:Xe.monthlySavings,totalWithSolar:Xe.totalWithSolar,remainingBill:Xe.edfResidue}},[e,Zi,c,Sn,cr,Xn,rr,tr,ur,et,St,Ft,na,sa,fn,vr]);B.useEffect(()=>{if(!_e)return;const $=Iw(_e);console.log(`
`),console.log(" RAPPORT DE VALIDATION"),console.log(`
`),console.log(` SCORE: ${$.score}%`),console.log(` Erreurs: ${$.errors.length}`),console.log(`  Warnings: ${$.warnings.length}`),console.log(` OK: ${$.info.length}
`),$.errors.length>0&&(console.log(" ERREURS:"),console.log(""),$.errors.forEach((Ae,Xe)=>{console.log(`${Xe+1}. ${Ae.category}: ${Ae.message}`),Ae.expected&&console.log(`   Attendu: ${Ae.expected}`),Ae.actual&&console.log(`   Actuel: ${Ae.actual}`)})),$.warnings.length>0&&(console.log(`
  WARNINGS:`),console.log(""),$.warnings.forEach((Ae,Xe)=>{console.log(`${Xe+1}. ${Ae.category}: ${Ae.message}`)})),console.log(`
 CHECKS OK:`),console.log(""),$.info.forEach((Ae,Xe)=>{console.log(`${Xe+1}. ${Ae.message}`)}),console.log(`
`),console.log($.isValid?" VALID":" REJET"),console.log(`
`),typeof window<"u"&&(window.calculationResult=_e,window.printValidationReport=()=>(console.log($),$))},[_e]),B.useEffect(()=>{},[_e]);const Ps=B.useMemo(()=>{var $,Ae;return(((Ae=($=_e==null?void 0:_e.details)==null?void 0:$[0])==null?void 0:Ae.edfResidue)||0)/12},[_e]),la=B.useMemo(()=>et+St+Ps,[et,St,Ps]),Di=B.useMemo(()=>la-Ni,[la,Ni]);B.useEffect(()=>{(async()=>{var nt,Dt,Bt;const Ae=((nt=e==null?void 0:e.params)==null?void 0:nt.address)||((Dt=e==null?void 0:e.params)==null?void 0:Dt.clientAddress),Xe=((Bt=e==null?void 0:e.params)==null?void 0:Bt.houseSize)||100;if(!Ae){ja({value:Math.round(Xe*3200*.08),pricePerSqm:3200,city:"Estimation",dept:"FR",isRealData:!1});return}fs(!0);try{const _t=await A_(Ae,Xe);ja({value:_t.greenValue,pricePerSqm:_t.pricePerSqm,city:_t.city,dept:_t.dept,isRealData:!0})}catch{ja({value:Math.round(Xe*3200*.08),pricePerSqm:3200,city:"Estimation",dept:"FR",isRealData:!1})}finally{fs(!1)}})()},[(qc=e==null?void 0:e.params)==null?void 0:qc.address,(Ou=e==null?void 0:e.params)==null?void 0:Ou.houseSize]);const rc=B.useMemo(()=>{if(!_e)return{isValid:!1,score:0,errors:[],warnings:[],info:[]};try{return jE(_e)}catch($){return console.error(" Erreur critique lors de la validation :",$),{isValid:!1,score:0,errors:[{severity:"ERROR",category:"SYSTME",message:"Erreur systme"}],warnings:[],info:[]}}},[_e]),[Tu,nc]=B.useState(null);B.useEffect(()=>{nc(null);const $=setTimeout(()=>{nc(rc)},2e3);return()=>clearTimeout($)},[rc]),B.useRef(""),B.useMemo(()=>(yi==="financing"?_e.slicedDetails:_e.slicedDetailsCash).map((Ae,Xe)=>({year:Ae.year,value:-Ae.cashflowDiff,type:Xe*12<Ft&&yi==="financing"?"investment":"profit"})),[_e,yi,Ft,c]),B.useMemo(()=>Fi?[{years:" VIE",label:"PANNEAUX",tag:"Pices + M.O. + Dplacement",icon:yc,description:"Garantie matriel, main d'uvre et dplacement  vie."},{years:" VIE",label:"ONDULEURS",tag:"Pices + M.O. + Dplacement",icon:ga,description:"Remplacement  neuf, main d'uvre et dplacement  vie."},{years:" VIE",label:"STRUCTURE",tag:"Pices + M.O. + Dplacement",icon:Wx,description:"Garantie  vie sur le systme de fixation."},{years:" VIE",label:"MATRIEL",tag:"Remplacement  neuf",icon:zs,description:"Garantie matrielle complte  vie."}]:[{years:25,label:"PANNEAUX",tag:"Performance standard",icon:yc,description:"Garantie performance 25 ans."},{years:25,label:"ONDULEURS",tag:"Pices + M.O. + Dplacement",icon:ga,description:"Garantie totale 25 ans."},{years:10,label:"STRUCTURE",tag:"Matriel + M.O. + Dplacement",icon:Wx,description:"Garantie 10 ans."},{years:25,label:"PANNEAUX",tag:"Matriel",icon:yc,description:"Garantie matrielle 25 ans."}],[Fi]);const Ic=$=>{const Ae=$-1;return _e.details[Ae]?{credit:_e.details[Ae],cash:_e.detailsCash[Ae]}:{credit:_e.year1,cash:_e.year1}};B.useEffect(()=>{if(!(e!=null&&e.params)||!_e)return;const $=(Ae,Xe)=>Bv(Ae,{...Ae,projectionYears:Xe,inflationRate:Zi,electricityPrice:Sn,yearlyProduction:cr,selfConsumptionRate:Xn,installCost:rr,cashApport:tr,creditMonthlyPayment:et,insuranceMonthlyPayment:St,creditDurationMonths:Ft,buybackRate:sa,interestRate:vr});SE(e.params,$)},[_e]),(Iu=e==null?void 0:e.params)!=null&&Iu.address,Number((Uc=e==null?void 0:e.params)==null?void 0:Uc.houseSize),_e.totalSavingsProjected;const Mc=B.useMemo(()=>(br==="financing"?_e.slicedDetails:_e.slicedDetailsCash).map(Ae=>({year:Ae.year,cumulativeSpendNoSolar:Math.round(Ae.cumulativeSpendNoSolar),cumulativeSpendSolar:Math.round(Ae.cumulativeSpendSolar)})),[_e,br,c]),Fc=async($,Ae,Xe,nt,Dt,Bt)=>{var v;console.log(" DBUT handleGenerateStudy"),console.log(" TAT DES PRIX =",{installCost:rr,remainingToFinance:ur,cashApport:tr,typeof_installCost:typeof rr}),console.log(" PARAMS REUS:",{forcedClientName:$,forcedCommercialEmail:Ae,forcedClientId:Xe,forcedClientEmail:nt,forcedClientPhone:Dt});const _t=($||"").trim().replace(/\s+/g," ");if(_t.length<2){alert(" Veuillez entrer le nom du client");return}const m=(Ae||"").trim();if(!m){alert(" Email commercial manquant");return}try{let j=Xe||null;const C=(nt||"").trim().toLowerCase(),O=(Dt||"").trim();if(console.log(" Donnes client:",{cleanedClientName:_t,cleanedEmail:C,cleanedPhone:O}),!j&&C){const{data:Le,error:Me}=await Ao.from("clients").select("id").eq("email",C).maybeSingle();if(Me){console.error(" Erreur recherche client:",Me),alert(" Impossible de vrifier le client existant.");return}if(Le!=null&&Le.id){j=Le.id,console.log(" Client existant:",j);const De=_t.split(" "),{error:Ue}=await Ao.from("clients").update({first_name:De[0]||_t,last_name:De.slice(1).join(" ")||"",phone:O||null,civility:Bt||"M./Mme"}).eq("id",j);Ue?console.error(" Erreur mise  jour client:",Ue):console.log(" Client mis  jour avec:",_t)}else{const De=_t.split(" "),{data:Ue,error:ut}=await Ao.from("clients").insert({first_name:De[0]||_t,last_name:De.slice(1).join(" ")||"",email:C,phone:O||null,civility:Bt||"M./Mme"}).select("id").single();if(ut){console.error(" Erreur cration client:",ut),alert(" Impossible de crer le client : "+ut.message);return}Ue&&(j=Ue.id,console.log(" Nouveau client cr:",j))}}const D={n:_t,e:Math.round(_e.totalSavingsProjected||0),a:Math.round(Xn||70),m:Math.round((et||0)+(St||0)),t:vr||3.89,d:Ft||180,prod:cr||7e3,conso:Vn||1e4,selfCons:Xn||70,installCost:rr||18799,cashApport:tr||0,elecPrice:Sn||.25,installedPower:Se||3.5,projectionYears:c,mode:"financing",warrantyMode:Fi?"performance":"essential",breakEven:_e.paybackYear||_e.breakEvenPoint||12,averageYearlyGain:Math.round((_e.totalSavingsProjected||0)/c),totalSpendNoSolar:Math.round(_e.totalSpendNoSolar||0),totalSpendSolar:Math.round(_e.totalSpendSolar||0),greenValue:Math.round((cr||7e3)*c*.5),ga:_e.yearlyGains||[],details:_e.details.map(Le=>({year:Le.year,cumulativeSpendNoSolar:Math.round(Le.cumulativeSpendNoSolar||0),cumulativeSpendSolar:Math.round(Le.cumulativeSpendSolar||0),edfBillWithoutSolar:Math.round(Le.edfBillWithoutSolar||0),creditPayment:Math.round(Le.creditPayment||0),edfResidue:Math.round(Le.edfResidue||0),totalWithSolar:Math.round(Le.totalWithSolar||0),cumulativeSavings:Math.round(Le.cumulativeSavings||0)})),detailsCash:_e.detailsCash.map(Le=>({year:Le.year,cumulativeSpendNoSolar:Math.round(Le.cumulativeSpendNoSolar||0),cumulativeSpendSolar:Math.round(Le.cumulativeSpendSolar||0),cumulativeSavings:Math.round(Le.cumulativeSavings||0),edfBillWithoutSolar:Math.round(Le.edfBillWithoutSolar||0),edfResidue:Math.round(Le.edfResidue||0),totalWithSolar:Math.round(Le.totalWithSolar||0)}))},U=new Date;if(U.setDate(U.getDate()+7),!D||typeof D!="object"){alert(" Donnes tude invalides (payload).");return}if(!_t){alert(" Nom client manquant.");return}if(!m){alert(" Email commercial manquant.");return}if(!Qs){alert(" Mode de paiement non dfini.");return}if(Wr==null){alert(" Statut d'acompte non dfini.");return}if(!Number.isFinite(Number(rr))){alert(" Prix total invalide.");return}const W=Number(rr),Y=Number(tr)||0;let ee,pe;Y>=W&&W>0?(ee="cash",pe="cash_payment"):Y>0?(ee="financing",pe="partial_financing"):(ee="financing",pe="full_financing"),console.log(" INSERT FINAL =",{study_data:D,expires_at:U,client_name:_t,commercial_email:m,payment_type:Qs,has_deposit:Wr,total_price:W,payment_mode:ee,financing_mode:pe});const ke=await Ao.from("studies").insert({study_data:D,expires_at:U.toISOString(),client_name:_t,commercial_email:m,payment_type:String(Qs),has_deposit:!!Wr,total_price:W,client_id:j,client_email:C||null,client_phone:O||null,commercial_name:null,is_active:!0,status:"draft",cash_apport:Y,payment_mode:ee,financing_mode:pe,deposit_amount:Wr?Number(kn):null}).select().single();if(console.log(" INSERT STUDY RESULT =",ke),ke.error||!ke.data){alert(" ERREUR SUPABASE : "+((v=ke.error)==null?void 0:v.message)),console.error(" SUPABASE ERROR FULL =",ke.error);return}const te=ke.data.id,we=ke.data.guest_view_token||ke.data.id,Ce=`${window.location.origin}/guest/${we}`;console.log(" TUDE CRE AVEC SUCCS:",te),Pi(te),Vo("draft");const{data:Fe,error:Pe}=await Ao.from("studies").update({guest_view_url:Ce}).eq("id",te).select();if(console.log(" UPDATE RESULT:",Fe),console.log(" UPDATE ERROR:",Pe),Pe)console.error(" ERREUR COMPLTE:",JSON.stringify(Pe,null,2)),alert(` L'tude a t cre mais le passage en 'sent' a chou.

Erreur: ${Pe.message}

Changez le status manuellement en 'sent' dans Supabase.`);else{console.log(" tude passe en 'sent' - Emails post-refus programms (J+0, J+1, J+4, J+7)"),await new Promise(De=>setTimeout(De,1e3));const{data:Le,error:Me}=await Ao.from("email_queue").select("email_type, status, scheduled_for").eq("study_id",te).order("scheduled_for");console.log(" EMAILS CRS:",Le),Le&&Le.length>0?console.log(` ${Le.length} emails programms avec succs`):(console.warn(" Aucun email cr - Le trigger n'a peut-tre pas fonctionn"),alert(" L'tude est en 'sent' mais aucun email n'a t programm automatiquement."))}As(Ce),so(Ce),Go(!0),alert(` tude gnre avec succs !
ID: ${te}
Client ID: ${j}
Expire le: ${U.toLocaleDateString("fr-FR")}

 4 emails post-refus programms automatiquement`)}catch(j){console.error(" Erreur catch:",j),alert(` Erreur lors de la gnration de l'tude.

${j.message}`),Bo(!1)}};B.useMemo(()=>{var nt,Dt;const $=[{id:"consos",label:"Cohrence des factures de rfrence",status:((nt=e==null?void 0:e.computed)==null?void 0:nt.monthlyBill)>0?"valid":"error",detail:(Dt=e==null?void 0:e.computed)!=null&&Dt.monthlyBill?`${Math.round(e.computed.monthlyBill)}/mois analyss`:"Analyse en cours..."},{id:"meteo",label:"Gisement solaire (PVGIS 5.2)",status:cr>0?"valid":"error",detail:`${cr||7e3} kWh/an identifis`},{id:"fiscal",label:"Conformit fiscale (TVA & Aides)",status:"valid",detail:"TVA 5.5% & Prime Autoconsommation 2025"},{id:"roi",label:"Algorithme TRI & Rentabilit",status:"valid",detail:`Rentabilit : ${(_e==null?void 0:_e.roiPercentageCash)||6.5}%`},{id:"technique",label:"Normes NFC 15-712-1",status:"valid",detail:"Conformit coffret AC/DC Protection"},{id:"patrimoine",label:"Audit Valeur Verte (DVF Notaires)",status:"valid",detail:fn!=null&&fn.city?`Localit : ${fn.city}`:"Estimation rgionale"}],Ae=$.filter(Bt=>Bt.status==="valid").length,Xe=Math.round(Ae/$.length*100);return{allChecks:$,score:Xe}},[e,cr,_e,fn]);const[Ls,Xo]=B.useState(!1),ns=()=>{Xo(!0),setTimeout(()=>{Ve("coach")},800)};if(B.useEffect(()=>{jn(!0),Vs(0);const $=7;let Ae=0;const Xe=setInterval(()=>{Ae++,Vs(Ae),Ae>=$&&(clearInterval(Xe),setTimeout(()=>{jn(!1)},800))},1200);return()=>clearInterval(Xe)},[]),!_e)return s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsx("div",{className:"text-white/50 animate-pulse",children:"Chargement..."})});const Rs=In==="financing"?_e.details:_e.detailsCash,Qo=Rs.find($=>$.cumulativeSavings>=0),ji=Qo==null?void 0:Qo.year,Dc=((Ll=Rs[c-1])==null?void 0:Ll.cumulativeSavings)||0,Zo=In==="financing"?tr:rr,Cl=Zo>0?(Dc/Zo*100).toFixed(0):0;return s.jsxs("div",{className:"w-full",children:[s.jsxs("nav",{className:"fixed top-0 inset-x-0 z-50 bg-black/60 backdrop-blur-md border-b border-white/10 h-16 flex items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{onClick:()=>{A($=>$+1),E>=4&&(k(!0),A(0))},className:"bg-gradient-to-br from-orange-400 to-orange-600 p-1.5 rounded-lg shadow-[0_0_15px_rgba(249,115,22,0.5)] cursor-pointer hover:scale-105 transition-transform",children:s.jsx(yc,{className:"w-5 h-5 text-white fill-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-indigo-500 bg-clip-text text-transparent leading-none",children:"Solutions Solaires"}),s.jsx("p",{className:"text-[10px] text-slate-500 font-bold tracking-widest uppercase",children:"EDF - Analyse Premium"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-white/5 border border-white/10 px-3 py-1.5 rounded-full",children:[s.jsx(zs,{size:14,className:L===100?"text-emerald-500":L>50?"text-orange-500":"text-red-500"}),s.jsxs("span",{className:`text-xs font-bold tabular-nums ${L===100?"text-emerald-500":L>50?"text-orange-500":"text-red-500"}`,children:[L,"%"]}),L<100&&s.jsx(fu,{size:12,className:"text-red-500 animate-pulse ml-1"}),s.jsx("div",{className:"w-[1px] h-3 bg-white/10 mx-1"}),s.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:"Certifi"})]}),s.jsxs("button",{onClick:()=>aa(!0),className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 text-slate-300 text-xs font-bold uppercase tracking-wider rounded border border-white/10 transition-colors",children:[s.jsx(I0,{size:14})," Modifier"]}),s.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-slate-500 text-xs font-bold uppercase tracking-wider hover:text-white transition-colors",children:[s.jsx(wc,{size:14})," Nouvelle Analyse"]}),s.jsx("button",{onClick:()=>xt($=>!$),className:`px-3 py-1.5 rounded-lg text-[11px] font-semibold uppercase tracking-wider
             text-slate-400 hover:text-white
             bg-transparent border border-white/10
             hover:border-white/30
             transition-all`,children:mt?"ASSISTANCE ON":"ASSISTANCE OFF"})]})]}),s.jsx(s.Fragment,{children:!mt&&s.jsxs(s.Fragment,{children:[Nn==="STOP_XYEARS"&&s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[9999]",children:s.jsxs("div",{className:"bg-red-600 text-white p-8 rounded-2xl shadow-2xl text-center max-w-lg w-full text-2xl font-black",children:[" STOP  Zone financire anxiogne",s.jsx("p",{className:"text-white/80 text-sm mt-2 text-center",children:"Profil Senior  interdiction douvrir ce module."}),s.jsx("button",{onClick:()=>qr(null),className:"mt-6 px-6 py-3 bg-white text-red-700 font-bold rounded-xl",children:"OK  revenir"})]})}),s.jsx(C_,{alert:Gt||yt,onDismiss:Gt?Vt:kt,onAction:$=>Gt?Ut($):kt()}),ht&&s.jsx(g_,{onClose:()=>Ze(!1)}),at&&s.jsx(vE,{step:at.step,message:at.message,onConfirm:Mt,onDismiss:()=>{}})]})}),s.jsxs("main",{className:"w-full pt-24 pb-20 px-4 md:px-8 max-w-7xl mx-auto flex flex-col gap-8 transition-all duration-500 overflow-x-hidden",children:[d&&s.jsx("style",{children:`
              /*  TEMPO */
              :root { --agent-anim-speed: ${d.presentationTempo==="slow"?"1.2s":"0.4s"}; }
              * { transition-duration: var(--agent-anim-speed) !important; }

              /*  SCARCITY */
              ${d.enableScarcity===!1?`
                #badge-garantie, .scarcity-element { display: none !important; }
              `:""}

              /*  MODULE ORDER */
              ${(go=d.moduleOrder)==null?void 0:go.map(($,Ae)=>`
                #${$} { order: ${Ae+10}; }
              `).join(`
`)}
              
              /* Default order for unlisted modules */
              .module-section { order: 999; }
            `}),Hr&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-black/80 backdrop-blur-xl border border-white/10 w-full max-w-5xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-white/10 bg-black/40",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded bg-blue-500/10 text-blue-500",children:s.jsx(I0,{size:20})}),s.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Paramtres Financiers"})]}),s.jsx("button",{onClick:()=>aa(!1),className:"text-slate-500 hover:text-white transition-colors",children:s.jsx(jd,{size:24})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsx(pa,{label:"Puissance Installe (kWc)",value:Se,setValue:qe,step:.1,unit:"kWc",icon:s.jsx(ga,{size:14,className:"text-blue-500"}),sublabel:"Puissance des panneaux"}),s.jsx(pa,{label:"Prix lectricit (/kWh)",value:Sn,setValue:_s,step:.01,unit:"",icon:s.jsx(ga,{size:14,className:"text-yellow-400"}),sublabel:"Tarif actuel du kWh"}),s.jsx(pa,{label:"Consommation Annuelle (kWh)",value:Vn,setValue:Ai,step:100,unit:"",icon:s.jsx(Uf,{size:14,className:"text-blue-400"}),sublabel:"Votre consommation totale"}),s.jsx(pa,{label:"Production Annuelle (kWh)",value:cr,setValue:Ks,step:100,unit:"",icon:s.jsx(yc,{size:14,className:"text-orange-400"}),sublabel:"kWh produits par an"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsx(pa,{label:"Taux d'Autoconsommation (%)",value:Xn,setValue:zo,step:1,min:0,unit:"%",icon:s.jsx(wc,{size:14,className:"text-emerald-400"}),sublabel:`${Math.round(cr*(Xn/100))} kWh autoconsomms sur ${sd(cr)} kWh produits`}),s.jsxs("div",{className:"bg-black/20 border border-emerald-500/20 rounded-2xl p-4 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-emerald-500/10 text-emerald-400",children:s.jsx(zf,{size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-emerald-400 font-bold uppercase tracking-wider mb-1",children:"Taux d'Autonomie"}),s.jsxs("p",{className:"text-2xl font-black text-white",children:[Math.round(cr*(Xn/100)/Vn*100),"%"]}),s.jsxs("p",{className:"text-[10px] text-slate-500",children:[Math.round(cr*(Xn/100))," ","kWh / ",sd(Vn)," kWh"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsx(pa,{label:"Prix rachat EDF",value:sa,setValue:Cs,unit:"/kWh",sublabel:"Tarif rglement actuel",icon:s.jsx(hl,{size:14,className:"text-yellow-400"}),step:.01,min:0}),s.jsxs("div",{className:"bg-black/20 border border-yellow-500/20 rounded-2xl p-4 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-yellow-500/10 text-yellow-400",children:s.jsx(wc,{size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-yellow-400 font-bold uppercase tracking-wider mb-1",children:"Revenu Surplus"}),s.jsx("p",{className:"text-2xl font-black text-white",children:Qe(Math.round(cr*(1-Xn/100)*sa))}),s.jsxs("p",{className:"text-[10px] text-slate-500",children:[Math.round(cr*(1-Xn/100))," ","kWh vendus"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx(pa,{label:"Cot Installation ()",value:rr,setValue:hr,step:100,unit:"",icon:s.jsx(Ga,{size:14,className:"text-purple-400"}),sublabel:"Prix total TTC"}),s.jsx(pa,{label:"Apport Cash ()",value:tr,setValue:ln,step:100,unit:"",icon:s.jsx(hl,{size:14,className:"text-emerald-400"}),sublabel:"Montant comptant"}),s.jsx(pa,{label:"Reste  Financer ()",value:ur,setValue:En,unit:"",icon:s.jsx(Ga,{size:14,className:"text-blue-400"}),sublabel:"Montant financ",disabled:!0})]}),s.jsxs("div",{className:"bg-black/20 border border-indigo-500/20 rounded-xl p-6 relative",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[s.jsx("div",{className:"text-blue-500",children:s.jsx(Ga,{size:20})}),s.jsx("h3",{className:"text-sm font-black text-white uppercase tracking-wider",children:"FINANCEMENT CRDIT"})]}),s.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-lg p-4 mb-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-white",children:"Mode de Calcul"}),s.jsx("p",{className:"text-xs text-slate-500",children:On?"Calcul automatique de la mensualit":"Saisie manuelle de la mensualit"})]}),s.jsx(h5,{checked:On,onChange:lo,labelOff:"Manuel",labelOn:"Auto"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsx(pa,{label:"Mensualit Crdit ()",value:On?Math.round(Ma*100)/100:et,setValue:Rt,step:1,unit:"",icon:s.jsx(I0,{size:14,className:"text-blue-400"}),sublabel:On?"Calcul automatiquement":"Montant mensuel du prt",disabled:On}),s.jsx(pa,{label:"Assurance (/Mois)",value:On?Math.round(Jo*100)/100:St,setValue:ir,step:.1,unit:"",icon:s.jsx(zs,{size:14,className:"text-orange-400"}),sublabel:On?"Calcule automatiquement":"Assurance emprunteur mensuelle",disabled:On})]}),s.jsxs("div",{className:"px-2 mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a_,{size:14,className:"text-red-500"}),s.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Dure Crdit (Mois)"})]}),s.jsxs("div",{className:"text-3xl font-black text-white",children:[Ft," ",s.jsx("span",{className:"text-sm text-slate-500 font-bold",children:"mois"})]})]}),s.jsx("input",{type:"range",min:"12",max:"180",step:"12",value:Ft,onChange:$=>tn(Number($.target.value)),className:"w-full h-1.5 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-white"}),s.jsxs("p",{className:"text-xs text-slate-600 mt-2 font-mono",children:["Soit ",(Ft/12).toFixed(1)," annes de remboursement"]})]}),On&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-top-4 duration-300 border-t border-white/5 pt-6",children:[s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hu,{size:14,className:vr<3.5?"text-emerald-500":"text-slate-500"}),s.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400",children:"Code de Validation"})]}),vr<3.5&&s.jsxs("span",{className:"text-[10px] font-black text-emerald-500 animate-pulse",children:[" VALID (",vr,"%)"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:vi,placeholder:"CODE...",className:"flex-1 bg-zinc-900 border border-white/10 rounded-lg px-4 py-3 text-sm text-blue-400 outline-none focus:border-blue-500 uppercase font-mono",onChange:$=>bi($.target.value)}),s.jsxs("button",{onClick:El,className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-lg uppercase text-xs transition-all active:scale-95 flex items-center gap-2",children:[s.jsx(ar,{size:16}),"VALIDER"]})]}),Ti&&s.jsxs("div",{className:"mt-6 p-4 bg-green-900/20 border border-green-500/30 rounded-lg",children:[s.jsx("p",{className:"text-green-400 font-semibold mb-3",children:" Code valid ! Choisissez la dure :"}),s.jsxs("select",{value:Aa,onChange:$=>{const Ae=Number($.target.value);cn(Ae)},className:"w-full p-3 bg-black/40 border border-white/10 rounded-lg text-white",children:[vr===.99&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:60,children:"5 ans (60 mois)"}),s.jsx("option",{value:84,children:"7 ans (84 mois)"})]}),vr===1.99&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:72,children:"6 ans (72 mois)"}),s.jsx("option",{value:84,children:"7 ans (84 mois)"}),s.jsx("option",{value:120,children:"10 ans (120 mois)"}),s.jsx("option",{value:180,children:"15 ans (180 mois)"})]}),vr===3.89&&s.jsxs(s.Fragment,{children:[s.jsx("option",{value:120,children:"10 ans (120 mois)"}),s.jsx("option",{value:180,children:"15 ans (180 mois)"}),s.jsx("option",{value:240,children:"20 ans (240 mois)"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsx(pa,{label:"Taux d'intrt (%)",value:vr,setValue:$=>{mi($),Sl($)},step:.01,unit:"%",icon:s.jsx(ar,{size:14,className:"text-emerald-400"}),sublabel:"Taux annuel du crdit"}),s.jsx(pa,{label:"Taux Assurance (%)",value:xi,setValue:Oi,step:.05,unit:"%",icon:s.jsx(zs,{size:14,className:"text-orange-400"}),sublabel:"Taux annuel"})]}),s.jsxs("div",{className:"bg-[#022c22] border border-emerald-500/20 rounded-xl p-4 flex flex-col md:flex-row items-center justify-between gap-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-emerald-500"}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-emerald-500/10 p-2 rounded-full text-emerald-400",children:s.jsx(ar,{size:20})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-emerald-400 font-bold uppercase tracking-wider text-xs mb-1 text-left",children:"Calcul Automatique"}),s.jsxs("div",{className:"flex gap-8",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-emerald-200/60 uppercase font-bold text-left",children:"Mensualit"}),s.jsx("p",{className:"text-xl font-black text-white",children:Qe(Ma)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-emerald-200/60 uppercase font-bold text-left",children:"Assurance"}),s.jsx("p",{className:"text-xl font-black text-white",children:Qe(Jo)})]})]})]})]}),s.jsxs("button",{onClick:Oc,className:"bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 px-6 rounded-lg uppercase tracking-wider text-xs flex items-center gap-2 shadow-lg shadow-emerald-900/50 transition-all active:scale-95",children:[s.jsx(nw,{size:16})," Appliquer Ces Valeurs"]})]})]})]})]})]})}),je==="coach"?s.jsxs(s.Fragment,{children:[!Hr&&s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-blue-900/30 p-4 rounded-xl flex items-center gap-3 text-blue-200 text-sm hover:border-blue-500/50 hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] transition-all duration-500",children:[s.jsx(Ya,{size:18}),s.jsx("span",{children:"Les graphiques et calculs se mettent  jour automatiquement."})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"bg-black/60 backdrop-blur-md p-1 rounded-xl border border-white/10 inline-flex shadow-[0_0_20px_rgba(0,0,0,0.5)]",children:[10,15,20,25].map($=>s.jsxs("button",{onClick:()=>u($),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all ${c===$?"bg-blue-600 text-white shadow-[0_0_15px_rgba(37,99,235,0.5)]":"text-slate-500 hover:text-white"}`,children:[$," ANS"]},$))})}),s.jsx(Dn,{id:"protocole",title:"TAPE 1 : PROTOCOLE D'AUDIT TECHNIQUE ET FINANCIER",icon:s.jsx(zs,{className:Ws?"animate-spin text-emerald-500":"text-emerald-500"}),defaultOpen:!1,onOpen:$=>{re($)},children:s.jsxs("div",{className:"bg-[#05080a] border-2 border-emerald-500/30 rounded-3xl p-6 shadow-2xl relative overflow-hidden",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 mb-8 border-b border-white/10 pb-6 relative z-10",children:[s.jsxs("div",{className:"text-left",children:[s.jsxs("h3",{className:"text-3xl font-black text-white tracking-tighter uppercase leading-none mb-2",children:["AUDIT DE CONFORMIT"," ",s.jsx("span",{className:"text-emerald-500",children:"SYSTME v2.4"})]}),s.jsx("p",{className:"text-[11px] text-slate-500 font-mono uppercase tracking-[0.3em]",children:"Certification Algorithmique EDF Solutions Solaires"})]}),s.jsxs("div",{className:"flex items-center gap-4 bg-black/50 p-4 rounded-2xl border border-white/5",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Indice de Fiabilit"}),s.jsxs("div",{className:"text-4xl font-black text-white font-mono",children:[Math.round($s/7*100),"%"]})]}),s.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-emerald-500/20 flex items-center justify-center",children:s.jsx("div",{className:`w-3 h-3 rounded-full ${Ws?"bg-orange-500 animate-ping":"bg-emerald-500 shadow-[0_0_15px_#10b981]"}`})})]})]}),s.jsx("div",{className:"space-y-3 mb-8 relative z-10",children:[{label:"Analyse des factures & Profil de consommation",val:`${Math.round(((nl=e==null?void 0:e.computed)==null?void 0:nl.monthlyBill)||208)}/mois`,detail:"Vrification des paliers d'abonnement et historique sur 12 mois.",testStatus:" 49/49 tests passed",testDetail:"5 suites  100% success"},{label:"Gisement solaire & Masques d'ombrage",val:`${cr||7e3} kWh/an`,detail:"Calcul d'irradiation hliomtrique via donnes satellites PVGIS 5.2.",testStatus:" Rpartition OK",testDetail:"Integration validated"},{label:"Audit Patrimonial & Valeur Verte",val:`+${(fn==null?void 0:fn.value)||30720}`,detail:"valuation de la plus-value immobilire certifie base DVF Notaires.",testStatus:" Patrimoine vrifi",testDetail:"Dashboard complete"},{label:"Rentabilit (TRI) & Cash-Flow",val:`${(_e==null?void 0:_e.roiPercentageCash)||6.52}%`,detail:"Modlisation financire incluant amortissement et rinvestissement.",testStatus:" ROI & Break-even",testDetail:"40 test cases"},{label:"Conformit Fiscale & ligibilit Aides",val:"TVA 5.5%",detail:"Validation Prime  l'autoconsommation et cadre Loi de Finance 2025.",testStatus:" Modules admin",testDetail:"Budget & Process"},{label:"Scurit lectrique & Normes NFC",val:"NFC 15-712-1",detail:"Vrification des protections parafoudre et dimensionnement des cbles.",testStatus:" UI Components",testDetail:"Open/close tested"},{label:"Rsilience nergie & Inflation",val:"Indexation 5%",detail:"Scnario de protection contre la hausse des tarifs rguls (25 ans).",testStatus:" Taux spciaux",testDetail:"0.99% conditional"}].map(($,Ae)=>{const Xe=Ae<$s,nt=Ae===$s;return s.jsxs("div",{className:`group transition-all duration-700 ${Ae<=$s?"opacity-100":"opacity-10"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1 px-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-2 h-2 rounded-sm rotate-45 transition-colors ${Xe?"bg-emerald-500":"bg-slate-700"}`}),s.jsx("span",{className:"text-xs font-bold text-white uppercase tracking-tight",children:$.label})]}),s.jsx("span",{className:"text-xs font-mono font-black text-emerald-500",children:Xe?$.val:"---"}),Ae<$s&&s.jsx("span",{className:"text-[10px] text-emerald-400 font-mono ml-2",children:""})]}),s.jsxs("div",{className:"relative h-6 bg-white/5 rounded-md border border-white/5 overflow-hidden flex items-center px-3",children:[s.jsx("div",{className:`absolute left-0 top-0 h-full bg-emerald-500/10 transition-all duration-[1000ms] ${Xe?"w-full border-r border-emerald-500":nt?"w-1/2 animate-pulse":"w-0"}`}),s.jsx("span",{className:"relative z-10 text-[9px] text-slate-500 font-medium italic truncate",children:Xe?$.detail:"Attente de validation..."}),Xe&&s.jsx(ar,{size:12,className:"ml-auto text-emerald-500 relative z-10"})]}),Xe&&s.jsxs("div",{className:"mt-1.5 px-2 flex items-center justify-between text-[8px]",children:[s.jsx("span",{className:"text-emerald-400/60 font-mono",children:$.testStatus}),s.jsx("span",{className:"text-slate-600 font-mono italic",children:$.testDetail})]})]},Ae)})}),!Ws&&s.jsx("div",{className:"mt-8 p-6 bg-emerald-500/5 border-2 border-emerald-500/20 rounded-2xl animate-in fade-in slide-in-from-bottom-4 duration-1000",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 text-left",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-xl font-black text-white uppercase italic",children:"Certification de Visite Technique"}),s.jsx("p",{className:"text-[11px] text-slate-400 leading-tight",children:"En tant qu'expert conseil, je valide par la prsente la faisabilit technique du projet suite  l'examen de la toiture, du tableau lectrique et de l'exposition relle."})]}),s.jsxs("button",{onClick:ns,className:`flex items-center gap-4 px-8 py-5 rounded-xl font-black uppercase tracking-tighter transition-all duration-500 group ${Ls?"bg-emerald-500 text-black scale-105 shadow-[0_0_30px_rgba(16,185,129,0.5)]":"bg-white/10 text-white border border-white/10 hover:bg-white/20"}`,children:[s.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-all ${Ls?"bg-black border-black":"border-white/30"}`,children:Ls&&s.jsx(ar,{size:16,className:"text-emerald-500"})}),Ls?"PROJET CERTIFI PAR L'EXPERT":"VALIDER L'AUDIT SUR SITE"]})]})}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-white/5 flex justify-between items-center opacity-40 font-mono text-[9px] uppercase tracking-widest text-slate-500",children:[s.jsxs("div",{children:["ID_SCAN:"," ",Math.random().toString(36).substr(2,9).toUpperCase()]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-emerald-500",children:"49/49"})]}),s.jsx("span",{className:"text-slate-700",children:"|"}),s.jsx("span",{children:" EDF 2025"})]})]})]})})]}):s.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-8 duration-1000",children:s.jsxs("div",{className:"bg-[#05080a] border border-blue-500/20 p-20 rounded-[40px] text-center shadow-2xl",children:[s.jsx("div",{className:"w-20 h-20 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-blue-500/30",children:s.jsx(wc,{className:"text-blue-400 w-10 h-10"})}),s.jsxs("h2",{className:"text-5xl font-black text-white uppercase tracking-tighter mb-4",children:["Bilan Energtique ",s.jsx("span",{className:"text-blue-500",children:"Prt"})]}),s.jsx("p",{className:"text-slate-400 text-lg max-w-xl mx-auto mb-10",children:"L'audit est valid. Les projections d'conomies sont disponibles."}),s.jsx("button",{onClick:()=>Ve("coach"),className:"px-8 py-3 bg-white/5 text-slate-500 rounded-xl text-xs font-bold hover:text-white",children:" REVENIR  L'AUDIT"})]})}),s.jsx(Dn,{id:"securite-edf-groupe",title:"Scurit EDF  Groupe d'tat",icon:s.jsx(zs,{className:"text-emerald-500"}),defaultOpen:!1,children:s.jsxs("div",{className:"relative overflow-hidden rounded-[32px] border border-white/10 bg-black/40 p-8 backdrop-blur-xl",children:[s.jsx("div",{className:"pointer-events-none absolute -top-32 -right-32 h-96 w-96 bg-emerald-500/5 blur-[120px]"}),s.jsxs("div",{className:"relative z-10 mb-10 flex items-center gap-6 rounded-2xl border border-white/10 bg-gradient-to-r from-blue-950/30 to-slate-900/30 p-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-2xl bg-white p-3 shadow-2xl",children:s.jsx("span",{className:"text-2xl font-black text-[#00008f]",children:"EDF"})}),s.jsx("div",{className:"absolute -bottom-2 -right-2 flex h-8 w-8 items-center justify-center rounded-full border-2 border-black/40 bg-emerald-600",children:s.jsx(ar,{size:16,className:"text-white"})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"mb-2 text-2xl font-black uppercase tracking-tight text-white",children:"GROUPE EDF SOLUTIONS SOLAIRES"}),s.jsx(Ei,{title:gc.cadreEDF[H].title,children:gc.cadreEDF[H].body})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("span",{className:"rounded-lg border border-blue-500/20 bg-blue-500/10 px-3 py-1 text-xs font-bold uppercase text-blue-300",children:"100% Public"}),s.jsx("span",{className:"rounded-lg border border-emerald-500/20 bg-emerald-500/10 px-3 py-1 text-xs font-bold uppercase text-emerald-300",children:"Contrl par l'tat"}),s.jsxs("span",{className:"flex items-center gap-1 rounded-lg border border-purple-500/20 bg-purple-500/10 px-3 py-1 text-xs font-bold uppercase text-purple-300",children:["Continuit garantie par l'tat",s.jsx(Ei,{title:gc.zeroFaillite[H].title,children:gc.zeroFaillite[H].body})]})]})]})]}),s.jsxs("div",{className:"relative z-10 mb-8 grid grid-cols-1 gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/60 p-6",children:[s.jsxs("h4",{className:"mb-4 flex items-center gap-3 font-black uppercase text-white",children:[s.jsx($x,{size:22,className:"text-blue-400"}),"Contrat protg",s.jsx(Ei,{title:gc.contrat[H].title,children:gc.contrat[H].body})]}),s.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[s.jsx("li",{children:" 14 jours de rtractation lgale"}),s.jsx("li",{children:" Aucun versement avant dmarrage"}),s.jsx("li",{children:" Protection Code de la consommation"})]})]}),s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/60 p-6",children:[s.jsxs("h4",{className:"mb-4 flex items-center gap-3 font-black uppercase text-white",children:[s.jsx(Mv,{size:22,className:"text-yellow-400"}),"Installateurs certifis"]}),s.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[s.jsx("li",{children:" Certification RGE QualiPV"}),s.jsx("li",{children:" Assurance dcennale active"})]})]}),s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/60 p-6",children:[s.jsxs("h4",{className:"mb-4 flex items-center gap-3 font-black uppercase text-white",children:[s.jsx(ga,{size:22,className:"text-purple-400"}),"Raccordement scuris"]}),s.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[s.jsx("li",{children:" Contrat EDF OA garanti 20 ans"}),s.jsx("li",{children:" Inscription registre ENEDIS"}),s.jsx("li",{children:" Prix de rachat fix par l'tat"})]})]}),s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/60 p-6",children:[s.jsxs("h4",{className:"mb-4 flex items-center gap-3 font-black uppercase text-white",children:[s.jsx(hl,{size:22,className:"text-emerald-400"}),"Aides scurises",s.jsx(Ei,{title:gc.aides[H].title,children:gc.aides[H].body})]}),s.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[s.jsx("li",{children:" Versement direct par l'tat"}),s.jsx("li",{children:" Prime autoconsommation garantie"}),s.jsx("li",{children:" Payable 12 mois aprs l'installation"})]})]})]})]})}),s.jsx(Dn,{id:"engagement-risque-admin",title:"Engagement EDF  Risque administratif couvert",icon:s.jsx(hu,{className:"text-emerald-500"}),defaultOpen:!1,children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-emerald-950/20 to-green-950/20 border-2 border-emerald-500/30 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-emerald-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(hu,{className:"text-emerald-400",size:28})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("h4",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"ENGAGEMENT EDF  RISQUE ADMINISTRATIF COUVERT"}),s.jsx(Ei,{title:id.engagement[H].title,children:id.engagement[H].body})]}),s.jsx("div",{className:"bg-black/40 rounded-lg p-4 mb-4",children:s.jsxs("p",{className:"text-lg text-emerald-300 font-bold leading-relaxed",children:["Si un blocage administratif empche l'installation (refus mairie, ABF, ENEDIS, ou autre),"," ",s.jsx("span",{className:"text-white text-xl",children:"aucun paiement n'est exigible"}),s.jsx(Ei,{title:id.paiement[H].title,className:"ml-2 inline-flex",children:id.paiement[H].body})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"text-emerald-400 flex-shrink-0",size:16}),s.jsx("span",{className:"text-slate-300",children:"Aucun paiement avant validation complte du dossier administratif"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"text-emerald-400 flex-shrink-0",size:16}),s.jsx("span",{className:"text-slate-300",children:"Annulation gratuite en cas de refus d'une autorisation administrative"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"text-emerald-400 flex-shrink-0",size:16}),s.jsx("span",{className:"text-slate-300",children:"Accompagnement juridique inclus dans le contrat EDF"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"text-emerald-400 flex-shrink-0",size:16}),s.jsxs("span",{className:"text-slate-300 flex items-center gap-1",children:["Prise en charge totale garantie EDF de toutes les dmarches",s.jsx(Ei,{title:id.priseEnCharge[H].title,children:id.priseEnCharge[H].body})]})]})]})]})]})}),s.jsx("div",{className:"bg-slate-950/40 border border-slate-700/30 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-slate-700/20 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(lh,{className:"text-slate-400",size:24})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-bold text-slate-300 mb-2",children:"PLANNINGS D'INSTALLATION"}),s.jsx("p",{className:"text-sm text-slate-400 leading-relaxed mb-3",children:"Votre secteur (06 - Alpes-Maritimes) : quipes RGE actives."}),s.jsxs("p",{className:"text-sm text-slate-400 leading-relaxed mb-3",children:["Dlai moyen actuel :"," ",s.jsx("span",{className:"text-white font-semibold",children:"6-8 semaines"})," ","aprs validation administrative."]}),s.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:"Une fois valid, votre dossier est transmis au coordinateur rgional EDF."})]})]})}),s.jsx("div",{className:"bg-blue-950/20 border border-blue-500/20 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"Ce projet est valid selon les mmes standards que les installations ralises par EDF depuis plus de 25 ans chez des particuliers et des collectivits."})})]})}),s.jsx(Dn,{id:"prise-en-charge-admin",title:"Prise en charge administrative",icon:s.jsx(yS,{className:"text-blue-500"}),defaultOpen:!1,children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-[32px] p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute -top-32 -right-32 w-96 h-96 bg-blue-500/5 blur-[120px]"}),s.jsx("div",{className:"relative z-10 mb-8 p-6 bg-gradient-to-r from-blue-950/30 to-slate-900/30 border-l-4 border-blue-500/50 rounded-r-2xl",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(zs,{className:"text-blue-400 mt-1 flex-shrink-0",size:24}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"text-white text-lg font-black uppercase tracking-tight",children:"EDF GRE L'ENSEMBLE DU VOLET ADMINISTRATIF ET RGLEMENTAIRE"}),s.jsx(Ei,{title:ad.cadre[H].title,children:ad.cadre[H].body})]}),s.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:"Vous n'avez rien  remplir, rien  suivre. Chaque tape est prise en main par EDF et valide par vous uniquement lorsque c'est ncessaire."})]})]})}),s.jsxs("details",{className:"relative z-10 mb-8 bg-black/60 border border-white/10 rounded-xl overflow-hidden",children:[s.jsxs("summary",{className:"px-6 py-4 cursor-pointer hover:bg-white/5 transition-colors flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-bold text-white uppercase tracking-wide flex items-center gap-2",children:[" Voir ce qu'EDF gre pour vous (optionnel)",s.jsx(Ei,{title:ad.complexite[H].title,children:ad.complexite[H].body})]}),s.jsx(Gg,{className:"text-slate-400",size:20})]}),s.jsx("div",{className:"px-6 py-4 border-t border-white/10",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{step:"1",title:"Urbanisme & Mairie",desc:"Dclaration pralable de travaux (DP)"},{step:"2",title:"Architectes des Btiments de France",desc:"Validation ABF si zone protge"},{step:"3",title:"Diagnostic Amiante",desc:"Diagnostic rglementaire inclus (toitures avant 1997)"},{step:"4",title:"Installation & Pose",desc:"Par installateurs RGE certifis"},{step:"5",title:"Consuel (Comit National de Scurit)",desc:"Attestation de conformit lectrique"},{step:"6",title:"Raccordement ENEDIS",desc:"Mise en service du compteur Linky"},{step:"7",title:"Contrat OA (Obligation d'Achat)",desc:"Signature avec EDF OA - 20 ans"},{step:"8",title:"Mise en Production",desc:"Activation et suivi de production"}].map(($,Ae)=>s.jsx("div",{className:"bg-black/20 border border-white/5 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsxs("span",{className:"text-blue-400 text-xs font-bold",children:["#",$.step]})}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-bold text-white mb-1",children:$.title}),s.jsx("p",{className:"text-xs text-slate-400",children:$.desc})]})]})},Ae))})})]}),s.jsxs("div",{className:"relative z-10 p-6 bg-emerald-950/20 border border-emerald-500/20 rounded-2xl flex items-start gap-2",children:[s.jsxs("p",{className:"text-emerald-100 text-sm leading-relaxed",children:[s.jsx("strong",{className:"text-white",children:"Vous tes guid, accompagn et protg."})," ","EDF assume la responsabilit du projet  vous validez simplement les tapes importantes."]}),s.jsx(Ei,{title:ad.securisation[H].title,children:ad.securisation[H].body})]})]})}),s.jsx(Dn,{id:"garanties-long-terme",title:xe.title,icon:s.jsx(zs,{className:"text-orange-500"}),defaultOpen:!1,onOpen:$=>{re($)},onClose:jr,children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-[32px] p-8 space-y-10",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(zs,{className:"text-orange-500 w-6 h-6 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:(qa=xe.intro)==null?void 0:qa.text}),((ic=(sc=xe.intro)==null?void 0:sc.infobulle)==null?void 0:ic[H])&&s.jsx(Ei,{title:xe.intro.infobulle[H].title,children:xe.intro.infobulle[H].body})]}),xe.toggleLabels&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-black text-white",children:"Deux niveaux de protection"}),s.jsx(h5,{checked:Fi,onChange:Yo,labelOff:xe.toggleLabels.off,labelOn:xe.toggleLabels.on})]}),xe.toggleDisclaimer&&s.jsx("div",{className:"text-xs text-slate-400 bg-blue-950/20 border-l-2 border-blue-500 p-3 rounded",children:xe.toggleDisclaimer})]}),Fi?s.jsxs("div",{className:"bg-black/60 border border-blue-900/30 rounded-xl p-4",children:[s.jsx("strong",{className:"text-blue-200 text-sm",children:(Fu=xe.bannerPerformance)==null?void 0:Fu.title}),s.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-300",children:(Hn=(ac=xe.bannerPerformance)==null?void 0:ac.items)==null?void 0:Hn.map(($,Ae)=>s.jsxs("li",{children:[" ",$]},Ae))})]}):s.jsxs("div",{className:"bg-[#021c15] border border-emerald-500/30 rounded-xl p-4",children:[s.jsx("strong",{className:"text-emerald-400 text-sm",children:(zc=xe.bannerEssentielle)==null?void 0:zc.title}),s.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-300",children:(Mu=(Bc=xe.bannerEssentielle)==null?void 0:Bc.items)==null?void 0:Mu.map(($,Ae)=>s.jsxs("li",{children:[" ",$]},Ae))})]}),((Ts=xe.sections)==null?void 0:Ts.length)>0&&s.jsx("div",{className:"space-y-6",children:xe.sections.map($=>{var Ae;return s.jsxs("div",{className:"bg-[#0a0e14] border border-white/5 rounded-xl p-6",children:[s.jsx("h4",{className:"text-sm font-bold text-white mb-2",children:$.title}),s.jsx("p",{className:"text-xs text-slate-300 mb-2",children:$.text}),$.microText&&s.jsx("p",{className:"text-[10px] text-slate-500 uppercase",children:$.microText}),((Ae=$.infobulle)==null?void 0:Ae[H])&&s.jsx(Ei,{title:$.infobulle[H].title,children:$.infobulle[H].body})]},$.id)})}),((ss=xe.synthese)==null?void 0:ss[H])&&s.jsx("div",{className:"bg-[#040912] border border-blue-900/40 p-4 rounded-xl",children:s.jsx("p",{className:"text-sm text-blue-200",children:xe.synthese[H]})}),s.jsxs("div",{id:"coach-block-gar",className:"hidden mt-4 bg-black/60 border border-white/10 rounded-lg p-3 text-[11px] text-slate-300 leading-relaxed",children:[s.jsx("p",{children:" Positionnement   Ici il n'y a rien  dcider : on scurise un projet. "}),s.jsx("p",{children:" Terrain  lire le tout en continu, sans pause, puis regarder le client."}),s.jsx("p",{children:" Silence  2 secondes."}),s.jsx("p",{className:"text-slate-500 italic",children:"(Et seulement si le client demande :  tant que le dossier n'est pas valid, vous pouvez arrter le projet sans frais )"})]})]})}),s.jsx(Dn,{id:"realisations",title:"Ralisations EDF  Familles accompagnes dans votre secteur",icon:s.jsx(Qf,{className:"text-blue-400"}),defaultOpen:!1,onOpen:$=>{re($)},children:s.jsxs("div",{className:"bg-slate-900/40 border border-slate-800 rounded-[32px] p-8",children:[s.jsxs("div",{className:"mb-5 flex items-center gap-2 text-slate-400 text-sm",children:[s.jsx(Yg,{className:"text-blue-400",size:16}),s.jsxs("span",{children:["Projets EDF accompagns  proximit de"," ",s.jsx("strong",{className:"text-white",children:lr||(e!=null&&e.address?e.address.split(",").pop().trim():"votre secteur")})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qf,{className:"text-blue-400",size:24}),s.jsx("h2",{className:"text-lg font-bold text-white uppercase tracking-wide",children:"Ralisations EDF  Alpes-Maritimes"})]}),s.jsx("div",{className:"px-3 py-1 bg-blue-500/10 border border-blue-500/20 rounded-full",children:s.jsx("span",{className:"text-[10px] font-bold text-blue-400 uppercase tracking-wider",children:"Donnes relles"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[{name:"Mme T.",city:"Le Cannet",gain:22400,status:"Production active",kWc:"3.5 kWc"},{name:"M. B.",city:"Mougins",gain:28900,status:"Installation raccorde",kWc:"4.5 kWc"},{name:"Famille D.",city:"Grasse",gain:39400,status:"Production active",kWc:"6 kWc"},{name:"M. & Mme L.",city:"Cannes",gain:51800,status:"Raccordement valid Enedis",kWc:"9 kWc"}].map(($,Ae)=>s.jsxs("div",{className:"bg-slate-950/50 border border-slate-800 rounded-2xl p-5 hover:border-blue-500/40 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-slate-400 text-[9px] font-semibold uppercase tracking-widest",children:$.status})]}),s.jsx("span",{className:"text-slate-600 text-[9px] font-mono",children:$.kWc})]}),s.jsx("div",{className:"text-white font-semibold text-sm mb-0.5",children:$.name}),s.jsx("div",{className:"text-slate-500 text-xs mb-4",children:$.city}),s.jsxs("div",{className:"border-t border-slate-800 pt-3",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider mb-1",children:"Projection conservatrice  base tarif EDF actuelle"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:Qe($.gain)})]})]},Ae))}),s.jsx("div",{className:"bg-gradient-to-r from-slate-800/40 to-transparent border-l-4 border-blue-500 p-5 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg flex-shrink-0",children:s.jsx(sw,{className:"text-blue-400",size:20})}),s.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed",children:[s.jsx("strong",{className:"text-white",children:"127 dossiers valids"})," ","ce mois-ci dans le 06."]})]})})]})}),s.jsxs(Dn,{id:"locataire-proprietaire",title:"Locataire VS Propritaire nergtique",icon:s.jsx(qv,{className:"text-blue-600"}),defaultOpen:!1,onOpen:$=>{re($)},children:[s.jsxs("div",{className:"relative grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-orange-700/30 rounded-[24px] p-8 relative overflow-hidden transition-all duration-300 hover:border-orange-500/40 hover:shadow-[0_0_30px_rgba(255,152,0,0.15)]",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl bg-[#1a0d05] border border-orange-800/30 flex items-center justify-center text-orange-400",children:s.jsx(iS,{size:28})}),s.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"Modle Locatif"})]}),s.jsx("p",{className:"text-orange-200 text-sm font-medium mb-6",children:"Vous payez chaque mois pour consommer. C'est un modle d'usage."}),s.jsxs("ul",{className:"space-y-4 text-sm text-slate-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(fu,{className:"text-orange-400 w-4 h-4 mt-0.5 flex-shrink-0"}),"Le tarif suit les volutions du march et des dcisions publiques  vous ne matrisez pas l'avenir de votre facture."]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(fu,{className:"text-orange-400 w-4 h-4 mt-0.5 flex-shrink-0"}),"Aprs ",c," ans, vous aurez pay mais rien ne vous appartiendra."]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(fu,{className:"text-orange-400 w-4 h-4 mt-0.5 flex-shrink-0"}),"La relation reste mensuelle : vous tes dpendant d'lments extrieurs pour votre cot nergtique."]})]}),s.jsx("div",{className:"mt-8 h-1.5 bg-orange-900/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-orange-500 w-3/4"})}),s.jsx("div",{className:"mt-2 text-[14px] text-orange-400/60 italic",children:"Vous payez pour l'usage, sans capitaliser."})]}),s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-blue-600/30 rounded-[24px] p-8 relative overflow-hidden shadow-2xl shadow-blue-900/10 transition-all duration-300 hover:border-blue-500/50 hover:shadow-[0_0_30px_rgba(37,99,235,0.3)]",children:[s.jsx("div",{className:"absolute top-4 right-4 bg-blue-600 text-white text-[10px] font-bold px-3 py-1 rounded uppercase shadow-lg",children:"Possibilit d'volution"}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-600 flex items-center justify-center text-white shadow-lg shadow-blue-600/30",children:s.jsx(qv,{size:28})}),s.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"Modle Producteur (Propritaire)"})]}),s.jsx("p",{className:"text-blue-100 text-sm font-medium mb-6",children:"Vous devenez propritaire de votre production. Chaque kWh produit vous appartient."}),s.jsxs("ul",{className:"space-y-4 text-sm text-white",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(ar,{className:"text-emerald-400 w-4 h-4 mt-0.5 flex-shrink-0"}),"Cot stabilis par autoproduction, visibilit sur le long terme."]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(ar,{className:"text-emerald-400 w-4 h-4 mt-0.5 flex-shrink-0"}),"Vous crez un patrimoine valorisable (transmission, valeur nergtique du bien)."]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(ar,{className:"text-emerald-400 w-4 h-4 mt-0.5 flex-shrink-0"}),"Moins dpendant des volutions extrieures  vous scurisez une partie de votre nergie."]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(ar,{className:"text-emerald-400 w-4 h-4 mt-0.5 flex-shrink-0"}),"Le financement se fait au fil des conomies gnres par votre production."]})]}),s.jsx("div",{className:"mt-8 h-1.5 bg-slate-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 w-2/3"})}),s.jsx("div",{className:"mt-2 text-[14px] text-emerald-400 italic font-medium",children:"Vos conomies deviennent un actif."})]})]}),s.jsx("div",{className:"mt-8 flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-3 bg-slate-900/40 border border-white/5 rounded-xl px-6 py-3",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Ces deux modles sont lgitimes. La question est : lequel correspond  votre situation ?"})]})}),s.jsxs("div",{id:"coach-block-mod8",className:"hidden mt-4 bg-black/60 border border-white/10 rounded-lg p-3 text-[11px] text-slate-300 leading-relaxed",children:[s.jsx("p",{children:" EDF (neutre)   Ici on ne parle pas d'un achat, mais d'un modle de gestion nergtique. "}),s.jsx("p",{children:" Question   Dans votre cas, vous penchez plutt vers quel modle ? "}),s.jsx("p",{className:"italic text-slate-400",children:" Puis  SILENCE 3 secondes."})]})]}),s.jsx(Dn,{id:"repartition",title:"Origine de llectricit de votre maison",icon:s.jsx(ga,{className:"text-blue-400"}),defaultOpen:!1,children:s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-[32px] p-6 sm:p-8 space-y-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white mb-2",children:"Fonctionnement nergtique aprs installation"}),s.jsx("p",{className:"text-slate-400 text-sm leading-relaxed max-w-3xl",children:"Ce module montre concrtement comment se rpartit llectricit consomme par votre maison une fois linstallation en service."})]}),s.jsxs("div",{className:"bg-[#050505] border border-white/10 rounded-3xl p-6 sm:p-8 text-center",children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 mb-2",children:"Taux de couverture nergtique"}),s.jsxs("div",{className:"text-6xl sm:text-7xl font-black text-white tracking-tighter",children:[_e.savingsRatePercent.toFixed(0)," %"]}),s.jsx("p",{className:"text-slate-300 mt-2 text-sm",children:"de votre consommation lectrique est produite directement par votre maison."}),s.jsx("div",{className:"w-full h-3 bg-white/5 rounded-full overflow-hidden mt-5",children:s.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-700",style:{width:`${_e.savingsRatePercent}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-black/60 border border-white/10 rounded-2xl p-5",children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 mb-1",children:"Consommation actuelle"}),s.jsxs("p",{className:"text-3xl font-black text-white",children:[sd(_e.baseConsumptionKwh)," kWh/an"]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-red-500",style:{width:"100%"}})}),s.jsx("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:"Rfrence 100%  votre dpendance actuelle au rseau"})]}),s.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Ce que vous achetez au rseau chaque anne aujourd'hui."}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5 text-slate-300 text-sm",children:[Qe(_e.lossIfWait1Year)," / an"]})]}),s.jsxs("div",{className:"bg-black/60 border border-emerald-500/20 rounded-2xl p-5",children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 mb-1",children:"Production Solaire"}),s.jsxs("p",{className:"text-3xl font-black text-emerald-400",children:[sd(_e.savingsLostIfWait1Year/Sn)," ","kWh/an"]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-700",style:{width:`${_e.savingsRatePercent}%`}})}),s.jsxs("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:[_e.savingsRatePercent.toFixed(0),"% de votre consommation couverte"]})]}),s.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Ce que vous produisez et consommez directement."}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5 text-emerald-400 text-sm font-bold",children:[" ",Qe(_e.savingsLostIfWait1Year)," / an conomiss"]}),s.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"lectricit que vous ne payez plus"})]}),s.jsxs("div",{className:"bg-black/60 border border-blue-500/20 rounded-2xl p-5",children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 mb-1",children:"Surplus inject rseau"}),s.jsxs("p",{className:"text-3xl font-black text-blue-400",children:[sd(_e.surplusRevenuePerYear/sa)," ","kWh/an"]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 transition-all duration-700",style:{width:`${100-_e.savingsRatePercent}%`}})}),s.jsx("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:"Part de la production automatiquement valorise par EDF"})]}),s.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:["Non consomm, vendu automatiquement. ",s.jsx("br",{}),"Contrat d'Obligation d'Achat 20 ans  cadre lgal. ",s.jsx("br",{}),"Tarif rglement : 0.04 / Watt"]}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5 text-blue-400 text-sm font-bold",children:[" ",Qe((((Si=e==null?void 0:e.params)==null?void 0:Si.installedPower)||0)*1e3*.04)," / an"]})]})]}),s.jsx("div",{className:"bg-blue-950/20 border-l-4 border-blue-500 rounded-xl p-5",children:s.jsxs("p",{className:"text-slate-200 text-sm leading-relaxed",children:[s.jsx("strong",{className:"text-white",children:"Fonctionnement rseau :"}),s.jsx("br",{}),"Llectricit produite est consomme automatiquement dans votre maison. Le surplus est inject et rachet par EDF dans le cadre du contrat dObligation dAchat (tat, 20 ans). Lorsque la production est insuffisante, le rseau prend le relais instantanment.",s.jsx("br",{}),s.jsx("br",{}),s.jsx("span",{className:"text-blue-300 font-semibold",children:"Aucun rglage. Aucun pilotage. Continuit de service garantie."})]})}),s.jsxs("div",{className:"text-center pt-2",children:[s.jsx("p",{className:"text-slate-400 italic text-sm",children:"Vos habitudes ne changent pas."}),s.jsx("p",{className:"text-white font-bold italic text-lg",children:"Seule lorigine de votre lectricit change."})]})]})}),s.jsx(V0,{label:"Cadre pos",title:"Tout ce quon a fait jusque-l sert  une seule chose.",subtitle:"tre sr quon ne se trompe pas."}),s.jsx(Dn,{id:"synthese",title:"Synthse darbitrage nergtique et patrimonial",icon:s.jsx(Ka,{className:"text-blue-400"}),defaultOpen:!1,onOpen:$=>{re($)},children:s.jsxs("div",{id:"Synthse d'Arbitrage nergtique",className:"space-y-6 mt-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[s.jsxs("div",{className:"lg:col-span-8 bg-[#050505] border border-white/10 rounded-[40px] p-8 shadow-2xl",children:[s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsxs("div",{className:"bg-black border border-blue-500/30 text-blue-400 px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider flex items-center gap-2",children:[s.jsx(hu,{size:18})," PROJECTION 20 ANS"]}),s.jsxs("div",{className:"bg-[#062c1e] border border-emerald-500/30 text-emerald-400 px-3 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider flex items-center gap-2",children:[s.jsx(wc,{size:18})," 0 D'APPORT"]})]}),s.jsx("h3",{className:"text-2xl font-black uppercase italic text-white tracking-tighter",children:"Rsultat conomique entre les deux trajectoires"}),s.jsxs("div",{className:"text-5xl font-black text-white mb-8 italic tracking-tighter","data-testid":"gain-total",children:[Math.round(_e.totalSavingsProjected).toLocaleString()," ",""]}),s.jsxs("div",{className:"bg-[#0a0a0b] border border-white/5 rounded-3xl p-6 space-y-4 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ar,{className:"w-5 h-5 text-emerald-500"}),s.jsx("h3",{className:"text-[14px] font-black text-white uppercase italic tracking-widest",children:"COMMENT EST CALCUL CET CART ?"})]}),s.jsxs("div",{className:"bg-[#1a0f10] border border-red-950/30 rounded-2xl p-5 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(wc,{className:"text-red-500 w-6 h-6"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[14px] font-black text-red-500 uppercase italic tracking-wide",children:"SCNARIO SANS SOLAIRE"}),s.jsxs("div",{className:"text-[14px] text-slate-400 mt-1",children:["Dpense nergtique totale sur ",c," ans"]})]})]}),s.jsxs("div",{className:"text-4xl font-black text-red-500 italic tracking-tight","data-testid":"no-solar-total-20y",children:[Math.round((_e==null?void 0:_e.totalSpendNoSolar)??0).toLocaleString()," ",""]})]}),s.jsx("div",{className:"text-center text-[14px] font-black text-slate-600 tracking-widest uppercase italic",children:"MOINS"}),s.jsxs("div",{className:"bg-[#0f141a] border border-blue-950/30 rounded-2xl p-5 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-blue-500 flex items-center justify-center",children:s.jsx(ar,{className:"w-4 h-4 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[14px] font-black text-blue-500 uppercase italic tracking-wide",children:"SCNARIO AVEC SOLAIRE"}),s.jsx("div",{className:"text-[14px] text-slate-400 italic mt-1",children:"Rorganisation des flux + facture rsiduelle"})]})]}),s.jsxs("div",{className:"text-4xl font-black text-blue-500 italic tracking-tight","data-testid":"solar-scenario-total-20y",children:[Math.round((_e==null?void 0:_e.totalSpendSolar)??0).toLocaleString()," ",""]})]}),s.jsx("div",{className:"text-center text-[14px] font-black text-slate-600 tracking-widest uppercase italic",children:"EGAL"}),s.jsxs("div",{className:"bg-[#0d1a14] border-2 border-emerald-500/40 rounded-2xl p-6 flex items-center justify-between shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Mv,{className:"text-emerald-500 w-7 h-7"}),s.jsx("div",{className:"text-[13px] font-black text-emerald-500 uppercase tracking-wider italic",children:"VOTRE GAIN NET"})]}),s.jsxs("div",{className:"text-5xl font-black text-emerald-400 italic tracking-tight",children:["+",Math.round(_e.totalSavingsProjected).toLocaleString("fr-FR"),""]})]}),s.jsx("div",{className:"mt-3 px-4",children:s.jsx("p",{className:"text-[14px] text-slate-500 italic leading-relaxed tracking-wide",children:"Ce chiffre nest pas une promesse. Il rsulte uniquement de la projection mcanique de vos flux nergtiques actuels."})}),s.jsx("div",{className:"bg-blue-950/10 border-l-4 border-blue-500 p-4 rounded-r-xl",children:s.jsxs("p",{className:"text-[14px] text-blue-200/90 leading-relaxed italic uppercase font-medium",children:[s.jsx("span",{className:"text-blue-400 font-black",children:" TRANSITION MATRISE"})," ","VOTRE BUDGET MENSUEL RESTE STABLE ET QUILIBR. ",s.jsx("br",{}),"APRS REMBOURSEMENT DU FINANCEMENT, les conomies deviennent structurelles, PERMANENTES ET MASSIVES."]})})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-black border border-white/5 p-4 rounded-2xl",children:[s.jsx("div",{className:"text-[12px] font-black text-emerald-500 uppercase mb-1",children:"CAPITAL IMMOBILIS"}),s.jsx("div",{className:"text-xl font-black text-emerald-400 italic",children:"0"})]}),s.jsxs("div",{className:"bg-black border border-white/5 p-4 rounded-2xl",children:[s.jsx("div",{className:"text-[12px] font-black text-blue-500 uppercase mb-1 italic",children:"CART MOYEN"}),s.jsxs("div",{className:"text-xl font-black text-white italic","data-testid":"gain-yearly",children:["+",Math.round(_e.averageYearlyGain).toLocaleString()," ","/an"]})]}),s.jsxs("div",{className:"bg-black border border-white/5 p-4 rounded-2xl",children:[s.jsx("div",{className:"text-[11px] font-black text-emerald-500 uppercase mb-1 italic",children:"AUTONOMIE ATTEINTE"}),s.jsxs("div",{className:"text-xl font-black text-white italic","data-testid":"break-even",children:["An ",_e.breakEvenPoint]})]}),s.jsxs("div",{className:"bg-black border border-white/5 p-4 rounded-2xl",children:[s.jsx("div",{className:"text-[12px] font-black text-yellow-500 uppercase mb-1 italic",children:"RENDEMENT PROJET"}),s.jsxs("div",{className:"text-xl font-black text-yellow-400 italic","data-testid":"project-return",children:[(_e.averageYearlyGain/rr*100).toFixed(1),"%"]})]})]})]}),s.jsxs("div",{className:"lg:col-span-4 space-y-6 flex flex-col",children:[s.jsxs("div",{className:"bg-[#050505] border border-orange-900/30 rounded-[32px] p-8 shadow-xl flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(ga,{className:"text-orange-500 w-5 h-5"}),s.jsx("h3",{className:"text-[18px] font-black text-orange-500 uppercase tracking-widest italic",children:"NOUVEL QUILIBRE BUDGTAIRE"}),s.jsxs($0,{title:"Pourquoi cet cart volue dans le temps ?",children:[s.jsx("p",{children:"Ce calcul est bas sur vos consommations actuelles et sur lvolution structurelle du prix de lnergie."}),s.jsx("p",{children:"Lorsque le tarif augmente, la part que vous produisez vous-mme vite un achat rseau de plus en plus cher."}),s.jsx("p",{children:"Mcaniquement, lcart entre production locale et achat dlectricit slargit au fil du temps."})]})]}),s.jsx("div",{className:"text-6xl font-black text-white mb-8 italic tracking-tighter leading-none drop-shadow-[0_0_15px_rgba(255,255,255,0.2)]","data-testid":"monthly-gain",children:(()=>{const $=Math.round((_e==null?void 0:_e.monthlyEffortYear1)||0);return`${$>0?"+":""}${$} `})()}),s.jsxs("div",{className:"space-y-4 border-t border-white/5 pt-6 mt-6",children:[s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Nouveau Budget :"}),s.jsxs("span",{className:"text-2xl font-black text-white","data-testid":"new-monthly-budget",children:[Math.round((_e==null?void 0:_e.newMonthlyBillYear1)||0).toLocaleString()," ",""]})]}),s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Ancien Budget :"}),s.jsxs("span",{className:"text-2xl font-black text-red-500","data-testid":"old-monthly-budget",children:[Math.round((_e==null?void 0:_e.oldMonthlyBillYear1)||0).toLocaleString()," ",""]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-white/10 w-full",children:[s.jsx("span",{className:"text-base font-black text-orange-500 italic uppercase tracking-wider",children:"= Rallocation"}),s.jsx("span",{className:"text-3xl font-black text-white italic","data-testid":"monthly-reallocation",children:(()=>{const $=Math.round((_e==null?void 0:_e.monthlyEffortYear1)||0);return`${$>0?"+":""}${$} `})()})]})]}),s.jsx("div",{className:"mt-6 bg-orange-500/5 border border-orange-500/20 p-4 rounded-xl",children:s.jsx("p",{className:"text-[14px] text-orange-500/90 italic uppercase font-bold text-center tracking-tighter leading-relaxed",children:"VOTRE CAPACIT D'PARGNE S'ACCLRE  CHAQUE AUGMENTATION DU TARIF DE L'NERGIE."})})]}),s.jsxs("div",{className:"bg-[#050505] border border-blue-900/30 rounded-[32px] p-8 shadow-xl flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(ud,{className:"text-blue-500 w-5 h-5"}),s.jsx("h3",{className:"text-[14px] font-black text-blue-400 uppercase tracking-widest italic",children:"RENDEMENT COMPARATIF"}),s.jsxs($0,{title:"Comment est calcul ce rendement ?",children:[s.jsx("p",{children:"Ce rendement correspond au rapport entre linvestissement initial et lcart conomique annuel moyen gnr par le systme."}),s.jsx("p",{children:"Il est calcul uniquement  partir des flux nergtiques projets."}),s.jsx("p",{children:"Il nintgre ni revalorisation immobilire, ni hypothse patrimoniale."})]})]}),s.jsxs("p",{className:"text-[14px] text-slate-400 mb-6 italic uppercase leading-relaxed",children:["Votre investissement de"," ",s.jsx("span",{className:"text-white font-black",children:Qe(rr)})," ","gnre l'quivalent de"," ",s.jsxs("span",{className:"text-white font-black",children:[Math.round(_e.averageYearlyGain).toLocaleString()," ","/an"]})]}),s.jsxs("div",{className:"text-6xl font-black text-white mb-8 italic tracking-tighter",children:[(_e.averageYearlyGain/rr*100).toFixed(1),"%"]}),s.jsxs("div",{className:"bg-blue-950/50 border border-blue-500/40 px-4 py-4 rounded-xl mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between text-[12px] font-black uppercase",children:[s.jsx("div",{className:"text-slate-400",children:"LIVRET A"}),s.jsx("div",{className:"text-slate-500",children:"1,50%"})]}),s.jsx("div",{className:"h-px bg-white/10 my-3"}),s.jsxs("div",{className:"flex items-center justify-between text-[11px] font-black uppercase",children:[s.jsx("div",{className:"text-blue-400",children:"VOTRE PROJET"}),s.jsxs("div",{className:"text-blue-400",children:[(_e.averageYearlyGain/rr*100).toFixed(1),"%"]})]})]}),s.jsxs("p",{className:"mt-6 text-[12px] text-slate-500 italic uppercase flex items-center gap-2",children:[s.jsx(ga,{size:10,className:"text-orange-500"})," RENDEMENT CALCUL SUR LA DURE TOTALE DE PROJECTION"]})]})]})]}),s.jsx(V0,{label:"Changement de perspective",title:" partir dici, on ne parle plus dinstallation.",subtitle:"On parle de ce que devient votre maison."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 relative",children:[s.jsxs("div",{className:"bg-[#050505] border border-emerald-500/20 rounded-[32px] p-8 flex flex-col justify-between relative shadow-2xl min-h-[520px] overflow-hidden",children:[s.jsxs("div",{className:"absolute top-6 right-6 z-50",children:[s.jsxs($0,{title:"Quest-ce quun actif nergtique ?",children:[s.jsx("p",{children:"Un actif nergtique est un quipement qui transforme un poste de dpense contrainte en capacit de production."}),s.jsx("p",{children:"Il permet de rduire durablement les charges, de scuriser une partie des flux et damliorer lautonomie nergtique du logement."}),s.jsx("p",{children:"Sa valeur repose dabord sur son usage, indpendamment de la dure de dtention du bien."})]}),s.jsx("button",{onMouseEnter:()=>be(!0),onMouseLeave:()=>be(!1),className:"p-3 bg-emerald-500/10 rounded-xl border border-emerald-500/20 hover:border-emerald-500/50 transition-all",children:s.jsx(Ga,{size:24,className:"text-emerald-500"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black uppercase italic text-white tracking-tighter",children:"ACTIF NERGTIQUE"}),s.jsx("p",{className:"text-[14px] font-black text-emerald-500 uppercase italic mb-6",children:"VOTRE MAISON COMMENCE  PRODUIRE POUR VOUS"}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"text-7xl font-black text-emerald-400 italic tracking-tighter leading-none",children:[Math.round((_e==null?void 0:_e.savingsAfterBreakEven)||(_e==null?void 0:_e.totalSavingsProjected)*.6||0).toLocaleString("fr-FR"),""]}),s.jsx("p",{className:"text-[14px] font-black text-white uppercase italic mt-2 tracking-[0.2em]",children:"VALEUR D'USAGE CRE PAR VOTRE MAISON"}),s.jsx("p",{className:"text-[14x] text-slate-400 italic mt-1",children:"Que vous y restiez, que vous louiez ou que vous revendiez."})]}),s.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/20 rounded-xl p-4 mb-6",children:[s.jsx("p",{className:"text-[14px] font-black text-emerald-500 uppercase mb-2 tracking-widest",children:"UTILISATION LIBRE :"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[14px] text-slate-300",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(KS,{size:12,className:"text-emerald-400"}),s.jsx("span",{children:"Confort / voyages"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Uf,{size:12,className:"text-emerald-400"}),s.jsx("span",{children:"Amlioration habitat"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(TS,{size:12,className:"text-emerald-400"}),s.jsx("span",{children:"Libert financire"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vx,{size:12,className:"text-emerald-400"}),s.jsx("span",{children:"Scurit budgtaire"})]})]})]})]}),s.jsx("div",{className:"mt-2 bg-[#0b1220] border border-blue-500/20 rounded-2xl p-5",children:s.jsxs("p",{className:"text-[13px] text-slate-200 italic leading-relaxed",children:[`Ce projet n'est pas pens pour "dans `,c,' ans".',s.jsx("br",{}),s.jsx("span",{className:"text-white font-bold",children:"Il est pens pour que votre maison vous cote moins et vous apporte plus ds maintenant."}),s.jsx("br",{}),s.jsx("br",{}),"La dure n'est pas une condition. C'est simplement ce qui amplifie l'effet."]})}),s.jsxs("div",{className:"mt-auto",children:[s.jsx("div",{className:"bg-white/5 rounded-2xl p-5 border border-white/10 mb-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-[11px] font-bold uppercase",children:[s.jsx("span",{className:"text-slate-400 tracking-tight max-w-[70%]",children:"Ce que votre maison vous rapporte une fois le systme amorti"}),s.jsxs("span",{className:"text-emerald-400",children:["+",Math.round((_e==null?void 0:_e.savingsAfterBreakEven)||(_e==null?void 0:_e.totalSavingsProjected)*.6||0).toLocaleString("fr-FR")," ",""]})]}),s.jsxs("div",{className:"flex justify-between text-[11px] font-bold uppercase pt-3 border-t border-white/10",children:[s.jsx("span",{className:"text-slate-400 tracking-tight max-w-[70%] italic",children:"Ce que votre maison vous permet dj d'conomiser pendant qu'elle se rembourse"}),s.jsxs("span",{className:"text-blue-400",children:["+",Math.round((_e==null?void 0:_e.totalSavingsProjected)*.4||0).toLocaleString("fr-FR")," ",""]})]})]})}),s.jsx("div",{className:"bg-blue-500/5 border border-blue-500/20 rounded-xl p-3",children:s.jsx("p",{className:"text-[12px] text-slate-400 italic",children:"Actif conomique domestique  valeur d'usage indpendante du temps de dtention"})})]})]}),s.jsx("button",{onClick:()=>ts(!co),className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-50 hidden md:flex items-center justify-center w-14 h-14 bg-gradient-to-br from-emerald-500/20 to-orange-500/20 backdrop-blur-xl border-2 border-white/20 rounded-full shadow-[0_0_30px_rgba(16,185,129,0.3)] hover:shadow-[0_0_50px_rgba(16,185,129,0.5)] hover:scale-110 transition-all duration-300 group","aria-label":"Afficher la transition",children:s.jsx("div",{className:"relative",children:co?s.jsx(jd,{className:"w-5 h-5 text-white"}):s.jsx(hS,{className:"w-6 h-6 text-white group-hover:translate-x-0.5 transition-transform"})})}),s.jsxs("div",{className:"bg-[#050505] border border-orange-500/20 rounded-[32px] p-8 flex flex-col justify-between relative shadow-2xl min-h-[480px] overflow-hidden",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black uppercase italic text-white tracking-tighter",children:"POSITIONNEMENT PATRIMONIAL"}),s.jsxs("p",{className:"text-[12px] font-black text-orange-500 uppercase italic mb-2",children:["VOTRE RSIDENCE "," ",s.jsx("span",{className:"underline text-white ml-1 uppercase",children:((vo=o==null?void 0:o.city)==null?void 0:vo.toUpperCase())||((Du=(is=(Mn=e==null?void 0:e.params)==null?void 0:Mn.address)==null?void 0:is.split(",")[0])==null?void 0:Du.toUpperCase())||"SECTEUR"})]}),s.jsx("p",{className:"text-[13px] text-slate-400 italic uppercase tracking-wide",children:"Analyse d'impact nergtique sur la valeur et l'attractivit du bien"})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("div",{className:"text-orange-400 font-black uppercase tracking-widest text-sm mb-2",children:o==null?void 0:o.impactProfile}),s.jsx("p",{className:"text-[15px] text-slate-200 leading-relaxed italic max-w-[95%]",children:o==null?void 0:o.impactNarrative})]}),((o==null?void 0:o.impactPercentRange)||(o==null?void 0:o.greenValueIndicative))&&s.jsxs("div",{className:"mt-8 bg-[#111] border border-white/10 rounded-2xl p-6 space-y-4",children:[(o==null?void 0:o.impactPercentRange)&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-[11px] text-slate-400 uppercase font-bold",children:"Impact observ march :"}),s.jsx("span",{className:"text-lg font-black text-orange-400",children:o.impactPercentRange})]}),(o==null?void 0:o.greenValueIndicative)&&o.propertyClass!=="patrimonial"&&s.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-white/10",children:[s.jsx("span",{className:"text-[11px] text-slate-400 uppercase font-bold",children:"Ordre de grandeur conomique :"}),s.jsxs("span",{className:"text-2xl font-black text-orange-400 italic",children:["+",o.greenValueIndicative.toLocaleString()," ",""]})]})]}),(o==null?void 0:o.propertyClass)==="patrimonial"&&s.jsx("div",{className:"mt-8 bg-blue-950/30 border border-blue-500/30 rounded-2xl p-6",children:s.jsxs("p",{className:"text-blue-300 text-[13px] italic leading-relaxed",children:["Sur ce type de patrimoine, la performance nergtique n'est pas un levier de hausse mcanique.",s.jsx("br",{}),s.jsx("strong",{className:"text-white",children:"C'est un levier de protection de valeur, de dsirabilit et de conformit long terme."})]})}),s.jsx("div",{className:"mt-6 bg-[#171412] rounded-2xl p-4 border border-white/5 shadow-inner",children:s.jsx("p",{className:"text-[11px] text-slate-500 uppercase tracking-wide font-black italic",children:"Positionnement bas sur tendances notariales, DPE & marchs locaux  ordre de grandeur non estimatif"})})]})]}),co&&s.jsx("div",{className:"relative w-full py-6 flex items-center justify-center bg-gradient-to-r from-black via-emerald-950/10 to-black border-y border-emerald-500/20 animate-in slide-in-from-top duration-300",children:s.jsxs("div",{className:"max-w-3xl text-center px-6",children:[s.jsx("p",{className:"text-2xl md:text-3xl font-black italic text-white leading-tight mb-3",children:" partir d'ici, votre maison ne se contente plus de coter."}),s.jsx("p",{className:"text-xl md:text-2xl font-black italic text-emerald-400 leading-tight",children:"Elle commence concrtement  vous rapporter."})]})})]})}),s.jsx(Dn,{id:"budget",title:"Structure du Budget (Mensuel)",icon:s.jsx(xd,{className:"text-slate-400"}),defaultOpen:!1,onOpen:$=>{re($)},children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-[24px] sm:rounded-[32px] p-4 sm:p-6 md:p-8 transition-all duration-300 hover:border-blue-500/30 hover:shadow-[0_0_30px_rgba(59,130,246,0.2)]",children:[s.jsxs("div",{className:"text-[10px] sm:text-[11px] text-slate-500 italic mb-4 leading-relaxed",children:["On regarde simplement comment votre budget actuel se rorganise  sans nouvelle charge.",s.jsx("br",{}),s.jsx("span",{className:"text-slate-400",children:"On ne parle pas de payer plus. On parle de rediriger ce qui existe dj."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 mb-6 md:mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(xd,{className:"text-slate-400 w-5 h-5 sm:w-6 sm:h-6"}),s.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-black text-white uppercase tracking-tight",children:"STRUCTURE DU BUDGET (MENSUEL)"})]}),s.jsx("div",{className:"bg-black/60 backdrop-blur-md px-3 sm:px-4 py-1 sm:py-1.5 rounded text-[10px] sm:text-xs font-bold text-slate-400 border border-white/10",children:"Anne 1  Comparatif"})]}),s.jsxs("div",{className:"space-y-8 sm:space-y-10 md:space-y-12",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0 text-xs sm:text-sm font-bold uppercase text-slate-400 mb-4 sm:mb-6",children:[s.jsx("span",{children:"SITUATION ACTUELLE"}),s.jsxs("span",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.3)]",children:[Qe(_e.oldMonthlyBillYear1)," /mois"]})]}),s.jsx("div",{className:"text-[10px] sm:text-[11px] text-slate-500 italic mb-3 leading-relaxed",children:"Aujourdhui, cette somme est entirement consomme sans cration de valeur durable."}),s.jsx("div",{className:"relative h-20 sm:h-24 md:h-28 bg-gradient-to-b from-black/80 to-black/40 rounded-xl sm:rounded-2xl border border-red-900/40 overflow-hidden shadow-2xl",children:s.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-red-500 via-red-600 to-red-700 rounded-xl sm:rounded-2xl shadow-[inset_0_-4px_8px_rgba(0,0,0,0.3),inset_0_4px_8px_rgba(255,255,255,0.1)]",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-6 sm:h-8 bg-gradient-to-b from-white/20 to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-6 sm:h-8 bg-gradient-to-t from-black/40 to-transparent"}),s.jsxs("div",{className:"absolute inset-0 flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 md:px-8 gap-2 sm:gap-0",children:[s.jsx("span",{className:"text-white font-black text-sm sm:text-lg md:text-2xl uppercase tracking-wider drop-shadow-[0_4px_8px_rgba(0,0,0,0.5)]",children:"FACTURE ACTUELLE"}),s.jsx("span",{className:"text-white/30 font-black text-xs sm:text-2xl md:text-5xl uppercase tracking-tighter drop-shadow-[0_4px_8px_rgba(0,0,0,0.5)] text-right",children:"100% dpenses"})]})]})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0 mb-4 sm:mb-6",children:[s.jsx("span",{className:"text-xs sm:text-sm font-bold uppercase text-slate-400",children:"STRUCTURE du budget APRS MISE EN SERVICE"}),s.jsxs("span",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.3)] uppercase",children:[Qe(_e.year1.creditPayment/12+_e.year1.edfResidue/12)," ","/mois"]})]}),s.jsx("div",{className:"text-[10px] sm:text-[11px] text-slate-400 italic mb-3 sm:mb-4 leading-relaxed",children:"Concrtement, on ne rajoute rien dans votre budget. On ne paie rien en plus : on remplace une dpense existante par un flux qui a une utilit durable."}),s.jsxs("div",{className:"text-[10px] sm:text-[11px] text-slate-400 italic mb-3 sm:mb-4 leading-relaxed",children:[s.jsx("span",{className:"text-slate-300",children:"Rien ne sajoute. Rien ne salourdit."}),s.jsx("br",{})]}),s.jsxs("div",{className:"relative h-20 sm:h-24 md:h-28 bg-gradient-to-b from-black/80 to-black/40 rounded-xl sm:rounded-2xl border border-white/10 overflow-hidden shadow-2xl flex",children:[s.jsxs("div",{className:"relative bg-gradient-to-b from-slate-600 via-slate-700 to-slate-800 shadow-[inset_0_-4px_8px_rgba(0,0,0,0.3),inset_0_4px_8px_rgba(255,255,255,0.1)] transition-all duration-500",style:{width:`${_e.year1.creditPayment/12/(_e.year1.totalWithSolar/12)*100}%`},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-6 sm:h-8 bg-gradient-to-b from-white/10 to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-6 sm:h-8 bg-gradient-to-t from-black/40 to-transparent"}),s.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center px-3 sm:px-4 md:px-6",children:[s.jsx("span",{className:"text-[9px] sm:text-[10px] md:text-xs font-bold text-slate-300 uppercase tracking-wider mb-0.5 sm:mb-1",children:"FINANCEMENT EDF"}),s.jsx("span",{className:"text-white font-black text-sm sm:text-lg md:text-2xl drop-shadow-[0_4px_8px_rgba(0,0,0,0.5)] break-words",children:Qe(_e.year1.creditPayment/12)})]})]}),s.jsx("div",{className:"w-0.5 sm:w-1 bg-black/40"}),s.jsxs("div",{className:"relative bg-gradient-to-b from-slate-600 via-slate-700 to-slate-800 shadow-[inset_0_-4px_8px_rgba(0,0,0,0.3),inset_0_4px_8px_rgba(255,255,255,0.1)] transition-all duration-500",style:{width:`${_e.year1.edfResidue/12/(_e.year1.totalWithSolar/12)*100}%`},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer"}),s.jsx("div",{className:"absolute top-0 left-0 right-0 h-6 sm:h-8 bg-gradient-to-b from-white/10 to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-6 sm:h-8 bg-gradient-to-t from-black/40 to-transparent"}),s.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center px-3 sm:px-4 md:px-6",children:[s.jsx("span",{className:"text-[9px] sm:text-[10px] md:text-xs font-bold text-slate-300 uppercase tracking-wider mb-0.5 sm:mb-1",children:"RESTE  CHARGE"}),s.jsx("span",{className:"text-slate-300 font-black text-sm sm:text-lg md:text-2xl drop-shadow-[0_4px_8px_rgba(0,0,0,0.3)] break-words",children:Qe(_e.year1.edfResidue/12)})]})]})]}),s.jsx("br",{}),s.jsx("div",{className:"text-[14px] sm:text-[14px] text-slate-400 italic mb-3 sm:mb-4 leading-relaxed",children:"Le montant global reste quivalent. Ce qui change, cest la destination et lutilit de cette somme."})]})]})]})}),s.jsx(Dn,{id:"impact",title:"Impact sur votre budget mensuel",icon:s.jsx(Ga,{className:"text-blue-400"}),defaultOpen:!1,onOpen:$=>{re($)},children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-[10px] sm:text-[11px] text-slate-500 italic leading-relaxed",children:["Voici comment votre budget mensuel se rorganise la premire anne.",s.jsx("br",{}),s.jsx("span",{className:"text-slate-400",children:"On ne parle pas dun cot, mais dune phase de transition avant un modle durablement plus lger."})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-red-950/30 to-black/40 border border-red-500/20 rounded-xl p-4 sm:p-5 relative group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"text-red-400 text-[9px] sm:text-[10px] uppercase font-bold tracking-wide flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400 flex-shrink-0"}),s.jsx("span",{children:"Facture actuelle"})]}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx(Ya,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-slate-500 cursor-help transition-colors hover:text-red-400"}),s.jsxs("div",{className:"absolute top-full right-0 mt-2 w-[260px] sm:w-[280px] bg-slate-900 border-2 border-red-500/30 rounded-xl p-3 shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[s.jsx("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-slate-900 border-l-2 border-t-2 border-red-500/30 transform rotate-45"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-[11px] font-bold text-red-400 mb-2 uppercase",children:" Facture actuelle"}),s.jsxs("p",{className:"text-[10px] text-slate-300 leading-relaxed",children:["C'est ce que vous payez"," ",s.jsx("strong",{className:"text-white",children:"actuellement chaque mois"})," "," votre fournisseur d'lectricit, sans installation solaire."]}),s.jsx("div",{className:"mt-2 pt-2 border-t border-white/10",children:s.jsxs("p",{className:"text-[9px] text-slate-500 italic",children:["Base de calcul :"," ",Qe(_e.lossIfWait1Year||0)," ","par an"]})})]})]})]})]}),s.jsx("div",{className:"text-white text-2xl sm:text-3xl font-black break-words",children:Qe(Ni)}),s.jsx("div",{className:"text-slate-500 text-[10px] sm:text-xs mt-1",children:"/mois"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-950/30 to-black/40 border border-blue-500/20 rounded-xl p-4 sm:p-5 relative group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"text-blue-400 text-[9px] sm:text-[10px] uppercase font-bold tracking-wide flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400 flex-shrink-0"}),s.jsx("span",{children:"Vous payez"})]}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx(Ya,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-slate-500 cursor-help transition-colors hover:text-blue-400"}),s.jsxs("div",{className:"absolute top-full right-0 mt-2 w-[260px] sm:w-[280px] bg-slate-900 border-2 border-blue-500/30 rounded-xl p-3 shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[s.jsx("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-slate-900 border-l-2 border-t-2 border-blue-500/30 transform rotate-45"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-[11px] font-bold text-blue-400 mb-2 uppercase",children:" Avec installation"}),s.jsxs("div",{className:"space-y-2 text-[10px] text-slate-300",children:[s.jsxs("div",{className:"flex justify-between pb-1 border-b border-white/10",children:[s.jsx("span",{children:"Mensualit crdit"}),s.jsx("span",{className:"font-bold text-white",children:Qe(et+St)})]}),s.jsxs("div",{className:"flex justify-between pb-1 border-b border-white/10",children:[s.jsx("span",{children:"Facture rsiduelle"}),s.jsx("span",{className:"font-bold text-white",children:Qe(Ps)})]}),s.jsxs("div",{className:"flex justify-between pt-1 bg-blue-950/30 rounded p-1.5",children:[s.jsx("span",{className:"font-bold",children:"Total"}),s.jsx("span",{className:"font-black text-blue-400",children:Qe(la)})]})]}),s.jsx("div",{className:"mt-2 pt-2 border-t border-white/10",children:s.jsxs("p",{className:"text-[9px] text-slate-500 italic",children:["Dure crdit :"," ",Math.ceil(Ft/12)," ans"]})})]})]})]})]}),s.jsx("div",{className:"text-white text-2xl sm:text-3xl font-black break-words",children:Qe(la)}),s.jsx("div",{className:"text-slate-500 text-[10px] sm:text-xs mt-1 leading-tight",children:"/mois (crdit + reste facture)"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-slate-950/30 to-black/40 border border-slate-600/20 rounded-xl p-4 sm:p-5 relative group sm:col-span-2 lg:col-span-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"text-slate-400 text-[9px] sm:text-[10px] uppercase font-bold tracking-wide flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-400 flex-shrink-0"}),s.jsx("span",{children:"Diffrence  1re anne"})]}),s.jsx("div",{className:"text-[9px] text-slate-500 italic mb-1",children:"Phase transitoire uniquement"}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx(Ya,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-slate-500 cursor-help transition-colors hover:text-slate-300"}),s.jsxs("div",{className:"absolute top-full right-0 mt-2 w-[260px] sm:w-[280px] bg-slate-900 border-2 border-slate-500/30 rounded-xl p-3 shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[s.jsx("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-slate-900 border-l-2 border-t-2 border-slate-500/30 transform rotate-45"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-[11px] font-bold text-slate-300 mb-2 uppercase",children:" Effort mensuel"}),s.jsx("p",{className:"text-[10px] text-slate-300 leading-relaxed mb-2",children:Di>0?s.jsxs(s.Fragment,{children:["Vous payez"," ",s.jsxs("strong",{className:"text-orange-400",children:[Qe(Math.abs(Di))," de plus"]})," ","par mois la premire anne pendant que vous financez l'installation."]}):s.jsxs(s.Fragment,{children:["Vous payez"," ",s.jsxs("strong",{className:"text-emerald-400",children:[Qe(Math.abs(Di))," de moins"]})," ","par mois ds la premire anne !"]})}),s.jsxs("div",{className:"bg-emerald-950/30 rounded-lg p-2",children:[s.jsx("p",{className:"text-[9px] text-emerald-300 font-bold mb-1",children:" Aprs remboursement :"}),s.jsxs("p",{className:"text-[9px] text-slate-400",children:["Vous ne payez plus que la facture rsiduelle (~",Qe(Ps),"/mois), soit une conomie de"," ",s.jsxs("strong",{className:"text-emerald-400",children:[Qe(Ni-Ps),"/mois"]})," ","!"]})]})]})]})]})]}),s.jsxs("div",{className:`text-2xl sm:text-3xl font-black break-words ${Di>0?"text-orange-400":"text-emerald-400"}`,children:[Di>0?"+":"",Qe(Di)]}),s.jsx("div",{className:"text-slate-500 text-[10px] sm:text-xs mt-1 leading-tight",children:"Puis  conomies ds fin crdit"})]})]}),s.jsxs("div",{className:"text-[10px] sm:text-[11px] text-slate-400 italic leading-relaxed",children:["La premire phase correspond  une priode de construction.",s.jsx("br",{}),s.jsx("span",{className:"text-slate-500",children:"Ensuite, le systme est en place : votre budget se libre."})]}),s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl p-4 sm:p-5",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0 text-[9px] sm:text-[10px] text-slate-500 uppercase mb-3",children:[s.jsx("span",{children:"Alignement avec votre budget actuel"}),s.jsxs("span",{className:"text-white font-bold text-sm sm:text-base",children:[(la/Ni*100).toFixed(0),"%"]})]}),s.jsx("div",{className:"h-3 sm:h-4 bg-slate-800/40 rounded-full overflow-hidden border border-white/10",children:s.jsx("div",{className:`h-full transition-all duration-700 ${la/Ni>1?"bg-gradient-to-r from-orange-500 to-orange-600":"bg-gradient-to-r from-emerald-500 to-emerald-600"}`,style:{width:`${Math.min(la/Ni*100,100)}%`}})}),s.jsxs("div",{className:"flex justify-between text-[9px] sm:text-[10px] text-slate-600 mt-2",children:[s.jsx("span",{children:"0%"}),s.jsx("span",{className:"text-slate-500",children:"Budget actuel"}),s.jsx("span",{children:"150%"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-emerald-950/20 to-black/40 border border-emerald-500/20 rounded-xl p-4 sm:p-5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Xf,{className:"w-5 h-5 text-emerald-400"}),s.jsx("h3",{className:"text-sm sm:text-base font-bold text-emerald-400 uppercase",children:"Aprs remboursement du crdit"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-500 mb-1",children:"Facture mensuelle"}),s.jsx("div",{className:"text-2xl sm:text-3xl font-black text-emerald-400",children:Qe(Ps)}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"Seulement le rsiduel EDF"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-500 mb-1",children:"conomie mensuelle"}),s.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white",children:Qe(Ni-Ps)}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"Par rapport  votre facture actuelle"})]})]}),s.jsxs("div",{className:"mt-3 text-[10px] text-slate-400 italic leading-relaxed",children:[" ce stade, le financement disparat.",s.jsx("br",{}),"Ce quil reste, cest un systme qui travaille pour votre budget."]})]}),s.jsx("p",{className:"text-center text-[10px] sm:text-[11px] text-slate-500 italic leading-relaxed",children:"Ces montants sont ceux de la 1re anne."})]})}),s.jsx(Dn,{id:"calendrier",title:"Calendrier de Mise en Service",icon:s.jsx(Ka,{className:"text-blue-400"}),defaultOpen:!1,onOpen:$=>{re($)},children:s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-[32px] p-4 sm:p-6 md:p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"p-2 sm:p-3 bg-blue-500/10 rounded-xl",children:s.jsx(Ka,{className:"text-blue-400",size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white",children:"Dlai de mise en route  Installation sous 6-8 semaines"}),s.jsx("p",{className:"text-[14px] sm:text-xs text-slate-600 mt-1 sm:mt-2 italic",children:" partir de cette date, l'installation est oprationnelle."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4 md:mb-6",children:[s.jsxs("div",{className:"bg-slate-900/40 border border-white/10 rounded-xl sm:rounded-2xl p-4 sm:p-6",children:[s.jsx("div",{className:"text-slate-400 text-[9px] sm:text-[10px] font-medium mb-2 uppercase tracking-wider",children:"Cot nergtique actuel"}),s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-white mb-1 break-words",children:Qe(_e.lossIfWait1Year||0)}),s.jsx("div",{className:"text-slate-500 text-[9px] sm:text-[10px] leading-tight",children:"Facture annuelle fournisseur"})]}),s.jsxs("div",{className:"bg-slate-900/40 border border-white/10 rounded-xl sm:rounded-2xl p-4 sm:p-6",children:[s.jsx("div",{className:"text-slate-400 text-[9px] sm:text-[10px] font-medium mb-2 uppercase tracking-wider",children:"conomie disponible anne 1"}),s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-emerald-400 mb-1 break-words",children:Qe(((ca=(qu=_e.details)==null?void 0:qu[0])==null?void 0:ca.solarSavingsValue)||0)}),s.jsx("div",{className:"text-slate-500 text-[9px] sm:text-[10px] leading-tight",children:"Bnfice premire anne"})]}),s.jsxs("div",{className:"bg-slate-900/40 border border-emerald-500/20 rounded-xl sm:rounded-2xl p-4 sm:p-6 relative group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"text-slate-400 text-[9px] sm:text-[10px] font-medium uppercase tracking-wider flex-1",children:["conomie brute ",c," ans"]}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx(Ya,{className:"w-4 h-4 text-slate-500 cursor-help transition-colors hover:text-emerald-400","data-tooltip":"economie-brute"}),s.jsxs("div",{className:"absolute top-full right-0 mt-2 w-[280px] sm:w-[320px] bg-slate-900 border-2 border-emerald-500/30 rounded-xl p-3 sm:p-4 shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[s.jsx("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-slate-900 border-l-2 border-t-2 border-emerald-500/30 transform rotate-45"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-[11px] sm:text-xs font-bold text-emerald-400 mb-2 sm:mb-3 uppercase tracking-wide",children:" conomie brute"}),s.jsxs("div",{className:"space-y-2 sm:space-y-3 text-[10px] sm:text-[11px] text-slate-300",children:[s.jsxs("p",{className:"leading-relaxed",children:["C'est la"," ",s.jsx("strong",{className:"text-white",children:"valeur totale de l'lectricit produite"})," ","par vos panneaux sur ",c," ans."]}),s.jsxs("div",{className:"bg-emerald-950/30 rounded-lg p-2 sm:p-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-slate-400",children:"Production annuelle"}),s.jsx("span",{className:"font-bold text-emerald-400",children:(Ua=(bo=_e.details)==null?void 0:bo[0])!=null&&Ua.solarSavingsValue?Qe(_e.details[0].solarSavingsValue):"0 "})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-slate-400",children:[" ",c," ans"]}),s.jsxs("span",{className:"font-bold text-emerald-400",children:[""," ",Qe(_e.details.slice(0,c).reduce(($,Ae)=>$+Ae.solarSavingsValue,0))]})]})]}),s.jsxs("p",{className:"text-[9px] sm:text-[10px] text-slate-500 italic leading-relaxed",children:["Ce montant ne tient pas compte des cots (crdit, facture rsiduelle). C'est l'nergie"," ",s.jsx("strong",{className:"text-slate-300",children:"que vous ne payez plus"})," "," votre fournisseur."]})]})]})]})]})]}),s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-emerald-400 mb-1 break-words",children:Qe(_e.details.slice(0,c).reduce(($,Ae)=>$+Ae.solarSavingsValue,0))}),s.jsx("div",{className:"text-slate-500 text-[9px] sm:text-[10px] leading-tight",children:"nergie produite totale"})]}),s.jsxs("div",{className:"bg-slate-900/40 border border-blue-500/20 rounded-xl sm:rounded-2xl p-4 sm:p-6 relative group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"text-slate-400 text-[9px] sm:text-[10px] font-medium uppercase tracking-wider flex-1",children:["Gain net ",c," ans"]}),s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx(Ya,{className:"w-4 h-4 text-slate-500 cursor-help transition-colors hover:text-blue-400","data-tooltip":"gain-net"}),s.jsxs("div",{className:"absolute top-full left-auto right-0 mt-2 w-[280px] sm:w-[320px] bg-slate-900 border-2 border-blue-500/30 rounded-xl p-3 sm:p-4 shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[s.jsx("div",{className:"absolute -top-2 right-4 w-4 h-4 bg-slate-900 border-l-2 border-t-2 border-blue-500/30 transform rotate-45"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"text-[11px] sm:text-xs font-bold text-blue-400 mb-2 sm:mb-3 uppercase tracking-wide",children:" Dtail du calcul"}),s.jsxs("div",{className:"space-y-2 sm:space-y-3 text-[10px] sm:text-[11px] text-slate-300",children:[s.jsxs("div",{className:"flex justify-between items-start pb-2 border-b border-white/10",children:[s.jsx("span",{className:"text-slate-400",children:"conomie brute totale"}),s.jsx("span",{className:"font-bold text-emerald-400 text-right",children:Qe(_e.details.slice(0,c).reduce(($,Ae)=>$+Ae.solarSavingsValue,0))})]}),s.jsxs("div",{className:"flex justify-between items-start pb-2 border-b border-white/10",children:[s.jsx("span",{className:"text-slate-400",children:"Cot du crdit"}),s.jsxs("span",{className:"font-bold text-red-400 text-right",children:["-",Qe(_e.details.slice(0,c).reduce(($,Ae)=>$+Ae.creditPayment,0))]})]}),s.jsxs("div",{className:"flex justify-between items-start pb-2 border-b border-white/10",children:[s.jsx("span",{className:"text-slate-400",children:"Facture rsiduelle EDF"}),s.jsxs("span",{className:"font-bold text-orange-400 text-right",children:["-",Qe(_e.details.slice(0,c).reduce(($,Ae)=>$+Ae.edfResidue,0))]})]}),s.jsxs("div",{className:"flex justify-between items-start pt-2 bg-blue-950/30 rounded-lg p-2",children:[s.jsx("span",{className:"font-bold text-white",children:"Gain net"}),s.jsx("span",{className:"font-black text-blue-400 text-sm sm:text-base",children:Qe(_e.totalSavingsProjected||0)})]})]}),s.jsx("div",{className:"mt-2 sm:mt-3 pt-2 sm:pt-3 border-t border-white/10",children:s.jsxs("p",{className:"text-[9px] sm:text-[10px] text-slate-500 italic leading-relaxed",children:["Le gain net reprsente ce qu'il vous reste"," ",s.jsx("strong",{className:"text-slate-300",children:"aprs avoir pay le crdit et la facture rsiduelle"}),", par rapport  ne rien faire."]})})]})]})]})]}),s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-400 mb-1 break-words",children:Qe(_e.totalSavingsProjected||0)}),s.jsx("div",{className:"text-slate-500 text-[9px] sm:text-[10px] leading-tight",children:"Aprs remboursement crdit"})]})]}),s.jsxs("div",{className:"bg-blue-950/20 border-l-4 border-blue-500 p-3 sm:p-4 rounded-xl mb-4 md:mb-6",children:[s.jsx("p",{className:"text-slate-300 text-[10px] sm:text-[11px] leading-relaxed italic",children:"Une fois le dossier valid, le projet entre dans le processus de mise en service. Les dlais observs sont en moyenne de six  huit semaines."}),s.jsx("p",{className:"text-slate-300 text-[10px] sm:text-[11px] leading-relaxed italic mt-2",children:"Durant cette priode, lensemble des dmarches techniques, administratives et de planification est pris en charge par EDF et ses partenaires."}),s.jsx("p",{className:"text-slate-400 text-[10px] sm:text-[11px] italic mt-2",children:"Le calendrier na pas dimpact sur le dimensionnement ni sur la logique du projet. Il fixe uniquement la date de mise en service."})]}),s.jsxs("div",{className:"p-3 sm:p-5 bg-black/30 rounded-xl border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[9px] sm:text-[10px] text-slate-400 mb-3 sm:mb-4 uppercase tracking-wider",children:[s.jsx(lh,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Impact du calendrier sur le dbut des conomies :"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-slate-300 font-bold text-base sm:text-lg break-words",children:Qe(_e.details.slice(0,1).reduce(($,Ae)=>$+Ae.solarSavingsValue,0))}),s.jsx("div",{className:"text-slate-500 text-[9px] sm:text-[10px] mt-1",children:"conomie anne 1"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-slate-300 font-bold text-base sm:text-lg break-words",children:Qe(_e.details.slice(0,3).reduce(($,Ae)=>$+Ae.solarSavingsValue,0))}),s.jsx("div",{className:"text-slate-500 text-[9px] sm:text-[10px] mt-1",children:"Cumul 3 ans"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-slate-300 font-bold text-base sm:text-lg break-words",children:Qe(_e.details.slice(0,5).reduce(($,Ae)=>$+Ae.solarSavingsValue,0))}),s.jsx("div",{className:"text-slate-500 text-[9px] sm:text-[10px] mt-1",children:"Cumul 5 ans"})]})]})]}),s.jsx("p",{className:"text-[9px] sm:text-[10px] text-slate-500 italic mt-4 sm:mt-6 text-center",children:"C'est juste du calendrier. La dcision vous appartient."})]})}),s.jsx(Dn,{id:"effet-calendrier",title:"Lecture du Temps",icon:s.jsx(Ka,{className:"text-slate-400"}),defaultOpen:!1,children:s.jsxs("div",{className:"bg-[#0b0d10] border border-white/10 rounded-2xl p-6 md:p-8",children:[s.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"Impact d'une mise en service diffre de 6 mois"}),s.jsx("p",{className:"text-sm text-slate-400 mb-8",children:"Comparaison objective de deux calendriers de dmarrage."}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-black/40 border border-emerald-500/20 p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ka,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-xs text-emerald-400 uppercase font-bold tracking-wider",children:"Scnario A  Validation immdiate"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Mise en service"}),s.jsx("div",{className:"text-lg font-black text-white",children:"6-8 semaines"}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"dlai administratif + installation"})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5",children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Production active sur les 6 mois"}),s.jsx("div",{className:"text-3xl font-black text-emerald-400",children:"~4-5 mois"}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"d'conomies gnres"})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5",children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"conomies ralises sur 6 mois"}),s.jsx("div",{className:"text-3xl font-black text-white",children:Qe(_e.savingsLostIfWait1Year/2)})]})]})]}),s.jsxs("div",{className:"bg-black/40 border border-slate-500/20 p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ka,{className:"w-4 h-4 text-slate-400"}),s.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Scnario B  Validation diffre de 6 mois"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Mise en service"}),s.jsx("div",{className:"text-lg font-black text-white",children:"6 mois + 6-8 semaines"}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"attente + dlai administratif + installation"})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5",children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Production active sur les 6 mois"}),s.jsx("div",{className:"text-3xl font-black text-slate-400",children:"0 mois"}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"installation pas encore lance"})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5",children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"conomies ralises sur 6 mois"}),s.jsx("div",{className:"text-3xl font-black text-white",children:"0 "})]})]})]})]}),s.jsx("div",{className:"bg-black/60 border border-white/10 p-6 rounded-xl",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-center",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wider mb-2",children:"Diffrentiel conomique entre les deux scnarios"}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"Le scnario A permet d'activer la production pendant ~4-5 mois sur cette priode, gnrant des conomies. Le scnario B maintient la situation actuelle pendant 6 mois supplmentaires."})]}),s.jsxs("div",{className:"text-center md:text-right",children:[s.jsx("div",{className:"text-4xl font-black text-white",children:Qe(_e.savingsLostIfWait1Year/2)}),s.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"d'cart sur 6 mois"})]})]})}),s.jsx("div",{className:"mt-6 bg-black/40 border-l-2 border-slate-600 p-5 rounded-r-xl",children:s.jsxs("p",{className:"text-xs text-slate-300 leading-relaxed",children:[s.jsx("strong",{className:"text-white",children:"Lecture :"})," les deux scnarios sont viables. La seule variable est le calendrier de mise en service.",s.jsx("br",{}),s.jsx("br",{}),"Dans le scnario A, l'installation est active aprs 6-8 semaines, puis produit pendant ~4-5 mois sur les 6 mois observs.",s.jsx("br",{}),s.jsx("br",{}),"Dans le scnario B, ces 6 mois maintiennent la situation actuelle, avant de dmarrer le processus."]})})]})}),s.jsx(Dn,{id:"projection",title:"PROJECTION FINANCIRE  CART CONSTAT",icon:s.jsx(LS,{className:"text-orange-500"}),defaultOpen:!1,forceOpen:tt==="projection",onOpen:$=>{re($)},children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl rounded-[24px] sm:rounded-[32px] p-4 sm:p-6 md:p-8 border border-white/10",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 sm:mb-8 md:mb-10 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[f5[H]&&s.jsx("p",{className:"text-[10px] sm:text-[11px] text-slate-400 italic mb-4 leading-relaxed",children:f5[H]}),s.jsxs("p",{className:"text-slate-500 text-[10px] sm:text-xs uppercase tracking-wide",children:["Sur ",c," ans  cart constat"]})]}),s.jsx(P_,{totalSavings:_e.totalSavings,paybackYear:_e.paybackYear,projectionYears:c})]}),s.jsx("p",{className:"text-[10px] sm:text-[11px] text-slate-400 italic mb-4 leading-relaxed",children:"Ici, on ne compare pas deux offres. On regarde simplement ce que devient votre argent dans les deux scnarios."}),s.jsx("div",{className:"h-[280px] sm:h-[340px] md:h-[360px] lg:h-[420px] w-full",children:s.jsx(QL,{data:Mc.map($=>({date:new Date($.year>2e3?$.year:new Date().getFullYear()+$.year,0,1).toISOString(),securedCA:$.cumulativeSpendSolar,exposedCA:$.cumulativeSpendNoSolar-$.cumulativeSpendSolar}))})}),window.innerWidth<640&&s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2 text-[9px] text-emerald-400",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400"}),s.jsxs("span",{children:["Point de croisement : ",_e.paybackYear," ans"]})]}),s.jsxs("div",{className:"mt-4 sm:mt-6 bg-black/50 border border-white/10 py-4 sm:py-5 rounded-xl text-center select-none",children:[s.jsxs("p",{className:"text-[9px] sm:text-[10px] text-slate-400 uppercase tracking-wider font-bold",children:["cart cumul sur ",c," ans"]}),s.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-emerald-400 tabular-nums break-words px-2",children:Qe(_e.totalSavings)})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2 sm:gap-3 mt-4 text-[9px] sm:text-[10px] text-slate-500 opacity-60 select-none",children:[s.jsx("button",{onClick:()=>qr("inflation"),className:"underline hover:text-white transition-colors text-left",children:"Hypothse inflation"}),s.jsx("button",{onClick:()=>qr("demenagement"),className:"underline hover:text-white transition-colors text-left",children:"Et si je dmnage ?"}),s.jsx("button",{onClick:()=>qr("conjoint"),className:"underline hover:text-white transition-colors text-left",children:"Conjoint absent"}),s.jsx("button",{onClick:()=>qr("tropTard"),className:"underline hover:text-white transition-colors text-left",children:"Trop tard"}),s.jsx("button",{onClick:()=>qr("tauxRefus"),className:"underline hover:text-white transition-colors text-left",children:"Taux refus"}),s.jsx("button",{onClick:()=>qr("reflechir"),className:"underline hover:text-white transition-colors text-left",children:"Je vais rflchir"})]}),Nn&&qf.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[99999] p-4",onClick:Ss,children:s.jsxs("div",{className:"bg-[#0b0f13] border border-white/10 rounded-xl w-full max-w-[420px] p-4 sm:p-6 text-slate-200 relative max-h-[90vh] overflow-y-auto",onClick:$=>$.stopPropagation(),children:[s.jsx("button",{className:"absolute top-3 right-3 text-slate-500 hover:text-white transition w-6 h-6 flex items-center justify-center",onClick:Ss,children:""}),Nn==="inflation"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-xs sm:text-sm font-bold uppercase mb-3 sm:mb-4 pr-6",children:"Hypothse inflation"}),s.jsx("p",{className:"text-[11px] sm:text-xs leading-relaxed",children:"L'hypothse retenue est prudente et issue de donnes publiques. Mme si l'inflation devait tomber  0 %, l'autoproduction reste une rduction directe de facture."}),s.jsx("p",{className:"mt-3 text-[9px] sm:text-[10px] text-slate-500",children:"EDF  projection factuelle, jamais spculative."})]}),Nn==="demenagement"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-xs sm:text-sm font-bold uppercase mb-3 sm:mb-4 pr-6",children:"Et si je dmnage ?"}),s.jsx("p",{className:"text-[11px] sm:text-xs leading-relaxed",children:"L'installation devient un lment du bien. Vous pouvez transmettre ou faire valoir sa valeur."}),s.jsx("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded p-2 text-[10px] sm:text-[11px] text-emerald-400 mt-2",children:" Dcision utile, mme si la vie change."}),s.jsx("p",{className:"mt-3 text-[9px] sm:text-[10px] text-slate-500",children:"EDF  actif patrimonial, pas un achat consommable."})]}),Nn==="conjoint"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-xs sm:text-sm font-bold uppercase mb-3 sm:mb-4 pr-6",children:"Conjoint absent"}),s.jsx("p",{className:"text-[11px] sm:text-xs leading-relaxed",children:"On ne valide jamais un projet patrimonial si l'un des deux n'est pas align."}),s.jsx("div",{className:"bg-black/20 border border-white/10 rounded-lg p-3 text-[11px] sm:text-xs mt-2",children:"Option douce : un rapide change  trois pour valider ensemble."}),s.jsx("p",{className:"mt-3 text-[9px] sm:text-[10px] text-slate-500",children:"Objectif : confort durable, pas dcision force."})]}),Nn==="tropTard"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-xs sm:text-sm font-bold uppercase mb-3 sm:mb-4 pr-6",children:"Timing & passage"}),s.jsx("p",{className:"text-[11px] sm:text-xs leading-relaxed",children:"Il n'y a aucune obligation d'agir ce soir. Il existe juste un moment o la dcision est plus simple."}),s.jsx("div",{className:"bg-black/20 border border-white/10 rounded-lg p-3 text-[11px] sm:text-xs mt-2",children:"Scuriser l'tude = garder la main. La signature n'est jamais un pige."}),s.jsx("p",{className:"mt-3 text-[9px] sm:text-[10px] text-slate-500",children:"EDF  progression par tapes, calme."})]}),Nn==="tauxRefus"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-xs sm:text-sm font-bold uppercase mb-3 sm:mb-4 pr-6",children:"Si le taux est refus"}),s.jsx("p",{className:"text-[11px] sm:text-xs leading-relaxed",children:"Tant que validation bancaire non mise, rien n'est engag. Plusieurs solutions existent."}),s.jsx("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded p-2 text-[10px] sm:text-[11px] text-emerald-400 mt-2",children:" Dcision scurise, pas dfinitive."}),s.jsx("p",{className:"mt-3 text-[9px] sm:text-[10px] text-slate-500",children:"EDF  aucun verrou sans accord clair."})]}),Nn==="reflechir"&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-xs sm:text-sm font-bold uppercase mb-3 sm:mb-4 pr-6",children:"Je vais rflchir"}),s.jsx("p",{className:"text-[11px] sm:text-xs leading-relaxed",children:"La rflexion est naturelle. Ce qui compte est que la dcision tienne demain  pas qu'elle soit impulsive."}),s.jsx("div",{className:"bg-emerald-500/10 border border-emerald-500/40 rounded p-2 text-[10px] sm:text-[11px] text-emerald-400 mt-2",children:" On confirme seulement ce qui ne sera pas regrett."}),s.jsx("p",{className:"mt-3 text-[9px] sm:text-[10px] text-slate-500",children:"EDF  pas de prcipitation, seulement du solide."})]})]})}),document.body),s.jsxs("div",{id:"garanties",className:"mt-4 sm:mt-6 text-center select-none scroll-mt-24",children:[s.jsx("p",{className:"text-[9px] sm:text-[10px] text-slate-400 uppercase tracking-wider font-bold",children:"Installation garantie  vie  EDF"}),s.jsx("p",{className:"text-[9px] sm:text-[10px] text-slate-500 uppercase tracking-wider",children:"Pices, main d'uvre et dplacement inclus"})]})]})}),s.jsxs(Dn,{id:"where-money",title:"Votre argent dans X ans",icon:s.jsx(Dv,{className:"text-blue-500"}),defaultOpen:!1,onOpen:$=>{re($)},children:[s.jsx("p",{className:"text-[10px] text-slate-400 italic mb-3 px-2",children:sh[H].intro}),s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl rounded-xl sm:rounded-2xl p-4 sm:p-6 md:p-8 border border-white/10",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 sm:mb-8 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Dv,{size:24,className:"sm:w-7 sm:h-7 text-blue-500 flex-shrink-0"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg sm:text-xl md:text-2xl font-black text-white uppercase tracking-tight",children:["Votre argent dans ",c," ans"]}),s.jsx("p",{className:"text-slate-500 text-xs sm:text-sm mt-1",children:sh[H].titleSub})]}),s.jsx(Ei,{title:sh[H].popup.title,children:sh[H].popup.body})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur-md p-1 rounded-lg flex gap-1 border border-white/10 shadow-inner",children:[s.jsx("button",{onClick:()=>Ko("financing"),className:`px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold uppercase transition-all ${ps==="financing"?"bg-blue-600 text-white":"text-slate-500 hover:text-white"}`,children:"Financement"}),s.jsx("button",{onClick:()=>Ko("cash"),className:`px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold uppercase transition-all ${ps==="cash"?"bg-emerald-600 text-white":"text-slate-500 hover:text-white"}`,children:"Cash"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[5,10,c].map(($,Ae)=>{const Xe=Ic($),nt=ps==="financing"?Xe.credit:Xe.cash,Dt=Math.abs(nt.cumulativeSpendSolar),Bt=Math.abs(nt.cumulativeSpendNoSolar),_t=Bt-Dt;let m="text-orange-500",v="border-orange-500/30",j="hover:shadow-[0_0_30px_rgba(249,115,22,0.25)]";return $===10?(m="text-blue-500",v="border-blue-500/30",j="hover:shadow-[0_0_30px_rgba(59,130,246,0.25)]"):$>=20&&(m="text-emerald-500",v="border-emerald-500/30",j="hover:shadow-[0_0_30px_rgba(16,185,129,0.35)]"),s.jsxs("div",{className:`relative bg-[#0b0b0b]/60 backdrop-blur-md border ${v} rounded-xl sm:rounded-2xl p-4 sm:p-6 overflow-hidden group transition-all duration-300 hover:border-white/30 ${j}`,children:[s.jsx("div",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 text-[80px] sm:text-[100px] md:text-[130px] font-black text-white opacity-[0.03] leading-none select-none pointer-events-none",children:$}),s.jsxs("h3",{className:`${m} font-bold text-xs sm:text-sm uppercase mb-4 sm:mb-6 tracking-wider`,children:["DANS ",$," ANS"]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6 relative z-10",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-950/30 to-blue-900/10 border border-blue-500/20 p-3 sm:p-4 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[s.jsx(ar,{size:12,className:"sm:w-3.5 sm:h-3.5 text-blue-400 flex-shrink-0"}),s.jsx("span",{className:"text-[9px] sm:text-[10px] text-blue-400 font-bold uppercase tracking-wider",children:"Avec installation solaire"})]}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[8px] sm:text-[9px] text-slate-500 uppercase mb-1",children:"Total dpens en nergie"}),s.jsx("p",{className:"text-xl sm:text-2xl font-black text-white tabular-nums break-words",children:Qe(Dt)})]}),_t>0&&s.jsxs("div",{className:"bg-emerald-950/30 border border-emerald-500/30 p-2 sm:p-3 rounded-lg",children:[s.jsx("p",{className:"text-[8px] sm:text-[9px] text-emerald-400 uppercase mb-1",children:"Diffrence observe"}),s.jsxs("p",{className:"text-2xl sm:text-3xl font-black text-emerald-400 tabular-nums break-words",children:["+",Qe(_t)]})]}),(()=>{const C=ps==="financing"?_e.breakEvenPoint:_e.breakEvenPointCash;return _t<=0&&$<C&&s.jsxs("div",{className:"bg-orange-950/30 border border-orange-500/30 p-2 sm:p-3 rounded-lg",children:[s.jsx("p",{className:"text-[8px] sm:text-[9px] text-orange-400 uppercase mb-1",children:"Phase d'quilibre"}),s.jsxs("p",{className:"text-sm sm:text-lg font-black text-orange-400 break-words",children:["Retour estim dans ",C-$," ans"]})]})})()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-red-950/40 to-red-900/20 border border-red-500/20 p-3 sm:p-4 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[s.jsx(fu,{size:12,className:"sm:w-3.5 sm:h-3.5 text-red-400 flex-shrink-0"}),s.jsx("span",{className:"text-[9px] sm:text-[10px] text-red-400 font-bold uppercase tracking-wider leading-tight",children:"Sans changement (factures actuelles)"})]}),s.jsx("p",{className:"text-[8px] sm:text-[9px] text-red-300 uppercase mb-1",children:"Dpenses en nergie (non rcuprables)"}),s.jsx("p",{className:"text-xl sm:text-2xl font-black text-red-400 tabular-nums break-words",children:Qe(Bt)}),_t>0&&s.jsxs("div",{className:"mt-2 sm:mt-3 pt-2 sm:pt-3 border-t border-red-900/30",children:[s.jsx("p",{className:"text-[8px] sm:text-[9px] text-red-500 uppercase mb-1",children:"cart constat"}),s.jsx("p",{className:"text-lg sm:text-xl font-black text-red-500 tabular-nums break-words",children:Qe(_t)})]})]}),$===c&&_t>0&&s.jsxs("div",{className:"bg-emerald-600/15 border border-emerald-500/30 p-3 sm:p-4 rounded-xl backdrop-blur-sm",children:[s.jsx("p",{className:"text-[9px] sm:text-[10px] text-emerald-400 font-bold uppercase text-center mb-1",children:"Visualisation synthtique"}),s.jsxs("p",{className:"text-3xl sm:text-4xl font-black text-emerald-400 text-center tabular-nums break-words",children:["+",Qe(_t)]}),s.jsx("p",{className:"text-[8px] sm:text-[9px] text-emerald-300 text-center mt-1 uppercase",children:"dans votre maison, au lieu de 0"})]}),$===10&&s.jsx("p",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-white/5 text-[10px] sm:text-xs text-blue-400 font-medium uppercase leading-relaxed",children:"Ce graphique est un repre. La vraie dcision concerne votre maison, votre confort et la matrise durable de vos dpenses."})]})]},`card-${$}-${Ae}`)})}),s.jsx("div",{className:"mt-6 sm:mt-8 md:mt-10 bg-gradient-to-r from-orange-950/30 to-red-950/30 border-l-4 border-orange-500 p-4 sm:p-6 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[s.jsx(lh,{size:20,className:"sm:w-6 sm:h-6 text-orange-400 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-orange-400 font-bold text-base sm:text-lg mb-2",children:["Dpense mensuelle actuelle :"," ",s.jsx("span",{className:"break-words",children:Qe(_e.oldMonthlyBillYear1)})]}),s.jsxs("p",{className:"text-slate-300 text-xs sm:text-sm leading-relaxed",children:["Aujourd'hui, chaque mois reprsente ce montant dpens en nergie. Avec installation solaire, cette mme dpense devient progressivement un investissement utile  sur"," ",c," ans."]})]})]})})]}),s.jsx("p",{className:"mt-6 text-center text-[10px] sm:text-[11px] text-slate-500 italic",children:sh[H].closing}),qf.createPortal(s.jsx("div",{style:{position:"fixed",bottom:"12px",left:"12px",zIndex:999999999,pointerEvents:"auto"},children:s.jsx("button",{onClick:()=>no($=>!$),onMouseDown:$=>$.preventDefault(),onContextMenu:$=>$.preventDefault(),style:{width:"6px",height:"6px",borderRadius:"50%",background:"rgba(100,100,100,0.15)",border:"none",cursor:"pointer",transition:"0.3s ease",padding:0,opacity:.3},onMouseEnter:$=>{$.currentTarget.style.width="58px",$.currentTarget.style.height="20px",$.currentTarget.innerText="coach",$.currentTarget.style.borderRadius="6px",$.currentTarget.style.background="rgba(0,0,0,0.75)",$.currentTarget.style.color="rgba(255,255,255,0.7)",$.currentTarget.style.fontSize="10px",$.currentTarget.style.fontWeight="500",$.currentTarget.style.padding="2px 8px",$.currentTarget.style.opacity="1"},onMouseLeave:$=>{$.currentTarget.style.width="6px",$.currentTarget.style.height="6px",$.currentTarget.innerText="",$.currentTarget.style.borderRadius="50%",$.currentTarget.style.background="rgba(100,100,100,0.15)",$.currentTarget.style.color="transparent",$.currentTarget.style.padding="0",$.currentTarget.style.opacity="0.3"}})}),document.body)]}),s.jsxs(Dn,{id:"financement-vs-cash",title:"Validation de Modalit",icon:s.jsx(Ga,{className:"text-blue-500"}),defaultOpen:!1,onOpen:$=>{re($)},children:[s.jsxs("div",{className:"relative bg-black/40 backdrop-blur-xl rounded-[32px] p-8 border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"text-blue-500",children:s.jsx(Ga,{size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"VALIDATION DE MODALIT"}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Le projet est l. Ici, on ajuste simplement la manire la plus fluide de le mettre en place."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8 mt-8",children:[s.jsxs("div",{className:"md:col-span-3 bg-black/60 backdrop-blur-md border-2 border-blue-500/50 rounded-2xl p-6 relative overflow-hidden group transition-all duration-300 hover:border-blue-500/70 hover:shadow-[0_0_40px_rgba(59,130,246,0.35)]",children:[s.jsx("div",{className:"absolute top-4 right-4 opacity-5 pointer-events-none",children:s.jsx(Ga,{size:140,className:"text-blue-500"})}),s.jsxs("div",{className:"flex items-center gap-4 mb-6 relative z-10",children:[s.jsx("div",{className:"w-14 h-14 bg-blue-900/20 rounded-xl flex items-center justify-center text-blue-400 flex-shrink-0",children:s.jsx(Ga,{size:28})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black text-white uppercase",children:"FINANCEMENT"}),s.jsx("p",{className:"text-blue-300 text-sm mt-1",children:"Vous mettez le projet en place sans toucher  votre capital."})]})]}),s.jsxs("div",{className:"space-y-3 mb-8 relative z-10",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 bg-black/40 rounded-lg border border-white/5",children:[s.jsxs("span",{className:"text-xs font-bold text-slate-500 uppercase",children:["Repre (",c," ans)"]}),s.jsx("span",{className:"text-2xl font-black text-white tabular-nums",children:Qe(_e.totalSavingsProjected)})]}),s.jsxs("div",{className:"flex justify-between items-center p-4 bg-black/40 rounded-lg border border-white/5",children:[s.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Seuil d'quilibre"}),s.jsx("span",{className:"text-2xl font-black text-blue-400 tabular-nums",children:_e.breakEvenPoint===1?"1 an":`${_e.breakEvenPoint} ans`})]}),s.jsxs("div",{className:"flex justify-between items-center p-4 bg-black/40 rounded-lg border border-white/5",children:[s.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"pargne mobilise"}),s.jsx("span",{className:"text-2xl font-black text-emerald-400 tabular-nums",children:"0"})]})]}),s.jsxs("div",{className:"bg-blue-950/10 border border-blue-900/20 rounded-xl p-5 relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 text-blue-400 text-sm font-bold uppercase",children:[s.jsx(ar,{size:16})," Points cls"]}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-300",children:[s.jsx(ar,{size:14,className:"text-blue-500 flex-shrink-0"}),"Votre pargne reste intacte pour d'autres projets"]}),s.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-300",children:[s.jsx(ar,{size:14,className:"text-blue-500 flex-shrink-0"}),"chancier fixe  pas de surprise future"]}),s.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-300",children:[s.jsx(ar,{size:14,className:"text-blue-500 flex-shrink-0"}),"Installation sous 4  6 semaines (dlai standard)"]})]})]}),s.jsxs("div",{className:"mt-6 bg-gradient-to-r from-blue-950/40 to-blue-900/20 border border-blue-500/30 rounded-xl p-4 relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ar,{size:14,className:"text-blue-400"}),s.jsx("span",{className:"text-xs text-blue-400 font-bold uppercase tracking-wider",children:"Modalit standard EDF"})]}),s.jsx("p",{className:"text-xs text-slate-300 leading-relaxed",children:"C'est la modalit la plus courante pour ce type de projet  aucune diffrence de service ou de garantie."})]})]}),s.jsxs("div",{className:"md:col-span-2 bg-black/60 backdrop-blur-md border border-emerald-900/30 rounded-2xl p-6 relative overflow-hidden group transition-all duration-300 hover:border-emerald-500/50 hover:shadow-[0_0_30px_rgba(16,185,129,0.25)]",children:[s.jsx("div",{className:"absolute top-4 right-4 opacity-5 pointer-events-none",children:s.jsx(hl,{size:100,className:"text-emerald-500"})}),s.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[s.jsx("div",{className:"w-12 h-12 bg-emerald-900/20 rounded-xl flex items-center justify-center text-emerald-400 flex-shrink-0",children:s.jsx(hl,{size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-white uppercase",children:"CASH"}),s.jsx("p",{className:"text-emerald-300 text-xs mt-1",children:"Pour ceux qui veulent que le sujet soit dfinitivement rgl."})]})]}),s.jsxs("div",{className:"space-y-3 mb-6 relative z-10",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-black/40 rounded-lg border border-white/5",children:[s.jsxs("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:["Repre (",c," ans)"]}),s.jsx("span",{className:"text-xl font-black text-emerald-400 tabular-nums",children:Qe(_e.totalSavingsProjectedCash)})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-black/40 rounded-lg border border-white/5",children:[s.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Seuil d'quilibre"}),s.jsx("span",{className:"text-xl font-black text-emerald-400 tabular-nums",children:_e.breakEvenPointCash===1?"1 an":`${_e.breakEvenPointCash} ans`})]})]}),s.jsxs("div",{className:"bg-emerald-950/10 border border-emerald-900/20 rounded-xl p-4 relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 text-emerald-400 text-xs font-bold uppercase",children:[s.jsx(ar,{size:14})," Points cls"]}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-center gap-2 text-xs text-slate-300",children:[s.jsx(ar,{size:12,className:"text-emerald-500 flex-shrink-0"}),"conomie sur le cot du crdit (+",Qe(_e.totalSavingsProjectedCash-_e.totalSavingsProjected),")"]}),s.jsxs("li",{className:"flex items-center gap-2 text-xs text-slate-300",children:[s.jsx(ar,{size:12,className:"text-emerald-500 flex-shrink-0"}),"Aucune mensualit  rglement unique"]})]})]})]})]}),s.jsx("div",{className:"flex justify-center mt-10 mb-8",children:s.jsxs("div",{className:"relative px-10 py-6 rounded-2xl border border-emerald-500/40 backdrop-blur-md bg-emerald-950/40 shadow-[0_0_45px_rgba(16,185,129,0.35)]",children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-2xl shadow-[0_0_90px_20px_rgba(16,185,129,0.15)]"}),s.jsxs("div",{className:"text-[10px] text-emerald-400 font-bold uppercase tracking-wider mb-1 text-center flex items-center gap-2 justify-center",children:[s.jsx(hu,{size:12}),"DIFFRENCE CONOMIQUE"]}),s.jsxs("div",{className:"text-4xl font-black text-emerald-400 text-center tabular-nums",children:["+",Qe(_e.totalSavingsProjectedCash-_e.totalSavingsProjected)]}),s.jsx("div",{className:"text-xs text-emerald-300 mt-1 text-center",children:"C'est une diffrence relle  mais elle ne remet pas en cause la dcision."})]})}),s.jsx("div",{className:"mt-6 bg-black/40 border border-white/10 rounded-xl p-4 text-xs text-slate-400 text-center",children:"L'important, c'est que la dcision soit claire  et que sa mise en place vous reste confortable."})]}),s.jsx("div",{className:"mt-10 bg-gradient-to-r from-blue-950/40 to-black/40 border-l-4 border-blue-500 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl flex-shrink-0",children:s.jsx(Ga,{className:"text-blue-400",size:24})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-blue-400 font-bold text-lg mb-2 uppercase tracking-wider",children:"MODALIT STANDARD  FINANCEMENT STRUCTUR"}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed mb-4",children:"Si vous choisissez de mettre le projet en place tout en conservant votre capital disponible  l'installation dmarre dans les 4  6 semaines."}),s.jsx("div",{className:"bg-black/40 border border-emerald-900/30 rounded-lg p-4 inline-block",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(hl,{className:"text-emerald-400 flex-shrink-0 mt-0.5",size:18}),s.jsxs("p",{className:"text-xs text-emerald-300 leading-relaxed",children:[s.jsx("strong",{children:"Si vous choisissez de solder le projet immdiatement"}),", l'option cash reste accessible  avec +",Qe(_e.totalSavingsProjectedCash-_e.totalSavingsProjected)," ","d'cart conomique sur ",c," ans."]})]})})]})]})})]}),s.jsx(Dn,{id:"comparateur",title:"Comparaison avec vos autres options",icon:s.jsx(ud,{className:"text-purple-500"}),defaultOpen:!1,forceOpen:tt==="comparateur",onOpen:$=>{re($)},children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-[24px] sm:rounded-[32px] p-4 sm:p-6 md:p-8 relative",children:[s.jsx("div",{className:"absolute top-0 right-0 p-6 sm:p-8 opacity-10 pointer-events-none",children:s.jsx(ud,{size:80,className:"sm:w-[100px] sm:h-[100px] md:w-[120px] md:h-[120px] text-purple-500"})}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[s.jsx("div",{className:"text-purple-500 flex-shrink-0",children:s.jsx(ud,{size:22,className:"sm:w-[26px] sm:h-[26px]"})}),s.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-black text-white uppercase tracking-tight",children:"Comparaison avec vos autres options"})]}),s.jsx("p",{className:"text-[10px] text-slate-400 italic mb-3 px-2",children:"Ici, on ne compare pas des produits. On regarde ce que devient votre argent si vous le laissez partir ou si vous le faites travailler chez vous."}),s.jsxs("div",{className:"mb-4 bg-blue-950/30 border-l-4 border-blue-500 p-3 sm:p-4 rounded text-xs sm:text-sm text-gray-300 leading-relaxed flex items-start gap-3",children:[s.jsxs("span",{className:"flex-1",children:["Tous les scnarios sont construits avec les"," ",s.jsx("strong",{children:"mmes hypothses"}),". La seule diffrence observe vient dune chose :",s.jsxs("strong",{children:[" ","continuer  acheter de lnergie, ou commencer  la produire."]})]}),s.jsxs(Ei,{title:"D'o viennent ces chiffres ?",children:[s.jsxs("p",{className:"mb-3",children:["Les calculs sont bass sur"," ",s.jsx("strong",{children:"votre consommation relle"}),", les tarifs rglements en vigueur et des hypothses prudentes d'volution."]}),s.jsxs("p",{className:"mb-3",children:[s.jsx("strong",{children:"Les mmes paramtres"})," sont appliqus  tous les cas (sans solaire, Livret A, Assurance-vie, SCPI, solaire)."]}),s.jsx("p",{className:"text-blue-400 text-xs",children:"La diffrence ne vient pas du modle. Elle vient uniquement de ce que vous faites de votre argent."})]})]}),s.jsxs("div",{className:"mb-6 bg-blue-950/30 border-l-4 border-blue-500 p-3 sm:p-4 rounded text-xs sm:text-sm text-gray-300 leading-relaxed flex items-start gap-3",children:[s.jsx("span",{className:"flex-1",children:"Mme sans hausse des prix, linstallation reste pertinente : elle transforme une dpense dfinitive en une production que vous contrlez."}),s.jsxs(Ei,{title:"Et si les prix n'augmentent pas ?",children:[s.jsxs("p",{className:"mb-3",children:["Si les prix restaient constants, lcart serait plus faible, mais la logique resterait la mme :",s.jsxs("strong",{children:[" ","produire cote toujours moins que racheter."]})]}),s.jsx("p",{className:"mb-3",children:"Le solaire nest pas un pari. Cest une rduction structurelle de ce que vous sortez chaque mois."}),s.jsx("p",{className:"text-blue-400 text-xs",children:"Vous reprenez le contrle dune partie de votre facture."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"bg-black/60 backdrop-blur-md border border-blue-900/20 p-4 sm:p-6 rounded-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"bg-blue-900/30 p-2 rounded-lg text-blue-400 flex-shrink-0",children:s.jsx(ud,{size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-white text-sm",children:"Livret A"}),s.jsx("p",{className:"text-[10px] text-blue-300",children:"Capital bloqu"})]})]}),s.jsx("div",{className:"text-3xl sm:text-4xl font-black text-blue-500 mb-2 break-words",children:"1.5%"}),s.jsx("div",{className:"text-[9px] sm:text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"PERFORMANCE ANNUELLE"})]}),s.jsxs("div",{className:"bg-blue-950/20 border border-blue-900/30 p-3 sm:p-4 rounded-xl",children:[s.jsxs("div",{className:"text-[9px] sm:text-[10px] text-blue-400 font-bold uppercase mb-1",children:["Gain net ",c," ans"]}),s.jsx("div",{className:"text-lg sm:text-xl font-black text-blue-400 break-words",children:Qe((rr||0)*Math.pow(1.015,c||20)-(rr||0))}),s.jsxs("div",{className:"text-[8px] sm:text-[9px] text-slate-500 mt-1",children:["(capital de ",Qe(rr)," bloqu)"]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"bg-black/60 backdrop-blur-md border border-purple-900/20 p-4 sm:p-6 rounded-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"bg-purple-900/30 p-2 rounded-lg text-purple-400 flex-shrink-0",children:s.jsx(zs,{size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-white text-sm",children:"Assurance Vie"}),s.jsx("p",{className:"text-[10px] text-purple-300",children:"Frais de gestion"})]})]}),s.jsx("div",{className:"text-3xl sm:text-4xl font-black text-purple-500 mb-2 break-words",children:"3.5%"}),s.jsx("div",{className:"text-[9px] sm:text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"PERFORMANCE ANNUELLE"})]}),s.jsxs("div",{className:"bg-purple-950/20 border border-purple-900/30 p-3 sm:p-4 rounded-xl",children:[s.jsxs("div",{className:"text-[9px] sm:text-[10px] text-purple-400 font-bold uppercase mb-1",children:["Gain net ",c," ans"]}),s.jsx("div",{className:"text-lg sm:text-xl font-black text-purple-400 break-words",children:Qe(rr*Math.pow(1.035,c)-rr)}),s.jsxs("div",{className:"text-[8px] sm:text-[9px] text-slate-500 mt-1",children:["(capital de ",Qe(rr)," bloqu)"]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"bg-black/60 backdrop-blur-md border border-orange-900/20 p-4 sm:p-6 rounded-2xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"bg-orange-900/30 p-2 rounded-lg text-orange-400 flex-shrink-0",children:s.jsx(Uf,{size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-white text-sm",children:"SCPI/Immobilier"}),s.jsx("p",{className:"text-[10px] text-orange-300",children:"Illiquide"})]})]}),s.jsx("div",{className:"text-3xl sm:text-4xl font-black text-orange-500 mb-2 break-words",children:"4.5%"}),s.jsx("div",{className:"text-[9px] sm:text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"PERFORMANCE ANNUELLE"})]}),s.jsxs("div",{className:"bg-orange-950/20 border border-orange-900/30 p-3 sm:p-4 rounded-xl",children:[s.jsxs("div",{className:"text-[9px] sm:text-[10px] text-orange-400 font-bold uppercase mb-1",children:["Gain net ",c," ans"]}),s.jsx("div",{className:"text-lg sm:text-xl font-black text-orange-400 break-words",children:Qe(rr*Math.pow(1.045,c)-rr)}),s.jsxs("div",{className:"text-[8px] sm:text-[9px] text-slate-500 mt-1",children:["(capital de ",Qe(rr)," bloqu)"]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"bg-[#022c22] border border-emerald-500 p-4 sm:p-6 rounded-2xl relative shadow-[0_0_30px_rgba(16,185,129,0.3)]",children:[s.jsx("div",{id:"badge-garantie",className:"absolute top-2 sm:top-3 right-2 sm:right-3 bg-emerald-900 text-emerald-300 border border-emerald-700 text-[8px] sm:text-[9px] font-bold px-2 py-0.5 rounded uppercase",children:"Garantie  VIE"}),s.jsxs("div",{className:"flex items-center gap-3 mb-4 mt-2",children:[s.jsx("div",{className:"bg-emerald-500/20 p-2 rounded-lg text-emerald-400 flex-shrink-0",children:s.jsx(yc,{size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-black text-white text-sm uppercase",children:"SOLAIRE"}),s.jsx("p",{className:"text-[10px] text-emerald-300",children:"Capital libre"})]})]}),s.jsx("div",{className:"text-3xl sm:text-4xl font-black text-emerald-400 mb-2 break-words",children:"0"}),s.jsx("div",{className:"text-[9px] sm:text-[10px] font-bold text-emerald-600 uppercase tracking-wider mb-4",children:"CAPITAL BLOQU"}),s.jsxs("div",{className:"border-t border-emerald-500/30 pt-3 text-xs font-bold text-white flex items-center gap-2",children:[s.jsx(ar,{size:14,className:"text-emerald-400 flex-shrink-0"}),s.jsx("span",{className:"leading-tight",children:"Vous rduisez votre dpendance au rseau"})]})]}),s.jsxs("div",{className:"bg-emerald-950/40 border border-emerald-500/50 p-3 sm:p-4 rounded-xl shadow-[0_0_20px_rgba(16,185,129,0.2)]",children:[s.jsxs("div",{className:"text-[9px] sm:text-[10px] text-emerald-400 font-bold uppercase mb-1",children:["cart net ",c," ans"]}),s.jsx("div",{className:"text-lg sm:text-xl font-black text-emerald-400 break-words",children:Qe(_e.totalSavingsProjected)}),s.jsxs("div",{className:"text-[8px] sm:text-[9px] text-emerald-300 mt-1 leading-tight",children:[s.jsx("strong",{children:"+ Votre pargne reste libre"})," (",Qe(rr)," disponible)"]})]})]})]}),s.jsxs("div",{className:"mt-6 sm:mt-8 bg-black/40 backdrop-blur-md border border-white/10 p-3 sm:p-4 rounded-xl flex items-start gap-3 text-xs sm:text-sm text-slate-300 leading-relaxed",children:[s.jsx(DS,{size:18,className:"sm:w-5 sm:h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),s.jsxs("p",{children:[s.jsx("strong",{className:"text-white",children:"La vraie diffrence ?"})," ","Dans les placements classiques, votre argent est immobilis pour esprer un rendement. Ici, il"," ",s.jsx("strong",{className:"text-emerald-400",children:"arrte dtre perdu"})," ","et commence  produire quelque chose dutile chez vous.",s.jsx("br",{}),s.jsx("span",{className:"text-slate-400 italic",children:"Autrement dit : soit votre argent travaille ailleurs. Soit il travaille chez vous."})]})]})]})]})}),s.jsx(Dn,{id:"bilan-total",title:`Bilan Total sur ${c} ans`,icon:s.jsx(xd,{className:"text-slate-400"}),defaultOpen:!1,onOpen:$=>{re($)},children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl rounded-[24px] sm:rounded-[32px] p-4 sm:p-6 md:p-8 border border-white/10 relative",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 sm:mb-8 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 sm:p-2.5 bg-white/5 rounded-xl border border-white/10 flex-shrink-0",children:s.jsx(xd,{className:"text-slate-400 w-4 h-4 sm:w-5 sm:h-5"})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-black text-white uppercase tracking-tight",children:["BILAN TOTAL SUR ",c," ANS"]}),s.jsx("p",{className:"text-[9px] sm:text-[10px] text-slate-500 mt-1 italic",children:"Ce nest plus une estimation. Cest ce que devient votre argent si rien ne change et si vous agissez."})]})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur-md p-1 rounded-lg flex gap-1 border border-white/10",children:[s.jsx("button",{onClick:()=>rs("financing"),className:`px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold uppercase transition-all ${br==="financing"?"bg-blue-600 text-white":"text-slate-500 hover:text-white"}`,children:"Financement"}),s.jsx("button",{onClick:()=>rs("cash"),className:`px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold uppercase transition-all ${br==="cash"?"bg-emerald-600 text-white":"text-slate-500 hover:text-white"}`,children:"Cash"})]})]}),s.jsxs("div",{className:"space-y-8 sm:space-y-10 md:space-y-12",children:[s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full bg-red-500/80 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm font-bold text-slate-300 uppercase tracking-widest",children:"Sans solaire  scnario de continuit"})]}),s.jsx("span",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-white break-words",children:Qe(br==="financing"?_e.totalSpendNoSolar:_e.totalSpendNoSolarCash)})]}),s.jsx("div",{className:"relative h-20 sm:h-24 md:h-28 bg-gradient-to-b from-black/80 to-black/40 rounded-xl sm:rounded-2xl border border-red-900/40 overflow-hidden shadow-2xl",children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-red-500 via-red-600 to-red-700 rounded-xl sm:rounded-2xl shadow-[inset_0_-4px_8px_rgba(0,0,0,0.3),inset_0_4px_8px_rgba(255,255,255,0.1)]"})}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 sm:mt-3 text-red-400 text-xs sm:text-sm italic",children:[s.jsx("div",{className:"w-1 h-1 rounded-full bg-red-400 flex-shrink-0"}),"Argent dfinitivement parti. Aucun retour possible."]})]}),s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full flex-shrink-0 ${br==="cash"?"bg-emerald-500/80":"bg-blue-500/80"}`}),s.jsx("span",{className:"text-xs sm:text-sm font-bold text-slate-300 uppercase tracking-widest",children:"Avec solaire  raffectation de votre argent"})]}),s.jsx("span",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-white break-words",children:Qe(br==="financing"?_e.totalSpendSolar:_e.totalSpendSolarCash)})]}),s.jsx("div",{className:"relative h-20 sm:h-24 md:h-28 bg-gradient-to-b from-black/80 to-black/40 rounded-xl sm:rounded-2xl border border-white/10 overflow-hidden shadow-2xl",children:s.jsx("div",{className:`absolute inset-y-0 left-0 rounded-xl sm:rounded-2xl transition-all duration-1000 ${br==="cash"?"bg-gradient-to-b from-emerald-500 via-emerald-600 to-emerald-700":"bg-gradient-to-b from-blue-500 via-blue-600 to-blue-700"}`,style:{width:`${br==="financing"?_e.totalSpendSolar/_e.totalSpendNoSolar*100:_e.totalSpendSolarCash/_e.totalSpendNoSolarCash*100}%`}})}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mt-2 sm:mt-3 gap-3",children:[s.jsxs("div",{className:`flex items-center gap-2 text-xs sm:text-sm italic ${br==="cash"?"text-emerald-400/80":"text-blue-400/80"}`,children:[s.jsx(ga,{size:12}),"Actif productif chez vous pendant 25+ ans."]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur-md border border-emerald-500/30 px-3 sm:px-5 py-2 sm:py-3 rounded-xl flex items-center gap-2 sm:gap-3",children:[s.jsx(hl,{size:14,className:"text-emerald-400 flex-shrink-0"}),s.jsx("span",{className:"text-[10px] sm:text-xs text-emerald-400/70 font-bold uppercase tracking-wider",children:"Diffrence relle :"}),s.jsx("span",{className:"text-lg sm:text-xl md:text-2xl font-black text-emerald-400 break-words",children:Qe(br==="financing"?_e.totalSavingsProjected:_e.totalSavingsProjectedCash)})]})]})]})]}),s.jsxs("div",{className:"mt-6 sm:mt-8 bg-black/60 backdrop-blur-md border border-white/10 rounded-xl p-4 sm:p-6 flex items-start gap-3 sm:gap-4",children:[s.jsx("div",{className:"p-1.5 sm:p-2 bg-white/5 rounded-lg border border-white/10 flex-shrink-0",children:s.jsx(Ya,{size:14,className:"text-slate-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-bold text-xs sm:text-sm mb-2 uppercase tracking-wider",children:"Ce que montre rellement ce bilan"}),s.jsxs("p",{className:"text-slate-400 text-xs sm:text-sm leading-relaxed",children:["Le scnario"," ",s.jsx("strong",{className:"text-red-400",children:"sans solaire"})," est celui que vous connaissez dj : votre argent part et ne revient pas. Le scnario"," ",s.jsx("strong",{className:"text-blue-400",children:"avec solaire"})," ","montre ce qui se passe quand cette mme somme commence  construire quelque chose chez vous.",s.jsx("br",{}),s.jsx("strong",{className:"text-white",children:"Ce nest pas une conomie. Cest un changement de trajectoire."})]})]})]}),s.jsxs("div",{className:"mt-4 sm:mt-6 bg-gradient-to-br from-slate-900/60 to-black/60 backdrop-blur-md border border-white/10 rounded-xl p-4 sm:p-5 flex items-start gap-3",children:[s.jsx("div",{className:"p-1.5 sm:p-2 bg-white/5 rounded-lg border border-white/10 flex-shrink-0",children:s.jsx(zs,{size:14,className:"text-slate-400"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-bold text-xs sm:text-sm mb-1 uppercase tracking-wider",children:"Cadre de lecture"}),s.jsxs("div",{className:"text-slate-400 text-xs sm:text-sm leading-relaxed",children:["Ce module ne projette ni scnario commercial, ni hypothse optimiste. Il applique simplement les"," ",s.jsx("strong",{className:"text-white",children:"mmes rgles de calcul"})," "," deux choix diffrents : continuer comme aujourdhui, ou produire une partie de votre nergie.",s.jsx("br",{}),s.jsxs("p",{className:"text-slate-400 text-xs sm:text-sm leading-relaxed",children:["Le scnario"," ",s.jsx("strong",{className:"text-red-400",children:"sans solaire"})," ","reprsente votre dpense nergtique actuelle. Le scnario"," ",s.jsx("strong",{className:"text-blue-400",children:"avec solaire"})," ","transforme cette dpense en investissement qui gnre de la valeur pendant 25+ ans."]}),s.jsx("br",{}),s.jsx("strong",{className:"text-white",children:"Ce que vous voyez nest pas une promesse  cest la consquence logique de votre situation actuelle."})]})]})]})]})}),s.jsxs(Dn,{id:"projection-table",title:`Projection Financire  ${c} ans`,icon:s.jsx(iw,{className:"text-slate-400"}),defaultOpen:!1,forceOpen:tt==="projection",onOpen:$=>{re($)},children:[s.jsxs("p",{className:"text-[10px] sm:text-[16px] text-slate-300 italic mb-3 px-2 leading-relaxed",children:["Ce tableau ne sert pas  prendre la dcision. Il sert "," ",s.jsx("strong",{className:"text-white",children:"vrifier dans le temps"})," que la dcision que vous prenez aujourdhui reste cohrente, rationnelle et protectrice pour vous."]}),qf.createPortal(s.jsx("div",{style:{position:"fixed",bottom:"12px",left:"160px",zIndex:999999999,pointerEvents:"auto"},children:s.jsx("button",{onClick:$=>{$.preventDefault(),Qi(Ae=>!Ae)},onMouseDown:$=>$.preventDefault(),onContextMenu:$=>$.preventDefault(),style:{width:"6px",height:"6px",borderRadius:"50%",background:"rgba(100,100,100,0.15)",border:"none",cursor:"pointer",transition:"0.3s ease",padding:0,opacity:.3},onMouseEnter:$=>{$.currentTarget.style.width="78px",$.currentTarget.style.height="20px",$.currentTarget.innerText="tableau",$.currentTarget.style.borderRadius="6px",$.currentTarget.style.background="rgba(0,0,0,0.75)",$.currentTarget.style.color="rgba(255,255,255,0.7)",$.currentTarget.style.fontSize="10px",$.currentTarget.style.fontWeight="500",$.currentTarget.style.padding="2px 8px",$.currentTarget.style.opacity="1"},onMouseLeave:$=>{$.currentTarget.style.width="6px",$.currentTarget.style.height="6px",$.currentTarget.innerText="",$.currentTarget.style.borderRadius="50%",$.currentTarget.style.background="rgba(100,100,100,0.15)",$.currentTarget.style.color="transparent",$.currentTarget.style.padding="0",$.currentTarget.style.opacity="0.3"}})}),document.body),on&&s.jsxs("div",{className:"mb-4 bg-blue-950/20 border border-blue-500/30 rounded-lg p-3 text-xs sm:text-sm",children:[s.jsx("p",{className:"font-bold text-blue-400 mb-1",children:(ie==null?void 0:ie.title)||"Wording terrain recommand"}),s.jsxs("p",{className:"text-slate-200 italic leading-relaxed",children:['"',(ie==null?void 0:ie.keyPhrase)||"Ce tableau n'est pas pour prendre la dcision. La dcision se prend sur ce qui se passe aujourd'hui.",'"']}),(H==="banquier"||(ie==null?void 0:ie.moduleId)==="taux")&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"cursor-pointer text-[10px] text-slate-500 uppercase",children:"Variante Chiffre (Banquier)"}),s.jsxs("p",{className:"mt-2 text-slate-400 text-[11px] italic",children:['"Anne ',Math.floor(Ft/12),` : le crdit se termine.  partir de l, la trsorerie devient positive. C'est la ligne que vous scurisez aujourd'hui."`]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[s.jsxs("div",{className:"bg-black/60 backdrop-blur-md p-1 rounded-lg flex gap-1 border border-white/10",children:[s.jsx("button",{onClick:()=>Ia("financing"),className:`px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold uppercase transition-all ${In==="financing"?"bg-blue-600 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Financement"}),s.jsx("button",{onClick:()=>Ia("cash"),className:`px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold uppercase transition-all ${In==="cash"?"bg-emerald-600 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Cash"})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur-md p-1 rounded-lg flex gap-1 border border-white/10",children:[s.jsx("button",{onClick:()=>Oa("annuel"),className:`px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold uppercase transition-all ${wi==="annuel"?"bg-slate-700 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Annuel"}),s.jsx("button",{onClick:()=>Oa("mensuel"),className:`px-3 sm:px-4 py-1.5 rounded-md text-[10px] sm:text-xs font-bold uppercase transition-all ${wi==="mensuel"?"bg-blue-600 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Mensuel"})]})]}),s.jsxs("div",{className:"mb-4 sm:mb-6 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-black/50 border border-white/10 rounded-lg p-3",children:[s.jsx("p",{className:"text-[14px] uppercase text-slate-400 tracking-wider",children:"Point de bascule"}),s.jsx("p",{className:"text-lg font-black text-white",children:ji?`Anne ${ji}`:""}),s.jsx("p",{className:"text-[14px] text-slate-400",children:"Moment o linvestissement est totalement absorb"})]}),s.jsxs("div",{className:"bg-black/50 border border-white/10 rounded-lg p-3",children:[s.jsx("p",{className:"text-[14px] uppercase text-slate-400 tracking-wider",children:"Gain total"}),s.jsx("p",{className:"text-lg font-black text-emerald-400",children:Qe(Dc)}),s.jsxs("p",{className:"text-[14px] text-slate-400",children:["Trsorerie nette  ",c," ans"]})]}),s.jsxs("div",{className:"bg-black/50 border border-white/10 rounded-lg p-3",children:[s.jsx("p",{className:"text-[14px] uppercase text-slate-400 tracking-wider",children:"Lecture investissement"}),s.jsxs("p",{className:"text-lg font-black text-blue-400",children:[Cl,"% ROI"]}),s.jsx("p",{className:"text-[14px] text-slate-400",children:"Rapport entre mise de dpart et gain final"})]})]}),s.jsxs("p",{className:"mb-3 text-[14px] text-slate-400 italic",children:["Les premires annes, vous remplacez une facture par un investissement.  partir de"," ",s.jsxs("span",{className:"text-white font-bold",children:["lanne ",ji]}),", le systme devient structurellement positif."]}),s.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:s.jsx("div",{className:"inline-block min-w-full align-middle px-4 sm:px-0",children:s.jsxs("table",{id:"detailed-finance-table",className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/10 text-[12px] sm:text-[13px] uppercase text-slate-500 font-bold tracking-wider",children:[s.jsx("th",{className:"py-2 sm:py-3 px-2 sm:px-4 whitespace-nowrap",children:"Anne"}),s.jsx("th",{className:"py-2 sm:py-3 px-2 sm:px-4 text-red-400 whitespace-nowrap",children:"Sans Solaire"}),gr&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"py-2 sm:py-3 px-2 sm:px-4 text-blue-400 whitespace-nowrap",children:"Crdit"}),s.jsx("th",{className:"py-2 sm:py-3 px-2 sm:px-4 text-yellow-400 whitespace-nowrap",children:"Facture restante"})]}),s.jsx("th",{className:"py-2 sm:py-3 px-2 sm:px-4 text-white whitespace-nowrap",children:"Avec Solaire"}),s.jsxs("th",{className:"py-2 sm:py-3 px-2 sm:px-4 text-slate-300 whitespace-nowrap",children:["Diffrence ",wi==="annuel"?"/an":"/mois"]}),s.jsx("th",{className:"py-2 sm:py-3 px-2 sm:px-4 text-emerald-400 text-right whitespace-nowrap",children:"Trsorerie cumule"})]})}),s.jsxs("tbody",{className:"text-xs sm:text-sm font-mono text-slate-300",children:[s.jsxs("tr",{className:"border-b border-white/5 bg-[#1a1505]/30",children:[s.jsx("td",{className:"py-3 sm:py-4 px-2 sm:px-4 text-yellow-500 font-bold whitespace-nowrap",children:"Anne 0"}),s.jsx("td",{className:"py-3 sm:py-4 px-2 sm:px-4 opacity-50",children:"-"}),gr&&s.jsx("td",{className:"py-3 sm:py-4 px-2 sm:px-4 opacity-50",children:"-"}),gr&&s.jsx("td",{className:"py-3 sm:py-4 px-2 sm:px-4 opacity-50",children:"-"}),s.jsxs("td",{className:"py-3 sm:py-4 px-2 sm:px-4 text-yellow-400 font-bold uppercase text-xs sm:text-sm whitespace-nowrap",children:["APPORT :"," ",Qe(In==="financing"?tr:rr)]}),s.jsxs("td",{className:"py-3 sm:py-4 px-2 sm:px-4 text-red-400 font-bold whitespace-nowrap",children:["-",Qe(In==="financing"?tr:rr)]}),s.jsxs("td",{className:"py-3 sm:py-4 px-2 sm:px-4 text-right text-red-500 font-bold whitespace-nowrap",children:["-",Qe(In==="financing"?tr:rr)]})]}),(In==="financing"?_e.details:_e.detailsCash).slice(0,c).map(($,Ae)=>{const nt=Ae<Ft/12&&In==="financing"?(et+St)*12:0,Dt=wi==="mensuel"?12:1,Bt=$.edfBillWithoutSolar/Dt,_t=nt/Dt,m=$.edfResidue/Dt,v=_t+m,j=v-Bt;return s.jsxs("tr",{className:`border-b border-white/5 transition-colors ${ji===$.year?"bg-emerald-500/10 ring-1 ring-emerald-500/30":"hover:bg-white/5"}`,children:[s.jsx("td",{className:"py-2 sm:py-3 px-2 sm:px-4 text-slate-500 whitespace-nowrap",children:$.year}),s.jsx("td",{className:"py-2 sm:py-3 px-2 sm:px-4 text-red-400/80 whitespace-nowrap",children:Qe(Bt)}),gr&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"py-2 sm:py-3 px-2 sm:px-4 text-blue-400/80 whitespace-nowrap",children:Qe(_t)}),s.jsx("td",{className:"py-2 sm:py-3 px-2 sm:px-4 text-yellow-400/80 whitespace-nowrap",children:Qe(m)})]}),s.jsx("td",{className:"py-2 sm:py-3 px-2 sm:px-4 font-bold text-white whitespace-nowrap",children:Qe(v)}),s.jsxs("td",{className:`py-2 sm:py-3 px-2 sm:px-4 font-bold whitespace-nowrap ${j>0?"text-white":"text-emerald-400"}`,children:[j>0?"+":"",Qe(j)]}),s.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-4 text-right font-bold whitespace-nowrap ${$.cumulativeSavings>=0?"text-emerald-500":"text-red-500"}`,children:Qe($.cumulativeSavings)})]},`${$.year}-${Ae}`)})]}),s.jsx("tfoot",{className:"sticky bottom-0 bg-black/95 backdrop-blur-xl border-t-2 border-emerald-500/30",children:s.jsxs("tr",{children:[s.jsxs("td",{colSpan:gr?6:5,className:"py-2 sm:py-3 px-2 sm:px-4 text-right text-xs sm:text-sm font-bold text-slate-400 uppercase",children:["Gain total sur ",c," ans"]}),s.jsx("td",{className:"py-2 sm:py-3 px-2 sm:px-4 text-right text-lg sm:text-xl font-black text-emerald-400 whitespace-nowrap",children:Qe(((sl=(In==="financing"?_e.details:_e.detailsCash)[c-1])==null?void 0:sl.cumulativeSavings)||0)})]})})]})})}),s.jsx("button",{onClick:()=>en(!gr),className:"mt-4 text-[10px] sm:text-xs text-slate-500 hover:text-slate-300 transition-colors",children:gr?"Vue globale":"Vue complte"})]}),s.jsx(Dn,{id:"decision",title:"Lecture de trajectoire",icon:s.jsx(zf,{className:"text-slate-400"}),defaultOpen:!1,forceOpen:tt==="decision",children:s.jsxs("div",{className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-[28px] p-6 md:p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 rounded-xl bg-white/5 border border-white/10",children:s.jsx(zf,{className:"text-slate-400 w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Ce que votre tude met en vidence"}),s.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Une bascule entre deux continuits patrimoniales."}),s.jsxs("p",{className:"text-l text-slate-200 leading-relaxed",children:["Ce module ne cherche pas  projeter un gain.",s.jsx("br",{}),"Il met simplement en regard une analyse  partir de vos propres chiffres en projetant deux volutions possibles du mme bien immobilier.",s.jsx("br",{})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-red-950/20 border border-red-500/20 rounded-2xl p-4",children:[s.jsx("p",{className:"text-[14px] uppercase text-red-400 font-bold tracking-wider mb-2",children:"Continuit actuelle"}),s.jsxs("p",{className:"text-sm text-slate-200 leading-relaxed",children:["Votre fonctionnement nergtique reste identique  celui daujourdhui.",s.jsx("br",{}),s.jsx("br",{}),"Les flux que nous avons chiffrs continuent de sortir, anne aprs anne, selon la mme logique, pour assurer lusage, sans modifier la structure du bien.",s.jsx("br",{}),s.jsx("br",{}),s.jsx("strong",{className:"text-red-400",children:"Ils remplissent leur rle immdiat, mais ne produisent rien qui vous reste."}),s.jsx("br",{}),s.jsx("strong",{className:"text-red-400",children:"La maison consomme. Elle ne capitalise pas."})]})]}),s.jsxs("div",{className:"bg-slate-900/40 border border-white/10 rounded-2xl p-4 shadow-[0_0_25px_rgba(255,255,255,0.05)]",children:[s.jsx("p",{className:"text-[14px] uppercase text-slate-300 font-bold tracking-wider mb-2",children:"Ce que montre cette tude"}),s.jsxs("p",{className:"text-sm text-white leading-relaxed font-medium",children:["Les donnes sont maintenant poses.",s.jsx("br",{}),s.jsx("br",{}),"Les deux trajectoires sont visibles.",s.jsx("br",{}),s.jsx("br",{}),s.jsx("strong",{className:"text-white",children:"Ce que cette simulation met en vidence, ce nest pas un quipement, mais un changement de nature du flux :"}),s.jsx("br",{}),s.jsx("br",{}),"- le moment o une dpense peut rester un flux et augmenter une charge,",s.jsx("br",{}),s.jsx("br",{}),"- ou commencer  devenir un levier, en structurant un actif."]})]}),s.jsxs("div",{className:"bg-emerald-950/20 border border-emerald-500/20 rounded-2xl p-4",children:[s.jsx("p",{className:"text-[14px] uppercase text-emerald-400 font-bold tracking-wider mb-2",children:"Autre continuit possible"}),s.jsxs("p",{className:"text-sm text-slate-200 leading-relaxed",children:["Une partie de ce flux change de nature.",s.jsx("br",{}),s.jsx("br",{}),"Il ne disparat plus entirement : il commence  sancrer dans le bti, dans lquipement, dans la dure. Une partie de ce flux quipe la maison, amliore sa performance, et modifie son positionnement sur le march immobilier et dans le temps.",s.jsx("br",{}),s.jsx("br",{}),s.jsx("strong",{className:"text-emerald-400",children:"On ne parle pas dconomie ponctuelle, mais dune trajectoire qui se met en place, car Le logement nest plus seulement consommateur : il devient porteur de valeur, d'attractivit et de protection dans le temps."})]})]})]}),s.jsx("div",{className:"mt-7 bg-black/50 border border-white/10 rounded-2xl p-5 text-center",children:s.jsx("p",{className:"text-l text-slate-200 leading-relaxed",children:s.jsxs("strong",{className:"text-white",children:["Ce que vous avez sous les yeux nest pas une projection optimiste, mais deux manires diffrentes de laisser voluer la mme situation. ",s.jsx("br",{}),"Dans un cas, la maison reste expose  un poste de charge. Dans lautre, elle intgre un quipement qui modifie sa valeur dusage, sa valeur perue et sa valeur de march."]})})}),s.jsxs("div",{className:"mt-6 text-center",children:[s.jsx("p",{className:"text-[14px] uppercase tracking-widest text-slate-500",children:" CE STADE, Lanalyse est termine, valide dans sa cohrence."}),s.jsx("p",{className:"text-base font-black text-white mt-1",children:"Ce qui reste  clarifier nest plus technique."}),s.jsx("p",{className:"text-lg font-black text-slate-300 mt-1",children:"Cest la trajectoire que vous laissez sinscrire dans votre patrimoine."}),s.jsx("p",{className:"text-[14px] text-slate-500 mt-1 italic",children:"(Les deux existent dj. Lune est en cours. Lautre devient possible.)"})]}),s.jsxs("div",{className:"mt-6 text-center",children:[s.jsx("p",{className:"text-[20px] uppercase tracking-widest text-emerald-400",children:"Ce projet est prt."}),s.jsx("p",{className:"text-base font-black text-emerald-400",children:"La dcision est ouverte."})]})]})}),s.jsx(V0,{label:"Point de bascule",title:" ce stade, il ny a plus rien  dmontrer.",subtitle:"Il reste juste  se positionner."}),s.jsxs("div",{id:"taux",className:"scroll-mt-24",children:[s.jsx(tR,{taux:vr,mensualite:et,duree:Ft,montantFinance:ur,hasPromoCode:Ti}),s.jsx(ZL,{taux:vr,mensualite:et,duree:Ft,montantFinance:ur,hasPromoCode:Ti}),s.jsx(eR,{taux:vr,mensualite:et,duree:Ft,montantFinance:ur,hasPromoCode:Ti})]}),s.jsx(Dn,{id:"054888f4-10e4-4eae-8c44-08dd0680f68",title:"PROTOCOLE DE QUALIFICATION",icon:s.jsx(zs,{className:"text-emerald-500"}),defaultOpen:!1,children:s.jsxs("div",{id:"qualification-process",className:"mb-12 bg-[#050505] rounded-[40px] border-2 border-white/5 shadow-[0_40px_80px_rgba(0,0,0,0.9)] overflow-hidden relative group",children:[s.jsx("div",{className:"absolute -top-24 -left-24 w-64 h-64 bg-emerald-500/5 blur-[100px] pointer-events-none"}),s.jsxs("div",{className:"px-10 py-6 border-b border-white/5 flex items-center justify-between bg-white/[0.02]",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500 animate-pulse"}),s.jsx("div",{className:"absolute inset-0 w-3 h-3 rounded-full bg-emerald-500 animate-ping opacity-40"})]}),s.jsx("span",{className:"text-white text-xs font-black uppercase tracking-[0.3em]",children:"PROTOCOLE DE QUALIFICATION TERMINAL"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-mono text-slate-500 bg-black/40 px-3 py-1 rounded-full border border-white/5",children:[s.jsx(lh,{size:12,className:"text-emerald-500"}),s.jsx("span",{className:"uppercase",children:"Session Active : ~15 min"})]})]}),s.jsxs("div",{className:"px-10 py-16 relative",children:[s.jsx("div",{className:"absolute top-[108px] left-[10%] right-[10%] h-[3px] bg-white/5"}),s.jsx("div",{className:"absolute top-[108px] left-[10%] h-[3px] bg-gradient-to-r from-emerald-600 via-emerald-400 to-emerald-500 shadow-[0_0_15px_rgba(16,185,129,0.4)] transition-all duration-700 ease-out",style:{width:"100%"}}),s.jsx("div",{className:"flex justify-between items-start relative z-10",children:[{label:"Audit nergtique",sub:"Analys"},{label:"tude Solaire",sub:"Gisement OK"},{label:"ligibilit Aides",sub:"Prime Auto-Consommation 0.08cts/W"},{label:"Synthse Projet",sub:"Valid"}].map(($,Ae)=>s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-[24px] flex items-center justify-center border-2 bg-[#050505] border-emerald-500/50 shadow-[0_0_25px_rgba(16,185,129,0.2)]",children:s.jsx(ar,{className:"text-emerald-400",size:32,strokeWidth:2.5})}),s.jsxs("div",{className:"text-center mt-6",children:[s.jsx("div",{className:"text-[11px] text-white font-black uppercase tracking-widest mb-1",children:$.label}),s.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase italic tracking-tighter",children:$.sub})]})]},Ae))})]}),s.jsx("div",{className:"px-10 py-8 bg-white/[0.02] border-t border-white/5 flex flex-col md:flex-row items-center justify-between gap-6",children:s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-500/10 border border-blue-500/20 flex items-center justify-center",children:s.jsx(HS,{className:"text-blue-400",size:24})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-black text-sm uppercase italic tracking-tight",children:"Votre projet est cohrent"}),s.jsxs("p",{className:"text-slate-500 text-[10px] uppercase font-bold tracking-widest",children:["Projet EDF confirm pour"," ",lr?lr.toUpperCase():e!=null&&e.address?e.address.split(",").pop().trim().toUpperCase():"VOTRE SECTEUR"]})]})]})})]})}),s.jsxs("button",{onClick:T,className:"w-full mt-4 bg-slate-800 hover:bg-black text-white py-3 rounded-lg font-bold text-sm transition-all flex items-center justify-center gap-2 shadow-lg",children:[s.jsx(Bx,{size:20}),"GNRER LE CERTIFICAT DE CONFORMIT (LGAL)"]}),s.jsxs("div",{className:"mt-8 p-4 bg-slate-50 border-t border-slate-200 rounded-b-xl",children:[s.jsxs("div",{className:"flex items-center justify-between opacity-75",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-700",children:s.jsx(zs,{size:18})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Certification de Conformit"}),s.jsx("p",{className:"text-xs text-slate-400 italic",children:'"Agent Zero ne cherche pas  convaincre. Il empche de mal dcider."'})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-[10px] font-mono text-slate-400",children:["ID AUDIT: ",((oc=d==null?void 0:d.auditTrail)==null?void 0:oc.audit_id)||"NON-CERTIFI"]}),s.jsxs("p",{className:"text-[10px] font-mono text-slate-400 uppercase",children:["PACK: ",((qi=d==null?void 0:d.auditTrail)==null?void 0:qi.industry)||"STANDARD"]})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-[9px] text-slate-400 border-t border-slate-100 pt-3",children:[s.jsx("p",{children:" Gouvernance stricte : aucune donne client persiste."}),s.jsx("p",{children:" Orchestration interne : aide  la dcision conseiller."})]})]}),fo&&s.jsx("div",{className:"fixed bottom-6 right-6 z-50 animate-in slide-in-from-bottom-4 duration-500",children:s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-700/10 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsxs("div",{className:"relative bg-black/80 backdrop-blur-xl border border-white/10 rounded-xl p-4 shadow-2xl max-w-[280px]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500 animate-pulse"}),s.jsx("span",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-wider",children:"Temps rel"})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("button",{onClick:()=>_a(!Sa),className:"p-1 bg-slate-700/40 rounded-full hover:bg-slate-700/60 transition-colors",children:s.jsx(Ya,{size:12,className:"text-slate-400"})}),s.jsx("button",{onClick:()=>po(!1),className:"text-slate-600 hover:text-slate-400 transition-colors p-0.5",children:s.jsx(jd,{size:14})})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-[9px] text-slate-500 font-medium uppercase mb-1 tracking-wide",children:"Cot nergtique cumul"}),s.jsx("div",{className:"text-3xl font-black text-orange-400 tabular-nums tracking-tight",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:4}).format(Ii)}),s.jsx("div",{className:"text-[9px] text-slate-600 mt-1",children:"depuis l'ouverture"})]}),Sa&&s.jsx("div",{className:"mb-3 bg-slate-900/60 border border-slate-700/30 rounded-lg p-3 text-left animate-in fade-in slide-in-from-top-2 duration-200",children:s.jsxs("div",{className:"text-[9px] text-slate-300 space-y-2",children:[s.jsx("p",{className:"font-bold text-slate-200 text-[10px]",children:" Comment est calcul ce compteur ?"}),s.jsxs("div",{className:"bg-black/40 p-2 rounded font-mono text-[8px] space-y-1",children:[s.jsxs("div",{className:"text-slate-400",children:["Consommation :"," ",s.jsxs("span",{className:"text-white",children:[sd(Vn)," kWh/an"]})]}),s.jsxs("div",{className:"text-slate-400",children:["Prix kWh :"," ",s.jsxs("span",{className:"text-white",children:[Sn.toFixed(4),""]})]}),s.jsxs("div",{className:"border-t border-slate-700/50 mt-1.5 pt-1.5 space-y-0.5",children:[s.jsxs("div",{className:"text-slate-400",children:["Par an :"," ",s.jsx("span",{className:"text-orange-400 font-bold",children:Qe(Vn*Sn)})]}),s.jsxs("div",{className:"text-slate-400",children:["Par jour :"," ",s.jsx("span",{className:"text-white",children:Qe(Vn*Sn/365)})]}),s.jsxs("div",{className:"text-slate-400",children:["Par seconde :"," ",s.jsxs("span",{className:"text-white",children:[(Vn*Sn/365/24/3600).toFixed(6),""]})]})]})]}),s.jsx("p",{className:"text-[8px] text-slate-500 italic leading-relaxed",children:"Ce compteur reprsente l'argent dpens en lectricit pendant votre consultation, bas sur votre consommation actuelle."})]})}),s.jsxs("div",{className:"border-t border-white/5 pt-3 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-500 text-[9px] font-medium uppercase tracking-wide",children:"Projection annuelle"}),s.jsx("span",{className:"text-sm font-bold text-white tabular-nums",children:Qe(_e.oldMonthlyBillYear1*12)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-slate-500 text-[9px] font-medium uppercase tracking-wide",children:["Sur ",c," ans"]}),s.jsx("span",{className:"text-base font-bold text-orange-400 tabular-nums",children:Qe(_e.totalSpendNoSolar)})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-white/5",children:s.jsx("p",{className:"text-slate-400 text-[9px] leading-relaxed text-center italic",children:"Sans action, ce cot continue indfiniment"})})]})]})}),_n&&s.jsxs("div",{className:"w-full mt-10 p-10 rounded-[28px] bg-emerald-500/10 border border-emerald-400/30 text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("div",{className:"text-2xl font-black text-white mb-2",children:"Dossier scuris"}),s.jsxs("p",{className:"text-white/70",children:["Ce projet a t valid avec votre conseiller.",s.jsx("br",{}),"Il est maintenant en cours de traitement."]})]}),s.jsx("button",{disabled:_n,onClick:async()=>{await de(),Wn(!0)},className:`w-full mt-4 h-20 rounded-[26px] border shadow-xl transition-all duration-300 flex items-center justify-center gap-4
                ${_n?"bg-slate-800 border-slate-700 opacity-60 cursor-not-allowed text-slate-500":"bg-white/20 backdrop-blur-xl text-white border-white/30 hover:shadow-2xl hover:bg-white/25 active:scale-[0.98]"}
              `,children:_n?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("span",{className:"block text-lg font-black uppercase",children:"Dossier Scuris (Sign)"})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("div",{className:"text-left leading-tight",children:s.jsx("span",{className:"block text-lg font-black uppercase",children:"Scuriser le dossier EDF"})})]})}),s.jsx("div",{className:"w-full mt-24 border-t border-white/10 pt-12 pb-32",children:s.jsxs("div",{className:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("button",{onClick:()=>alert(" Export PDF  ok"),className:"relative h-24 bg-white text-black rounded-[28px] border border-black/10 shadow-xl flex items-center justify-center gap-4 active:scale-95 hover:bg-slate-100 transition",children:[""," ",s.jsx("span",{className:"font-black uppercase tracking-widest",children:"Envoyer la Synthse"})]}),s.jsxs("button",{onClick:()=>Wn(!0),className:"relative h-24 bg-gradient-to-b from-white to-slate-200 text-black rounded-[28px] border border-black/10 shadow-xl flex items-center justify-center gap-4 active:scale-95 hover:shadow-2xl transition",children:[""," ",s.jsx("span",{className:"font-black uppercase tracking-widest",children:"Gnrer la Synthse EDF"})]})]})}),$o&&s.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-black/80 backdrop-blur-md p-6",children:s.jsxs("div",{className:"w-full max-w-[480px] bg-[#1C1C1E] rounded-[40px] p-8 shadow-2xl relative border border-white/5 max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-[28px] font-bold text-white mb-2 tracking-tight",children:"Informations client"}),s.jsx("p",{className:"text-[#8E8E93] text-[15px] mb-8 font-medium leading-tight",children:"Remplissez les informations pour gnrer l'tude personnalise"}),Zl&&s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx(_E,{status:Zl})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"text-white text-[13px] font-semibold mb-2 block uppercase tracking-wide",children:"Client"}),s.jsx("div",{className:"relative mb-4",children:s.jsxs("select",{value:Ea,onChange:$=>oo($.target.value),className:"w-full bg-black border-[1.5px] border-[#3A3A3C] rounded-[14px] py-3.5 px-4 text-white text-[16px] outline-none focus:border-[#0A84FF] transition-colors appearance-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='white'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5em"},children:[s.jsx("option",{value:"M.",children:"M."}),s.jsx("option",{value:"Mme",children:"Mme"}),s.jsx("option",{value:"M./Mme",children:"M./Mme"})]})}),s.jsx("div",{className:"relative mb-4",children:s.jsx("input",{autoFocus:!0,value:Zn,onChange:$=>ao($.target.value),type:"text",placeholder:"Nom complet *",className:"w-full bg-black border-[1.5px] border-[#0A84FF] rounded-[14px] py-3.5 px-4 text-white text-[16px] outline-none shadow-[0_0_15px_rgba(10,132,255,0.1)]"})}),s.jsx("div",{className:"relative mb-4",children:s.jsx("input",{value:Tn,onChange:$=>Ho($.target.value),type:"email",placeholder:"Email (optionnel)",className:"w-full bg-black border-[1.5px] border-[#3A3A3C] rounded-[14px] py-3.5 px-4 text-white text-[16px] outline-none focus:border-[#0A84FF] transition-colors"})}),s.jsx("div",{className:"relative mb-4",children:s.jsx("input",{value:ka,onChange:$=>Js($.target.value),type:"tel",placeholder:"Tlphone (optionnel)",className:"w-full bg-black border-[1.5px] border-[#3A3A3C] rounded-[14px] py-3.5 px-4 text-white text-[16px] outline-none focus:border-[#0A84FF] transition-colors"})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("label",{className:"text-white text-[13px] font-semibold mb-2 block uppercase tracking-wide",children:"Commercial"}),s.jsx("div",{className:"relative mb-4",children:s.jsx("input",{value:Es,onChange:$=>ra($.target.value),type:"text",placeholder:"Nom du commercial (optionnel)",className:"w-full bg-black border-[1.5px] border-[#3A3A3C] rounded-[14px] py-3.5 px-4 text-white text-[16px] outline-none focus:border-[#0A84FF] transition-colors"})}),s.jsx("div",{className:"relative mb-4",children:s.jsx("input",{value:Xs,onChange:$=>Nl($.target.value),type:"email",placeholder:"Email commercial *",className:"w-full bg-black border-[1.5px] border-[#0A84FF] rounded-[14px] py-3.5 px-4 text-white text-[16px] outline-none shadow-[0_0_15px_rgba(10,132,255,0.1)]"})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>Wn(!1),className:"flex-1 py-4 bg-[#2C2C2E] text-white font-bold rounded-[18px] text-[16px] active:scale-95 transition-all",children:"Annuler"}),s.jsx("button",{onClick:M,disabled:io||!Zn||!Tn||!Xs,className:"flex-1 py-4 bg-[#0A84FF] text-white font-bold rounded-[18px] text-[16px] active:scale-95 transition-all disabled:opacity-40 disabled:cursor-not-allowed shadow-lg shadow-blue-500/20",children:io?"Gnration...":"Gnrer la Synthse EDF"})]}),Qn&&s.jsxs("div",{className:"mt-8 p-6 bg-white rounded-[32px] flex flex-col items-center shadow-2xl animate-in fade-in zoom-in",children:[s.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black mb-4 tracking-widest text-center",children:"Scanner pour voir sur mobile"}),s.jsx("div",{className:"p-4 bg-white border-2 border-slate-50 rounded-2xl mb-6",children:s.jsx(Ow,{value:Qn,size:180,level:"H",includeMargin:!0})}),s.jsxs("div",{className:"flex w-full gap-3",children:[s.jsx("button",{onClick:ne,disabled:io,className:"flex-1 py-4 bg-orange-600 hover:bg-orange-500 text-white font-black rounded-2xl text-[10px] uppercase transition-transform active:scale-95 shadow-lg shadow-orange-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:io?"Envoi...":" Envoyer la Synthse"}),s.jsx("button",{onClick:()=>{console.log(" generatedLink:",Qn),window.location.href=Qn},className:"flex-1 py-4 bg-blue-600 text-white font-black rounded-2xl text-[10px] uppercase transition-transform active:scale-95 shadow-lg shadow-blue-500/30",children:"Ouvrir"})]})]})]})}),S&&s.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",backgroundColor:"#1a1a1a",padding:"20px",borderRadius:"12px",border:"1px solid #333",zIndex:9999,boxShadow:"0 10px 25px rgba(0,0,0,0.5)",color:"white",width:"300px"},children:[s.jsx("h4",{style:{margin:"0 0 15px 0"},children:" SaaS Configuration"}),s.jsx("label",{style:{fontSize:"12px",opacity:.7},children:"API ENDPOINT URL"}),s.jsx("input",{type:"text",value:p,onChange:$=>b($.target.value),style:{width:"100%",padding:"8px",marginTop:"5px",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#000",color:"#00ff00"}}),s.jsxs("div",{style:{marginTop:"15px"},children:[s.jsx("label",{style:{fontSize:"12px",opacity:.7,textTransform:"uppercase"},children:"Cl API (Licence)"}),s.jsx("input",{type:"text",style:{width:"100%",padding:"8px",marginTop:"5px",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#000",color:"#ff9900",fontFamily:"monospace"},value:y,onChange:$=>g($.target.value),placeholder:"Ex: Titanium2026!EDF"})]}),s.jsxs("div",{style:{marginTop:"15px",display:"flex",gap:"10px"},children:[s.jsx("button",{onClick:()=>se(p),style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",flex:1},children:"Sauvegarder"}),s.jsx("button",{onClick:()=>k(!1),style:{backgroundColor:"#333",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer"},children:"Annuler"})]})]}),s.jsxs("div",{className:"section-complements mt-12 pb-20 border-t border-white/10 pt-8",children:[s.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tight mb-8",children:"Dtails conomiques Complmentaires"}),s.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-6",children:"Investissement"}),s.jsx(L_,{totalCost:rr||0}),s.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-6 mt-12",children:"Financement"}),s.jsx(R_,{mode:Qs==="financing"?"loan":"cash",monthlyPayment:(((Nr=(ei=_e==null?void 0:_e.details)==null?void 0:ei[0])==null?void 0:Nr.creditPayment)||0)/12,durationMonths:((Sr=e==null?void 0:e.params)==null?void 0:Sr.durationMonths)||180}),s.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-6 mt-12",children:"Projection Temporelle"}),s.jsx(T_,{savingsYear10:((Cn=(ua=_e==null?void 0:_e.slicedDetails)==null?void 0:ua[9])==null?void 0:Cn.cumulativeSavings)||0,savingsYear20:((za=(as=_e==null?void 0:_e.slicedDetails)==null?void 0:as[19])==null?void 0:za.cumulativeSavings)||0,savingsYear25:((os=(yo=_e==null?void 0:_e.slicedDetails)==null?void 0:yo[24])==null?void 0:os.cumulativeSavings)||0})]})]})]})},nR=e=>Math.round(e*100)/100,ou=(e,t=0)=>{if(e==null||e==="")return t;const r=String(e).replace(",",".").replace(/\s/g,""),n=parseFloat(r);return isNaN(n)?t:n},sR=({onTextSubmit:e,isLoading:t})=>{const[r,n]=B.useState(!1),[i,o]=B.useState({currentBillYear:"2500",houseSize:"120",yearlyConsumption:"10000",inflation:"5",pricePerKwh:"0.2500",address:"",puissanceInstallee:"3",inclination:"25",azimuth:"0",production:"0",selfConsumption:"100",ratioLocal:"",installPrice:"18990",creditMonthly:"0",insuranceMonthly:"0",creditDuration:"180",creditRate:"5.89"});B.useEffect(()=>{const d=ou(i.currentBillYear),h=ou(i.yearlyConsumption),p=ou(i.installPrice),b=ou(i.creditRate),y=ou(i.creditDuration),g=d>0&&h>0?(d/h).toFixed(4):"0.0000";let S=0;if(p>0&&y>0)if(b>0){const k=b/100/12;S=p*k/(1-Math.pow(1+k,-y))}else S=p/y;o(k=>({...k,pricePerKwh:g,creditMonthly:nR(S).toString()}))},[i.currentBillYear,i.yearlyConsumption,i.installPrice,i.creditRate,i.creditDuration]);const c=async()=>{var d,h,p;if(!(!i.address||i.address.length<5)){n(!0);try{const y=await(await fetch(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(i.address)}&limit=1`)).json();if(!y.features||y.features.length===0){console.error(" Adresse non trouve"),alert("Adresse introuvable");return}const[g,S]=y.features[0].geometry.coordinates,k=`/api/pvgis?lat=${S}&lon=${g}&peakpower=${i.puissanceInstallee}&angle=${i.inclination}&aspect=${i.azimuth}`;console.log(" URL API:",k);const E=await fetch(k);if(!E.ok){console.error(" Erreur API:",E.status);const L=await E.text();console.error("Dtails:",L),alert("Erreur lors de l'appel PVGIS");return}const A=await E.json();if((p=(h=(d=A.outputs)==null?void 0:d.totals)==null?void 0:h.fixed)!=null&&p.E_y){const L=Math.round(A.outputs.totals.fixed.E_y*1.03128);o(P=>({...P,production:L.toString(),ratioLocal:(L/ou(P.puissanceInstallee)).toFixed(0)})),console.log(` Production: ${L} kWh/an`)}else console.error(" Structure inattendue:",A),alert("Erreur dans les donnes PVGIS")}catch(b){console.error(" Erreur complte:",b),alert(`Erreur: ${b.message}`)}finally{n(!1)}}},u=d=>{o(h=>({...h,[d.target.name]:d.target.value}))};return s.jsxs("div",{className:"w-full max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 bg-black min-h-screen text-white font-sans selection:bg-blue-500/30",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-6 sm:mb-10 gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("img",{src:"/edf-logo.png",alt:"EDF",className:"h-10 sm:h-12 w-auto object-contain mb-1"}),s.jsx("span",{className:"text-[9px] sm:text-[10px] text-blue-500 font-black uppercase tracking-tighter",children:"Solutions Solaires"})]}),s.jsxs("div",{className:"bg-zinc-900/40 border border-zinc-800 px-4 sm:px-6 py-2 rounded-full flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.5)] animate-pulse"}),s.jsx("span",{className:"text-[8px] sm:text-[10px] font-bold uppercase tracking-widest text-zinc-400 italic",children:"PVGIS SARAH-2 V5.2 CONNECTED"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 sm:gap-6 lg:gap-8",children:[s.jsxs("div",{className:"col-span-1 lg:col-span-7 space-y-4 sm:space-y-6 lg:space-y-8",children:[s.jsxs("div",{className:"bg-[#0a0a0a] border border-zinc-800/60 rounded-2xl sm:rounded-[32px] p-4 sm:p-6 lg:p-8 shadow-2xl",children:[s.jsxs("h3",{className:"text-xs sm:text-sm font-black uppercase italic tracking-wider mb-4 sm:mb-8 flex items-center gap-2 sm:gap-3 text-blue-500",children:[s.jsx(Xf,{size:16,className:"sm:w-[18px] sm:h-[18px]"})," ","Profil nergtique"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 mb-6 sm:mb-10",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-[9px] sm:text-[10px] font-bold text-zinc-500 uppercase tracking-widest block ml-1",children:"Facture ()"}),s.jsxs("div",{className:"w-full bg-[#111] border border-zinc-800 rounded-xl sm:rounded-2xl px-4 sm:px-6 py-4 sm:py-6 focus-within:border-red-500/50 transition-all",children:[s.jsx("input",{type:"number",name:"currentBillYear",value:i.currentBillYear,onChange:u,className:"w-full bg-transparent text-4xl sm:text-5xl lg:text-6xl font-black outline-none text-blue-500"}),s.jsxs("div",{className:"text-xs sm:text-sm text-slate-400/60 font-bold mt-2",children:[(ou(i.currentBillYear)/12).toFixed(2),"/mois"]})]})]}),s.jsxs("div",{className:"space-y-3 text-left sm:text-right",children:[s.jsx("label",{className:"text-[9px] sm:text-[10px] font-bold text-slate-400 uppercase block tracking-widest ml-1 sm:mr-1",children:"Prix kWh ()"}),s.jsx("div",{className:"w-full bg-[#111] border border-zinc-800 rounded-xl sm:rounded-2xl px-4 sm:px-6 py-4 sm:py-6 text-4xl sm:text-5xl lg:text-6xl font-black text-blue-400/80 tracking-tighter tabular-nums",children:i.pricePerKwh})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 pt-4 sm:pt-6 border-t border-zinc-800/30",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-zinc-500 uppercase block italic",children:"Surface (m)"}),s.jsx("input",{type:"number",name:"houseSize",value:i.houseSize,onChange:u,className:"w-full bg-transparent text-3xl sm:text-4xl font-black text-blue-400 outline-none"})]}),s.jsxs("div",{className:"space-y-1 sm:border-l border-zinc-800/50 sm:pl-6",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-zinc-500 uppercase block italic",children:"Conso (kWh)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"number",name:"yearlyConsumption",value:i.yearlyConsumption,onChange:u,className:"w-full bg-transparent text-3xl sm:text-4xl font-black text-blue-500 outline-none"}),s.jsx("button",{className:"bg-blue-600 p-2 rounded-full hover:scale-110 transition-transform shadow-lg shadow-blue-600/20",children:s.jsx(jS,{size:14,className:"text-white"})})]})]}),s.jsxs("div",{className:"space-y-1 sm:border-l border-zinc-800/50 sm:pl-6 text-left sm:text-right",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-zinc-500 uppercase block italic",children:"Inflation %"}),s.jsx("input",{type:"number",name:"inflation",value:i.inflation,onChange:u,className:"w-full bg-transparent text-3xl sm:text-4xl font-black text-blue-400/60 outline-none sm:text-right"})]})]})]}),s.jsxs("div",{className:"bg-[#0a0a0a] border border-zinc-800/60 rounded-2xl sm:rounded-[32px] p-4 sm:p-6 lg:p-8 shadow-2xl",children:[s.jsxs("h3",{className:"text-xs sm:text-sm font-black uppercase italic tracking-wider mb-4 sm:mb-8 flex items-center gap-2 sm:gap-3 text-orange-500",children:[s.jsx(Ka,{size:16,className:"sm:w-[18px] sm:h-[18px]"})," ","Financement & Investissement"]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"bg-[#111] border border-zinc-800 p-3 sm:p-5 rounded-xl sm:rounded-2xl",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-zinc-600 uppercase block mb-2",children:"Prix Inst. ()"}),s.jsx("input",{type:"number",name:"installPrice",value:i.installPrice,onChange:u,className:"w-full bg-transparent text-xl sm:text-2xl font-black text-orange-400/80 outline-none"})]}),s.jsxs("div",{className:"bg-[#111] border border-zinc-800 p-3 sm:p-5 rounded-xl sm:rounded-2xl",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-orange-400/60 uppercase block mb-2 italic",children:"Mensualit ()"}),s.jsx("div",{className:"text-2xl sm:text-3xl font-black text-orange-400 tabular-nums",children:i.creditMonthly})]}),s.jsxs("div",{className:"bg-[#111] border border-zinc-800 p-3 sm:p-5 rounded-xl sm:rounded-2xl",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-zinc-600 uppercase block mb-2",children:"Dure (m)"}),s.jsx("input",{type:"number",name:"creditDuration",value:i.creditDuration,onChange:u,className:"w-full bg-transparent text-xl sm:text-2xl font-black outline-none"})]}),s.jsxs("div",{className:"bg-[#111] border border-zinc-800 p-3 sm:p-5 rounded-xl sm:rounded-2xl",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-zinc-600 uppercase block mb-2 italic",children:"Taux %"}),s.jsx("input",{type:"number",step:"0.01",name:"creditRate",value:i.creditRate,onChange:u,className:"w-full bg-transparent text-xl sm:text-2xl font-black text-orange-400/80 outline-none"})]})]})]})]}),s.jsx("div",{className:"col-span-1 lg:col-span-5",children:s.jsxs("div",{className:"bg-[#0a0a0a] border border-zinc-800/60 rounded-2xl sm:rounded-[32px] p-4 sm:p-6 lg:p-8 flex flex-col h-full shadow-2xl",children:[s.jsxs("h3",{className:"text-xs sm:text-sm font-black uppercase italic tracking-wider mb-4 sm:mb-8 flex items-center gap-2 sm:gap-3 text-emerald-500",children:[s.jsx(yc,{size:18,className:"sm:w-5 sm:h-5"})," Expertise PVGIS"]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6 lg:space-y-8 flex-grow",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("label",{className:"text-[9px] sm:text-[10px] font-bold text-emerald-600 uppercase mb-2 sm:mb-3 flex items-center gap-2 tracking-[0.1em]",children:[s.jsx(Yg,{size:12})," Localisation"]}),s.jsx("input",{type:"text",name:"address",value:i.address,onChange:u,placeholder:"Saisir l'adresse...",className:"w-full bg-[#111] border border-zinc-800 rounded-xl sm:rounded-2xl px-4 sm:px-6 py-4 sm:py-5 text-xs sm:text-sm font-bold outline-none focus:border-blue-500/40 transition-all shadow-lg"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"bg-black/40 border border-zinc-800 p-3 sm:p-5 rounded-xl sm:rounded-2xl",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-zinc-600 uppercase block mb-1",children:"Puissance (KWC)"}),s.jsx("input",{type:"number",step:"0.1",name:"puissanceInstallee",value:i.puissanceInstallee,onChange:u,className:"w-full bg-transparent text-2xl sm:text-3xl font-black text-emerald-600 outline-none"})]}),s.jsxs("div",{className:"bg-black/40 border border-zinc-800 p-3 sm:p-5 rounded-xl sm:rounded-2xl",children:[s.jsx("label",{className:"text-[8px] sm:text-[9px] font-bold text-emerald-500 uppercase block mb-1 italic",children:"Autocons %"}),s.jsx("input",{type:"number",name:"selfConsumption",value:i.selfConsumption,onChange:u,className:"w-full bg-transparent text-2xl sm:text-3xl font-black text-emerald-500 outline-none"})]})]}),s.jsxs("div",{className:"bg-[#111] border border-zinc-800 rounded-xl sm:rounded-2xl p-4 sm:p-6 lg:p-8 relative overflow-hidden group",children:[s.jsx("span",{className:"text-[8px] sm:text-[9px] font-black text-zinc-500 uppercase italic block mb-2 sm:mb-3 tracking-widest",children:"Production Estime"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-baseline gap-3",children:[s.jsx("span",{className:`text-4xl sm:text-5xl lg:text-6xl font-black tabular-nums tracking-tighter ${i.production==="0"?"text-zinc-800":"text-emerald-500"}`,children:i.production}),s.jsx("span",{className:"text-xs sm:text-sm font-black text-zinc-700 uppercase",children:"kWh"})]}),s.jsx("button",{onClick:c,className:"bg-emerald-500/10 border border-emerald-500/30 text-emerald-500 p-2 sm:p-3 rounded-lg sm:rounded-xl hover:bg-emerald-500/20 hover:border-emerald-500/50 transition-all",children:r?s.jsx(US,{className:"animate-spin w-5 h-5 sm:w-6 sm:h-6"}):s.jsx(ga,{size:20,className:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor"})})]})]})]}),s.jsx("div",{className:"mt-4 sm:mt-6 lg:mt-8 pt-4 sm:pt-6 border-t border-zinc-800/50 flex justify-between items-end",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:"text-[8px] sm:text-[9px] text-zinc-600 font-bold uppercase italic block tracking-widest",children:"Rendement de zone"}),s.jsxs("div",{className:"text-xl sm:text-2xl font-black text-emerald-500 tabular-nums",children:[i.ratioLocal||""," ",s.jsx("span",{className:"text-[9px] sm:text-[10px] text-zinc-700",children:"kWh/kWc"})]})]})})]})})]}),s.jsx("div",{className:"mt-8 sm:mt-12 flex flex-col items-center gap-4 sm:gap-6",children:s.jsxs("button",{onClick:()=>e(JSON.stringify(i)),className:"group relative bg-[#111] border border-zinc-800 hover:border-zinc-700 w-full max-w-[700px] py-3 sm:py-4 px-4 sm:px-6 rounded-full transition-all duration-300 shadow-2xl flex items-center justify-between",children:[s.jsx("div",{className:"flex-1 text-center",children:s.jsx("span",{className:"uppercase tracking-[0.2em] sm:tracking-[0.4em] text-sm sm:text-base lg:text-lg font-black italic text-zinc-300 group-hover:text-white transition-colors",children:"Lancer l'analyse technique"})}),s.jsx("div",{className:"bg-white rounded-full p-2 group-hover:scale-110 transition-transform shadow-[0_0_15px_rgba(255,255,255,0.2)]",children:s.jsx(nw,{className:"w-4 h-4 sm:w-5 sm:h-5 text-black"})})]})})]})},mx=[{q:"Pour bien comprendre un projet, vous prfrez :",answers:[{text:"tre rassur sur tous les aspects",scores:{senior:2,banquier:0,standard:1}},{text:"Voir les chiffres en dtail",scores:{senior:0,banquier:2,standard:1}},{text:"Partir d'exemples concrets",scores:{senior:1,banquier:0,standard:2}},{text:"Je ne sais pas / a dpend",scores:{senior:1,banquier:1,standard:1},neutral:!0}]},{q:"Ce qui compte le plus pour vous dans ce projet :",answers:[{text:"La fiabilit et la tranquillit",scores:{senior:2,banquier:1,standard:0}},{text:"La cohrence financire",scores:{senior:0,banquier:2,standard:1}},{text:"Des bnfices concrets visibles rapidement",scores:{senior:0,banquier:1,standard:2}},{text:"Je ne sais pas / a dpend",scores:{senior:1,banquier:1,standard:1},neutral:!0}]},{q:"Si vous deviez avancer aujourd'hui, ce serait parce que :",answers:[{text:"Vous tes certain de votre dcision",scores:{senior:2,banquier:1,standard:0}},{text:"Tout est clair et vrifi",scores:{senior:0,banquier:2,standard:1}},{text:"Le contexte est align pour avancer",scores:{senior:0,banquier:1,standard:2}},{text:"Je ne sais pas / a dpend",scores:{senior:1,banquier:1,standard:1},neutral:!0}]},{q:"Quand vous prenez une dcision importante :",answers:[{text:"Vous prenez le temps de tout vrifier",scores:{senior:2,banquier:1,standard:0}},{text:"Vous comparez toutes les options",scores:{senior:0,banquier:2,standard:1}},{text:"Vous agissez quand c'est vident",scores:{senior:0,banquier:1,standard:2}},{text:"Je ne sais pas / a dpend",scores:{senior:1,banquier:1,standard:1},neutral:!0}]}],p5={q:"Une dernire chose : face  une nouveaut, vous tes plutt :",answers:[{text:"Prudent  vous attendez de voir",scores:{senior:3,banquier:0,standard:0}},{text:"Analytique  vous voulez comprendre",scores:{senior:0,banquier:3,standard:0}},{text:"Pragmatique  si a marche, pourquoi pas",scores:{senior:0,banquier:0,standard:3}},{text:"Je ne sais pas / a dpend",scores:{senior:1,banquier:1,standard:1},neutral:!0}]};function m5(e){const t=Object.entries(e).sort((n,i)=>i[1]-n[1]);return t[0][1]-t[1][1]<=1?"hybride":t[0][0]}function iR(e){const t=e.senior>=5,r=e.standard>=5;return t&&r}function aR(e){return e>=2}function oR(e){return e>=3}function lR(e,t){return e==="banquier"&&t.banquier<4}function cR(e,t,r){if(e==="hybride"||e==="banquier"&&t.banquier<4)return"senior";const n=Object.entries(t).sort((u,d)=>d[1]-u[1]),i=n[0][0],o=n[0][1],c=t.senior;return i!=="senior"&&o-c<=2||r>=3?"senior":e}function uR(e,t){const r=Object.entries(t).sort((o,c)=>c[1]-o[1]),n=r[0][1],i=r[0][1]-r[1][1];return{peurDeSeTromper:t.senior>=6,besoinDeChiffres:t.banquier>=6,urgencePercue:t.standard>=6,indecision:i<=2,profilDominant:e,scoreMax:n,ecartProfils:i}}function dR(e,t,r,n){return{incoherentAnswers:iR(e),fatigueSuspected:aR(t),fatigueCritical:oR(t),profileUncertain:n.indecision,banquierFaible:lR(r,e)}}function hR({onProfileDetected:e}){const[t,r]=B.useState("quiz"),[n,i]=B.useState(0),[o,c]=B.useState({senior:0,banquier:0,standard:0}),[u,d]=B.useState(0);function h(y,g=!1){const S={senior:o.senior+(y.senior||0),banquier:o.banquier+(y.banquier||0),standard:o.standard+(y.standard||0)};c(S);const k=u+(g?1:0);d(k),n===mx.length-1?m5(S)==="hybride"?r("bonus"):b(S,k):i(n+1)}function p(y,g=!1){const S={senior:o.senior+(y.senior||0),banquier:o.banquier+(y.banquier||0),standard:o.standard+(y.standard||0)},k=u+(g?1:0);b(S,k)}function b(y,g){const S=m5(y),k=cR(S,y,g),E=uR(k,y),A=dR(y,g,S,E),L=A.incoherentAnswers||A.fatigueCritical||A.banquierFaible?"senior":k;r("done"),typeof e=="function"&&e({profile:L,signals:E,alerts:A,rawScores:y,neutralAnswersCount:g,timestamp:new Date().toISOString()})}return t==="done"?null:t==="bonus"?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 w-full",children:s.jsxs("div",{className:"w-full max-w-2xl mx-auto bg-zinc-900/50 backdrop-blur-md p-8 rounded-3xl border border-white/10 shadow-2xl",children:[s.jsx("div",{className:"flex gap-2 mb-6",children:[0,1,2,3,4].map(y=>s.jsx("div",{className:"h-1 flex-1 rounded-full bg-blue-500"},y))}),s.jsx("p",{className:"text-xs text-zinc-400 mb-4 italic",children:"Une dernire pour affiner  toujours sans bonne ou mauvaise rponse."}),s.jsx("p",{className:"text-[10px] text-blue-400/80 font-semibold uppercase tracking-wide mb-2",children:"QUESTION BONUS"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-8 leading-tight",children:p5.q}),s.jsx("div",{className:"space-y-4",children:p5.answers.map((y,g)=>s.jsx("button",{onClick:()=>{setTimeout(()=>p(y.scores,y.neutral),600)},className:"w-full p-5 bg-white/5 hover:bg-white/10 border border-white/10 text-left text-white rounded-2xl transition-all",children:y.text},g))})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 w-full",children:s.jsxs("div",{className:"w-full max-w-2xl mx-auto bg-zinc-900/50 backdrop-blur-md p-8 rounded-3xl border border-white/10 shadow-2xl",children:[s.jsx("div",{className:"flex gap-2 mb-6",children:[0,1,2,3].map(y=>s.jsx("div",{className:`h-1 flex-1 rounded-full transition-all ${y<=n?"bg-blue-500":"bg-white/10"}`},y))}),s.jsx("p",{className:"text-xs text-zinc-400 mb-4 italic",children:"Aucune bonne ou mauvaise rponse  juste pour adapter la manire dont on vous explique les choses."}),s.jsx("p",{className:"text-[10px] text-blue-400/80 font-semibold uppercase tracking-wide mb-2",children:"4 QUESTIONS  VOTRE SITUATION"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-8 leading-tight",children:mx[n].q}),s.jsx("div",{className:"space-y-4",children:mx[n].answers.map((y,g)=>s.jsx("button",{onClick:()=>{setTimeout(()=>h(y.scores,y.neutral),800)},className:"w-full p-5 bg-white/5 hover:bg-white/10 border border-white/10 text-left text-white rounded-2xl transition-all",children:y.text},g))})]})})}const jc=Nw("https://ugwqfvwclwctzgtxcakp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVnd3FmdndjbHdjdHpndHhjYWtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYyNDg4OTgsImV4cCI6MjA4MTgyNDg5OH0.sx9z3p3svG5V6djfzUXtzdOwbUU3wjIVaAyIjRoFzaE");console.log(" URL Supabase:","https://ugwqfvwclwctzgtxcakp.supabase.co");console.log(" Cl existe:",!0);console.log(" Client cr:",!!jc);typeof window<"u"&&(window.supabaseClient=jc);const Yi=({id:e,title:t,icon:r,defaultOpen:n=!1,children:i,onOpen:o})=>{const[c,u]=B.useState(n),d=()=>{const h=!c;u(h),h&&o&&o(e)};return s.jsxs("div",{className:"mb-6 bg-zinc-900/50 border border-white/10 rounded-[32px] overflow-hidden",children:[s.jsxs("button",{onClick:d,className:"w-full flex items-center justify-between p-6 hover:bg-white/5 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[r,s.jsx("h3",{className:"text-lg font-bold text-white",children:t})]}),s.jsx("div",{className:`transform transition-transform ${c?"rotate-180":""}`,children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),c&&s.jsx("div",{className:"p-6 pt-0",children:i})]})};function fR(){var be,Ee,fe;const[e,t]=B.useState(null),[r,n]=B.useState(null),[i,o]=B.useState(!0),[c,u]=B.useState(null),[d,h]=B.useState(!1),[p,b]=B.useState(0),[y,g]=B.useState(.5),[S,k]=B.useState("financement"),[E,A]=B.useState("financement"),[L,P]=B.useState("mensuel"),[R,X]=B.useState(!1),{token:Q}=Y3(),ae=Q,[se,V]=B.useState(!1);if(B.useEffect(()=>{(async()=>{var Oe,je,Ve;try{if(!Q)throw new Error("Lien invalide (Token manquant)");let{data:ze,error:K}=await jc.from("studies").select("id, status, study_data, expires_at, created_at").eq("guest_view_token",Q).single();if((!ze||K)&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(Q)){console.log(" Fallback: recherche par ID pour",Q);const{data:vt,error:tt}=await jc.from("studies").select("id, status, study_data, expires_at, created_at").eq("id",Q).single();vt&&!tt&&(ze=vt,K=null)}if(K)throw K;if(!ze)throw new Error("tude introuvable");if(K)throw K;if(!ze)throw new Error("tude introuvable");ze.status==="signed"&&V(!0);try{await jc.rpc("increment_opened_count",{study_uuid:ze.id}),await jc.from("tracking_events").insert({study_id:ze.id,event_type:"view_study"})}catch(We){console.error("View tracking error:",We)}n(ze),t(ze.study_data),console.log(" DATA LOADED:",ze.study_data),console.log(" PROD:",(Oe=ze.study_data)==null?void 0:Oe.prod),console.log(" CONSO:",(je=ze.study_data)==null?void 0:je.conso),console.log(" AUTOCONSO %:",(Ve=ze.study_data)==null?void 0:Ve.a),console.log(" TOUTES LES PROPRITS:",Object.keys(ze.study_data)),o(!1)}catch(ze){console.error("Erreur chargement tude:",ze),u(ze.message||"Erreur inconnue"),o(!1)}})()},[ae]),B.useEffect(()=>{if(!(r!=null&&r.expires_at))return;const me=()=>{const je=Date.now(),ze=new Date(r.expires_at).getTime()-je;return Math.max(0,Math.floor(ze/1e3))};b(me());const Oe=setInterval(()=>{const je=me();b(je),je===0&&h(!0)},1e3);return()=>clearInterval(Oe)},[r==null?void 0:r.expires_at]),B.useEffect(()=>{if(!(e!=null&&e.conso)||!(e!=null&&e.elecPrice))return;const me=e.conso*e.elecPrice/365/24/3600,Oe=setInterval(()=>{g(je=>je+me)},100);return()=>clearInterval(Oe)},[e==null?void 0:e.conso,e==null?void 0:e.elecPrice]),i)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(BS,{size:48,className:"text-blue-500 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-white text-xl",children:"Chargement de votre tude..."})]})});if(c)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-red-950/60 border-2 border-red-500/40 rounded-3xl p-8 max-w-md text-center",children:[s.jsx(jd,{size:64,className:"text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:" ERREUR"}),s.jsx("p",{className:"text-red-200 mb-4",children:c})]})});if(!e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:s.jsxs("div",{className:"text-center",children:[s.jsx(bh,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Donnes manquantes"}),s.jsx("p",{className:"text-slate-400",children:"L'tude n'a pas pu tre charge correctement."})]})});if(!e.details||!e.detailsCash)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:s.jsxs("div",{className:"text-center",children:[s.jsx(bh,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"tude incomplte"}),s.jsx("p",{className:"text-slate-400",children:"Cette tude ne contient pas les donnes ncessaires pour un affichage certifi."})]})});const re={n:e.n||"Client",e:e.e||0,installCost:e.installCost||e.ic||0,cashApport:e.cashApport||e.ca||0,m:e.m||0,t:e.t||0,d:e.d||0,prod:e.prod||e.p||0,conso:Number(e.conso||e.c||0),selfCons:e.selfCons||e.a||0,installedPower:e.installedPower||e.kWc||0,elecPrice:e.elecPrice||e.pe||.25,projectionYears:e.projectionYears||e.py||25,ga:e.ga||[],mode:e.mode||"financement",warrantyMode:e.warrantyMode||"performance",breakEven:e.breakEven||null,averageYearlyGain:e.averageYearlyGain||null,totalSpendNoSolar:e.totalSpendNoSolar||null,totalSpendSolar:e.totalSpendSolar||null,greenValue:e.greenValue||null,details:e.details||[],roiPercent:e.roiPercent??null,detailsCash:e.detailsCash||[]},T=E==="financement"?re.details:re.detailsCash,F=re.breakEven;(be=T[re.projectionYears-1])!=null&&be.cumulativeSavings;const z=me=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(me),H=me=>new Intl.NumberFormat("fr-FR").format(me),ve=Math.floor(p/86400),ye=Math.floor(p%86400/3600),xe=Math.floor(p%3600/60),ie=p%60,he=((Ee=E==="financement"?re.details:re.detailsCash)==null?void 0:Ee[0])||null,G=he?he.edfBillWithoutSolar/12:null,ce=he!=null&&he.creditPayment?he.creditPayment/12:0,I=he?he.edfResidue/12:null,J=he?E==="cash"?he.totalWithSolar/12:ce+I:null;T==null||T.map(me=>({year:me.year,cumulativeSpendNoSolar:me.cumulativeSpendNoSolar,cumulativeSpendSolar:me.cumulativeSpendSolar}));const Z="Cannes",le="+336683623329",ue=/iPhone|Android/i.test(navigator.userAgent);return d?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white p-8",children:s.jsxs("div",{className:"max-w-xl text-center",children:[s.jsx("div",{className:"text-5xl mb-6",children:""}),s.jsx("h1",{className:"text-3xl font-black mb-4",children:"Offre expire"}),s.jsxs("p",{className:"text-white/70 text-lg leading-relaxed",children:["Le dlai de validit de cette tude est dpass.",s.jsx("br",{}),"Les conditions tarifaires ne sont plus garanties."]}),s.jsx("p",{className:"text-white/40 text-sm mt-6",children:"Merci de contacter votre conseiller pour actualiser l'offre."})]})}):se?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white p-8",children:s.jsxs("div",{className:"max-w-xl text-center",children:[s.jsx("div",{className:"text-5xl mb-6",children:""}),s.jsx("h1",{className:"text-3xl font-black mb-4",children:"Dossier scuris"}),s.jsxs("p",{className:"text-white/70 text-lg leading-relaxed",children:["Ce projet a dj t valid avec votre conseiller.",s.jsx("br",{}),"Votre dossier est en cours de traitement administratif."]}),s.jsx("p",{className:"text-white/40 text-sm mt-6",children:"Vous serez contact prochainement pour la suite."})]})}):s.jsx("div",{className:"min-h-screen bg-[#020202] text-white p-4 md:p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-8",children:[s.jsx("div",{className:"text-xl font-black italic text-white/20 uppercase",children:"EDF SOLUTIONS SOLAIRES"}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-500/10 border border-blue-500/20 rounded-full",children:[s.jsx(hu,{size:12,className:"text-blue-400"}),s.jsx("span",{className:"text-[10px] font-black uppercase text-blue-400",children:"Accs Certifi"})]})]}),s.jsx("h1",{className:"text-5xl font-black italic uppercase leading-none mb-2",children:"VOTRE TUDE SOLAIRE."}),s.jsx("div",{className:"h-1.5 w-20 bg-blue-600 mb-6"}),s.jsxs("p",{className:"text-slate-400 text-sm font-medium mb-8 italic uppercase",children:["Prpare pour"," ",s.jsx("span",{className:"text-white font-black underline decoration-blue-500",children:re.n})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-950/60 to-orange-900/40 border border-orange-500/40 rounded-[32px] p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(fu,{className:"text-orange-400",size:20}),s.jsx("span",{className:"text-orange-300 text-xs font-black uppercase",children:"Validit du cadre tarifaire"})]}),s.jsx("div",{className:"text-white text-sm font-medium mb-6",children:"Conditions actuelles valables jusqu'au :"}),s.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[{val:ve,label:"JOURS"},{val:ye,label:"H"},{val:xe,label:"MIN"},{val:ie,label:"SEC"}].map((me,Oe)=>s.jsxs("div",{className:"bg-black/60 border border-orange-500/20 rounded-xl p-3 text-center",children:[s.jsx("div",{className:"text-3xl font-black text-orange-400",children:String(me.val).padStart(2,"0")}),s.jsx("div",{className:"text-[8px] text-slate-500 uppercase font-bold mt-1",children:me.label})]},Oe))}),s.jsx("div",{className:"text-xs text-orange-200/70 italic text-center",children:"Paramtres tarifaires garantis dans ce cadre"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-zinc-900 to-black border border-white/20 rounded-[40px] p-8 mb-8",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-[10px] font-black uppercase text-emerald-400 block mb-2",children:"Gain Net Projet"}),s.jsxs("span",{className:"text-xs text-slate-500",children:["Sur ",(e==null?void 0:e.projectionYears)||20," ans"]})]}),s.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-2xl",children:s.jsx(wc,{className:"text-emerald-400",size:24})})]}),s.jsxs("div",{className:"text-6xl font-black text-emerald-400 text-center mb-6",children:[re.e>0?"+":"",Number(re.e).toLocaleString("fr-FR"),""]})]}),s.jsx(Yi,{id:"securite-juridique",title:"Scurit EDF  Groupe d'tat",icon:s.jsx(Vx,{className:"text-blue-400"}),defaultOpen:!0,children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-950/40 to-indigo-950/40 border-2 border-blue-500/30 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"bg-blue-600 p-3 rounded-lg",children:s.jsx(oS,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Vous tes accompagn par EDF SOLUTIONS SOLAIRES"}),s.jsx("p",{className:"text-slate-300 leading-relaxed",children:"Filiale  100% du groupe EDF, entreprise publique franaise. Capital social de 36 millions d'euros, garanties institutionnelles, prennit assure par l'tat franais."})]})]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-black/40 border-2 border-emerald-500/30 rounded-lg p-5 hover:border-emerald-400 transition-colors",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx(Fv,{className:"w-6 h-6 text-emerald-400 flex-shrink-0 mt-1"}),s.jsx("h4",{className:"font-bold text-white",children:"Garantie dcennale obligatoire"})]}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"Assurance sur 10 ans couvrant tout vice ou dfaut affectant la solidit de l'installation ou la rendant impropre  sa destination."})]}),s.jsxs("div",{className:"bg-black/40 border-2 border-blue-500/30 rounded-lg p-5 hover:border-blue-400 transition-colors",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx(hu,{className:"w-6 h-6 text-blue-400 flex-shrink-0 mt-1"}),s.jsx("h4",{className:"font-bold text-white",children:"Garantie de rendement panneau"})]}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"Minimum 87% de rendement garanti aprs 30 ans d'exploitation. Remplacement gratuit en cas de non-conformit."})]}),s.jsxs("div",{className:"bg-black/40 border-2 border-purple-500/30 rounded-lg p-5 hover:border-purple-400 transition-colors",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx(ga,{className:"w-6 h-6 text-purple-400 flex-shrink-0 mt-1"}),s.jsx("h4",{className:"font-bold text-white",children:"Garantie panneaux, onduleur  vie, pices, main d'oeuvre et dplacement"})]}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"Remplacement ou rparation gratuite  vie"})]}),s.jsxs("div",{className:"bg-black/40 border-2 border-orange-500/30 rounded-lg p-5 hover:border-orange-400 transition-colors",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx(Bx,{className:"w-6 h-6 text-orange-400 flex-shrink-0 mt-1"}),s.jsx("h4",{className:"font-bold text-white",children:"Garantie de rachat tat"})]}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"Obligation d'achat par EDF OA pendant 20 ans, tarif fixe garanti par arrt ministriel."})]})]}),s.jsx("div",{className:"bg-slate-900/40 border border-slate-700 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-slate-300 leading-relaxed",children:[s.jsx("span",{className:"font-semibold text-white",children:"Important :"})," ","Ces garanties sont des obligations lgales ou contractuelles fermes, pas des engagements commerciaux. Elles sont opposables juridiquement."]})})]})}),s.jsx(Yi,{id:"repartition",title:"Origine de l'lectricit de votre maison",icon:s.jsx(ga,{className:"text-blue-400"}),defaultOpen:!1,children:s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-[32px] p-6 sm:p-8 space-y-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-black text-white mb-2",children:"Fonctionnement nergtique aprs installation"}),s.jsx("p",{className:"text-slate-400 text-sm leading-relaxed max-w-3xl",children:"Ce module montre concrtement comment se rpartit l'lectricit consomme par votre maison une fois l'installation en service."})]}),s.jsxs("div",{className:"bg-[#050505] border border-white/10 rounded-3xl p-6 sm:p-8 text-center",children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 mb-2",children:"Taux de couverture nergtique"}),s.jsxs("div",{className:"text-6xl sm:text-7xl font-black text-white tracking-tighter",children:[Math.round(((e==null?void 0:e.prod)||0)/((e==null?void 0:e.conso)||1)*100)," %"]}),s.jsx("p",{className:"text-slate-300 mt-2 text-sm",children:"de votre consommation lectrique est produite directement par votre maison."}),s.jsx("div",{className:"w-full h-3 bg-white/5 rounded-full overflow-hidden mt-5",children:s.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-700",style:{width:`${Math.round(((e==null?void 0:e.prod)||0)/((e==null?void 0:e.conso)||1)*100)}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-black/60 border border-white/10 rounded-2xl p-5",children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 mb-1",children:"Consommation actuelle"}),s.jsxs("p",{className:"text-3xl font-black text-white",children:[((e==null?void 0:e.conso)||0).toLocaleString("fr-FR")," kWh/an"]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-red-500",style:{width:"100%"}})}),s.jsx("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:"Rfrence 100%  votre dpendance actuelle au rseau"})]}),s.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Ce que vous achetez au rseau chaque anne aujourd'hui."}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5 text-slate-300 text-sm",children:[(((e==null?void 0:e.conso)||0)*((e==null?void 0:e.elecPrice)||.25)).toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0})," ","/ an"]})]}),s.jsxs("div",{className:"bg-black/60 border border-emerald-500/20 rounded-2xl p-5",children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 mb-1",children:"Production Solaire autoconsomme"}),s.jsxs("p",{className:"text-3xl font-black text-emerald-400",children:[(((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100)).toLocaleString("fr-FR",{maximumFractionDigits:0})," ","kWh/an"]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-700",style:{width:`${Math.round(((e==null?void 0:e.prod)||0)/((e==null?void 0:e.conso)||1)*100)}%`}})}),s.jsxs("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:[Math.round(((e==null?void 0:e.prod)||0)/((e==null?void 0:e.conso)||1)*100),"% de votre consommation couverte"]})]}),s.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Ce que vous produisez et consommez directement."}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5 text-emerald-400 text-sm font-bold",children:[""," ",(((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100)*((e==null?void 0:e.elecPrice)||.25)).toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0})," ","/ an conomiss"]}),s.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"lectricit que vous ne payez plus"})]}),s.jsxs("div",{className:"bg-black/60 border border-blue-500/20 rounded-2xl p-5",children:[s.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 mb-1",children:"Surplus inject rseau"}),s.jsxs("p",{className:"text-3xl font-black text-blue-400",children:[(((e==null?void 0:e.prod)||0)*(1-((e==null?void 0:e.selfCons)||0)/100)).toLocaleString("fr-FR",{maximumFractionDigits:0})," ","kWh/an"]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"w-full h-2 bg-white/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 transition-all duration-700",style:{width:`${100-((e==null?void 0:e.selfCons)||0)}%`}})}),s.jsx("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:"Part de la production automatiquement valorise par EDF"})]}),s.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:["Non consomm, vendu automatiquement. ",s.jsx("br",{}),"Contrat d'Obligation d'Achat 20 ans  cadre lgal. ",s.jsx("br",{}),"Tarif rglement : 0.04/kWh"]}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5 text-blue-400 text-sm font-bold",children:[""," ",(((e==null?void 0:e.prod)||0)*(1-((e==null?void 0:e.selfCons)||0)/100)*.04).toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0})," ","/ an"]})]})]}),s.jsx("div",{className:"bg-blue-950/20 border-l-4 border-blue-500 rounded-xl p-5",children:s.jsxs("p",{className:"text-slate-200 text-sm leading-relaxed",children:[s.jsx("strong",{className:"text-white",children:"Fonctionnement rseau :"}),s.jsx("br",{}),"L'lectricit produite est consomme automatiquement dans votre maison. Le surplus est inject et rachet par EDF dans le cadre du contrat d'Obligation d'Achat (tat, 20 ans). Lorsque la production est insuffisante, le rseau prend le relais instantanment.",s.jsx("br",{}),s.jsx("br",{}),s.jsx("span",{className:"text-blue-300 font-semibold",children:"Aucun rglage. Aucun pilotage. Continuit de service garantie."})]})}),s.jsxs("div",{className:"text-center pt-2",children:[s.jsx("p",{className:"text-slate-400 italic text-sm",children:"Vos habitudes ne changent pas."}),s.jsx("p",{className:"text-white font-bold italic text-lg",children:"Seule l'origine de votre lectricit change."})]})]})}),s.jsx(Yi,{id:"synthese",title:"Vue d'ensemble  Votre projet en 10 secondes",icon:s.jsx($x,{className:"text-indigo-400"}),defaultOpen:!0,children:s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-gradient-to-br from-indigo-950/40 to-purple-950/40 border-2 border-indigo-500/30 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(zf,{className:"w-5 h-5 text-indigo-400"}),"Cohrence globale du projet"]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-black/40 rounded-lg p-4 border border-indigo-500/20",children:[s.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Production annuelle"}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[H(re.prod)," kWh"]}),s.jsx("div",{className:"text-xs text-emerald-400 mt-1",children:" Certifie"})]}),s.jsxs("div",{className:"bg-black/40 rounded-lg p-4 border border-indigo-500/20",children:[s.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Couverture besoins"}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[Math.round((re.prod||0)/(re.conso||1)*100),"%"]}),s.jsx("div",{className:"text-xs text-blue-400 mt-1",children:"de votre consommation"})]}),s.jsxs("div",{className:"bg-black/40 rounded-lg p-4 border border-indigo-500/20",children:[s.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Retour investissement"}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[F," ans"]}),s.jsx("div",{className:"text-xs text-purple-400 mt-1",children:"puis gain net"})]})]}),s.jsx("div",{className:"bg-black/40 rounded-lg p-4 border-l-4 border-emerald-500",children:s.jsxs("p",{className:"text-slate-300 leading-relaxed",children:[s.jsx("span",{className:"font-semibold text-white",children:"Verdict :"})," ","Installation dimensionne pour couvrir"," ",Math.round((re.prod||0)/(re.conso||1)*100),"% de vos besoins annuels. Budget mensuel infrieur  votre facture actuelle ds la premire anne, puis conomies nettes aprs ",F," ans. Projet conomiquement cohrent et techniquement scuris."]})})]})})}),s.jsx(Yi,{id:"projet-securise",title:"Votre projet solaire est scuris  Zro risque client",icon:s.jsx(zs,{className:"text-blue-400"}),defaultOpen:!0,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl p-6",children:[s.jsx("h4",{className:"text-xl font-black text-white uppercase mb-3",children:"TOUTES LES DMARCHES PRISES EN CHARGE"}),s.jsx("p",{className:"text-sm text-slate-400 italic mb-4",children:"Ces dmarches existent dans tous les projets solaires. La diffrence EDF : vous n'en grez aucune."}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{step:"1",title:"Urbanisme & Mairie",desc:"Dclaration pralable",icon:Uf},{step:"2",title:"ABF",desc:"Validation zone protge",icon:ud},{step:"3",title:"Diagnostic Amiante",desc:"Inclus si ncessaire",icon:CS},{step:"4",title:"Installation",desc:"Pose par installateurs RGE",icon:Wx},{step:"5",title:"Consuel",desc:"Conformit lectrique",icon:zs},{step:"6",title:"ENEDIS",desc:"Raccordement & Linky",icon:ga},{step:"7",title:"Contrat OA",desc:"EDF Obligation d'Achat",icon:$x},{step:"8",title:"Mise en production",desc:"Suivi et monitoring",icon:yc}].map((me,Oe)=>{const je=me.icon;return s.jsx("div",{className:"bg-black/20 border border-white/5 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:s.jsx(je,{className:"text-blue-400",size:18})}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-xs text-slate-500",children:["TAPE ",me.step]}),s.jsx("h5",{className:"text-sm font-bold text-white",children:me.title}),s.jsx("p",{className:"text-xs text-slate-400",children:me.desc})]})]})},Oe)})})]}),s.jsxs("div",{className:"bg-emerald-950/20 border border-emerald-500/30 rounded-xl p-6",children:[s.jsx("h4",{className:"text-2xl font-black text-white mb-3",children:"ENGAGEMENT EDF  ZRO RISQUE ADMINISTRATIF"}),s.jsxs("p",{className:"text-lg text-emerald-300 font-bold",children:["Si un blocage administratif empche l'installation,",s.jsxs("span",{className:"text-white",children:[" ","aucun paiement n'est exigible"]}),"."]})]})]})}),s.jsx(Yi,{id:"securisation",title:"Administratif pris en charge  Vous n'avez rien  grer",icon:s.jsx(Bx,{className:"text-blue-400"}),defaultOpen:!0,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-950/40 border-2 border-blue-500/30 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(Fv,{className:"w-5 h-5 text-blue-400"}),"Zro dmarche administrative de votre ct"]}),s.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:"EDF SOLUTIONS SOLAIRES prend en charge l'intgralit des dmarches administratives, de la dclaration pralable de travaux jusqu'au raccordement Enedis."})]}),s.jsx("div",{className:"space-y-3",children:[{label:"Dclaration pralable mairie",status:"EDF SOLUTIONS SOLAIRES"},{label:"Dossier raccordement Enedis",status:"EDF SOLUTIONS SOLAIRES"},{label:"Convention autoconsommation",status:"EDF SOLUTIONS SOLAIRES"},{label:"Contrat obligation d'achat",status:"EDF SOLUTIONS SOLAIRES"},{label:"Certificat Consuel",status:"EDF SOLUTIONS SOLAIRES"},{label:"Mise en service compteur",status:"Automatique"}].map((me,Oe)=>s.jsxs("div",{className:"flex items-center justify-between bg-black/40 border border-slate-700 rounded-lg p-4 hover:border-blue-500/50 transition-colors",children:[s.jsx("span",{className:"text-slate-300 font-medium",children:me.label}),s.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-400 text-sm font-semibold rounded-full border border-blue-500/30",children:me.status})]},Oe))}),s.jsx("div",{className:"bg-emerald-950/30 border border-emerald-500/30 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-slate-300 leading-relaxed",children:[s.jsx("span",{className:"font-semibold text-emerald-400",children:"Important :"})," ","Vous recevrez uniquement les notifications de suivi par email. Aucune signature, aucun dplacement, aucun appel administratif requis de votre part."]})})]})}),s.jsx(Yi,{id:"financial-context",title:"Comment lire les chiffres qui suivent",icon:s.jsx(Ya,{className:"text-blue-400"}),defaultOpen:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-950/40 border-l-4 border-blue-500 rounded-r-lg p-5",children:[s.jsxs("p",{className:"text-slate-300 leading-relaxed mb-3",children:["Les chiffres ci-dessous comparent votre situation"," ",s.jsx("strong",{className:"text-white",children:"AVEC"})," et"," ",s.jsx("strong",{className:"text-white",children:"SANS"})," solaire."]}),s.jsx("p",{className:"text-slate-300 leading-relaxed font-medium",children:"Ce n'est pas un cot supplmentaire : c'est un arbitrage entre deux faons de payer votre lectricit."})]}),s.jsx("div",{className:"bg-black/40 border border-slate-700 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Xf,{className:"w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5"}),s.jsxs("p",{className:"text-sm text-slate-300 leading-relaxed",children:[s.jsx("strong",{className:"text-white",children:"Principe :"})," Votre mensualit solaire remplace progressivement votre facture EDF traditionnelle. Aprs remboursement, vous ne payez plus que les quelques kWh rsiduels que vous achetez au rseau."]})]})})]})}),s.jsx(Yi,{id:"budget",title:"Structure du Budget (Mensuel)",icon:s.jsx(xd,{className:"text-slate-400"}),defaultOpen:!1,children:s.jsxs("div",{className:"bg-black/40 p-8 rounded-[32px] border border-white/10 backdrop-blur-xl",children:[s.jsx("div",{className:"text-[10px] text-slate-500 italic mb-4",children:"On regarde simplement comment votre budget actuel se rorganise  sans nouvelle charge."}),s.jsxs("div",{className:"flex items-center justify-between mb-10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(xd,{className:"text-slate-400 w-6 h-6"}),s.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tight",children:"STRUCTURE DU BUDGET (MENSUEL)"})]}),s.jsx("div",{className:"bg-black/60 backdrop-blur-md px-4 py-1.5 rounded text-[10px] font-bold text-slate-400 border border-white/10 uppercase",children:"Anne 1  Comparatif"})]}),s.jsxs("div",{className:"space-y-12",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-end mb-6",children:[s.jsx("span",{className:"text-[13px] font-bold text-slate-400 uppercase tracking-widest",children:"Situation actuelle"}),s.jsxs("span",{className:"text-5xl font-black text-white tracking-tighter drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]",children:[z(G||0)," ",s.jsx("span",{className:"text-2xl opacity-50",children:"/MOIS"})]})]}),s.jsx("p",{className:"text-[11px] text-slate-500 italic mb-4 max-w-2xl",children:"Concrtement, on ne rajoute rien dans votre budget. On ne paie rien en plus : on remplace une dpense existante par quelque chose qui vous reste."}),s.jsxs("div",{className:"relative h-28 bg-gradient-to-r from-[#e14d4d] via-[#d92d2d] to-[#b32424] rounded-2xl shadow-2xl overflow-hidden flex items-center px-8 border border-white/10",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/10 to-transparent"}),s.jsx("span",{className:"relative text-white font-black text-2xl uppercase tracking-wider",children:"FACTURE ACTUELLE"}),s.jsx("span",{className:"ml-auto relative text-white/30 font-black text-xl uppercase tracking-tight",children:"100% DPENSES  SANS RETOUR"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-end mb-6",children:[s.jsx("span",{className:"text-[13px] font-bold text-slate-400 uppercase tracking-widest",children:"Installation EDF  Mise en place"}),s.jsxs("span",{className:"text-5xl font-black text-white tracking-tighter drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]",children:[z(J||0)," ",s.jsx("span",{className:"text-2xl opacity-50",children:"/MOIS"})]})]}),s.jsx("p",{className:"text-[11px] text-slate-500 italic mb-4",children:"Montant fixe  identique  ce que vous validez dj aujourd'hui. Rien ne change dans votre quotidien : c'est simplement organis autrement."}),s.jsxs("div",{className:"relative h-28 bg-[#1a1f2e] rounded-2xl border border-white/10 overflow-hidden shadow-2xl flex",children:[s.jsxs("div",{className:"relative bg-gradient-to-b from-[#3a445e] to-[#232a3d] flex flex-col justify-center px-6 transition-all duration-700",style:{width:`${(ce||0)/(J||1)*100}%`},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-white/5"}),s.jsx("span",{className:"relative text-[9px] font-bold text-slate-300 uppercase tracking-widest mb-1",children:"Financement EDF"}),s.jsx("span",{className:"relative text-white font-black text-2xl",children:z(ce||0)})]}),s.jsx("div",{className:"w-1.5 bg-black/60 shadow-[1px_0_0_rgba(255,255,255,0.1)]"}),s.jsxs("div",{className:"relative bg-gradient-to-b from-[#1e2536] to-[#141a26] flex-1 flex flex-col justify-center px-6 transition-all duration-700",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-white/5"}),s.jsx("span",{className:"relative text-[9px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Reste  charge"}),s.jsx("span",{className:"relative text-slate-300 font-black text-2xl",children:z(I||0)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-12 mt-10 px-2",children:[s.jsxs("div",{className:"border-l-[3px] border-slate-500 pl-5",children:[s.jsx("h4",{className:"text-[11px] font-black text-white uppercase tracking-widest mb-2",children:"Patrimoine personnel"}),s.jsx("p",{className:"text-[10px] text-slate-500 leading-relaxed italic",children:"C'est de l'pargne : cet argent rembourse votre matriel et valorise votre maison."})]}),s.jsxs("div",{className:"border-l-[3px] border-slate-700 pl-5",children:[s.jsx("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Service rseau"}),s.jsx("p",{className:"text-[10px] text-slate-500 leading-relaxed italic",children:"La part minime verse  EDF pour l'abonnement et la scurit du rseau."})]})]})]})]})]})}),s.jsx(Yi,{id:"calendrier",title:"Calendrier de Mise en Service",icon:s.jsx(Ka,{className:"text-blue-400"}),defaultOpen:!1,children:s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-[32px] p-6 sm:p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-3 bg-blue-500/10 rounded-xl",children:s.jsx(Ka,{className:"text-blue-400",size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Dlai de mise en route  Installation sous 6-8 semaines"}),s.jsx("p",{className:"text-xs text-slate-500 mt-1 italic",children:" partir de cette date, l'installation est oprationnelle."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-slate-900/40 border border-white/10 rounded-xl p-5",children:[s.jsx("div",{className:"text-slate-400 text-[10px] font-medium mb-2 uppercase tracking-wider",children:"Cot nergtique actuel"}),s.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:z(re.totalSpendNoSolar||0)}),s.jsxs("div",{className:"text-slate-500 text-[10px]",children:["Sur ",re.projectionYears," ans"]})]}),s.jsxs("div",{className:"bg-slate-900/40 border border-white/10 rounded-xl p-5",children:[s.jsx("div",{className:"text-slate-400 text-[10px] font-medium mb-2 uppercase tracking-wider",children:"Production anne 1"}),s.jsx("div",{className:"text-2xl font-bold text-emerald-400 mb-1",children:z((re.prod||0)*re.elecPrice)}),s.jsx("div",{className:"text-slate-500 text-[10px]",children:"Valeur de l'lectricit produite"})]}),s.jsxs("div",{className:"bg-slate-900/40 border border-emerald-500/20 rounded-xl p-5",children:[s.jsxs("div",{className:"text-slate-400 text-[10px] font-medium mb-2 uppercase tracking-wider",children:["Production ",re.projectionYears," ans"]}),s.jsx("div",{className:"text-2xl font-bold text-emerald-400 mb-1",children:z((re.prod||0)*re.elecPrice*re.projectionYears)}),s.jsx("div",{className:"text-slate-500 text-[10px]",children:"nergie produite totale"})]}),s.jsxs("div",{className:"bg-slate-900/40 border border-blue-500/20 rounded-xl p-5",children:[s.jsxs("div",{className:"text-slate-400 text-[10px] font-medium mb-2 uppercase tracking-wider",children:["Gain net ",re.projectionYears," ans"]}),s.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-1",children:z(re.e||0)}),s.jsx("div",{className:"text-slate-500 text-[10px]",children:"Aprs remboursement crdit"})]})]}),s.jsxs("div",{className:"bg-blue-950/20 border-l-4 border-blue-500 p-4 rounded-xl mb-6",children:[s.jsx("p",{className:"text-slate-300 text-[11px] leading-relaxed italic",children:"Une fois le dossier valid, le projet entre dans le processus de mise en service. Les dlais observs sont en moyenne de six  huit semaines."}),s.jsx("p",{className:"text-slate-300 text-[11px] leading-relaxed italic mt-2",children:"Durant cette priode, l'ensemble des dmarches techniques, administratives et de planification est pris en charge par EDF et ses partenaires."})]}),s.jsxs("div",{className:"p-5 bg-black/30 rounded-xl border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-slate-400 mb-4 uppercase tracking-wider",children:[s.jsx(lh,{className:"w-4 h-4"}),"Impact du calendrier sur le dbut des conomies :"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-slate-300 font-bold text-lg",children:z((re.prod||0)*re.elecPrice)}),s.jsx("div",{className:"text-slate-500 text-[10px] mt-1",children:"Production anne 1"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-slate-300 font-bold text-lg",children:z((re.prod||0)*re.elecPrice*3)}),s.jsx("div",{className:"text-slate-500 text-[10px] mt-1",children:"Cumul 3 ans"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-slate-300 font-bold text-lg",children:z((re.prod||0)*re.elecPrice*5)}),s.jsx("div",{className:"text-slate-500 text-[10px] mt-1",children:"Cumul 5 ans"})]})]})]}),s.jsx("p",{className:"text-[10px] text-slate-500 italic mt-6 text-center",children:"C'est juste du calendrier. La dcision vous appartient."})]})}),s.jsx(Yi,{id:"effet-calendrier",title:"Lecture du Temps",icon:s.jsx(Ka,{className:"text-slate-400"}),defaultOpen:!1,children:s.jsxs("div",{className:"bg-[#0b0d10] border border-white/10 rounded-2xl p-6 md:p-8",children:[s.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"Impact d'une mise en service diffre de 6 mois"}),s.jsx("p",{className:"text-sm text-slate-400 mb-8",children:"Comparaison objective de deux calendriers de dmarrage."}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-black/40 border border-emerald-500/20 p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ka,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-xs text-emerald-400 uppercase font-bold tracking-wider",children:"Scnario A  Validation immdiate"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Mise en service"}),s.jsx("div",{className:"text-lg font-black text-white",children:"6-8 semaines"}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"dlai administratif + installation"})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5",children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Production active sur les 6 mois"}),s.jsx("div",{className:"text-3xl font-black text-emerald-400",children:"~4-5 mois"}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"d'conomies gnres"})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5",children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Production valorise sur 6 mois"}),s.jsx("div",{className:"text-3xl font-black text-white",children:z((re.prod||0)*re.elecPrice/2)})]})]})]}),s.jsxs("div",{className:"bg-black/40 border border-slate-500/20 p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ka,{className:"w-4 h-4 text-slate-400"}),s.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Scnario B  Validation diffre de 6 mois"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Mise en service"}),s.jsx("div",{className:"text-lg font-black text-white",children:"6 mois + 6-8 semaines"}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"attente + dlai administratif + installation"})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5",children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Production active sur les 6 mois"}),s.jsx("div",{className:"text-3xl font-black text-slate-400",children:"0 mois"}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"installation pas encore lance"})]}),s.jsxs("div",{className:"pt-4 border-t border-white/5",children:[s.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1",children:"Production valorise sur 6 mois"}),s.jsx("div",{className:"text-3xl font-black text-white",children:"0 "})]})]})]})]}),s.jsx("div",{className:"bg-black/60 border border-white/10 p-6 rounded-xl",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-center",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wider mb-2",children:"Diffrentiel conomique entre les deux scnarios"}),s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"Le scnario A permet d'activer la production pendant ~4-5 mois sur cette priode, gnrant de la valeur. Le scnario B maintient la situation actuelle pendant 6 mois supplmentaires."})]}),s.jsxs("div",{className:"text-center md:text-right",children:[s.jsx("div",{className:"text-4xl font-black text-white",children:z((re.prod||0)*re.elecPrice/2)}),s.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"d'cart sur 6 mois"})]})]})}),s.jsx("div",{className:"mt-6 bg-black/40 border-l-2 border-slate-600 p-5 rounded-r-xl",children:s.jsxs("p",{className:"text-xs text-slate-300 leading-relaxed",children:[s.jsx("strong",{className:"text-white",children:"Lecture :"})," les deux scnarios sont viables. La seule variable est le calendrier de mise en service.",s.jsx("br",{}),s.jsx("br",{}),"Dans le scnario A, l'installation est active aprs 6-8 semaines, puis produit pendant ~4-5 mois sur les 6 mois observs.",s.jsx("br",{}),s.jsx("br",{}),"Dans le scnario B, ces 6 mois maintiennent la situation actuelle, avant de dmarrer le processus."]})})]})}),s.jsx(Yi,{id:"impact",title:"Impact sur votre budget mensuel",icon:s.jsx(Ga,{className:"text-blue-400"}),defaultOpen:!1,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-[10px] sm:text-[11px] text-slate-500 italic leading-relaxed",children:["Voici comment votre budget mensuel se rorganise la premire anne.",s.jsx("br",{}),s.jsx("span",{className:"text-slate-400",children:"On ne parle pas d'un cot, mais d'une phase de transition avant un modle durablement plus lger."})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-red-950/30 to-black/40 border border-red-500/20 rounded-xl p-4 sm:p-5",children:[s.jsxs("div",{className:"text-red-400 text-[9px] sm:text-[10px] uppercase font-bold tracking-wide flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400 flex-shrink-0"}),s.jsx("span",{children:"Facture actuelle"})]}),s.jsx("div",{className:"text-white text-2xl sm:text-3xl font-black break-words",children:(((e==null?void 0:e.conso)||0)*((e==null?void 0:e.elecPrice)||.25)/12).toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0})}),s.jsx("div",{className:"text-slate-500 text-[10px] sm:text-xs mt-1",children:"/mois"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-950/30 to-black/40 border border-blue-500/20 rounded-xl p-4 sm:p-5",children:[s.jsxs("div",{className:"text-blue-400 text-[9px] sm:text-[10px] uppercase font-bold tracking-wide flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400 flex-shrink-0"}),s.jsx("span",{children:"Vous payez"})]}),s.jsx("div",{className:"text-white text-2xl sm:text-3xl font-black break-words",children:(((e==null?void 0:e.m)||0)+(((e==null?void 0:e.conso)||0)-((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100))*((e==null?void 0:e.elecPrice)||.25)/12).toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0})}),s.jsx("div",{className:"text-slate-500 text-[10px] sm:text-xs mt-1 leading-tight",children:"/mois (crdit + reste facture)"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-slate-950/30 to-black/40 border border-slate-600/20 rounded-xl p-4 sm:p-5 sm:col-span-2 lg:col-span-1",children:[s.jsxs("div",{className:"text-slate-400 text-[9px] sm:text-[10px] uppercase font-bold tracking-wide flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-400 flex-shrink-0"}),s.jsx("span",{children:"Diffrence  1re anne"})]}),s.jsxs("div",{className:`text-2xl sm:text-3xl font-black break-words ${((e==null?void 0:e.m)||0)+(((e==null?void 0:e.conso)||0)-((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100))*((e==null?void 0:e.elecPrice)||.25)/12-((e==null?void 0:e.conso)||0)*((e==null?void 0:e.elecPrice)||.25)/12>0?"text-orange-400":"text-emerald-400"}`,children:[((e==null?void 0:e.m)||0)+(((e==null?void 0:e.conso)||0)-((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100))*((e==null?void 0:e.elecPrice)||.25)/12-((e==null?void 0:e.conso)||0)*((e==null?void 0:e.elecPrice)||.25)/12>0?"+":"",(((e==null?void 0:e.m)||0)+(((e==null?void 0:e.conso)||0)-((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100))*((e==null?void 0:e.elecPrice)||.25)/12-((e==null?void 0:e.conso)||0)*((e==null?void 0:e.elecPrice)||.25)/12).toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0})]}),s.jsx("div",{className:"text-slate-500 text-[10px] sm:text-xs mt-1 leading-tight",children:"Puis  conomies ds fin crdit"})]})]}),s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl p-4 sm:p-5",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0 text-[9px] sm:text-[10px] text-slate-500 uppercase mb-3",children:[s.jsx("span",{children:"Alignement avec votre budget actuel"}),s.jsxs("span",{className:"text-white font-bold text-sm sm:text-base",children:[((((e==null?void 0:e.m)||0)+(((e==null?void 0:e.conso)||0)-((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100))*((e==null?void 0:e.elecPrice)||.25)/12)/(((e==null?void 0:e.conso)||0)*((e==null?void 0:e.elecPrice)||.25)/12)*100).toFixed(0),"%"]})]}),s.jsx("div",{className:"h-3 sm:h-4 bg-slate-800/40 rounded-full overflow-hidden border border-white/10",children:s.jsx("div",{className:`h-full transition-all duration-700 ${(((e==null?void 0:e.m)||0)+(((e==null?void 0:e.conso)||0)-((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100))*((e==null?void 0:e.elecPrice)||.25)/12)/(((e==null?void 0:e.conso)||0)*((e==null?void 0:e.elecPrice)||.25)/12)>1?"bg-gradient-to-r from-orange-500 to-orange-600":"bg-gradient-to-r from-emerald-500 to-emerald-600"}`,style:{width:`${Math.min((((e==null?void 0:e.m)||0)+(((e==null?void 0:e.conso)||0)-((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100))*((e==null?void 0:e.elecPrice)||.25)/12)/(((e==null?void 0:e.conso)||0)*((e==null?void 0:e.elecPrice)||.25)/12)*100,100)}%`}})}),s.jsxs("div",{className:"flex justify-between text-[9px] sm:text-[10px] text-slate-600 mt-2",children:[s.jsx("span",{children:"0%"}),s.jsx("span",{className:"text-slate-500",children:"Budget actuel"}),s.jsx("span",{children:"150%"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-emerald-950/20 to-black/40 border border-emerald-500/20 rounded-xl p-4 sm:p-5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Xf,{className:"w-5 h-5 text-emerald-400"}),s.jsx("h3",{className:"text-sm sm:text-base font-bold text-emerald-400 uppercase",children:"Aprs remboursement du crdit"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-500 mb-1",children:"Facture mensuelle"}),s.jsx("div",{className:"text-2xl sm:text-3xl font-black text-emerald-400",children:((((e==null?void 0:e.conso)||0)-((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100))*((e==null?void 0:e.elecPrice)||.25)/12).toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0})}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"Seulement le rsiduel EDF"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] text-slate-500 mb-1",children:"conomie mensuelle"}),s.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white",children:(((e==null?void 0:e.prod)||0)*(((e==null?void 0:e.selfCons)||0)/100)*((e==null?void 0:e.elecPrice)||.25)/12).toLocaleString("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0})}),s.jsx("div",{className:"text-[10px] text-slate-500 mt-1",children:"Par rapport  votre facture actuelle"})]})]}),s.jsxs("div",{className:"mt-3 text-[10px] text-slate-400 italic leading-relaxed",children:[" ce stade, le financement disparat.",s.jsx("br",{}),"Ce qu'il reste, c'est un systme qui travaille pour votre budget."]})]}),s.jsx("p",{className:"text-center text-[10px] sm:text-[11px] text-slate-500 italic leading-relaxed",children:"Ces montants sont ceux de la 1re anne."})]})}),s.jsxs(Yi,{id:"tableau-detaille",title:"Projection Financire  25 ans",icon:s.jsx(iw,{className:"text-slate-400"}),defaultOpen:!1,children:[s.jsx("p",{className:"text-[10px] text-slate-400 italic mb-3",children:"Ce qui suit ne sert pas  choisir  juste  vrifier qu'on ne fait pas une erreur."}),s.jsxs("div",{className:"flex flex-col md:flex-row items-start justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"bg-black/60 backdrop-blur-md p-1 rounded-lg flex gap-1 border border-white/10",children:[s.jsx("button",{onClick:()=>A("financement"),className:`px-4 py-1.5 rounded-md text-xs font-bold uppercase transition-all ${E==="financement"?"bg-blue-600 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Financement"}),s.jsx("button",{onClick:()=>A("cash"),className:`px-4 py-1.5 rounded-md text-xs font-bold uppercase transition-all ${E==="cash"?"bg-emerald-600 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Cash"})]}),s.jsxs("div",{className:"bg-black/60 backdrop-blur-md p-1 rounded-lg flex gap-1 border border-white/10",children:[s.jsx("button",{onClick:()=>P("annuel"),className:`px-4 py-1.5 rounded-md text-xs font-bold uppercase transition-all ${L==="annuel"?"bg-slate-700 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Annuel"}),s.jsx("button",{onClick:()=>P("mensuel"),className:`px-4 py-1.5 rounded-md text-xs font-bold uppercase transition-all ${L==="mensuel"?"bg-blue-600 text-white":"text-slate-500 hover:text-slate-300"}`,children:"Mensuel"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/10 text-[10px] uppercase text-slate-500 font-bold tracking-wider",children:[s.jsx("th",{className:"py-3 px-4",children:"Anne"}),s.jsx("th",{className:"py-3 px-4 text-red-400",children:"Sans Solaire"}),R&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"py-3 px-4 text-blue-400",children:"Crdit"}),s.jsx("th",{className:"py-3 px-4 text-yellow-400",children:"Facture restante"})]}),s.jsx("th",{className:"py-3 px-4 text-white",children:"Avec Solaire"}),s.jsxs("th",{className:"py-3 px-4 text-slate-300",children:["Diffrence ",L==="annuel"?"/an":"/mois"]}),s.jsx("th",{className:"py-3 px-4 text-emerald-400 text-right",children:"Trsorerie cumule"})]})}),s.jsxs("tbody",{className:"text-sm font-mono text-slate-300",children:[s.jsxs("tr",{className:"border-b border-white/5 bg-[#1a1505]/30",children:[s.jsx("td",{className:"py-4 px-4 text-yellow-500 font-bold",children:"Anne 0"}),s.jsx("td",{className:"py-4 px-4 opacity-50",children:"-"}),R&&s.jsx("td",{className:"py-4 px-4 opacity-50",children:"-"}),R&&s.jsx("td",{className:"py-4 px-4 opacity-50",children:"-"}),s.jsxs("td",{className:"py-4 px-4 text-yellow-400 font-bold uppercase",children:["APPORT :"," ",z(E==="financement"?re.cashApport:re.installCost)]}),s.jsx("td",{className:"py-4 px-4 text-red-400 font-bold",children:z((E==="financement"?re.cashApport:re.installCost)/(L==="mensuel"?12:1))}),s.jsxs("td",{className:"py-4 px-4 text-right text-red-500 font-bold",children:["-",z(E==="financement"?re.cashApport:re.installCost)]})]}),(E==="financement"?re.details:re.detailsCash).slice(0,re.projectionYears).map(me=>{const Oe=L==="mensuel"?12:1,je=me.edfBillWithoutSolar/Oe,Ve=(me.creditPayment||0)/Oe,ze=me.edfResidue/Oe,K=E==="cash"?me.totalWithSolar/Oe:Ve+ze,We=K-je;return s.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[s.jsx("td",{className:"py-3 px-4 text-slate-500",children:me.year}),s.jsx("td",{className:"py-3 px-4 text-red-400/80",children:z(je)}),R&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"py-3 px-4 text-blue-400/80",children:z(Ve)}),s.jsx("td",{className:"py-3 px-4 text-yellow-400/80",children:z(ze)})]}),s.jsx("td",{className:"py-3 px-4 font-bold text-white",children:z(K)}),s.jsxs("td",{className:`py-3 px-4 font-bold ${We>0?"text-white":"text-emerald-400"}`,children:[We>0?"+":"",z(We)]}),s.jsx("td",{className:`py-3 px-4 text-right font-bold ${me.cumulativeSavings>=0?"text-emerald-500":"text-red-500"}`,children:z(me.cumulativeSavings)})]},me.year)})]}),s.jsx("tfoot",{className:"sticky bottom-0 bg-black/95 backdrop-blur-xl border-t-2 border-emerald-500/30",children:s.jsxs("tr",{children:[s.jsxs("td",{colSpan:R?6:4,className:"py-3 px-4 text-right text-xs font-bold text-slate-400 uppercase",children:["Gain total sur ",re.projectionYears," ans"]}),s.jsx("td",{className:"py-3 px-4 text-right text-xl font-black text-emerald-400",children:z(((fe=(E==="financement"?re.details:re.detailsCash)[re.projectionYears-1])==null?void 0:fe.cumulativeSavings)||0)})]})})]})}),s.jsx("button",{onClick:()=>X(!R),className:"mt-4 text-xs text-slate-500 hover:text-slate-300 transition-colors",children:R?"Vue globale":"Vue complte"})]}),s.jsx(Yi,{id:"financement-vs-cash",title:"Ajustement de financement",icon:s.jsx(hl,{className:"text-emerald-500"}),defaultOpen:!1,children:s.jsxs("div",{className:"relative bg-black/40 backdrop-blur-xl rounded-[32px] p-8 border border-white/10",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[s.jsx(hl,{className:"text-emerald-400 w-6 h-6 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Ajustement de financement"}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Le projet est valid sur le principe. Ici, on vrifie simplement la solution la plus confortable pour vous."})]})]}),s.jsx("div",{className:"bg-blue-950/20 border border-blue-500/20 rounded-xl p-4 mb-8",children:s.jsxs("p",{className:"text-sm text-slate-300 leading-relaxed",children:["Les deux options ci-dessous sont"," ",s.jsx("strong",{children:"quivalentes sur le projet"}),". Le choix n'impacte ni la qualit, ni les garanties, ni la validation finale."]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-black/60 border border-blue-500/20 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Ga,{className:"text-blue-400",size:20}),s.jsx("h4",{className:"text-blue-300 font-bold uppercase text-sm tracking-wider",children:"Financement structur"})]}),s.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ar,{size:14,className:"text-blue-400"}),"Capital personnel conserv"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ar,{size:14,className:"text-blue-400"}),"Effort rparti dans le temps"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ar,{size:14,className:"text-blue-400"}),"Flexibilit maximale"]})]})]}),s.jsxs("div",{className:"bg-black/60 border border-emerald-500/20 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(hl,{className:"text-emerald-400",size:20}),s.jsx("h4",{className:"text-emerald-300 font-bold uppercase text-sm tracking-wider",children:"Paiement comptant"})]}),s.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ar,{size:14,className:"text-emerald-400"}),"Tranquillit immdiate"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ar,{size:14,className:"text-emerald-400"}),"Aucun engagement bancaire"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ar,{size:14,className:"text-emerald-400"}),"Sujet clos rapidement"]})]})]})]}),s.jsx("div",{className:"mt-8 bg-emerald-950/20 border border-emerald-500/20 rounded-xl p-4 text-center",children:s.jsx("p",{className:"text-sm text-slate-300 italic",children:"Ce choix peut tre ajust avec votre conseiller. Il n'engage pas la validation du projet."})})]})}),s.jsx(Yi,{id:"garanties",title:"Garanties de Scurit",icon:s.jsx(Vx,{className:"text-emerald-500"}),defaultOpen:!1,children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"p-4 bg-green-500/10 rounded-lg border border-green-500/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ar,{className:"w-5 h-5 text-green-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Garantie totale  vie"}),s.jsxs("p",{className:"text-slate-300 text-sm",children:["Matriel, main-d'uvre et dplacements garantis"," ",s.jsx("span",{className:"text-white font-semibold",children:" vie"}),"."]})]})]})}),s.jsx("div",{className:"p-4 bg-blue-500/10 rounded-lg border border-blue-500/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ar,{className:"w-5 h-5 text-blue-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-1",children:"Garantie de performance 30 ans"}),s.jsxs("p",{className:"text-slate-300 text-sm",children:["Production contractuelle. Si non atteinte,"," ",s.jsx("span",{className:"text-white font-semibold",children:"EDF rembourse la diffrence"}),"."]})]})]})})]})}),s.jsx(Yi,{id:"realisations",title:"Ralisations EDF  Familles accompagnes",icon:s.jsx(Qf,{className:"text-blue-400"}),defaultOpen:!1,children:s.jsxs("div",{className:"bg-slate-900/40 border border-slate-800 rounded-[32px] p-8",children:[s.jsxs("div",{className:"mb-5 flex items-center gap-2 text-slate-400 text-sm",children:[s.jsx(Yg,{className:"text-blue-400",size:16}),s.jsxs("span",{children:["Projets EDF accompagns  proximit de"," ",s.jsx("strong",{className:"text-white",children:Z})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qf,{className:"text-blue-400",size:24}),s.jsx("h2",{className:"text-lg font-bold text-white uppercase tracking-wide",children:"Ralisations EDF  Alpes-Maritimes"})]}),s.jsx("div",{className:"px-3 py-1 bg-blue-500/10 border border-blue-500/20 rounded-full",children:s.jsx("span",{className:"text-[10px] font-bold text-blue-400 uppercase tracking-wider",children:"Donnes relles"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[{name:"Mme T.",city:"Le Cannet",status:"Production active",kWc:"3.5 kWc"},{name:"M. B.",city:"Mougins",status:"Installation raccorde",kWc:"4.5 kWc"},{name:"Famille D.",city:"Grasse",status:"Production active",kWc:"6 kWc"},{name:"M. & Mme L.",city:"Cannes",status:"Raccordement valid Enedis",kWc:"9 kWc"}].map((me,Oe)=>s.jsxs("div",{className:"bg-slate-950/50 border border-slate-800 rounded-2xl p-5 hover:border-blue-500/40 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-slate-400 text-[9px] font-semibold uppercase tracking-widest",children:me.status})]}),s.jsx("span",{className:"text-slate-600 text-[9px] font-mono",children:me.kWc})]}),s.jsx("div",{className:"text-white font-semibold text-sm mb-0.5",children:me.name}),s.jsx("div",{className:"text-slate-500 text-xs mb-4",children:me.city}),s.jsxs("div",{className:"border-t border-slate-800 pt-3",children:[s.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider mb-1",children:"Projet valid et suivi par EDF"}),s.jsx("div",{className:"text-sm font-semibold text-slate-300",children:"Installation conforme  production encadre"})]})]},Oe))}),s.jsx("div",{className:"bg-gradient-to-r from-slate-800/40 to-transparent border-l-4 border-blue-500 p-5 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg flex-shrink-0",children:s.jsx(sw,{className:"text-blue-400",size:20})}),s.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed",children:[s.jsx("strong",{className:"text-white",children:"127 dossiers valids"})," ","ce mois-ci dans le 06, selon les mmes standards EDF."]})]})})]})}),ue?s.jsxs("a",{href:`tel:${le}`,onClick:async()=>{try{await jc.from("tracking_events").insert({study_id:ae,event_type:"email_click"})}catch(me){console.error("Tracking error:",me)}},className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 text-white font-black py-7 rounded-3xl uppercase text-sm flex items-center justify-center gap-4 mb-8 hover:from-blue-500 hover:to-blue-400 transition-all no-underline shadow-xl active:opacity-80",children:[s.jsx(Uv,{size:20,fill:"currentColor"}),s.jsx("span",{children:"On scurise le projet ensemble"})]}):s.jsxs("button",{type:"button",onClick:async()=>{try{await jc.from("tracking_events").insert({study_id:ae,event_type:"call_click"})}catch(me){console.error("Tracking error:",me)}navigator.clipboard.writeText(le),alert("Numro copi : "+le)},className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 text-white font-black py-7 rounded-3xl uppercase text-sm flex items-center justify-center gap-4 mb-8 hover:from-blue-500 hover:to-blue-400 transition-all shadow-xl active:opacity-80",children:[s.jsx(Uv,{size:20,fill:"currentColor"}),s.jsx("span",{children:"On scurise le projet ensemble"})]}),s.jsx("div",{className:"text-center pb-8",children:s.jsx("span",{className:"text-[9px] text-slate-600 font-bold uppercase tracking-[0.4em]",children:"DOCUMENT SCURIS EDF SOLUTIONS PRO"})})]})})}const x5={75:9500,92:5200,93:3400,94:3800,91:3200,95:2900,77:2600,78:3500,69:4200,13:3600,33:3800,31:3200,44:3100,59:2400,67:2800,34:2900,"06":4500,default:2200},pR=async(e,t)=>{const n=await(await fetch(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(e)}&limit=1`)).json();if(!n.features||n.features.length===0)throw new Error("Adresse introuvable");const i=n.features[0],o=i.properties.postcode.substring(0,2),c=i.properties.city,u=x5[o]||x5.default,d=Math.round(t*u);let h="standard";d<3e5?h="standard":d<8e5?h="confort":d<15e5?h="haut_de_gamme":h="patrimonial";let p="",b="",y,g;switch(h){case"standard":g="4  8 %",y=Math.round(d*.05),p="Valorisation et attractivit renforce",b="Sur ce type de bien, la performance nergtique joue directement sur lattractivit et la valeur perue. On est clairement sur un actif qui se renforce.";break;case"confort":g="3  6 %",y=Math.round(d*.035),p="Diffrenciation nette et protection de valeur",b="Ici, lenjeu nest pas uniquement lconomie. Cest le positionnement du bien sur son march et la scurisation de sa valeur dans le temps.";break;case"haut_de_gamme":g="1  3 %",y=Math.round(Math.min(d*.02,6e4)),p="Maintien dattractivit et vitement de dcote",b="Sur des biens de ce niveau, on ne parle plus de plus-value mcanique. On parle dattractivit, de liquidit du bien, et dvitement de dcote nergtique.";break;case"patrimonial":p="Protection patrimoniale et conformit long terme",b=" ce niveau de patrimoine, la performance nergtique nest pas un levier de hausse. Cest un critre de maintien de valeur, de dsirabilit et de conformit future.";break}return{city:c,dept:o,pricePerSqm:u,estimatedValue:d,propertyClass:h,impactProfile:p,impactNarrative:b,greenValueIndicative:y,impactPercentRange:g}};function g5(e){return{generatedAt:new Date().toISOString(),globalScore:Math.max(0,100-e.dataBreaches*20-(100-e.uxScore)),warRoomCount:e.decisions.filter(t=>t.priority==="WAR_ROOM").length,dataIntegrityBreaches:e.dataBreaches,uxScore:e.uxScore,uxDetails:e.uxDetails,decisions:e.decisions}}function Dr(e){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dr(e)}var To=Uint8Array,wa=Uint16Array,c1=Int32Array,u1=new To([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),d1=new To([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),v5=new To([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C4=function(e,t){for(var r=new wa(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new c1(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)i[o]=o-r[n]<<5|n;return{b:r,r:i}},A4=C4(u1,2),mR=A4.b,Pg=A4.r;mR[28]=258,Pg[258]=28;var xR=C4(d1,0),b5=xR.r,Lg=new wa(32768);for(var an=0;an<32768;++an){var vc=(an&43690)>>1|(an&21845)<<1;vc=(vc&52428)>>2|(vc&13107)<<2,vc=(vc&61680)>>4|(vc&3855)<<4,Lg[an]=((vc&65280)>>8|(vc&255)<<8)>>1}var xh=(function(e,t,r){for(var n=e.length,i=0,o=new wa(t);i<n;++i)e[i]&&++o[e[i]-1];var c=new wa(t);for(i=1;i<t;++i)c[i]=c[i-1]+o[i-1]<<1;var u;if(r){u=new wa(1<<t);var d=15-t;for(i=0;i<n;++i)if(e[i])for(var h=i<<4|e[i],p=t-e[i],b=c[e[i]-1]++<<p,y=b|(1<<p)-1;b<=y;++b)u[Lg[b]>>d]=h}else for(u=new wa(n),i=0;i<n;++i)e[i]&&(u[i]=Lg[c[e[i]-1]++]>>15-e[i]);return u}),Su=new To(288);for(var an=0;an<144;++an)Su[an]=8;for(var an=144;an<256;++an)Su[an]=9;for(var an=256;an<280;++an)Su[an]=7;for(var an=280;an<288;++an)Su[an]=8;var wp=new To(32);for(var an=0;an<32;++an)wp[an]=5;var gR=xh(Su,9,0),vR=xh(wp,5,0),P4=function(e){return(e+7)/8|0},bR=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new To(e.subarray(t,r))},Ul=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},ih=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},xx=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,o=r.slice();if(!i)return{t:R4,l:0};if(i==1){var c=new To(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort(function(X,Q){return X.f-Q.f}),r.push({s:-1,f:25001});var u=r[0],d=r[1],h=0,p=1,b=2;for(r[0]={s:-1,f:u.f+d.f,l:u,r:d};p!=i-1;)u=r[r[h].f<r[b].f?h++:b++],d=r[h!=p&&r[h].f<r[b].f?h++:b++],r[p++]={s:-1,f:u.f+d.f,l:u,r:d};for(var y=o[0].s,n=1;n<i;++n)o[n].s>y&&(y=o[n].s);var g=new wa(y+1),S=Rg(r[p-1],g,0);if(S>t){var n=0,k=0,E=S-t,A=1<<E;for(o.sort(function(Q,ae){return g[ae.s]-g[Q.s]||Q.f-ae.f});n<i;++n){var L=o[n].s;if(g[L]>t)k+=A-(1<<S-g[L]),g[L]=t;else break}for(k>>=E;k>0;){var P=o[n].s;g[P]<t?k-=1<<t-g[P]++-1:++n}for(;n>=0&&k;--n){var R=o[n].s;g[R]==t&&(--g[R],++k)}S=t}return{t:new To(g),l:S}},Rg=function(e,t,r){return e.s==-1?Math.max(Rg(e.l,t,r+1),Rg(e.r,t,r+1)):t[e.s]=r},y5=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new wa(++t),n=0,i=e[0],o=1,c=function(d){r[n++]=d},u=1;u<=t;++u)if(e[u]==i&&u!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(i),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(i);o=1,i=e[u]}return{c:r.subarray(0,n),n:t}},ah=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},L4=function(e,t,r){var n=r.length,i=P4(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var o=0;o<n;++o)e[i+o+4]=r[o];return(i+4+n)*8},w5=function(e,t,r,n,i,o,c,u,d,h,p){Ul(t,p++,r),++i[256];for(var b=xx(i,15),y=b.t,g=b.l,S=xx(o,15),k=S.t,E=S.l,A=y5(y),L=A.c,P=A.n,R=y5(k),X=R.c,Q=R.n,ae=new wa(19),se=0;se<L.length;++se)++ae[L[se]&31];for(var se=0;se<X.length;++se)++ae[X[se]&31];for(var V=xx(ae,7),re=V.t,T=V.l,F=19;F>4&&!re[v5[F-1]];--F);var z=h+5<<3,H=ah(i,Su)+ah(o,wp)+c,ve=ah(i,y)+ah(o,k)+c+14+3*F+ah(ae,re)+2*ae[16]+3*ae[17]+7*ae[18];if(d>=0&&z<=H&&z<=ve)return L4(t,p,e.subarray(d,d+h));var ye,xe,ie,he;if(Ul(t,p,1+(ve<H)),p+=2,ve<H){ye=xh(y,g,0),xe=y,ie=xh(k,E,0),he=k;var G=xh(re,T,0);Ul(t,p,P-257),Ul(t,p+5,Q-1),Ul(t,p+10,F-4),p+=14;for(var se=0;se<F;++se)Ul(t,p+3*se,re[v5[se]]);p+=3*F;for(var ce=[L,X],I=0;I<2;++I)for(var J=ce[I],se=0;se<J.length;++se){var Z=J[se]&31;Ul(t,p,G[Z]),p+=re[Z],Z>15&&(Ul(t,p,J[se]>>5&127),p+=J[se]>>12)}}else ye=gR,xe=Su,ie=vR,he=wp;for(var se=0;se<u;++se){var le=n[se];if(le>255){var Z=le>>18&31;ih(t,p,ye[Z+257]),p+=xe[Z+257],Z>7&&(Ul(t,p,le>>23&31),p+=u1[Z]);var ue=le&31;ih(t,p,ie[ue]),p+=he[ue],ue>3&&(ih(t,p,le>>5&8191),p+=d1[ue])}else ih(t,p,ye[le]),p+=xe[le]}return ih(t,p,ye[256]),p+xe[256]},yR=new c1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),R4=new To(0),wR=function(e,t,r,n,i,o){var c=o.z||e.length,u=new To(n+c+5*(1+Math.ceil(c/7e3))+i),d=u.subarray(n,u.length-i),h=o.l,p=(o.r||0)&7;if(t){p&&(d[0]=o.r>>3);for(var b=yR[t-1],y=b>>13,g=b&8191,S=(1<<r)-1,k=o.p||new wa(32768),E=o.h||new wa(S+1),A=Math.ceil(r/3),L=2*A,P=function(ze){return(e[ze]^e[ze+1]<<A^e[ze+2]<<L)&S},R=new c1(25e3),X=new wa(288),Q=new wa(32),ae=0,se=0,V=o.i||0,re=0,T=o.w||0,F=0;V+2<c;++V){var z=P(V),H=V&32767,ve=E[z];if(k[H]=ve,E[z]=H,T<=V){var ye=c-V;if((ae>7e3||re>24576)&&(ye>423||!h)){p=w5(e,d,0,R,X,Q,se,re,F,V-F,p),re=ae=se=0,F=V;for(var xe=0;xe<286;++xe)X[xe]=0;for(var xe=0;xe<30;++xe)Q[xe]=0}var ie=2,he=0,G=g,ce=H-ve&32767;if(ye>2&&z==P(V-ce))for(var I=Math.min(y,ye)-1,J=Math.min(32767,V),Z=Math.min(258,ye);ce<=J&&--G&&H!=ve;){if(e[V+ie]==e[V+ie-ce]){for(var le=0;le<Z&&e[V+le]==e[V+le-ce];++le);if(le>ie){if(ie=le,he=ce,le>I)break;for(var ue=Math.min(ce,le-2),be=0,xe=0;xe<ue;++xe){var Ee=V-ce+xe&32767,fe=k[Ee],me=Ee-fe&32767;me>be&&(be=me,ve=Ee)}}}H=ve,ve=k[H],ce+=H-ve&32767}if(he){R[re++]=268435456|Pg[ie]<<18|b5[he];var Oe=Pg[ie]&31,je=b5[he]&31;se+=u1[Oe]+d1[je],++X[257+Oe],++Q[je],T=V+ie,++ae}else R[re++]=e[V],++X[e[V]]}}for(V=Math.max(V,T);V<c;++V)R[re++]=e[V],++X[e[V]];p=w5(e,d,h,R,X,Q,se,re,F,V-F,p),h||(o.r=p&7|d[p/8|0]<<3,p-=7,o.h=E,o.p=k,o.i=V,o.w=T)}else{for(var V=o.w||0;V<c+h;V+=65535){var Ve=V+65535;Ve>=c&&(d[p/8|0]=h,Ve=c),p=L4(d,p+1,e.subarray(V,Ve))}o.i=c}return bR(u,0,n+P4(p)+i)},T4=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,o=r.length|0,c=0;c!=o;){for(var u=Math.min(c+2655,o);c<u;++c)i+=n+=r[c];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},NR=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),c=new To(o.length+e.length);c.set(o),c.set(e,o.length),e=c,i.w=o.length}return wR(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},O4=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},jR=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=T4();i.p(t.dictionary),O4(e,2,i.d())}};function Tg(e,t){t||(t={});var r=T4();r.p(e);var n=NR(e,t,t.dictionary?6:2,4);return jR(n,t),O4(n,n.length-4,r.d()),n}var SR=typeof TextDecoder<"u"&&new TextDecoder,_R=0;try{SR.decode(R4,{stream:!0}),_R=1}catch{}function kR(e){if(Array.isArray(e))return e}function ER(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,c,u=[],d=!0,h=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw i}}return u}}function N5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function CR(e,t){if(e){if(typeof e=="string")return N5(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N5(e,t):void 0}}function AR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j5(e,t){return kR(e)||ER(e,t)||CR(e,t)||AR()}function S5(e,t="utf8"){return new TextDecoder(t).decode(e)}const PR=new TextEncoder;function LR(e){return PR.encode(e)}const RR=1024*8,TR=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),gx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class h1{constructor(t=RR,r={}){Fr(this,"buffer");Fr(this,"byteLength");Fr(this,"byteOffset");Fr(this,"length");Fr(this,"offset");Fr(this,"lastWrittenByte");Fr(this,"littleEndian");Fr(this,"_data");Fr(this,"_mark");Fr(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,o=t.byteLength-i;let c=i;(ArrayBuffer.isView(t)||t instanceof h1)&&(t.byteLength!==t.buffer.byteLength&&(c=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=gx[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+n);if(this.littleEndian===TR&&r!=="uint8"&&r!=="int8"){const u=new Uint8Array(this.buffer.slice(i,i+n));u.reverse();const d=new gx[r](u.buffer);return this.offset+=n,d.reverse(),d}const c=new gx[r](o);return this.offset+=n,c}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return S5(this.readBytes(t))}decodeText(t=1,r="utf8"){return S5(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(LR(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ud(e){let t=e.length;for(;--t>=0;)e[t]=0}const OR=3,IR=258,I4=29,MR=256,FR=MR+1+I4,M4=30,DR=512,qR=new Array((FR+2)*2);Ud(qR);const UR=new Array(M4*2);Ud(UR);const zR=new Array(DR);Ud(zR);const BR=new Array(IR-OR+1);Ud(BR);const $R=new Array(I4);Ud($R);const VR=new Array(M4);Ud(VR);const WR=(e,t,r,n)=>{let i=e&65535|0,o=e>>>16&65535|0,c=0;for(;r!==0;){c=r>2e3?2e3:r,r-=c;do i=i+t[n++]|0,o=o+i|0;while(--c);i%=65521,o%=65521}return i|o<<16|0};var Og=WR;const HR=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},GR=new Uint32Array(HR()),YR=(e,t,r,n)=>{const i=GR,o=n+r;e^=-1;for(let c=n;c<o;c++)e=e>>>8^i[(e^t[c])&255];return e^-1};var ul=YR,Ig={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},F4={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const KR=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var JR=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)KR(r,n)&&(e[n]=r[n])}}return e},XR=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,o=e.length;n<o;n++){let c=e[n];r.set(c,i),i+=c.length}return r},D4={assign:JR,flattenChunks:XR};let q4=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{q4=!1}const Ph=new Uint8Array(256);for(let e=0;e<256;e++)Ph[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ph[254]=Ph[254]=1;var QR=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,o,c=e.length,u=0;for(i=0;i<c;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<c&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(u),o=0,i=0;o<u;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<c&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|r&63):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|r&63):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|r&63);return t};const ZR=(e,t)=>{if(t<65534&&e.subarray&&q4)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var eT=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const o=new Array(r*2);for(i=0,n=0;n<r;){let c=e[n++];if(c<128){o[i++]=c;continue}let u=Ph[c];if(u>4){o[i++]=65533,n+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&n<r;)c=c<<6|e[n++]&63,u--;if(u>1){o[i++]=65533;continue}c<65536?o[i++]=c:(c-=65536,o[i++]=55296|c>>10&1023,o[i++]=56320|c&1023)}return ZR(o,i)},tT=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Ph[e[r]]>t?r:t},Mg={string2buf:QR,buf2string:eT,utf8border:tT};function rT(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var nT=rT;const Ef=16209,sT=16191;var iT=function(t,r){let n,i,o,c,u,d,h,p,b,y,g,S,k,E,A,L,P,R,X,Q,ae,se,V,re;const T=t.state;n=t.next_in,V=t.input,i=n+(t.avail_in-5),o=t.next_out,re=t.output,c=o-(r-t.avail_out),u=o+(t.avail_out-257),d=T.dmax,h=T.wsize,p=T.whave,b=T.wnext,y=T.window,g=T.hold,S=T.bits,k=T.lencode,E=T.distcode,A=(1<<T.lenbits)-1,L=(1<<T.distbits)-1;e:do{S<15&&(g+=V[n++]<<S,S+=8,g+=V[n++]<<S,S+=8),P=k[g&A];t:for(;;){if(R=P>>>24,g>>>=R,S-=R,R=P>>>16&255,R===0)re[o++]=P&65535;else if(R&16){X=P&65535,R&=15,R&&(S<R&&(g+=V[n++]<<S,S+=8),X+=g&(1<<R)-1,g>>>=R,S-=R),S<15&&(g+=V[n++]<<S,S+=8,g+=V[n++]<<S,S+=8),P=E[g&L];r:for(;;){if(R=P>>>24,g>>>=R,S-=R,R=P>>>16&255,R&16){if(Q=P&65535,R&=15,S<R&&(g+=V[n++]<<S,S+=8,S<R&&(g+=V[n++]<<S,S+=8)),Q+=g&(1<<R)-1,Q>d){t.msg="invalid distance too far back",T.mode=Ef;break e}if(g>>>=R,S-=R,R=o-c,Q>R){if(R=Q-R,R>p&&T.sane){t.msg="invalid distance too far back",T.mode=Ef;break e}if(ae=0,se=y,b===0){if(ae+=h-R,R<X){X-=R;do re[o++]=y[ae++];while(--R);ae=o-Q,se=re}}else if(b<R){if(ae+=h+b-R,R-=b,R<X){X-=R;do re[o++]=y[ae++];while(--R);if(ae=0,b<X){R=b,X-=R;do re[o++]=y[ae++];while(--R);ae=o-Q,se=re}}}else if(ae+=b-R,R<X){X-=R;do re[o++]=y[ae++];while(--R);ae=o-Q,se=re}for(;X>2;)re[o++]=se[ae++],re[o++]=se[ae++],re[o++]=se[ae++],X-=3;X&&(re[o++]=se[ae++],X>1&&(re[o++]=se[ae++]))}else{ae=o-Q;do re[o++]=re[ae++],re[o++]=re[ae++],re[o++]=re[ae++],X-=3;while(X>2);X&&(re[o++]=re[ae++],X>1&&(re[o++]=re[ae++]))}}else if((R&64)===0){P=E[(P&65535)+(g&(1<<R)-1)];continue r}else{t.msg="invalid distance code",T.mode=Ef;break e}break}}else if((R&64)===0){P=k[(P&65535)+(g&(1<<R)-1)];continue t}else if(R&32){T.mode=sT;break e}else{t.msg="invalid literal/length code",T.mode=Ef;break e}break}}while(n<i&&o<u);X=S>>3,n-=X,S-=X<<3,g&=(1<<S)-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=o<u?257+(u-o):257-(o-u),T.hold=g,T.bits=S};const od=15,_5=852,k5=592,E5=0,vx=1,C5=2,aT=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),oT=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),lT=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),cT=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),uT=(e,t,r,n,i,o,c,u)=>{const d=u.bits;let h=0,p=0,b=0,y=0,g=0,S=0,k=0,E=0,A=0,L=0,P,R,X,Q,ae,se=null,V;const re=new Uint16Array(od+1),T=new Uint16Array(od+1);let F=null,z,H,ve;for(h=0;h<=od;h++)re[h]=0;for(p=0;p<n;p++)re[t[r+p]]++;for(g=d,y=od;y>=1&&re[y]===0;y--);if(g>y&&(g=y),y===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,u.bits=1,0;for(b=1;b<y&&re[b]===0;b++);for(g<b&&(g=b),E=1,h=1;h<=od;h++)if(E<<=1,E-=re[h],E<0)return-1;if(E>0&&(e===E5||y!==1))return-1;for(T[1]=0,h=1;h<od;h++)T[h+1]=T[h]+re[h];for(p=0;p<n;p++)t[r+p]!==0&&(c[T[t[r+p]]++]=p);if(e===E5?(se=F=c,V=20):e===vx?(se=aT,F=oT,V=257):(se=lT,F=cT,V=0),L=0,p=0,h=b,ae=o,S=g,k=0,X=-1,A=1<<g,Q=A-1,e===vx&&A>_5||e===C5&&A>k5)return 1;for(;;){z=h-k,c[p]+1<V?(H=0,ve=c[p]):c[p]>=V?(H=F[c[p]-V],ve=se[c[p]-V]):(H=96,ve=0),P=1<<h-k,R=1<<S,b=R;do R-=P,i[ae+(L>>k)+R]=z<<24|H<<16|ve|0;while(R!==0);for(P=1<<h-1;L&P;)P>>=1;if(P!==0?(L&=P-1,L+=P):L=0,p++,--re[h]===0){if(h===y)break;h=t[r+c[p]]}if(h>g&&(L&Q)!==X){for(k===0&&(k=g),ae+=b,S=h-k,E=1<<S;S+k<y&&(E-=re[S+k],!(E<=0));)S++,E<<=1;if(A+=1<<S,e===vx&&A>_5||e===C5&&A>k5)return 1;X=L&Q,i[X]=g<<24|S<<16|ae-o|0}}return L!==0&&(i[ae+L]=h-k<<24|64<<16|0),u.bits=g,0};var gh=uT;const dT=0,U4=1,z4=2,{Z_FINISH:A5,Z_BLOCK:hT,Z_TREES:Cf,Z_OK:_u,Z_STREAM_END:fT,Z_NEED_DICT:pT,Z_STREAM_ERROR:Za,Z_DATA_ERROR:B4,Z_MEM_ERROR:$4,Z_BUF_ERROR:mT,Z_DEFLATED:P5}=F4,Wp=16180,L5=16181,R5=16182,T5=16183,O5=16184,I5=16185,M5=16186,F5=16187,D5=16188,q5=16189,Np=16190,zl=16191,bx=16192,U5=16193,yx=16194,z5=16195,B5=16196,$5=16197,V5=16198,Af=16199,Pf=16200,W5=16201,H5=16202,G5=16203,Y5=16204,K5=16205,wx=16206,J5=16207,X5=16208,hn=16209,V4=16210,W4=16211,xT=852,gT=592,vT=15,bT=vT,Q5=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function yT(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Au=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Wp||t.mode>W4?1:0},H4=e=>{if(Au(e))return Za;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Wp,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(xT),t.distcode=t.distdyn=new Int32Array(gT),t.sane=1,t.back=-1,_u},G4=e=>{if(Au(e))return Za;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,H4(e)},Y4=(e,t)=>{let r;if(Au(e))return Za;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Za:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,G4(e))},K4=(e,t)=>{if(!e)return Za;const r=new yT;e.state=r,r.strm=e,r.window=null,r.mode=Wp;const n=Y4(e,t);return n!==_u&&(e.state=null),n},wT=e=>K4(e,bT);let Z5=!0,Nx,jx;const NT=e=>{if(Z5){Nx=new Int32Array(512),jx=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(gh(U4,e.lens,0,288,Nx,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;gh(z4,e.lens,0,32,jx,0,e.work,{bits:5}),Z5=!1}e.lencode=Nx,e.lenbits=9,e.distcode=jx,e.distbits=5},J4=(e,t,r,n)=>{let i;const o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(t.subarray(r-n,r-n+i),o.wnext),n-=i,n?(o.window.set(t.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},jT=(e,t)=>{let r,n,i,o,c,u,d,h,p,b,y,g,S,k,E=0,A,L,P,R,X,Q,ae,se;const V=new Uint8Array(4);let re,T;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Au(e)||!e.output||!e.input&&e.avail_in!==0)return Za;r=e.state,r.mode===zl&&(r.mode=bx),c=e.next_out,i=e.output,d=e.avail_out,o=e.next_in,n=e.input,u=e.avail_in,h=r.hold,p=r.bits,b=u,y=d,se=_u;e:for(;;)switch(r.mode){case Wp:if(r.wrap===0){r.mode=bx;break}for(;p<16;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}if(r.wrap&2&&h===35615){r.wbits===0&&(r.wbits=15),r.check=0,V[0]=h&255,V[1]=h>>>8&255,r.check=ul(r.check,V,2,0),h=0,p=0,r.mode=L5;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((h&255)<<8)+(h>>8))%31){e.msg="incorrect header check",r.mode=hn;break}if((h&15)!==P5){e.msg="unknown compression method",r.mode=hn;break}if(h>>>=4,p-=4,ae=(h&15)+8,r.wbits===0&&(r.wbits=ae),ae>15||ae>r.wbits){e.msg="invalid window size",r.mode=hn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=h&512?q5:zl,h=0,p=0;break;case L5:for(;p<16;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}if(r.flags=h,(r.flags&255)!==P5){e.msg="unknown compression method",r.mode=hn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=hn;break}r.head&&(r.head.text=h>>8&1),r.flags&512&&r.wrap&4&&(V[0]=h&255,V[1]=h>>>8&255,r.check=ul(r.check,V,2,0)),h=0,p=0,r.mode=R5;case R5:for(;p<32;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}r.head&&(r.head.time=h),r.flags&512&&r.wrap&4&&(V[0]=h&255,V[1]=h>>>8&255,V[2]=h>>>16&255,V[3]=h>>>24&255,r.check=ul(r.check,V,4,0)),h=0,p=0,r.mode=T5;case T5:for(;p<16;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}r.head&&(r.head.xflags=h&255,r.head.os=h>>8),r.flags&512&&r.wrap&4&&(V[0]=h&255,V[1]=h>>>8&255,r.check=ul(r.check,V,2,0)),h=0,p=0,r.mode=O5;case O5:if(r.flags&1024){for(;p<16;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}r.length=h,r.head&&(r.head.extra_len=h),r.flags&512&&r.wrap&4&&(V[0]=h&255,V[1]=h>>>8&255,r.check=ul(r.check,V,2,0)),h=0,p=0}else r.head&&(r.head.extra=null);r.mode=I5;case I5:if(r.flags&1024&&(g=r.length,g>u&&(g=u),g&&(r.head&&(ae=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+g),ae)),r.flags&512&&r.wrap&4&&(r.check=ul(r.check,n,g,o)),u-=g,o+=g,r.length-=g),r.length))break e;r.length=0,r.mode=M5;case M5:if(r.flags&2048){if(u===0)break e;g=0;do ae=n[o+g++],r.head&&ae&&r.length<65536&&(r.head.name+=String.fromCharCode(ae));while(ae&&g<u);if(r.flags&512&&r.wrap&4&&(r.check=ul(r.check,n,g,o)),u-=g,o+=g,ae)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=F5;case F5:if(r.flags&4096){if(u===0)break e;g=0;do ae=n[o+g++],r.head&&ae&&r.length<65536&&(r.head.comment+=String.fromCharCode(ae));while(ae&&g<u);if(r.flags&512&&r.wrap&4&&(r.check=ul(r.check,n,g,o)),u-=g,o+=g,ae)break e}else r.head&&(r.head.comment=null);r.mode=D5;case D5:if(r.flags&512){for(;p<16;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}if(r.wrap&4&&h!==(r.check&65535)){e.msg="header crc mismatch",r.mode=hn;break}h=0,p=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=zl;break;case q5:for(;p<32;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}e.adler=r.check=Q5(h),h=0,p=0,r.mode=Np;case Np:if(r.havedict===0)return e.next_out=c,e.avail_out=d,e.next_in=o,e.avail_in=u,r.hold=h,r.bits=p,pT;e.adler=r.check=1,r.mode=zl;case zl:if(t===hT||t===Cf)break e;case bx:if(r.last){h>>>=p&7,p-=p&7,r.mode=wx;break}for(;p<3;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}switch(r.last=h&1,h>>>=1,p-=1,h&3){case 0:r.mode=U5;break;case 1:if(NT(r),r.mode=Af,t===Cf){h>>>=2,p-=2;break e}break;case 2:r.mode=B5;break;case 3:e.msg="invalid block type",r.mode=hn}h>>>=2,p-=2;break;case U5:for(h>>>=p&7,p-=p&7;p<32;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}if((h&65535)!==(h>>>16^65535)){e.msg="invalid stored block lengths",r.mode=hn;break}if(r.length=h&65535,h=0,p=0,r.mode=yx,t===Cf)break e;case yx:r.mode=z5;case z5:if(g=r.length,g){if(g>u&&(g=u),g>d&&(g=d),g===0)break e;i.set(n.subarray(o,o+g),c),u-=g,o+=g,d-=g,c+=g,r.length-=g;break}r.mode=zl;break;case B5:for(;p<14;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}if(r.nlen=(h&31)+257,h>>>=5,p-=5,r.ndist=(h&31)+1,h>>>=5,p-=5,r.ncode=(h&15)+4,h>>>=4,p-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=hn;break}r.have=0,r.mode=$5;case $5:for(;r.have<r.ncode;){for(;p<3;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}r.lens[F[r.have++]]=h&7,h>>>=3,p-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,re={bits:r.lenbits},se=gh(dT,r.lens,0,19,r.lencode,0,r.work,re),r.lenbits=re.bits,se){e.msg="invalid code lengths set",r.mode=hn;break}r.have=0,r.mode=V5;case V5:for(;r.have<r.nlen+r.ndist;){for(;E=r.lencode[h&(1<<r.lenbits)-1],A=E>>>24,L=E>>>16&255,P=E&65535,!(A<=p);){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}if(P<16)h>>>=A,p-=A,r.lens[r.have++]=P;else{if(P===16){for(T=A+2;p<T;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}if(h>>>=A,p-=A,r.have===0){e.msg="invalid bit length repeat",r.mode=hn;break}ae=r.lens[r.have-1],g=3+(h&3),h>>>=2,p-=2}else if(P===17){for(T=A+3;p<T;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}h>>>=A,p-=A,ae=0,g=3+(h&7),h>>>=3,p-=3}else{for(T=A+7;p<T;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}h>>>=A,p-=A,ae=0,g=11+(h&127),h>>>=7,p-=7}if(r.have+g>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=hn;break}for(;g--;)r.lens[r.have++]=ae}}if(r.mode===hn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=hn;break}if(r.lenbits=9,re={bits:r.lenbits},se=gh(U4,r.lens,0,r.nlen,r.lencode,0,r.work,re),r.lenbits=re.bits,se){e.msg="invalid literal/lengths set",r.mode=hn;break}if(r.distbits=6,r.distcode=r.distdyn,re={bits:r.distbits},se=gh(z4,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,re),r.distbits=re.bits,se){e.msg="invalid distances set",r.mode=hn;break}if(r.mode=Af,t===Cf)break e;case Af:r.mode=Pf;case Pf:if(u>=6&&d>=258){e.next_out=c,e.avail_out=d,e.next_in=o,e.avail_in=u,r.hold=h,r.bits=p,iT(e,y),c=e.next_out,i=e.output,d=e.avail_out,o=e.next_in,n=e.input,u=e.avail_in,h=r.hold,p=r.bits,r.mode===zl&&(r.back=-1);break}for(r.back=0;E=r.lencode[h&(1<<r.lenbits)-1],A=E>>>24,L=E>>>16&255,P=E&65535,!(A<=p);){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}if(L&&(L&240)===0){for(R=A,X=L,Q=P;E=r.lencode[Q+((h&(1<<R+X)-1)>>R)],A=E>>>24,L=E>>>16&255,P=E&65535,!(R+A<=p);){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}h>>>=R,p-=R,r.back+=R}if(h>>>=A,p-=A,r.back+=A,r.length=P,L===0){r.mode=K5;break}if(L&32){r.back=-1,r.mode=zl;break}if(L&64){e.msg="invalid literal/length code",r.mode=hn;break}r.extra=L&15,r.mode=W5;case W5:if(r.extra){for(T=r.extra;p<T;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,p-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=H5;case H5:for(;E=r.distcode[h&(1<<r.distbits)-1],A=E>>>24,L=E>>>16&255,P=E&65535,!(A<=p);){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}if((L&240)===0){for(R=A,X=L,Q=P;E=r.distcode[Q+((h&(1<<R+X)-1)>>R)],A=E>>>24,L=E>>>16&255,P=E&65535,!(R+A<=p);){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}h>>>=R,p-=R,r.back+=R}if(h>>>=A,p-=A,r.back+=A,L&64){e.msg="invalid distance code",r.mode=hn;break}r.offset=P,r.extra=L&15,r.mode=G5;case G5:if(r.extra){for(T=r.extra;p<T;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,p-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=hn;break}r.mode=Y5;case Y5:if(d===0)break e;if(g=y-d,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=hn;break}g>r.wnext?(g-=r.wnext,S=r.wsize-g):S=r.wnext-g,g>r.length&&(g=r.length),k=r.window}else k=i,S=c-r.offset,g=r.length;g>d&&(g=d),d-=g,r.length-=g;do i[c++]=k[S++];while(--g);r.length===0&&(r.mode=Pf);break;case K5:if(d===0)break e;i[c++]=r.length,d--,r.mode=Pf;break;case wx:if(r.wrap){for(;p<32;){if(u===0)break e;u--,h|=n[o++]<<p,p+=8}if(y-=d,e.total_out+=y,r.total+=y,r.wrap&4&&y&&(e.adler=r.check=r.flags?ul(r.check,i,y,c-y):Og(r.check,i,y,c-y)),y=d,r.wrap&4&&(r.flags?h:Q5(h))!==r.check){e.msg="incorrect data check",r.mode=hn;break}h=0,p=0}r.mode=J5;case J5:if(r.wrap&&r.flags){for(;p<32;){if(u===0)break e;u--,h+=n[o++]<<p,p+=8}if(r.wrap&4&&h!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=hn;break}h=0,p=0}r.mode=X5;case X5:se=fT;break e;case hn:se=B4;break e;case V4:return $4;case W4:default:return Za}return e.next_out=c,e.avail_out=d,e.next_in=o,e.avail_in=u,r.hold=h,r.bits=p,(r.wsize||y!==e.avail_out&&r.mode<hn&&(r.mode<wx||t!==A5))&&J4(e,e.output,e.next_out,y-e.avail_out),b-=e.avail_in,y-=e.avail_out,e.total_in+=b,e.total_out+=y,r.total+=y,r.wrap&4&&y&&(e.adler=r.check=r.flags?ul(r.check,i,y,e.next_out-y):Og(r.check,i,y,e.next_out-y)),e.data_type=r.bits+(r.last?64:0)+(r.mode===zl?128:0)+(r.mode===Af||r.mode===yx?256:0),(b===0&&y===0||t===A5)&&se===_u&&(se=mT),se},ST=e=>{if(Au(e))return Za;let t=e.state;return t.window&&(t.window=null),e.state=null,_u},_T=(e,t)=>{if(Au(e))return Za;const r=e.state;return(r.wrap&2)===0?Za:(r.head=t,t.done=!1,_u)},kT=(e,t)=>{const r=t.length;let n,i,o;return Au(e)||(n=e.state,n.wrap!==0&&n.mode!==Np)?Za:n.mode===Np&&(i=1,i=Og(i,t,r,0),i!==n.check)?B4:(o=J4(e,t,r,r),o?(n.mode=V4,$4):(n.havedict=1,_u))};var ET=G4,CT=Y4,AT=H4,PT=wT,LT=K4,RT=jT,TT=ST,OT=_T,IT=kT,MT="pako inflate (from Nodeca project)",$l={inflateReset:ET,inflateReset2:CT,inflateResetKeep:AT,inflateInit:PT,inflateInit2:LT,inflate:RT,inflateEnd:TT,inflateGetHeader:OT,inflateSetDictionary:IT,inflateInfo:MT};function FT(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var DT=FT;const X4=Object.prototype.toString,{Z_NO_FLUSH:qT,Z_FINISH:UT,Z_OK:Lh,Z_STREAM_END:Sx,Z_NEED_DICT:_x,Z_STREAM_ERROR:zT,Z_DATA_ERROR:ey,Z_MEM_ERROR:BT}=F4;function Dh(e){this.options=D4.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nT,this.strm.avail_out=0;let r=$l.inflateInit2(this.strm,t.windowBits);if(r!==Lh)throw new Error(Ig[r]);if(this.header=new DT,$l.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Mg.string2buf(t.dictionary):X4.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=$l.inflateSetDictionary(this.strm,t.dictionary),r!==Lh)))throw new Error(Ig[r])}Dh.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,c,u;if(this.ended)return!1;for(t===~~t?c=t:c=t===!0?UT:qT,X4.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=$l.inflate(r,c),o===_x&&i&&(o=$l.inflateSetDictionary(r,i),o===Lh?o=$l.inflate(r,c):o===ey&&(o=_x));r.avail_in>0&&o===Sx&&r.state.wrap>0&&e[r.next_in]!==0;)$l.inflateReset(r),o=$l.inflate(r,c);switch(o){case zT:case ey:case _x:case BT:return this.onEnd(o),this.ended=!0,!1}if(u=r.avail_out,r.next_out&&(r.avail_out===0||o===Sx))if(this.options.to==="string"){let d=Mg.utf8border(r.output,r.next_out),h=r.next_out-d,p=Mg.buf2string(r.output,d);r.next_out=h,r.avail_out=n-h,h&&r.output.set(r.output.subarray(d,d+h),0),this.onData(p)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===Lh&&u===0)){if(o===Sx)return o=$l.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Dh.prototype.onData=function(e){this.chunks.push(e)};Dh.prototype.onEnd=function(e){e===Lh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=D4.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function $T(e,t){const r=new Dh(t);if(r.push(e),r.err)throw r.msg||Ig[r.err];return r.result}var VT=Dh,WT=$T,HT={Inflate:VT,inflate:WT};const{Inflate:GT,inflate:YT}=HT;var ty=GT,KT=YT;const Q4=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;Q4[e]=t}const ry=4294967295;function JT(e,t,r){let n=e;for(let i=0;i<r;i++)n=Q4[(n^t[i])&255]^n>>>8;return n}function XT(e,t){return(JT(ry,e,t)^ry)>>>0}function ny(e,t,r){const n=e.readUint32(),i=XT(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function Z4(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function eN(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function tN(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function rN(e,t,r,n,i){let o=0;if(r.length===0){for(;o<i;o++)t[o]=e[o];for(;o<n;o++)t[o]=e[o]+(t[o-i]>>1)&255}else{for(;o<i;o++)t[o]=e[o]+(r[o]>>1)&255;for(;o<n;o++)t[o]=e[o]+(t[o-i]+r[o]>>1)&255}}function nN(e,t,r,n,i){let o=0;if(r.length===0){for(;o<i;o++)t[o]=e[o];for(;o<n;o++)t[o]=e[o]+t[o-i]&255}else{for(;o<i;o++)t[o]=e[o]+r[o]&255;for(;o<n;o++)t[o]=e[o]+QT(t[o-i],r[o],r[o-i])&255}}function QT(e,t,r){const n=e+t-r,i=Math.abs(n-e),o=Math.abs(n-t),c=Math.abs(n-r);return i<=o&&i<=c?e:o<=c?t:r}function ZT(e,t,r,n,i,o){switch(e){case 0:Z4(t,r,i);break;case 1:eN(t,r,i,o);break;case 2:tN(t,r,n,i);break;case 3:rN(t,r,n,i,o);break;case 4:nN(t,r,n,i,o);break;default:throw new Error(`Unsupported filter: ${e}`)}}const eO=new Uint16Array([255]),tO=new Uint8Array(eO.buffer),rO=tO[0]===255;function nO(e){const{data:t,width:r,height:n,channels:i,depth:o}=e,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(o/8)*i,d=new Uint8Array(n*r*u);let h=0;for(let p=0;p<7;p++){const b=c[p],y=Math.ceil((r-b.x)/b.xStep),g=Math.ceil((n-b.y)/b.yStep);if(y<=0||g<=0)continue;const S=y*u,k=new Uint8Array(S);for(let E=0;E<g;E++){const A=t[h++],L=t.subarray(h,h+S);h+=S;const P=new Uint8Array(S);ZT(A,L,P,k,S,u),k.set(P);for(let R=0;R<y;R++){const X=b.x+R*b.xStep,Q=b.y+E*b.yStep;if(!(X>=r||Q>=n))for(let ae=0;ae<u;ae++)d[(Q*r+X)*u+ae]=P[R*u+ae]}}}if(o===16){const p=new Uint16Array(d.buffer);if(rO)for(let b=0;b<p.length;b++)p[b]=sO(p[b]);return p}else return d}function sO(e){return(e&255)<<8|e>>8&255}const iO=new Uint16Array([255]),aO=new Uint8Array(iO.buffer),oO=aO[0]===255,lO=new Uint8Array(0);function sy(e){const{data:t,width:r,height:n,channels:i,depth:o}=e,c=Math.ceil(o/8)*i,u=Math.ceil(o/8*i*r),d=new Uint8Array(n*u);let h=lO,p=0,b,y;for(let g=0;g<n;g++){switch(b=t.subarray(p+1,p+1+u),y=d.subarray(g*u,(g+1)*u),t[p]){case 0:Z4(b,y,u);break;case 1:eN(b,y,u,c);break;case 2:tN(b,y,h,u);break;case 3:rN(b,y,h,u,c);break;case 4:nN(b,y,h,u,c);break;default:throw new Error(`Unsupported filter: ${t[p]}`)}h=y,p+=u+1}if(o===16){const g=new Uint16Array(d.buffer);if(oO)for(let S=0;S<g.length;S++)g[S]=cO(g[S]);return g}else return d}function cO(e){return(e&255)<<8|e>>8&255}const Vf=Uint8Array.of(137,80,78,71,13,10,26,10);function iy(e){if(!uO(e.readBytes(Vf.length)))throw new Error("wrong PNG signature")}function uO(e){if(e.length<Vf.length)return!1;for(let t=0;t<Vf.length;t++)if(e[t]!==Vf[t])return!1;return!0}const dO="tEXt",hO=0,sN=new TextDecoder("latin1");function fO(e){if(mO(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const pO=/^[\u0000-\u00FF]*$/;function mO(e){if(!pO.test(e))throw new Error("invalid latin1 text")}function xO(e,t,r){const n=iN(t);e[n]=gO(t,r-n.length-1)}function iN(e){for(e.mark();e.readByte()!==hO;);const t=e.offset;e.reset();const r=sN.decode(e.readBytes(t-e.offset-1));return e.skip(1),fO(r),r}function gO(e,t){return sN.decode(e.readBytes(t))}const ma={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},kx={UNKNOWN:-1,DEFLATE:0},ay={UNKNOWN:-1,ADAPTIVE:0},Ex={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Lf={NONE:0,BACKGROUND:1,PREVIOUS:2},Cx={SOURCE:0,OVER:1};class vO extends h1{constructor(r,n={}){super(r);Fr(this,"_checkCrc");Fr(this,"_inflator");Fr(this,"_png");Fr(this,"_apng");Fr(this,"_end");Fr(this,"_hasPalette");Fr(this,"_palette");Fr(this,"_hasTransparency");Fr(this,"_transparency");Fr(this,"_compressionMethod");Fr(this,"_filterMethod");Fr(this,"_interlaceMethod");Fr(this,"_colorType");Fr(this,"_isAnimated");Fr(this,"_numberOfFrames");Fr(this,"_numberOfPlays");Fr(this,"_frames");Fr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new ty,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=kx.UNKNOWN,this._filterMethod=ay.UNKNOWN,this._interlaceMethod=Ex.UNKNOWN,this._colorType=ma.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(iy(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(iy(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case dO:xO(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?ny(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?ny(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=bO(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case ma.GREYSCALE:i=1;break;case ma.TRUECOLOUR:i=3;break;case ma.INDEXED_COLOUR:i=1;break;case ma.GREYSCALE_ALPHA:i=2;break;case ma.TRUECOLOUR_ALPHA:i=4;break;case ma.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==kx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let o=0;o<n;o++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case ma.GREYSCALE:case ma.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case ma.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ma.UNKNOWN:case ma.GREYSCALE_ALPHA:case ma.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=iN(this),i=this.readUint8();if(i!==kx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const o=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:KT(o)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=sy({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const o=this._apng.frames.at(r-1);this.disposeFrame(i,o,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case Lf.NONE:break;case Lf.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let c=0;c<this._png.width;c++){const u=(o*r.width+c)*this._png.channels;for(let d=0;d<this._png.channels;d++)i.data[u+d]=0}break;case Lf.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,o=(c,u)=>{const d=((c+n.yOffset)*this._png.width+n.xOffset+u)*this._png.channels,h=(c*n.width+u)*this._png.channels;return{index:d,frameIndex:h}};switch(n.blendOp){case Cx.SOURCE:for(let c=0;c<n.height;c++)for(let u=0;u<n.width;u++){const{index:d,frameIndex:h}=o(c,u);for(let p=0;p<this._png.channels;p++)r.data[d+p]=n.data[h+p]}break;case Cx.OVER:for(let c=0;c<n.height;c++)for(let u=0;u<n.width;u++){const{index:d,frameIndex:h}=o(c,u);for(let p=0;p<this._png.channels;p++){const b=n.data[h+this._png.channels-1]/i,y=p%(this._png.channels-1)===0?1:n.data[h+p],g=Math.floor(b*y+(1-b)*r.data[d+p]);r.data[d+p]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==ay.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ex.NO_INTERLACE)this._png.data=sy({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ex.ADAM7)this._png.data=nO({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Lf.NONE,blendOp:Cx.SOURCE,data:r}),this._inflator=new ty,this._writingDataChunks=!1}}function bO(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var oy;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(oy||(oy={}));function yO(e,t){return new vO(e,t).decode()}var Ht=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Ax(){Ht.console&&typeof Ht.console.log=="function"&&Ht.console.log.apply(Ht.console,arguments)}var Vr={log:Ax,warn:function(e){Ht.console&&(typeof Ht.console.warn=="function"?Ht.console.warn.apply(Ht.console,arguments):Ax.call(null,arguments))},error:function(e){Ht.console&&(typeof Ht.console.error=="function"?Ht.console.error.apply(Ht.console,arguments):Ax(e))}};function Px(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){du(n.response,t,r)},n.onerror=function(){Vr.error("could not download file")},n.send()}function ly(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Rf(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var du=Ht.saveAs||((typeof window>"u"?"undefined":Dr(window))!=="object"||window!==Ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Ht.URL||Ht.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?ly(i.href)?Px(e,t,r):Rf(i,i.target="_blank"):Rf(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Rf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(ly(e))Px(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Rf(n)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:Dr(o)!=="object"&&(Vr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Px(e,t,r);var i=e.type==="application/octet-stream",o=/constructor/i.test(Ht.HTMLElement)||Ht.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&o)&&(typeof FileReader>"u"?"undefined":Dr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=c?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},u.readAsDataURL(e)}else{var d=Ht.URL||Ht.webkitURL,h=d.createObjectURL(e);n?n.location=h:location.href=h,n=null,setTimeout(function(){d.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function aN(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,o=r[n].process,c=i.exec(e);c&&(t=o(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),h=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),"#"+u+d+h}}var Wf=Ht.atob.bind(Ht),cy=Ht.btoa.bind(Ht);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Lx(e,t){var r=e[0],n=e[1],i=e[2],o=e[3];r=ai(r,n,i,o,t[0],7,-680876936),o=ai(o,r,n,i,t[1],12,-389564586),i=ai(i,o,r,n,t[2],17,606105819),n=ai(n,i,o,r,t[3],22,-1044525330),r=ai(r,n,i,o,t[4],7,-176418897),o=ai(o,r,n,i,t[5],12,1200080426),i=ai(i,o,r,n,t[6],17,-1473231341),n=ai(n,i,o,r,t[7],22,-45705983),r=ai(r,n,i,o,t[8],7,1770035416),o=ai(o,r,n,i,t[9],12,-1958414417),i=ai(i,o,r,n,t[10],17,-42063),n=ai(n,i,o,r,t[11],22,-1990404162),r=ai(r,n,i,o,t[12],7,1804603682),o=ai(o,r,n,i,t[13],12,-40341101),i=ai(i,o,r,n,t[14],17,-1502002290),r=oi(r,n=ai(n,i,o,r,t[15],22,1236535329),i,o,t[1],5,-165796510),o=oi(o,r,n,i,t[6],9,-1069501632),i=oi(i,o,r,n,t[11],14,643717713),n=oi(n,i,o,r,t[0],20,-373897302),r=oi(r,n,i,o,t[5],5,-701558691),o=oi(o,r,n,i,t[10],9,38016083),i=oi(i,o,r,n,t[15],14,-660478335),n=oi(n,i,o,r,t[4],20,-405537848),r=oi(r,n,i,o,t[9],5,568446438),o=oi(o,r,n,i,t[14],9,-1019803690),i=oi(i,o,r,n,t[3],14,-187363961),n=oi(n,i,o,r,t[8],20,1163531501),r=oi(r,n,i,o,t[13],5,-1444681467),o=oi(o,r,n,i,t[2],9,-51403784),i=oi(i,o,r,n,t[7],14,1735328473),r=li(r,n=oi(n,i,o,r,t[12],20,-1926607734),i,o,t[5],4,-378558),o=li(o,r,n,i,t[8],11,-2022574463),i=li(i,o,r,n,t[11],16,1839030562),n=li(n,i,o,r,t[14],23,-35309556),r=li(r,n,i,o,t[1],4,-1530992060),o=li(o,r,n,i,t[4],11,1272893353),i=li(i,o,r,n,t[7],16,-155497632),n=li(n,i,o,r,t[10],23,-1094730640),r=li(r,n,i,o,t[13],4,681279174),o=li(o,r,n,i,t[0],11,-358537222),i=li(i,o,r,n,t[3],16,-722521979),n=li(n,i,o,r,t[6],23,76029189),r=li(r,n,i,o,t[9],4,-640364487),o=li(o,r,n,i,t[12],11,-421815835),i=li(i,o,r,n,t[15],16,530742520),r=ci(r,n=li(n,i,o,r,t[2],23,-995338651),i,o,t[0],6,-198630844),o=ci(o,r,n,i,t[7],10,1126891415),i=ci(i,o,r,n,t[14],15,-1416354905),n=ci(n,i,o,r,t[5],21,-57434055),r=ci(r,n,i,o,t[12],6,1700485571),o=ci(o,r,n,i,t[3],10,-1894986606),i=ci(i,o,r,n,t[10],15,-1051523),n=ci(n,i,o,r,t[1],21,-2054922799),r=ci(r,n,i,o,t[8],6,1873313359),o=ci(o,r,n,i,t[15],10,-30611744),i=ci(i,o,r,n,t[6],15,-1560198380),n=ci(n,i,o,r,t[13],21,1309151649),r=ci(r,n,i,o,t[4],6,-145523070),o=ci(o,r,n,i,t[11],10,-1120210379),i=ci(i,o,r,n,t[2],15,718787259),n=ci(n,i,o,r,t[9],21,-343485551),e[0]=kc(r,e[0]),e[1]=kc(n,e[1]),e[2]=kc(i,e[2]),e[3]=kc(o,e[3])}function Hp(e,t,r,n,i,o){return t=kc(kc(t,e),kc(n,o)),kc(t<<i|t>>>32-i,r)}function ai(e,t,r,n,i,o,c){return Hp(t&r|~t&n,e,t,i,o,c)}function oi(e,t,r,n,i,o,c){return Hp(t&n|r&~n,e,t,i,o,c)}function li(e,t,r,n,i,o,c){return Hp(t^r^n,e,t,i,o,c)}function ci(e,t,r,n,i,o,c){return Hp(r^(t|~n),e,t,i,o,c)}function oN(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Lx(n,wO(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Lx(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,Lx(n,i),n}function wO(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var uy="0123456789abcdef".split("");function NO(e){for(var t="",r=0;r<4;r++)t+=uy[e>>8*r+4&15]+uy[e>>8*r&15];return t}function jO(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Fg(e){return oN(e).map(jO).join("")}var SO=(function(e){for(var t=0;t<e.length;t++)e[t]=NO(e[t]);return e.join("")})(oN("hello"))!="5d41402abc4b2a76b9719d911017c592";function kc(e,t){if(SO){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Dg(e,t){var r,n,i,o;if(e!==r){for(var c=(i=e,o=1+(256/e.length|0),new Array(o+1).join(i)),u=[],d=0;d<256;d++)u[d]=d;var h=0;for(d=0;d<256;d++){var p=u[d];h=(h+p+c.charCodeAt(d))%256,u[d]=u[h],u[h]=p}r=e,n=u}else u=n;var b=t.length,y=0,g=0,S="";for(d=0;d<b;d++)g=(g+(p=u[y=(y+1)%256]))%256,u[y]=u[g],u[g]=p,c=u[(u[y]+u[g])%256],S+=String.fromCharCode(t.charCodeAt(d)^c);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dy={print:4,modify:8,copy:16,"annot-forms":32};function pd(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(u){if(dy.perm!==void 0)throw new Error("Invalid permission: "+u);i+=dy[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),c=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^i)),this.encryptionKey=Fg(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Dg(this.encryptionKey,this.padding)}function md(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function hy(e){if(Dr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var o=Math.random().toString(35);return t[r][o]=[n,!!i],o},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var o in t[r]){var c=t[r][o];try{c[0].apply(e,n)}catch(u){Ht.console&&Vr.error("jsPDF PubSub Error",u.message,u)}c[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function jp(e){if(!(this instanceof jp))return new jp(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function lN(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function xu(e,t,r,n,i){if(!(this instanceof xu))return new xu(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,lN.call(this,n,i)}function wd(e,t,r,n,i){if(!(this instanceof wd))return new wd(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,lN.call(this,n,i)}function Nt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],o=arguments[3],c=[],u=1,d=16,h="S",p=null;Dr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,o=e.compress||e.compressPdf||o,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),h=e.defaultPathOperation||"S"),c=e.filters||(o===!0?["FlateEncode"]:c),n=n||"mm",r=(""+(r||"P")).toLowerCase();var b=e.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=hy;var S="1.3",k=g.__private__.getPdfVersion=function(){return S};g.__private__.setPdfVersion=function(w){S=w};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return E};var A=g.__private__.getPageFormat=function(w){return E[w]};i=i||"a4";var L="compat",P="advanced",R=L;function X(){this.saveGraphicsState(),K(new Lt(Mt,0,0,-Mt,0,kn()*Mt).toString()+" cm"),this.setFontSize(this.getFontSize()/Mt),h="n",R=P}function Q(){this.restoreGraphicsState(),h="S",R=L}var ae=g.__private__.combineFontStyleAndFontWeight=function(w,M){if(w=="bold"&&M=="normal"||w=="bold"&&M==400||w=="normal"&&M=="italic"||w=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(w=M==400||M==="normal"?w==="italic"?"italic":"normal":M!=700&&M!=="bold"||w!=="normal"?(M==700?"bold":M)+""+w:"bold"),w};g.advancedAPI=function(w){var M=R===L;return M&&X.call(this),typeof w!="function"||(w(this),M&&Q.call(this)),this},g.compatAPI=function(w){var M=R===P;return M&&Q.call(this),typeof w!="function"||(w(this),M&&X.call(this)),this},g.isAdvancedAPI=function(){return R===P};var se,V=function(w){if(R!==P)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},re=g.roundToPrecision=g.__private__.roundToPrecision=function(w,M){var ne=t||M;if(isNaN(w)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(ne).replace(/0+$/,"")};se=g.hpf=g.__private__.hpf=typeof d=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return re(w,d)}:d==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return re(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return re(w,16)};var T=g.f2=g.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return re(w,2)},F=g.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return re(w,3)},z=g.scale=g.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return R===L?w*Mt:R===P?w:void 0},H=function(w){return z((function(M){return R===L?kn()-M:R===P?M:void 0})(w))};g.__private__.setPrecision=g.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(t=parseInt(w,10))};var ve,ye="00000000000000000000000000000000",xe=g.__private__.getFileId=function(){return ye},ie=g.__private__.setFileId=function(w){return ye=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():ye.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(cr=new pd(p.userPermissions,p.userPassword,p.ownerPassword,ye)),ye};g.setFileId=function(w){return ie(w),this},g.getFileId=function(){return xe()};var he=g.__private__.convertDateToPDFDate=function(w){var M=w.getTimezoneOffset(),ne=M<0?"+":"-",de=Math.floor(Math.abs(M/60)),Se=Math.abs(M%60),qe=[ne,Z(de),"'",Z(Se),"'"].join("");return["D:",w.getFullYear(),Z(w.getMonth()+1),Z(w.getDate()),Z(w.getHours()),Z(w.getMinutes()),Z(w.getSeconds()),qe].join("")},G=g.__private__.convertPDFDateToDate=function(w){var M=parseInt(w.substr(2,4),10),ne=parseInt(w.substr(6,2),10)-1,de=parseInt(w.substr(8,2),10),Se=parseInt(w.substr(10,2),10),qe=parseInt(w.substr(12,2),10),$e=parseInt(w.substr(14,2),10);return new Date(M,ne,de,Se,qe,$e,0)},ce=g.__private__.setCreationDate=function(w){var M;if(w===void 0&&(w=new Date),w instanceof Date)M=he(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=w}return ve=M},I=g.__private__.getCreationDate=function(w){var M=ve;return w==="jsDate"&&(M=G(ve)),M};g.setCreationDate=function(w){return ce(w),this},g.getCreationDate=function(w){return I(w)};var J,Z=g.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},le=g.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ue=0,be=[],Ee=[],fe=0,me=[],Oe=[],je=!1,Ve=Ee;g.__private__.setCustomOutputDestination=function(w){je=!0,Ve=w};var ze=function(w){je||(Ve=w)};g.__private__.resetCustomOutputDestination=function(){je=!1,Ve=Ee};var K=g.__private__.out=function(w){return w=w.toString(),fe+=w.length+1,Ve.push(w),Ve},We=g.__private__.write=function(w){return K(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},vt=g.__private__.getArrayBuffer=function(w){for(var M=w.length,ne=new ArrayBuffer(M),de=new Uint8Array(ne);M--;)de[M]=w.charCodeAt(M);return ne},tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return tt};var Be=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(w){return Be=R===P?w/Mt:w,this};var ht,Ze=g.__private__.getFontSize=g.getFontSize=function(){return R===L?Be:Be*Mt},mt=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(w){return mt=w,this},g.__private__.getR2L=g.getR2L=function(){return mt};var xt,yr=g.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))ht=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');ht=w}else ht=parseInt(w,10)};g.__private__.getZoomMode=function(){return ht};var nr,$t=g.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');xt=w};g.__private__.getPageMode=function(){return xt};var sr=g.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');nr=w};g.__private__.getLayoutMode=function(){return nr},g.__private__.setDisplayMode=g.setDisplayMode=function(w,M,ne){return yr(w),sr(M),$t(ne),this};var Jt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(w){if(Object.keys(Jt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Jt[w]},g.__private__.getDocumentProperties=function(){return Jt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(w){for(var M in Jt)Jt.hasOwnProperty(M)&&w[M]&&(Jt[M]=w[M]);return this},g.__private__.setDocumentProperty=function(w,M){if(Object.keys(Jt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Jt[w]=M};var at,Mt,ot,Zr,Qt,Gt={},Vt={},Or=[],yt={},Er={},kt={},Ut={},jr=null,Yt=0,At=[],lr=new hy(g),to=e.hotfixes||[],$n={},Xi={},ui=[],Lt=function w(M,ne,de,Se,qe,$e){if(!(this instanceof w))return new w(M,ne,de,Se,qe,$e);isNaN(M)&&(M=1),isNaN(ne)&&(ne=0),isNaN(de)&&(de=0),isNaN(Se)&&(Se=1),isNaN(qe)&&(qe=0),isNaN($e)&&($e=0),this._matrix=[M,ne,de,Se,qe,$e]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(se).join(w)},Lt.prototype.multiply=function(w){var M=w.sx*this.sx+w.shy*this.shx,ne=w.sx*this.shy+w.shy*this.sy,de=w.shx*this.sx+w.sy*this.shx,Se=w.shx*this.shy+w.sy*this.sy,qe=w.tx*this.sx+w.ty*this.shx+this.tx,$e=w.tx*this.shy+w.ty*this.sy+this.ty;return new Lt(M,ne,de,Se,qe,$e)},Lt.prototype.decompose=function(){var w=this.sx,M=this.shy,ne=this.shx,de=this.sy,Se=this.tx,qe=this.ty,$e=Math.sqrt(w*w+M*M),lt=(w/=$e)*ne+(M/=$e)*de;ne-=w*lt,de-=M*lt;var et=Math.sqrt(ne*ne+de*de);return lt/=et,w*(de/=et)<M*(ne/=et)&&(w=-w,M=-M,lt=-lt,$e=-$e),{scale:new Lt($e,0,0,et,0,0),translate:new Lt(1,0,0,1,Se,qe),rotate:new Lt(w,M,-M,w,0,0),skew:new Lt(1,0,lt,1,0,0)}},Lt.prototype.toString=function(w){return this.join(" ")},Lt.prototype.inversed=function(){var w=this.sx,M=this.shy,ne=this.shx,de=this.sy,Se=this.tx,qe=this.ty,$e=1/(w*de-M*ne),lt=de*$e,et=-M*$e,Rt=-ne*$e,St=w*$e;return new Lt(lt,et,Rt,St,-lt*Se-Rt*qe,-et*Se-St*qe)},Lt.prototype.applyToPoint=function(w){var M=w.x*this.sx+w.y*this.shx+this.tx,ne=w.x*this.shy+w.y*this.sy+this.ty;return new Js(M,ne)},Lt.prototype.applyToRectangle=function(w){var M=this.applyToPoint(w),ne=this.applyToPoint(new Js(w.x+w.w,w.y+w.h));return new Ea(M.x,M.y,ne.x-M.x,ne.y-M.y)},Lt.prototype.clone=function(){var w=this.sx,M=this.shy,ne=this.shx,de=this.sy,Se=this.tx,qe=this.ty;return new Lt(w,M,ne,de,Se,qe)},g.Matrix=Lt;var Bs=g.matrixMult=function(w,M){return M.multiply(w)},Nn=new Lt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Nn;var qr=function(w,M){if(!Er[w]){var ne=(M instanceof xu?"Sh":"P")+(Object.keys(yt).length+1).toString(10);M.id=ne,Er[w]=ne,yt[ne]=M,lr.publish("addPattern",M)}};g.ShadingPattern=xu,g.TilingPattern=wd,g.addShadingPattern=function(w,M){return V("addShadingPattern()"),qr(w,M),this},g.beginTilingPattern=function(w){V("beginTilingPattern()"),Es(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},g.endTilingPattern=function(w,M){V("endTilingPattern()"),M.stream=Oe[J].join(`
`),qr(w,M),lr.publish("endTilingPattern",M),ui.pop().restore()};var Ss,gr=g.__private__.newObject=function(){var w=en();return on(w,!0),w},en=g.__private__.newObjectDeferred=function(){return ue++,be[ue]=function(){return fe},ue},on=function(w,M){return M=typeof M=="boolean"&&M,be[w]=fe,M&&K(w+" 0 obj"),w},Qi=g.__private__.newAdditionalObject=function(){var w={objId:en(),content:""};return me.push(w),w},$s=en(),Vs=en(),Ws=g.__private__.decodeColorString=function(w){var M=w.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length!==5||M[4]!=="k"&&M[4]!=="K"||(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var ne=parseFloat(M[0]);M=[ne,ne,ne,"r"]}for(var de="#",Se=0;Se<3;Se++)de+=("0"+Math.floor(255*parseFloat(M[Se])).toString(16)).slice(-2);return de},jn=g.__private__.encodeColorString=function(w){var M;typeof w=="string"&&(w={ch1:w});var ne=w.ch1,de=w.ch2,Se=w.ch3,qe=w.ch4,$e=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var lt=new aN(ne);if(lt.ok)ne=lt.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var et=parseInt(ne.substr(1),16);ne=et>>16&255,de=et>>8&255,Se=255&et}if(de===void 0||qe===void 0&&ne===de&&de===Se)M=typeof ne=="string"?ne+" "+$e[0]:w.precision===2?T(ne/255)+" "+$e[0]:F(ne/255)+" "+$e[0];else if(qe===void 0||Dr(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return["1.","1.","1.",$e[1]].join(" ");M=typeof ne=="string"?[ne,de,Se,$e[1]].join(" "):w.precision===2?[T(ne/255),T(de/255),T(Se/255),$e[1]].join(" "):[F(ne/255),F(de/255),F(Se/255),$e[1]].join(" ")}else M=typeof ne=="string"?[ne,de,Se,qe,$e[2]].join(" "):w.precision===2?[T(ne),T(de),T(Se),T(qe),$e[2]].join(" "):[F(ne),F(de),F(Se),F(qe),$e[2]].join(" ");return M},di=g.__private__.getFilters=function(){return c},Hs=g.__private__.putStream=function(w){var M=(w=w||{}).data||"",ne=w.filters||di(),de=w.alreadyAppliedFilters||[],Se=w.addLength1||!1,qe=M.length,$e=w.objectId,lt=function(ln){return ln};if(p!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(lt=cr.encryptor($e,0));var et={};ne===!0&&(ne=["FlateEncode"]);var Rt=w.additionalKeyValues||[],St=(et=Nt.API.processDataByFilters!==void 0?Nt.API.processDataByFilters(M,ne):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(et.data.length!==0&&(Rt.push({key:"Length",value:et.data.length}),Se===!0&&Rt.push({key:"Length1",value:qe})),St.length!=0)if(St.split("/").length-1==1)Rt.push({key:"Filter",value:St});else{Rt.push({key:"Filter",value:"["+St+"]"});for(var ir=0;ir<Rt.length;ir+=1)if(Rt[ir].key==="DecodeParms"){for(var Ft=[],tn=0;tn<et.reverseChain.split("/").length-1;tn+=1)Ft.push("null");Ft.push(Rt[ir].value),Rt[ir].value="["+Ft.join(" ")+"]"}}K("<<");for(var tr=0;tr<Rt.length;tr++)K("/"+Rt[tr].key+" "+Rt[tr].value);K(">>"),et.data.length!==0&&(K("stream"),K(lt(et.data)),K("endstream"))},Zi=g.__private__.putPage=function(w){var M=w.number,ne=w.data,de=w.objId,Se=w.contentsObjId;on(de,!0),K("<</Type /Page"),K("/Parent "+w.rootDictionaryObjId+" 0 R"),K("/Resources "+w.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(se(w.mediaBox.bottomLeftX))+" "+parseFloat(se(w.mediaBox.bottomLeftY))+" "+se(w.mediaBox.topRightX)+" "+se(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&K("/CropBox ["+se(w.cropBox.bottomLeftX)+" "+se(w.cropBox.bottomLeftY)+" "+se(w.cropBox.topRightX)+" "+se(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&K("/BleedBox ["+se(w.bleedBox.bottomLeftX)+" "+se(w.bleedBox.bottomLeftY)+" "+se(w.bleedBox.topRightX)+" "+se(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&K("/TrimBox ["+se(w.trimBox.bottomLeftX)+" "+se(w.trimBox.bottomLeftY)+" "+se(w.trimBox.topRightX)+" "+se(w.trimBox.topRightY)+"]"),w.artBox!==null&&K("/ArtBox ["+se(w.artBox.bottomLeftX)+" "+se(w.artBox.bottomLeftY)+" "+se(w.artBox.topRightX)+" "+se(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&K("/UserUnit "+w.userUnit),lr.publish("putPage",{objId:de,pageContext:At[M],pageNumber:M,page:ne}),K("/Contents "+Se+" 0 R"),K(">>"),K("endobj");var qe=ne.join(`
`);return R===P&&(qe+=`
Q`),on(Se,!0),Hs({data:qe,filters:di(),objectId:Se}),K("endobj"),de},hi=g.__private__.putPages=function(){var w,M,ne=[];for(w=1;w<=Yt;w++)At[w].objId=en(),At[w].contentsObjId=en();for(w=1;w<=Yt;w++)ne.push(Zi({number:w,data:Oe[w],objId:At[w].objId,contentsObjId:At[w].contentsObjId,mediaBox:At[w].mediaBox,cropBox:At[w].cropBox,bleedBox:At[w].bleedBox,trimBox:At[w].trimBox,artBox:At[w].artBox,userUnit:At[w].userUnit,rootDictionaryObjId:$s,resourceDictionaryObjId:Vs}));on($s,!0),K("<</Type /Pages");var de="/Kids [";for(M=0;M<Yt;M++)de+=ne[M]+" 0 R ";K(de+"]"),K("/Count "+Yt),K(">>"),K("endobj"),lr.publish("postPutPages")},ro=function(w){lr.publish("putFont",{font:w,out:K,newObject:gr,putStream:Hs}),w.isAlreadyPutted!==!0&&(w.objectNumber=gr(),K("<<"),K("/Type /Font"),K("/BaseFont /"+md(w.postScriptName)),K("/Subtype /Type1"),typeof w.encoding=="string"&&K("/Encoding /"+w.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},Mo=function(w){w.objectNumber=gr();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[se(w.x),se(w.y),se(w.x+w.width),se(w.y+w.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var ne=w.pages[1].join(`
`);Hs({data:ne,additionalKeyValues:M,objectId:w.objectNumber}),K("endobj")},Fo=function(w,M){M||(M=21);var ne=gr(),de=(function($e,lt){var et,Rt=[],St=1/(lt-1);for(et=0;et<1;et+=St)Rt.push(et);if(Rt.push(1),$e[0].offset!=0){var ir={offset:0,color:$e[0].color};$e.unshift(ir)}if($e[$e.length-1].offset!=1){var Ft={offset:1,color:$e[$e.length-1].color};$e.push(Ft)}for(var tn="",tr=0,ln=0;ln<Rt.length;ln++){for(et=Rt[ln];et>$e[tr+1].offset;)tr++;var ur=$e[tr].offset,En=(et-ur)/($e[tr+1].offset-ur),na=$e[tr].color,Ri=$e[tr+1].color;tn+=le(Math.round((1-En)*na[0]+En*Ri[0]).toString(16))+le(Math.round((1-En)*na[1]+En*Ri[1]).toString(16))+le(Math.round((1-En)*na[2]+En*Ri[2]).toString(16))}return tn.trim()})(w.colors,M),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+M+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hs({data:de,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),K("endobj"),w.objectNumber=gr(),K("<< /ShadingType "+w.type),K("/ColorSpace /DeviceRGB");var qe="/Coords ["+se(parseFloat(w.coords[0]))+" "+se(parseFloat(w.coords[1]))+" ";w.type===2?qe+=se(parseFloat(w.coords[2]))+" "+se(parseFloat(w.coords[3])):qe+=se(parseFloat(w.coords[2]))+" "+se(parseFloat(w.coords[3]))+" "+se(parseFloat(w.coords[4]))+" "+se(parseFloat(w.coords[5])),K(qe+="]"),w.matrix&&K("/Matrix ["+w.matrix.toString()+"]"),K("/Function "+ne+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},Do=function(w,M){var ne=en(),de=gr();M.push({resourcesOid:ne,objectOid:de}),w.objectNumber=de;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+w.boundingBox.map(se).join(" ")+"]"}),Se.push({key:"XStep",value:se(w.xStep)}),Se.push({key:"YStep",value:se(w.yStep)}),Se.push({key:"Resources",value:ne+" 0 R"}),w.matrix&&Se.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),Hs({data:w.stream,additionalKeyValues:Se,objectId:w.objectNumber}),K("endobj")},Lu=function(w){for(var M in w.objectNumber=gr(),K("<<"),w)switch(M){case"opacity":K("/ca "+T(w[M]));break;case"stroke-opacity":K("/CA "+T(w[M]))}K(">>"),K("endobj")},Mr=function(w){on(w.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var M in K("/Font <<"),Gt)Gt.hasOwnProperty(M)&&(b===!1||b===!0&&y.hasOwnProperty(M))&&K("/"+M+" "+Gt[M].objectNumber+" 0 R");K(">>")})(),(function(){if(Object.keys(yt).length>0){for(var M in K("/Shading <<"),yt)yt.hasOwnProperty(M)&&yt[M]instanceof xu&&yt[M].objectNumber>=0&&K("/"+M+" "+yt[M].objectNumber+" 0 R");lr.publish("putShadingPatternDict"),K(">>")}})(),(function(M){if(Object.keys(yt).length>0){for(var ne in K("/Pattern <<"),yt)yt.hasOwnProperty(ne)&&yt[ne]instanceof g.TilingPattern&&yt[ne].objectNumber>=0&&yt[ne].objectNumber<M&&K("/"+ne+" "+yt[ne].objectNumber+" 0 R");lr.publish("putTilingPatternDict"),K(">>")}})(w.objectOid),(function(){if(Object.keys(kt).length>0){var M;for(M in K("/ExtGState <<"),kt)kt.hasOwnProperty(M)&&kt[M].objectNumber>=0&&K("/"+M+" "+kt[M].objectNumber+" 0 R");lr.publish("putGStateDict"),K(">>")}})(),(function(){for(var M in K("/XObject <<"),$n)$n.hasOwnProperty(M)&&$n[M].objectNumber>=0&&K("/"+M+" "+$n[M].objectNumber+" 0 R");lr.publish("putXobjectDict"),K(">>")})(),K(">>"),K("endobj")},Lc=function(w){Vt[w.fontName]=Vt[w.fontName]||{},Vt[w.fontName][w.fontStyle]=w.id},qo=function(w,M,ne,de,Se){var qe={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:w,fontName:M,fontStyle:ne,encoding:de,isStandardFont:Se||!1,metadata:{}};return lr.publish("addFont",{font:qe,instance:this}),Gt[qe.id]=qe,Lc(qe),qe.id},Gs=g.__private__.pdfEscape=g.pdfEscape=function(w,M){return(function(ne,de){var Se,qe,$e,lt,et,Rt,St,ir,Ft;if($e=(de=de||{}).sourceEncoding||"Unicode",et=de.outputEncoding,(de.autoencode||et)&&Gt[at].metadata&&Gt[at].metadata[$e]&&Gt[at].metadata[$e].encoding&&(lt=Gt[at].metadata[$e].encoding,!et&&Gt[at].encoding&&(et=Gt[at].encoding),!et&&lt.codePages&&(et=lt.codePages[0]),typeof et=="string"&&(et=lt[et]),et)){for(St=!1,Rt=[],Se=0,qe=ne.length;Se<qe;Se++)(ir=et[ne.charCodeAt(Se)])?Rt.push(String.fromCharCode(ir)):Rt.push(ne[Se]),Rt[Se].charCodeAt(0)>>8&&(St=!0);ne=Rt.join("")}for(Se=ne.length;St===void 0&&Se!==0;)ne.charCodeAt(Se-1)>>8&&(St=!0),Se--;if(!St)return ne;for(Rt=de.noBOM?[]:[254,255],Se=0,qe=ne.length;Se<qe;Se++){if((Ft=(ir=ne.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Rt.push(Ft),Rt.push(ir-(Ft<<8))}return String.fromCharCode.apply(void 0,Rt)})(w,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Na=g.__private__.beginPage=function(w){Oe[++Yt]=[],At[Yt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},Uo(Yt),ze(Oe[J])},fn=function(w,M){var ne,de,Se;switch(r=M||r,typeof w=="string"&&(ne=A(w.toLowerCase()),Array.isArray(ne)&&(de=ne[0],Se=ne[1])),Array.isArray(w)&&(de=w[0]*Mt,Se=w[1]*Mt),isNaN(de)&&(de=i[0],Se=i[1]),(de>14400||Se>14400)&&(Vr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),Se=Math.min(14400,Se)),i=[de,Se],r.substr(0,1)){case"l":Se>de&&(i=[Se,de]);break;case"p":de>Se&&(i=[Se,de])}Na(i),Et(Qn),K(Wo),wl!==0&&K(wl+" J"),tc!==0&&K(tc+" j"),lr.publish("addPage",{pageNumber:Yt})},ja=function(w){w>0&&w<=Yt&&(Oe.splice(w,1),At.splice(w,1),Yt--,J>Yt&&(J=Yt),this.setPage(J))},Uo=function(w){w>0&&w<=Yt&&(J=w)},fs=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Oe.length-1},Rc=function(w,M,ne){var de,Se=void 0;return ne=ne||{},w=w!==void 0?w:Gt[at].fontName,M=M!==void 0?M:Gt[at].fontStyle,de=w.toLowerCase(),Vt[de]!==void 0&&Vt[de][M]!==void 0?Se=Vt[de][M]:Vt[w]!==void 0&&Vt[w][M]!==void 0?Se=Vt[w][M]:ne.disableWarning===!1&&Vr.warn("Unable to look up font label for font '"+w+"', '"+M+"'. Refer to getFontList() for available fonts."),Se||ne.noFallback||(Se=Vt.times[M])==null&&(Se=Vt.times.normal),Se},pn=g.__private__.putInfo=function(){var w=gr(),M=function(de){return de};for(var ne in p!==null&&(M=cr.encryptor(w,0)),K("<<"),K("/Producer ("+Gs(M("jsPDF "+Nt.version))+")"),Jt)Jt.hasOwnProperty(ne)&&Jt[ne]&&K("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+Gs(M(Jt[ne]))+")");K("/CreationDate ("+Gs(M(ve))+")"),K(">>"),K("endobj")},yl=g.__private__.putCatalog=function(w){var M=(w=w||{}).rootDictionaryObjId||$s;switch(gr(),K("<<"),K("/Type /Catalog"),K("/Pages "+M+" 0 R"),ht||(ht="fullwidth"),ht){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+ht;ne.substr(ne.length-1)==="%"&&(ht=parseInt(ht)/100),typeof ht=="number"&&K("/OpenAction [3 0 R /XYZ null null "+T(ht)+"]")}switch(nr||(nr="continuous"),nr){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}xt&&K("/PageMode /"+xt),lr.publish("putCatalog"),K(">>"),K("endobj")},Ru=g.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(ue+1)),K("/Root "+ue+" 0 R"),K("/Info "+(ue-1)+" 0 R"),p!==null&&K("/Encrypt "+cr.oid+" 0 R"),K("/ID [ <"+ye+"> <"+ye+"> ]"),K(">>")},mn=g.__private__.putHeader=function(){K("%PDF-"+S),K("%")},no=g.__private__.putXRef=function(){var w="0000000000";K("xref"),K("0 "+(ue+1)),K("0000000000 65535 f ");for(var M=1;M<=ue;M++)typeof be[M]=="function"?K((w+be[M]()).slice(-10)+" 00000 n "):be[M]!==void 0?K((w+be[M]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},Ys=g.__private__.buildDocument=function(){var w;ue=0,fe=0,Ee=[],be=[],me=[],$s=en(),Vs=en(),ze(Ee),lr.publish("buildDocument"),mn(),hi(),(function(){lr.publish("putAdditionalObjects");for(var ne=0;ne<me.length;ne++){var de=me[ne];on(de.objId,!0),K(de.content),K("endobj")}lr.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var ne in Gt)Gt.hasOwnProperty(ne)&&(b===!1||b===!0&&y.hasOwnProperty(ne))&&ro(Gt[ne])})(),(function(){var ne;for(ne in kt)kt.hasOwnProperty(ne)&&Lu(kt[ne])})(),(function(){for(var ne in $n)$n.hasOwnProperty(ne)&&Mo($n[ne])})(),(function(ne){var de;for(de in yt)yt.hasOwnProperty(de)&&(yt[de]instanceof xu?Fo(yt[de]):yt[de]instanceof wd&&Do(yt[de],ne))})(w),lr.publish("putResources"),w.forEach(Mr),Mr({resourcesOid:Vs,objectOid:Number.MAX_SAFE_INTEGER}),lr.publish("postPutResources"),p!==null&&(cr.oid=gr(),K("<<"),K("/Filter /Standard"),K("/V "+cr.v),K("/R "+cr.r),K("/U <"+cr.toHexString(cr.U)+">"),K("/O <"+cr.toHexString(cr.O)+">"),K("/P "+cr.P),K(">>"),K("endobj")),pn(),yl();var M=fe;return no(),Ru(),K("startxref"),K(""+M),K("%%EOF"),ze(Oe[J]),Ee.join(`
`)},ea=g.__private__.getBlob=function(w){return new Blob([vt(w)],{type:"application/pdf"})},Sn=g.output=g.__private__.output=(Ss=function(w,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",w){case void 0:return Ys();case"save":g.save(M.filename);break;case"arraybuffer":return vt(Ys());case"blob":return ea(Ys());case"bloburi":case"bloburl":if(Ht.URL!==void 0&&typeof Ht.URL.createObjectURL=="function")return Ht.URL&&Ht.URL.createObjectURL(ea(Ys()))||void 0;Vr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",de=Ys();try{ne=cy(de)}catch{ne=cy(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+M.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(Se=M.pdfObjectUrl,qe="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",lt=Ht.open();return lt!==null&&lt.document.write($e),lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',Rt=Ht.open();if(Rt!==null){Rt.document.write(et);var St=this;Rt.document.documentElement.querySelector("#pdfViewer").onload=function(){Rt.document.title=M.filename,Rt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(St.output("bloburl"))}}return Rt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ir='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',Ft=Ht.open();if(Ft!==null&&(Ft.document.write(ir),Ft.document.title=M.filename),Ft||typeof safari>"u")return Ft;break;case"datauri":case"dataurl":return Ht.document.location.href=this.output("datauristring",M);default:return null}},Ss.foo=function(){try{return Ss.apply(this,arguments)}catch(ne){var w=ne.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var M="Error in function "+w.split(`
`)[0].split("<")[0]+": "+ne.message;if(!Ht.console)throw new Error(M);Ht.console.error(M,ne),Ht.alert&&alert(M)}},Ss.foo.bar=Ss,Ss.foo),_s=function(w){return Array.isArray(to)===!0&&to.indexOf(w)>-1};switch(n){case"pt":Mt=1;break;case"mm":Mt=72/25.4;break;case"cm":Mt=72/2.54;break;case"in":Mt=72;break;case"px":Mt=_s("px_scaling")==1?.75:96/72;break;case"pc":case"em":Mt=12;break;case"ex":Mt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Mt=n}var cr=null;ce(),ie();var Ks=g.__private__.getPageInfo=g.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[w].objId,pageNumber:w,pageContext:At[w]}},Xn=g.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in At)if(At[M].objId===w)break;return Ks(M)},zo=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:At[J].objId,pageNumber:J,pageContext:At[J]}};g.addPage=function(){return fn.apply(this,arguments),this},g.setPage=function(){return Uo.apply(this,arguments),ze.call(this,Oe[J]),this},g.insertPage=function(w){return this.addPage(),this.movePage(J,w),this},g.movePage=function(w,M){var ne,de;if(w>M){ne=Oe[w],de=At[w];for(var Se=w;Se>M;Se--)Oe[Se]=Oe[Se-1],At[Se]=At[Se-1];Oe[M]=ne,At[M]=de,this.setPage(M)}else if(w<M){ne=Oe[w],de=At[w];for(var qe=w;qe<M;qe++)Oe[qe]=Oe[qe+1],At[qe]=At[qe+1];Oe[M]=ne,At[M]=de,this.setPage(M)}return this},g.deletePage=function(){return ja.apply(this,arguments),this},g.__private__.text=g.text=function(w,M,ne,de,Se){var qe,$e,lt,et,Rt,St,ir,Ft,tn,tr=(de=de||{}).scope||this;if(typeof w=="number"&&typeof M=="number"&&(typeof ne=="string"||Array.isArray(ne))){var ln=ne;ne=M,M=w,w=ln}if(arguments[3]instanceof Lt==0?(lt=arguments[4],et=arguments[5],Dr(ir=arguments[3])==="object"&&ir!==null||(typeof lt=="string"&&(et=lt,lt=null),typeof ir=="string"&&(et=ir,ir=null),typeof ir=="number"&&(lt=ir,ir=null),de={flags:ir,angle:lt,align:et})):(V("The transform parameter of text() with a Matrix value"),tn=Se),isNaN(M)||isNaN(ne)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return tr;var ur,En="",na=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:ks,Ri=tr.internal.scaleFactor;function On(wr){return wr=wr.split("	").join(Array(de.TabLen||9).join(" ")),Gs(wr,ir)}function lo(wr){for(var Rr,rn=wr.concat(),xn=[],ps=rn.length;ps--;)typeof(Rr=rn.shift())=="string"?xn.push(Rr):Array.isArray(wr)&&(Rr.length===1||Rr[1]===void 0&&Rr[2]===void 0)?xn.push(Rr[0]):xn.push([Rr[0],Rr[1],Rr[2]]);return xn}function vr(wr,Rr){var rn;if(typeof wr=="string")rn=Rr(wr)[0];else if(Array.isArray(wr)){for(var xn,ps,Ko=wr.concat(),kl=[],oa=Ko.length;oa--;)typeof(xn=Ko.shift())=="string"?kl.push(Rr(xn)[0]):Array.isArray(xn)&&typeof xn[0]=="string"&&(ps=Rr(xn[0],xn[1],xn[2]),kl.push([ps[0],ps[1],ps[2]]));rn=kl}return rn}var mi=!1,Ti=!0;if(typeof w=="string")mi=!0;else if(Array.isArray(w)){var Ca=w.concat();$e=[];for(var Aa,cn=Ca.length;cn--;)(typeof(Aa=Ca.shift())!="string"||Array.isArray(Aa)&&typeof Aa[0]!="string")&&(Ti=!1);mi=Ti}if(mi===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var Pa=Be/tr.internal.scaleFactor,La=Pa*(na-1);switch(de.baseline){case"bottom":ne-=La;break;case"top":ne+=Pa-La;break;case"hanging":ne+=Pa-2*La;break;case"middle":ne+=Pa/2-La}if((St=de.maxWidth||0)>0&&(typeof w=="string"?w=tr.splitTextToSize(w,St):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(wr,Rr){return wr.concat(tr.splitTextToSize(Rr,St))},[]))),qe={text:w,x:M,y:ne,options:de,mutex:{pdfEscape:Gs,activeFontKey:at,fonts:Gt,activeFontSize:Be}},lr.publish("preProcessText",qe),w=qe.text,lt=(de=qe.options).angle,tn instanceof Lt==0&&lt&&typeof lt=="number"){lt*=Math.PI/180,de.rotationDirection===0&&(lt=-lt),R===P&&(lt=-lt);var Sl=Math.cos(lt),co=Math.sin(lt);tn=new Lt(Sl,co,-co,Sl,0,0)}else lt&&lt instanceof Lt&&(tn=lt);R!==P||tn||(tn=Nn),(Rt=de.charSpace||Tn)!==void 0&&(En+=se(z(Rt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ft=de.horizontalScale)!==void 0&&(En+=se(100*Ft)+` Tz
`),de.lang;var ts=-1,xi=de.renderingMode!==void 0?de.renderingMode:de.stroke,Oi=tr.internal.getCurrentPageInfo().pageContext;switch(xi){case 0:case!1:case"fill":ts=0;break;case 1:case!0:case"stroke":ts=1;break;case 2:case"fillThenStroke":ts=2;break;case 3:case"invisible":ts=3;break;case 4:case"fillAndAddForClipping":ts=4;break;case 5:case"strokeAndAddPathForClipping":ts=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ts=6;break;case 7:case"addToPathForClipping":ts=7}var sa=Oi.usedRenderingMode!==void 0?Oi.usedRenderingMode:-1;ts!==-1?En+=ts+` Tr
`:sa!==-1&&(En+=`0 Tr
`),ts!==-1&&(Oi.usedRenderingMode=ts),et=de.align||"left";var Cs,uo=Be*na,Go=tr.internal.pageSize.getWidth(),_l=Gt[at];Rt=de.charSpace||Tn,St=de.maxWidth||0,ir=Object.assign({autoencode:!0,noBOM:!0},de.flags);var Ra=[],gi=function(wr){return tr.getStringUnitWidth(wr,{font:_l,charSpace:Rt,fontSize:Be,doKerning:!1})*Be/Ri};if(Object.prototype.toString.call(w)==="[object Array]"){var As;$e=lo(w),et!=="left"&&(Cs=$e.map(gi));var Zs,ho=0;if(et==="right"){M-=Cs[0],w=[],cn=$e.length;for(var Ii=0;Ii<cn;Ii++)Ii===0?(Zs=_n(M),As=Li(ne)):(Zs=z(ho-Cs[Ii]),As=-uo),w.push([$e[Ii],Zs,As]),ho=Cs[Ii]}else if(et==="center"){M-=Cs[0]/2,w=[],cn=$e.length;for(var ia=0;ia<cn;ia++)ia===0?(Zs=_n(M),As=Li(ne)):(Zs=z((ho-Cs[ia])/2),As=-uo),w.push([$e[ia],Zs,As]),ho=Cs[ia]}else if(et==="left"){w=[],cn=$e.length;for(var Ta=0;Ta<cn;Ta++)w.push($e[Ta])}else if(et==="justify"&&_l.encoding==="Identity-H"){w=[],cn=$e.length,St=St!==0?St:Go;for(var Mi=0,Hr=0;Hr<cn;Hr++)if(As=Hr===0?Li(ne):-uo,Zs=Hr===0?_n(M):Mi,Hr<cn-1){var aa=z((St-Cs[Hr])/($e[Hr].split(" ").length-1)),vi=$e[Hr].split(" ");w.push([vi[0]+" ",Zs,As]),Mi=0;for(var bi=1;bi<vi.length;bi++){var fo=(gi(vi[bi-1]+" "+vi[bi])-gi(vi[bi]))*Ri+aa;bi==vi.length-1?w.push([vi[bi],fo,0]):w.push([vi[bi]+" ",fo,0]),Mi-=fo}}else w.push([$e[Hr],Zs,As]);w.push(["",Mi,0])}else{if(et!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],cn=$e.length,St=St!==0?St:Go,Hr=0;Hr<cn;Hr++){As=Hr===0?Li(ne):-uo,Zs=Hr===0?_n(M):0;var po=$e[Hr].split(" ").length-1,Fi=po>0?(St-Cs[Hr])/po:0;Hr<cn-1?Ra.push(se(z(Fi))):Ra.push(0),w.push([$e[Hr],Zs,As])}}}(typeof de.R2L=="boolean"?de.R2L:mt)===!0&&(w=vr(w,function(wr,Rr,rn){return[wr.split("").reverse().join(""),Rr,rn]})),qe={text:w,x:M,y:ne,options:de,mutex:{pdfEscape:Gs,activeFontKey:at,fonts:Gt,activeFontSize:Be}},lr.publish("postProcessText",qe),w=qe.text,ur=qe.mutex.isHex||!1;var Yo=Gt[at].encoding;Yo!=="WinAnsiEncoding"&&Yo!=="StandardEncoding"||(w=vr(w,function(wr,Rr,rn){return[On(wr),Rr,rn]})),$e=lo(w),w=[];for(var yi,mo,wi,Oa=Array.isArray($e[0])?1:0,In="",Ia=function(wr,Rr,rn){var xn="";return rn instanceof Lt?(rn=typeof de.angle=="number"?Bs(rn,new Lt(1,0,0,1,wr,Rr)):Bs(new Lt(1,0,0,1,wr,Rr),rn),R===P&&(rn=Bs(new Lt(1,0,0,-1,0,0),rn)),xn=rn.join(" ")+` Tm
`):xn=se(wr)+" "+se(Rr)+` Td
`,xn},br=0;br<$e.length;br++){switch(In="",Oa){case 1:wi=(ur?"<":"(")+$e[br][0]+(ur?">":")"),yi=parseFloat($e[br][1]),mo=parseFloat($e[br][2]);break;case 0:wi=(ur?"<":"(")+$e[br]+(ur?">":")"),yi=_n(M),mo=Li(ne)}Ra!==void 0&&Ra[br]!==void 0&&(In=Ra[br]+` Tw
`),br===0?w.push(In+Ia(yi,mo,tn)+wi):Oa===0?w.push(In+wi):Oa===1&&w.push(In+Ia(yi,mo,tn)+wi)}w=Oa===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var rs=`BT
/`;return rs+=at+" "+Be+` Tf
`,rs+=se(Be*na)+` TL
`,rs+=Zn+`
`,rs+=En,rs+=w,K(rs+="ET"),y[at]=!0,tr};var Vn=g.__private__.clip=g.clip=function(w){return K(w==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Vn("evenodd")},g.__private__.discardPath=g.discardPath=function(){return K("n"),this};var Ai=g.__private__.isValidStyle=function(w){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(M=!0),M};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(w){return Ai(w)&&(h=w),this};var rr=g.__private__.getStyle=g.getStyle=function(w){var M=h;switch(w){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=w}return M},hr=g.close=function(){return K("h"),this};g.stroke=function(){return K("S"),this},g.fill=function(w){return Sa("f",w),this},g.fillEvenOdd=function(w){return Sa("f*",w),this},g.fillStroke=function(w){return Sa("B",w),this},g.fillStrokeEvenOdd=function(w){return Sa("B*",w),this};var Sa=function(w,M){Dr(M)==="object"?Ql(M,w):K(w)},_a=function(w){w===null||R===P&&w===void 0||(w=rr(w),K(w))};function Xl(w,M,ne,de,Se){var qe=new wd(M||this.boundingBox,ne||this.xStep,de||this.yStep,this.gState,Se||this.matrix);qe.stream=this.stream;var $e=w+"$$"+this.cloneIndex+++"$$";return qr($e,qe),qe}var Ql=function(w,M){var ne=Er[w.key],de=yt[ne];if(de instanceof xu)K("q"),K(Tc(M)),de.gState&&g.setGState(de.gState),K(w.matrix.toString()+" cm"),K("/"+ne+" sh"),K("Q");else if(de instanceof wd){var Se=new Lt(1,0,0,-1,0,kn());w.matrix&&(Se=Se.multiply(w.matrix||Nn),ne=Xl.call(de,w.key,w.boundingBox,w.xStep,w.yStep,Se).id),K("q"),K("/Pattern cs"),K("/"+ne+" scn"),de.gState&&g.setGState(de.gState),K(M),K("Q")}},Tc=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Bo=g.moveTo=function(w,M){return K(se(z(w))+" "+se(H(M))+" m"),this},$o=g.lineTo=function(w,M){return K(se(z(w))+" "+se(H(M))+" l"),this},Wn=g.curveTo=function(w,M,ne,de,Se,qe){return K([se(z(w)),se(H(M)),se(z(ne)),se(H(de)),se(z(Se)),se(H(qe)),"c"].join(" ")),this};g.__private__.line=g.line=function(w,M,ne,de,Se){if(isNaN(w)||isNaN(M)||isNaN(ne)||isNaN(de)||!Ai(Se))throw new Error("Invalid arguments passed to jsPDF.line");return R===L?this.lines([[ne-w,de-M]],w,M,[1,1],Se||"S"):this.lines([[ne-w,de-M]],w,M,[1,1]).stroke()},g.__private__.lines=g.lines=function(w,M,ne,de,Se,qe){var $e,lt,et,Rt,St,ir,Ft,tn,tr,ln,ur,En;if(typeof w=="number"&&(En=ne,ne=M,M=w,w=En),de=de||[1,1],qe=qe||!1,isNaN(M)||isNaN(ne)||!Array.isArray(w)||!Array.isArray(de)||!Ai(Se)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Bo(M,ne),$e=de[0],lt=de[1],Rt=w.length,ln=M,ur=ne,et=0;et<Rt;et++)(St=w[et]).length===2?(ln=St[0]*$e+ln,ur=St[1]*lt+ur,$o(ln,ur)):(ir=St[0]*$e+ln,Ft=St[1]*lt+ur,tn=St[2]*$e+ln,tr=St[3]*lt+ur,ln=St[4]*$e+ln,ur=St[5]*lt+ur,Wn(ir,Ft,tn,tr,ln,ur));return qe&&hr(),_a(Se),this},g.path=function(w){for(var M=0;M<w.length;M++){var ne=w[M],de=ne.c;switch(ne.op){case"m":Bo(de[0],de[1]);break;case"l":$o(de[0],de[1]);break;case"c":Wn.apply(this,de);break;case"h":hr()}}return this},g.__private__.rect=g.rect=function(w,M,ne,de,Se){if(isNaN(w)||isNaN(M)||isNaN(ne)||isNaN(de)||!Ai(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return R===L&&(de=-de),K([se(z(w)),se(H(M)),se(z(ne)),se(z(de)),"re"].join(" ")),_a(Se),this},g.__private__.triangle=g.triangle=function(w,M,ne,de,Se,qe,$e){if(isNaN(w)||isNaN(M)||isNaN(ne)||isNaN(de)||isNaN(Se)||isNaN(qe)||!Ai($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-w,de-M],[Se-ne,qe-de],[w-Se,M-qe]],w,M,[1,1],$e,!0),this},g.__private__.roundedRect=g.roundedRect=function(w,M,ne,de,Se,qe,$e){if(isNaN(w)||isNaN(M)||isNaN(ne)||isNaN(de)||isNaN(Se)||isNaN(qe)||!Ai($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lt=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*ne),qe=Math.min(qe,.5*de),this.lines([[ne-2*Se,0],[Se*lt,0,Se,qe-qe*lt,Se,qe],[0,de-2*qe],[0,qe*lt,-Se*lt,qe,-Se,qe],[2*Se-ne,0],[-Se*lt,0,-Se,-qe*lt,-Se,-qe],[0,2*qe-de],[0,-qe*lt,Se*lt,-qe,Se,-qe]],w+Se,M,[1,1],$e,!0),this},g.__private__.ellipse=g.ellipse=function(w,M,ne,de,Se){if(isNaN(w)||isNaN(M)||isNaN(ne)||isNaN(de)||!Ai(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*ne,$e=4/3*(Math.SQRT2-1)*de;return Bo(w+ne,M),Wn(w+ne,M-$e,w+qe,M-de,w,M-de),Wn(w-qe,M-de,w-ne,M-$e,w-ne,M),Wn(w-ne,M+$e,w-qe,M+de,w,M+de),Wn(w+qe,M+de,w+ne,M+$e,w+ne,M),_a(Se),this},g.__private__.circle=g.circle=function(w,M,ne,de){if(isNaN(w)||isNaN(M)||isNaN(ne)||!Ai(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,M,ne,ne,de)},g.setFont=function(w,M,ne){return ne&&(M=ae(M,ne)),at=Rc(w,M,{disableWarning:!1}),this};var ta=g.__private__.getFont=g.getFont=function(){return Gt[Rc.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var w,M,ne={};for(w in Vt)if(Vt.hasOwnProperty(w))for(M in ne[w]=[],Vt[w])Vt[w].hasOwnProperty(M)&&ne[w].push(M);return ne},g.addFont=function(w,M,ne,de,Se){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&(ne=ae(ne,de)),qo.call(this,w,M,ne,Se=Se||"Identity-H")};var ks,Qn=e.lineWidth||.200025,so=g.__private__.getLineWidth=g.getLineWidth=function(){return Qn},Et=g.__private__.setLineWidth=g.setLineWidth=function(w){return Qn=w,K(se(z(w))+" w"),this};g.__private__.setLineDash=Nt.API.setLineDash=Nt.API.setLineDashPattern=function(w,M){if(w=w||[],M=M||0,isNaN(M)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(ne){return se(z(ne))}).join(" "),M=se(z(M)),K("["+w+"] "+M+" d"),this};var Pi=g.__private__.getLineHeight=g.getLineHeight=function(){return Be*ks};g.__private__.getLineHeight=g.getLineHeight=function(){return Be*ks};var Zl=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(ks=w),this},Vo=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return ks};Zl(e.lineHeight);var _n=g.__private__.getHorizontalCoordinate=function(w){return z(w)},Li=g.__private__.getVerticalCoordinate=function(w){return R===P?w:At[J].mediaBox.topRightY-At[J].mediaBox.bottomLeftY-z(w)},io=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(w){return se(_n(w))},fi=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(w){return se(Li(w))},Wo=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Ws(Wo)},g.__private__.setStrokeColor=g.setDrawColor=function(w,M,ne,de){return Wo=jn({ch1:w,ch2:M,ch3:ne,ch4:de,pdfColorType:"draw",precision:2}),K(Wo),this};var ec=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Ws(ec)},g.__private__.setFillColor=g.setFillColor=function(w,M,ne,de){return ec=jn({ch1:w,ch2:M,ch3:ne,ch4:de,pdfColorType:"fill",precision:2}),K(ec),this};var Zn=e.textColor||"0 g",ao=g.__private__.getTextColor=g.getTextColor=function(){return Ws(Zn)};g.__private__.setTextColor=g.setTextColor=function(w,M,ne,de){return Zn=jn({ch1:w,ch2:M,ch3:ne,ch4:de,pdfColorType:"text",precision:3}),this};var Tn=e.charSpace,Ho=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Tn||0)};g.__private__.setCharSpace=g.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Tn=w,this};var wl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(w){var M=g.CapJoinStyles[w];if(M===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wl=M,K(M+" J"),this};var tc=0;g.__private__.setLineJoin=g.setLineJoin=function(w){var M=g.CapJoinStyles[w];if(M===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tc=M,K(M+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(se(z(w))+" M"),this},g.GState=jp,g.setGState=function(w){(w=typeof w=="string"?kt[Ut[w]]:ka(null,w)).equals(jr)||(K("/"+w.id+" gs"),jr=w)};var ka=function(w,M){if(!w||!Ut[w]){var ne=!1;for(var de in kt)if(kt.hasOwnProperty(de)&&kt[de].equals(M)){ne=!0;break}if(ne)M=kt[de];else{var Se="GS"+(Object.keys(kt).length+1).toString(10);kt[Se]=M,M.id=Se}return w&&(Ut[w]=M.id),lr.publish("addGState",M),M}};g.addGState=function(w,M){return ka(w,M),this},g.saveGraphicsState=function(){return K("q"),Or.push({key:at,size:Be,color:Zn}),this},g.restoreGraphicsState=function(){K("Q");var w=Or.pop();return at=w.key,Be=w.size,Zn=w.color,jr=null,this},g.setCurrentTransformationMatrix=function(w){return K(w.toString()+" cm"),this},g.comment=function(w){return K("#"+w),this};var Js=function(w,M){var ne=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(qe){isNaN(qe)||(ne=parseFloat(qe))}});var de=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(qe){isNaN(qe)||(de=parseFloat(qe))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(qe){Se=qe.toString()}}),this},Ea=function(w,M,ne,de){Js.call(this,w,M),this.type="rect";var Se=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function($e){isNaN($e)||(Se=parseFloat($e))}});var qe=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function($e){isNaN($e)||(qe=parseFloat($e))}}),this},oo=function(){this.page=Yt,this.currentPage=J,this.pages=Oe.slice(0),this.pagesContext=At.slice(0),this.x=ot,this.y=Zr,this.matrix=Qt,this.width=Xs(J),this.height=Qs(J),this.outputDestination=Ve,this.id="",this.objectNumber=-1};oo.prototype.restore=function(){Yt=this.page,J=this.currentPage,At=this.pagesContext,Oe=this.pages,ot=this.x,Zr=this.y,Qt=this.matrix,Nl(J,this.width),pi(J,this.height),Ve=this.outputDestination};var Es=function(w,M,ne,de,Se){ui.push(new oo),Yt=J=0,Oe=[],ot=w,Zr=M,Qt=Se,Na([ne,de])};for(var ra in g.beginFormObject=function(w,M,ne,de,Se){return Es(w,M,ne,de,Se),this},g.endFormObject=function(w){return(function(M){if(Xi[M])ui.pop().restore();else{var ne=new oo,de="Xo"+(Object.keys($n).length+1).toString(10);ne.id=de,Xi[M]=de,$n[de]=ne,lr.publish("addFormObject",ne),ui.pop().restore()}})(w),this},g.doFormObject=function(w,M){var ne=$n[Xi[w]];return K("q"),K(M.toString()+" cm"),K("/"+ne.id+" Do"),K("Q"),this},g.getFormObject=function(w){var M=$n[Xi[w]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},g.save=function(w,M){return w=w||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(du(ea(Ys()),w),typeof du.unload=="function"&&Ht.setTimeout&&setTimeout(du.unload,911),this):new Promise(function(ne,de){try{var Se=du(ea(Ys()),w);typeof du.unload=="function"&&Ht.setTimeout&&setTimeout(du.unload,911),ne(Se)}catch(qe){de(qe.message)}})},Nt.API)Nt.API.hasOwnProperty(ra)&&(ra==="events"&&Nt.API.events.length?(function(w,M){var ne,de,Se;for(Se=M.length-1;Se!==-1;Se--)ne=M[Se][0],de=M[Se][1],w.subscribe.apply(w,[ne].concat(typeof de=="function"?[de]:de))})(lr,Nt.API.events):g[ra]=Nt.API[ra]);function Xs(w){return At[w].mediaBox.topRightX-At[w].mediaBox.bottomLeftX}function Nl(w,M){At[w].mediaBox.topRightX=M+At[w].mediaBox.bottomLeftX}function Qs(w){return At[w].mediaBox.topRightY-At[w].mediaBox.bottomLeftY}function pi(w,M){At[w].mediaBox.topRightY=M+At[w].mediaBox.bottomLeftY}var Wr=g.getPageWidth=function(w){return Xs(w=w||J)/Mt},es=g.setPageWidth=function(w,M){Nl(w,M*Mt)},kn=g.getPageHeight=function(w){return Qs(w=w||J)/Mt},jl=g.setPageHeight=function(w,M){pi(w,M*Mt)};return g.internal={pdfEscape:Gs,getStyle:rr,getFont:ta,getFontSize:Ze,getCharSpace:Ho,getTextColor:ao,getLineHeight:Pi,getLineHeightFactor:Vo,getLineWidth:so,write:We,getHorizontalCoordinate:_n,getVerticalCoordinate:Li,getCoordinateString:io,getVerticalCoordinateString:fi,collections:{},newObject:gr,newAdditionalObject:Qi,newObjectDeferred:en,newObjectDeferredBegin:on,getFilters:di,putStream:Hs,events:lr,scaleFactor:Mt,pageSize:{getWidth:function(){return Wr(J)},setWidth:function(w){es(J,w)},getHeight:function(){return kn(J)},setHeight:function(w){jl(J,w)}},encryptionOptions:p,encryption:cr,getEncryptor:function(w){return p!==null?cr.encryptor(w,0):function(M){return M}},output:Sn,getNumberOfPages:fs,get pages(){return Oe},out:K,f2:T,f3:F,getPageInfo:Ks,getPageInfoByObjId:Xn,getCurrentPageInfo:zo,getPDFVersion:k,Point:Js,Rectangle:Ea,Matrix:Lt,hasHotfix:_s},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Wr(J)},set:function(w){es(J,w)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return kn(J)},set:function(w){jl(J,w)},enumerable:!0,configurable:!0}),(function(w){for(var M=0,ne=tt.length;M<ne;M++){var de=qo.call(this,w[M][0],w[M][1],w[M][2],tt[M][3],!0);b===!1&&(y[de]=!0);var Se=w[M][0].split("-");Lc({id:de,fontName:Se[0],fontStyle:Se[1]||""})}lr.publish("addFonts",{fonts:Gt,dictionary:Vt})}).call(g,tt),at="F1",fn(i,r),lr.publish("initialized"),g}pd.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},pd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pd.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},pd.prototype.processOwnerPassword=function(e,t){return Dg(Fg(t).substr(0,5),e)},pd.prototype.encryptor=function(e,t){var r=Fg(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Dg(r,n)}},jp.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Dr(e)!==Dr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Nt.API={events:[]},Nt.version="3.0.4";var Ln=Nt.API,f1=1,Pu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ld=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},er=function(e){return e.toFixed(2)},bc=function(e){return e.toFixed(5)};Ln.__acroform__={};var Ji=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},fy=function(e){return e*f1},dl=function(e){var t=new uN,r=pt.internal.getHeight(e)||0,n=pt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(er(n)),Number(er(r))],t},_O=Ln.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},kO=Ln.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},EO=Ln.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Un=Ln.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return EO(e,t-1)},zn=Ln.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _O(e,t-1)},Bn=Ln.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return kO(e,t-1)},CO=Ln.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],o=e[1],c=e[2],u=e[3],d={};return d.lowerLeft_X=r(i)||0,d.lowerLeft_Y=n(o+u)||0,d.upperRight_X=r(i+c)||0,d.upperRight_Y=n(o)||0,[Number(er(d.lowerLeft_X)),Number(er(d.lowerLeft_Y)),Number(er(d.upperRight_X)),Number(er(d.upperRight_Y))]},AO=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=qg(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+er(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=dl(e);return o.scope=e.scope,o.stream=t.join(`
`),o}},qg=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var o=r,c=pt.internal.getHeight(e)||0;c=c<0?-c:c;var u=pt.internal.getWidth(e)||0;u=u<0?-u:u;var d=function(T,F,z){if(T+1<i.length){var H=F+" "+i[T+1][0];return Tf(H,e,z).width<=u-4}return!1};o++;e:for(;o>0;){t="",o--;var h,p,b=Tf("3",e,o).height,y=e.multiline?c-o:(c-b)/2,g=y+=2,S=0,k=0,E=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+Tf(t,e,o=12).width+", FieldWidth:"+u+`
`;break}for(var A="",L=0,P=0;P<i.length;P++)if(i.hasOwnProperty(P)){var R=!1;if(i[P].length!==1&&E!==i[P].length-1){if((b+2)*(L+2)+2>c)continue e;A+=i[P][E],R=!0,k=P,P--}else{A=(A+=i[P][E]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var X=parseInt(P),Q=d(X,A,o),ae=P>=i.length-1;if(Q&&!ae){A+=" ",E=0;continue}if(Q||ae){if(ae)k=X;else if(e.multiline&&(b+2)*(L+2)+2>c)continue e}else{if(!e.multiline||(b+2)*(L+2)+2>c)continue e;k=X}}for(var se="",V=S;V<=k;V++){var re=i[V];if(e.multiline){if(V===k){se+=re[E]+" ",E=(E+1)%re.length;continue}if(V===S){se+=re[re.length-1]+" ";continue}}se+=re[0]+" "}switch(se=se.substr(se.length-1)==" "?se.substr(0,se.length-1):se,p=Tf(se,e,o).width,e.textAlign){case"right":h=u-p-2;break;case"center":h=(u-p)/2;break;default:h=2}t+=er(h)+" "+er(g)+` Td
`,t+="("+Pu(se)+`) Tj
`,t+=-er(h)+` 0 Td
`,g=-(o+2),p=0,S=R?k:k+1,L++,A=""}break}return n.text=t,n.fontSize=o,n},Tf=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},PO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},LO=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},RO=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Oo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(PO)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");f1=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new dN,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];o.objId=void 0,o.hasAnnotation&&LO(o,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var o=!n;for(var c in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(c)){var u=n[c],d=[],h=u.Rect;if(u.Rect&&(u.Rect=CO(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=pt.createDefaultAppearanceStream(u),Dr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=h,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=AO(u);d.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var b="";for(var y in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(y)){var g=u.appearanceStreamContent[y];if(b+="/"+y+" ",b+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var c in g)if(g.hasOwnProperty(c)){var S=g[c];typeof S=="function"&&(S=S.call(i,u)),b+="/"+c+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=g)=="function"&&(S=S.call(i,u)),b+="/"+c+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);b+=">>"}d.push({key:"AP",value:`<<
`+b+">>"})}i.internal.putStream({additionalKeyValues:d,objectId:u.objId}),i.internal.out("endobj")}o&&(function(k,E){for(var A in k)if(k.hasOwnProperty(A)){var L=A,P=k[A];E.internal.newObjectDeferredBegin(P.objId,!0),Dr(P)==="object"&&typeof P.putStream=="function"&&P.putStream(),delete k[L]}})(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},cN=Ln.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(c){return c};if(Array.isArray(e)){for(var i="[",o=0;o<e.length;o++)switch(o!==0&&(i+=" "),Dr(e[o])){case"boolean":case"number":case"object":i+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Pu(n(e[o].toString()))+")"):i+=e[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Rx=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Pu(n(e))+")"},fl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};fl.prototype.toString=function(){return this.objId+" 0 R"},fl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},fl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:cN(i,this.objId,this.scope)}):i instanceof fl?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var uN=function(){fl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ji(uN,fl);var dN=function(){fl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Pu(r(e))+")"}},set:function(r){e=r}})};Ji(dN,fl);var Oo=function e(){fl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');t=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Un(t,3)},set:function(A){A?this.F=zn(t,3):this.F=Bn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');r=A}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(A){n=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(A){n[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(A){n[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(A){n[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(A){n[3]=A}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Sp)return;o="FieldObject"+e.FieldNum++}var A=function(L){return L};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+Pu(A(o))+")"},set:function(A){o=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(A){o=A}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(A){c=A}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(A){u=A}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(A){d=A}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/f1:h},set:function(A){h=A}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(A){p=A}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof Sp||this instanceof wu))return Rx(b,this.objId,this.scope)},set:function(A){A=A.toString(),b=A}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof ys==0?Rx(y,this.objId,this.scope):y},set:function(A){A=A.toString(),y=this instanceof ys==0?A.substr(0,1)==="("?ld(A.substr(1,A.length-2)):ld(A):A}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ys==1?ld(y.substr(1,y.length-1)):y},set:function(A){A=A.toString(),y=this instanceof ys==1?"/"+A:A}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ys==0?Rx(g,this.objId,this.scope):g},set:function(A){A=A.toString(),g=this instanceof ys==0?A.substr(0,1)==="("?ld(A.substr(1,A.length-2)):ld(A):A}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ys==1?ld(g.substr(1,g.length-1)):g},set:function(A){A=A.toString(),g=this instanceof ys==1?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(A){A=!!A,k=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(A){S=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,1)},set:function(A){A?this.Ff=zn(this.Ff,1):this.Ff=Bn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,2)},set:function(A){A?this.Ff=zn(this.Ff,2):this.Ff=Bn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,3)},set:function(A){A?this.Ff=zn(this.Ff,3):this.Ff=Bn(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');E=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(E){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};Ji(Oo,fl);var Ed=function(){Oo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return cN(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(o,c,u){u||(u=1);for(var d,h=[];d=c.exec(o);)h.push(d[u]);return h})(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,18)},set:function(r){r?this.Ff=zn(this.Ff,18):this.Ff=Bn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=zn(this.Ff,19):this.Ff=Bn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,20)},set:function(r){r?(this.Ff=zn(this.Ff,20),t.sort()):this.Ff=Bn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,22)},set:function(r){r?this.Ff=zn(this.Ff,22):this.Ff=Bn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,23)},set:function(r){r?this.Ff=zn(this.Ff,23):this.Ff=Bn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,27)},set:function(r){r?this.Ff=zn(this.Ff,27):this.Ff=Bn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ji(Ed,Oo);var Cd=function(){Ed.call(this),this.fontName="helvetica",this.combo=!1};Ji(Cd,Ed);var Ad=function(){Cd.call(this),this.combo=!0};Ji(Ad,Cd);var Hf=function(){Ad.call(this),this.edit=!0};Ji(Hf,Ad);var ys=function(){Oo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,15)},set:function(r){r?this.Ff=zn(this.Ff,15):this.Ff=Bn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,16)},set:function(r){r?this.Ff=zn(this.Ff,16):this.Ff=Bn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,17)},set:function(r){r?this.Ff=zn(this.Ff,17):this.Ff=Bn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,26)},set:function(r){r?this.Ff=zn(this.Ff,26):this.Ff=Bn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Pu(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Dr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ji(ys,Oo);var Gf=function(){ys.call(this),this.pushButton=!0};Ji(Gf,ys);var Pd=function(){ys.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ji(Pd,ys);var Sp=function(){var e,t;Oo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),n)c.push("/"+o+" ("+Pu(i(n[o]))+")");return c.push(">>"),c.join(`
`)},set:function(i){Dr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ji(Sp,Oo),Pd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Pd.prototype.createOption=function(e){var t=new Sp;return t.Parent=this,t.optionName=e,this.Kids.push(t),TO.call(this.scope,t),t};var Yf=function(){ys.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pt.CheckBox.createAppearanceStream()};Ji(Yf,ys);var wu=function(){Oo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,13)},set:function(t){t?this.Ff=zn(this.Ff,13):this.Ff=Bn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,21)},set:function(t){t?this.Ff=zn(this.Ff,21):this.Ff=Bn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,23)},set:function(t){t?this.Ff=zn(this.Ff,23):this.Ff=Bn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,24)},set:function(t){t?this.Ff=zn(this.Ff,24):this.Ff=Bn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,25)},set:function(t){t?this.Ff=zn(this.Ff,25):this.Ff=Bn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,26)},set:function(t){t?this.Ff=zn(this.Ff,26):this.Ff=Bn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ji(wu,Oo);var Kf=function(){wu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,14)},set:function(e){e?this.Ff=zn(this.Ff,14):this.Ff=Bn(this.Ff,14)}}),this.password=!0};Ji(Kf,wu);var pt={CheckBox:{createAppearanceStream:function(){return{N:{On:pt.CheckBox.YesNormal},D:{On:pt.CheckBox.YesPushDown,Off:pt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=dl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=qg(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+er(pt.internal.getWidth(e))+" "+er(pt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+er(o.fontSize)+" Tf "+i),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=dl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],o=pt.internal.getHeight(e),c=pt.internal.getWidth(e),u=qg(e,e.caption);return i.push("1 g"),i.push("0 0 "+er(c)+" "+er(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+er(c-1)+" "+er(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+er(u.fontSize)+" Tf "+n),i.push(u.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=dl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+er(pt.internal.getWidth(e))+" "+er(pt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:pt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=pt.RadioButton.Circle.YesNormal,t.D[e]=pt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=dl(e);t.scope=e.scope;var r=[],n=pt.internal.getWidth(e)<=pt.internal.getHeight(e)?pt.internal.getWidth(e)/4:pt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=pt.internal.Bezier_C,o=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+bc(pt.internal.getWidth(e)/2)+" "+bc(pt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=dl(e);t.scope=e.scope;var r=[],n=pt.internal.getWidth(e)<=pt.internal.getHeight(e)?pt.internal.getWidth(e)/4:pt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),o=Number((i*pt.internal.Bezier_C).toFixed(5)),c=Number((n*pt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+bc(pt.internal.getWidth(e)/2)+" "+bc(pt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+bc(pt.internal.getWidth(e)/2)+" "+bc(pt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+c+" "+c+" "+n+" 0 "+n+" c"),r.push("-"+c+" "+n+" -"+n+" "+c+" -"+n+" 0 c"),r.push("-"+n+" -"+c+" -"+c+" -"+n+" 0 -"+n+" c"),r.push(c+" -"+n+" "+n+" -"+c+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=dl(e);t.scope=e.scope;var r=[],n=pt.internal.getWidth(e)<=pt.internal.getHeight(e)?pt.internal.getWidth(e)/4:pt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),o=Number((i*pt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+bc(pt.internal.getWidth(e)/2)+" "+bc(pt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:pt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=pt.RadioButton.Cross.YesNormal,t.D[e]=pt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=dl(e);t.scope=e.scope;var r=[],n=pt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+er(pt.internal.getWidth(e)-2)+" "+er(pt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(er(n.x1.x)+" "+er(n.x1.y)+" m"),r.push(er(n.x2.x)+" "+er(n.x2.y)+" l"),r.push(er(n.x4.x)+" "+er(n.x4.y)+" m"),r.push(er(n.x3.x)+" "+er(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=dl(e);t.scope=e.scope;var r=pt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+er(pt.internal.getWidth(e))+" "+er(pt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+er(pt.internal.getWidth(e)-2)+" "+er(pt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(er(r.x1.x)+" "+er(r.x1.y)+" m"),n.push(er(r.x2.x)+" "+er(r.x2.y)+" l"),n.push(er(r.x4.x)+" "+er(r.x4.y)+" m"),n.push(er(r.x3.x)+" "+er(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=dl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+er(pt.internal.getWidth(e))+" "+er(pt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};pt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=pt.internal.getWidth(e),r=pt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},pt.internal.getWidth=function(e){var t=0;return Dr(e)==="object"&&(t=fy(e.Rect[2])),t},pt.internal.getHeight=function(e){var t=0;return Dr(e)==="object"&&(t=fy(e.Rect[3])),t};var TO=Ln.addField=function(e){if(RO(this,e),!(e instanceof Oo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ln.AcroFormChoiceField=Ed,Ln.AcroFormListBox=Cd,Ln.AcroFormComboBox=Ad,Ln.AcroFormEditBox=Hf,Ln.AcroFormButton=ys,Ln.AcroFormPushButton=Gf,Ln.AcroFormRadioButton=Pd,Ln.AcroFormCheckBox=Yf,Ln.AcroFormTextField=wu,Ln.AcroFormPasswordField=Kf,Ln.AcroFormAppearance=pt,Ln.AcroForm={ChoiceField:Ed,ListBox:Cd,ComboBox:Ad,EditBox:Hf,Button:ys,PushButton:Gf,RadioButton:Pd,CheckBox:Yf,TextField:wu,PasswordField:Kf,Appearance:pt},Nt.AcroForm={ChoiceField:Ed,ListBox:Cd,ComboBox:Ad,EditBox:Hf,Button:ys,PushButton:Gf,RadioButton:Pd,CheckBox:Yf,TextField:wu,PasswordField:Kf,Appearance:pt};Nt.AcroForm;function hN(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(T,F){var z,H,ve,ye,xe,ie=r;if((F=F||r)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(Q(T))for(xe in n)for(ve=n[xe],z=0;z<ve.length;z+=1){for(ye=!0,H=0;H<ve[z].length;H+=1)if(ve[z][H]!==void 0&&ve[z][H]!==T[H]){ye=!1;break}if(ye===!0){ie=xe;break}}else for(xe in n)for(ve=n[xe],z=0;z<ve.length;z+=1){for(ye=!0,H=0;H<ve[z].length;H+=1)if(ve[z][H]!==void 0&&ve[z][H]!==T.charCodeAt(H)){ye=!1;break}if(ye===!0){ie=xe;break}}return ie===r&&F!==r&&(ie=F),ie},o=function T(F){for(var z=this.internal.write,H=this.internal.putStream,ve=(0,this.internal.getFilters)();ve.indexOf("FlateEncode")!==-1;)ve.splice(ve.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var ye=[];if(ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Image"}),ye.push({key:"Width",value:F.width}),ye.push({key:"Height",value:F.height}),F.colorSpace===A.INDEXED?ye.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(ye.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===A.DEVICE_CMYK&&ye.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ye.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&ye.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var xe="",ie=0,he=F.transparency.length;ie<he;ie++)xe+=F.transparency[ie]+" "+F.transparency[ie]+" ";ye.push({key:"Mask",value:"["+xe+"]"})}F.sMask!==void 0&&ye.push({key:"SMask",value:F.objectId+1+" 0 R"});var G=F.filter!==void 0?["/"+F.filter]:void 0;if(H({data:F.data,additionalKeyValues:ye,alreadyAppliedFilters:G,objectId:F.objectId}),z("endobj"),"sMask"in F&&F.sMask!==void 0){var ce,I=(ce=F.sMaskBitsPerComponent)!==null&&ce!==void 0?ce:F.bitsPerComponent,J={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:F.sMask};"filter"in F&&(J.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(F.width),J.filter=F.filter),T.call(this,J)}if(F.colorSpace===A.INDEXED){var Z=this.internal.newObject();H({data:se(new Uint8Array(F.palette)),objectId:Z}),z("endobj")}},c=function(){var T=this.internal.collections[t+"images"];for(var F in T)o.call(this,T[F])},u=function(){var T,F=this.internal.collections[t+"images"],z=this.internal.write;for(var H in F)z("/I"+(T=F[H]).index,T.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",u))},h=function(){var T=this.internal.collections[t+"images"];return d.call(this),T},p=function(){return Object.keys(this.internal.collections[t+"images"]).length},b=function(T){return typeof e["process"+T.toUpperCase()]=="function"},y=function(T){return Dr(T)==="object"&&T.nodeType===1},g=function(T,F){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var z=""+T.getAttribute("src");if(z.indexOf("data:image/")===0)return Wf(unescape(z).split("base64,").pop());var H=e.loadFile(z,!0);if(H!==void 0)return H}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ve;switch(F){case"PNG":ve="image/png";break;case"WEBP":ve="image/webp";break;default:ve="image/jpeg"}return Wf(T.toDataURL(ve,1).split("base64,").pop())}},S=function(T){var F=this.internal.collections[t+"images"];if(F){for(var z in F)if(T===F[z].alias)return F[z]}},k=function(T,F,z){return T||F||(T=-96,F=-96),T<0&&(T=-1*z.width*72/T/this.internal.scaleFactor),F<0&&(F=-1*z.height*72/F/this.internal.scaleFactor),T===0&&(T=F*z.width/z.height),F===0&&(F=T*z.height/z.width),[T,F]},E=function(T,F,z,H,ve,ye){var xe=k.call(this,z,H,ve),ie=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,G=h.call(this);if(z=xe[0],H=xe[1],G[ve.index]=ve,ye){ye*=Math.PI/180;var ce=Math.cos(ye),I=Math.sin(ye),J=function(le){return le.toFixed(4)},Z=[J(ce),J(I),J(-1*I),J(ce),0,0,"cm"]}this.internal.write("q"),ye?(this.internal.write([1,"0","0",1,ie(T),he(F+H),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([ie(z),"0","0",ie(H),"0","0","cm"].join(" "))):this.internal.write([ie(z),"0","0",ie(H),ie(T),he(F+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ve.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=e.__addimage__.sHashCode=function(T){var F,z,H=0;if(typeof T=="string")for(z=T.length,F=0;F<z;F++)H=(H<<5)-H+T.charCodeAt(F),H|=0;else if(Q(T))for(z=T.byteLength/2,F=0;F<z;F++)H=(H<<5)-H+T[F],H|=0;return H},R=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var F=!0;return T.length===0&&(F=!1),T.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(F=!1),F},X=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var F=T.indexOf(",");return F<0?null:T.substring(0,F).trim().endsWith("base64")?T.substring(F+1):null};e.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var Q=e.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},ae=e.__addimage__.binaryStringToUint8Array=function(T){for(var F=T.length,z=new Uint8Array(F),H=0;H<F;H++)z[H]=T.charCodeAt(H);return z},se=e.__addimage__.arrayBufferToBinaryString=function(T){for(var F="",z=Q(T)?T:new Uint8Array(T),H=0;H<z.length;H+=8192)F+=String.fromCharCode.apply(null,z.subarray(H,H+8192));return F};e.addImage=function(){var T,F,z,H,ve,ye,xe,ie,he;if(typeof arguments[1]=="number"?(F=r,z=arguments[1],H=arguments[2],ve=arguments[3],ye=arguments[4],xe=arguments[5],ie=arguments[6],he=arguments[7]):(F=arguments[1],z=arguments[2],H=arguments[3],ve=arguments[4],ye=arguments[5],xe=arguments[6],ie=arguments[7],he=arguments[8]),Dr(T=arguments[0])==="object"&&!y(T)&&"imageData"in T){var G=T;T=G.imageData,F=G.format||F||r,z=G.x||z||0,H=G.y||H||0,ve=G.w||G.width||ve,ye=G.h||G.height||ye,xe=G.alias||xe,ie=G.compression||ie,he=G.rotation||G.angle||he}var ce=this.internal.getFilters();if(ie===void 0&&ce.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(z)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var I=V.call(this,T,F,xe,ie);return E.call(this,z,H,ve,ye,I,he),this};var V=function(T,F,z,H){var ve,ye,xe;if(typeof T=="string"&&i(T)===r){T=unescape(T);var ie=re(T,!1);(ie!==""||(ie=e.loadFile(T,!0))!==void 0)&&(T=ie)}if(y(T)&&(T=g(T,F)),F=i(T,F),!b(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((xe=z)==null||xe.length===0)&&(z=(function(he){return typeof he=="string"||Q(he)?P(he):Q(he.data)?P(he.data):null})(T)),(ve=S.call(this,z))||(T instanceof Uint8Array||F==="RGBA"||(ye=T,T=ae(T)),ve=this["process"+F.toUpperCase()](T,p.call(this),z,(function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in e.image_compression?he:L.NONE})(H),ye)),!ve)throw new Error("An unknown error occurred whilst processing the image.");return ve},re=e.__addimage__.convertBase64ToBinaryString=function(T,F){F=typeof F!="boolean"||F;var z,H="";if(typeof T=="string"){var ve;z=(ve=X(T))!==null&&ve!==void 0?ve:T;try{H=Wf(z)}catch(ye){if(F)throw R(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ye.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};e.getImageProperties=function(T){var F,z,H="";if(y(T)&&(T=g(T)),typeof T=="string"&&i(T)===r&&((H=re(T,!1))===""&&(H=e.loadFile(T)||""),T=H),z=i(T),!b(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(T instanceof Uint8Array||(T=ae(T)),!(F=this["process"+z.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=z,F}})(Nt.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Nt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,o,c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,p=!1,b=0;b<h.length&&!p;b++)switch((n=h[b]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){n=h[y];var g=this.internal.pdfEscape,S=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(k.objId),L=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+c(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+g(A(n.contents))+")",o+=" /Popup "+E.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+g(A(L))+") >>",k.content=o;var P=k.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+c(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+P,n.open&&(o+=" /Open true"),o+=" >>",E.content=o,this.internal.write(k.objId,"0 R",E.objId,"0 R");break;case"freetext":i="/Rect ["+c(n.bounds.x)+" "+u(n.bounds.y)+" "+c(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var R=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(S(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var X=this.annotations._nameMap[n.options.name];n.options.pageNumber=X.page,n.options.top=X.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(S(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var Q=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+Q+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,o,c){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(r),y:h(n),w:d(r+i),h:h(n+o)},options:c,type:"link"})},e.textWithLink=function(r,n,i,o){var c,u,d=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var p=this.splitTextToSize(r,u).length;c=Math.ceil(h*p)}else u=d,c=h;return this.text(r,n,i,o),i+=.2*h,o.align==="center"&&(n-=d/2),o.align==="right"&&(n-=d),this.link(n,i-h,u,c,o),d},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Nt.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(k){return t[k.charCodeAt(0)]!==void 0},c=e.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},u=e.__arabicParser__.isArabicEndLetter=function(k){return c(k)&&o(k)&&t[k.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(k){return c(k)&&i.indexOf(k.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return c(k)&&o(k)&&t[k.charCodeAt(0)].length>=1};var h=e.__arabicParser__.arabicLetterHasFinalForm=function(k){return c(k)&&o(k)&&t[k.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(k){return c(k)&&o(k)&&t[k.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(k){return c(k)&&o(k)&&t[k.charCodeAt(0)].length==4},b=e.__arabicParser__.resolveLigatures=function(k){var E=0,A=r,L="",P=0;for(E=0;E<k.length;E+=1)A[k.charCodeAt(E)]!==void 0?(P++,typeof(A=A[k.charCodeAt(E)])=="number"&&(L+=String.fromCharCode(A),A=r,P=0),E===k.length-1&&(A=r,L+=k.charAt(E-(P-1)),E-=P-1,P=0)):(A=r,L+=k.charAt(E-P),E-=P,P=0);return L};e.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&n[k.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(k,E,A){return c(k)?o(k)===!1?-1:!h(k)||!c(E)&&!c(A)||!c(A)&&u(E)||u(k)&&!c(E)||u(k)&&d(E)||u(k)&&u(E)?0:p(k)&&c(E)&&!u(E)&&c(A)&&h(A)?3:u(k)||!c(A)?1:2:-1},g=function(k){var E=0,A=0,L=0,P="",R="",X="",Q=(k=k||"").split("\\s+"),ae=[];for(E=0;E<Q.length;E+=1){for(ae.push(""),A=0;A<Q[E].length;A+=1)P=Q[E][A],R=Q[E][A-1],X=Q[E][A+1],c(P)?(L=y(P,R,X),ae[E]+=L!==-1?String.fromCharCode(t[P.charCodeAt(0)][L]):P):ae[E]+=P;ae[E]=b(ae[E])}return ae.join(" ")},S=e.__arabicParser__.processArabic=e.processArabic=function(){var k,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(E)){var L=0;for(A=[],L=0;L<E.length;L+=1)Array.isArray(E[L])?A.push([g(E[L][0]),E[L][1],E[L][2]]):A.push([g(E[L])]);k=A}else k=g(E);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};e.events.push(["preProcessText",S])})(Nt.API),Nt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(u){r=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(u){c=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Nt.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(k){d=k}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(k){h=k}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(k){p=k}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(k){b=k}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(k){y=k}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(k){g=k}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(k){S=k}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,h){n.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),b=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,g=0,S=0,k=0,E=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var A=h.maxWidth;A>0?typeof d=="string"?d=this.splitTextToSize(d,A):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(P,R){return P.concat(E.splitTextToSize(R,A))},[])):d=Array.isArray(d)?d:[d];for(var L=0;L<d.length;L++)g<(k=this.getStringUnitWidth(d[L],{font:b})*p)&&(g=k);return g!==0&&(S=d.length),{w:g/=y,h:Math.max((S*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=e.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,b=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===d.lineNumber?(d.x=(h.x||0)+(h.width||0),d.y=h.y||0):h.y+h.height+d.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=b.top,g&&y&&(this.printHeaderRow(d.lineNumber,!0),d.y+=y[0].height)):d.y=h.y+h.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-p,d.y+p,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+p,{align:"center",baseline:"top",maxWidth:d.width-p-p}):this.text(d.text,d.x+p,d.y+p,{align:"left",baseline:"top",maxWidth:d.width-p-p})),this.internal.__cell__.lastCell=d,this};e.table=function(d,h,p,b,y){if(n.call(this),!p)throw new Error("No data for PDF table.");var g,S,k,E,A=[],L=[],P=[],R={},X={},Q=[],ae=[],se=(y=y||{}).autoSize||!1,V=y.printHeaders!==!1,re=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,T=y.margins||Object.assign({width:this.getPageWidth()},t),F=typeof y.padding=="number"?y.padding:3,z=y.headerBackgroundColor||"#c8c8c8",H=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=re,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=H,this.setFontSize(re),b==null)L=A=Object.keys(p[0]),P=A.map(function(){return"left"});else if(Array.isArray(b)&&Dr(b[0])==="object")for(A=b.map(function(G){return G.name}),L=b.map(function(G){return G.prompt||G.name||""}),P=b.map(function(G){return G.align||"left"}),g=0;g<b.length;g+=1)X[b[g].name]=.7499990551181103*b[g].width;else Array.isArray(b)&&typeof b[0]=="string"&&(L=A=b,P=A.map(function(){return"left"}));if(se||Array.isArray(b)&&typeof b[0]=="string")for(g=0;g<A.length;g+=1){for(R[E=A[g]]=p.map(function(G){return G[E]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(L[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=R[E],this.setFont(void 0,"normal"),k=0;k<S.length;k+=1)Q.push(this.getTextDimensions(S[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[E]=Math.max.apply(null,Q)+F+F,Q=[]}if(V){var ve={};for(g=0;g<A.length;g+=1)ve[A[g]]={},ve[A[g]].text=L[g],ve[A[g]].align=P[g];var ye=u.call(this,ve,X);ae=A.map(function(G){return new o(d,h,X[G],ye,ve[G].text,void 0,ve[G].align)}),this.setTableHeaderRow(ae),this.printHeaderRow(1,!1)}var xe=b.reduce(function(G,ce){return G[ce.name]=ce.align,G},{});for(g=0;g<p.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:p[g]},this);var ie=u.call(this,p[g],X);for(k=0;k<A.length;k+=1){var he=p[g][A[k]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:k,data:he},this),c.call(this,new o(d,h,X[A[k]],ie,he,g+2,xe[A[k]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=h,this};var u=function(d,h){var p=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(d).map(function(g){var S=d[g];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,h[g]-p-p)},this).map(function(g){return this.getLineHeightFactor()*g.length*b/y+p+p},this).reduce(function(g,S){return Math.max(g,S)},0)};e.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){p=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,y.push(p)),p.lineNumber=d;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,p),this.setTextColor(S)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}})(Nt.API);var fN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},pN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ug=hN(pN),mN=[100,200,300,400,500,600,700,800,900],OO=hN(mN);function Tx(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(o){return fN[o=o||"normal"]?o:"normal"})(e.style),n=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(e.weight),i=(function(o){return typeof Ug[o=o||"normal"]=="number"?o:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function py(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var IO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},my={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function xy(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function gy(e){return e.trimLeft()}function MO(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function FO(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Of,vy,by,cd,If,yy,wy,Ny,Ox=["times"];function jy(e,t,r,n,i){var o=4,c=_y;switch(i){case Nt.API.image_compression.FAST:o=1,c=Sy;break;case Nt.API.image_compression.MEDIUM:o=6,c=ky;break;case Nt.API.image_compression.SLOW:o=9,c=Ey}e=(function(d,h,p,b){for(var y,g=d.length/h,S=new Uint8Array(d.length+g),k=[DO,Sy,_y,ky,Ey],E=0;E<g;E+=1){var A=E*h,L=d.subarray(A,A+h);if(b)S.set(b(L,p,y),A+E);else{for(var P=k.length,R=[],X=0;X<P;X+=1)R[X]=k[X](L,p,y);var Q=UO(R.concat());S.set(R[Q],A+E)}y=L}return S})(e,t,Math.ceil(r*n/8),c);var u=Tg(e,{level:o});return Nt.API.__addimage__.arrayBufferToBinaryString(u)}function DO(e){var t=Array.apply([],e);return t.unshift(0),t}function Sy(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var o=e[i-t]||0;n[i+1]=e[i]-o+256&255}return n}function _y(e,t,r){var n=e.length,i=[];i[0]=2;for(var o=0;o<n;o+=1){var c=r&&r[o]||0;i[o+1]=e[o]-c+256&255}return i}function ky(e,t,r){var n=e.length,i=[];i[0]=3;for(var o=0;o<n;o+=1){var c=e[o-t]||0,u=r&&r[o]||0;i[o+1]=e[o]+256-(c+u>>>1)&255}return i}function Ey(e,t,r){var n=e.length,i=[];i[0]=4;for(var o=0;o<n;o+=1){var c=qO(e[o-t]||0,r&&r[o]||0,r&&r[o-t]||0);i[o+1]=e[o]-c+256&255}return i}function qO(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),o=Math.abs(e+t-r-r);return n<=i&&n<=o?e:i<=o?t:r}function UO(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function Ix(e,t,r){var n=t*r,i=Math.floor(n/8),o=16-(n-8*i+r),c=(1<<r)-1;return xN(e,i)>>o&c}function Cy(e,t,r,n){var i=r*n,o=Math.floor(i/8),c=16-(i-8*o+n),u=(1<<n)-1,d=(t&u)<<c;(function(h,p,b){if(p+1<h.byteLength)h.setUint16(p,b,!1);else{var y=b>>8&255;h.setUint8(p,y)}})(e,o,xN(e,o)&~(u<<c)&65535|d)}function xN(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function zO(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,c=1<<1+(7&i);e[t++],e[t++];var u=null,d=null;o&&(u=t,d=c,t+=3*c);var h=!0,p=[],b=0,y=null,g=0,S=null;for(this.width=r,this.height=n;h&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,S=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var k=e[t++];b=e[t++]|e[t++]<<8,y=e[t++],1&k||(y=null),g=k>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var E=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,P=e[t++]|e[t++]<<8,R=e[t++],X=R>>6&1,Q=1<<1+(7&R),ae=u,se=d,V=!1;R>>7&&(V=!0,ae=t,se=Q,t+=3*Q);var re=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}p.push({x:E,y:A,width:L,height:P,has_local_palette:V,palette_offset:ae,palette_size:se,data_offset:re,data_length:t-re,transparent_index:y,interlaced:!!X,delay:b,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return S},this.frameInfo=function(F){if(F<0||F>=p.length)throw new Error("Frame index out of range.");return p[F]},this.decodeAndBlitFrameBGRA=function(F,z){var H=this.frameInfo(F),ve=H.width*H.height,ye=new Uint8Array(ve);Ay(e,H.data_offset,ye,ve);var xe=H.palette_offset,ie=H.transparent_index;ie===null&&(ie=256);var he=H.width,G=r-he,ce=he,I=4*(H.y*r+H.x),J=4*((H.y+H.height)*r+H.x),Z=I,le=4*G;H.interlaced===!0&&(le+=4*r*7);for(var ue=8,be=0,Ee=ye.length;be<Ee;++be){var fe=ye[be];if(ce===0&&(ce=he,(Z+=le)>=J&&(le=4*G+4*r*(ue-1),Z=I+(he+G)*(ue<<1),ue>>=1)),fe===ie)Z+=4;else{var me=e[xe+3*fe],Oe=e[xe+3*fe+1],je=e[xe+3*fe+2];z[Z++]=je,z[Z++]=Oe,z[Z++]=me,z[Z++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(F,z){var H=this.frameInfo(F),ve=H.width*H.height,ye=new Uint8Array(ve);Ay(e,H.data_offset,ye,ve);var xe=H.palette_offset,ie=H.transparent_index;ie===null&&(ie=256);var he=H.width,G=r-he,ce=he,I=4*(H.y*r+H.x),J=4*((H.y+H.height)*r+H.x),Z=I,le=4*G;H.interlaced===!0&&(le+=4*r*7);for(var ue=8,be=0,Ee=ye.length;be<Ee;++be){var fe=ye[be];if(ce===0&&(ce=he,(Z+=le)>=J&&(le=4*G+4*r*(ue-1),Z=I+(he+G)*(ue<<1),ue>>=1)),fe===ie)Z+=4;else{var me=e[xe+3*fe],Oe=e[xe+3*fe+1],je=e[xe+3*fe+2];z[Z++]=me,z[Z++]=Oe,z[Z++]=je,z[Z++]=255}--ce}}}function Ay(e,t,r,n){for(var i=e[t++],o=1<<i,c=o+1,u=c+1,d=i+1,h=(1<<d)-1,p=0,b=0,y=0,g=e[t++],S=new Int32Array(4096),k=null;;){for(;p<16&&g!==0;)b|=e[t++]<<p,p+=8,g===1?g=e[t++]:--g;if(p<d)break;var E=b&h;if(b>>=d,p-=d,E!==o){if(E===c)break;for(var A=E<u?E:k,L=0,P=A;P>o;)P=S[P]>>8,++L;var R=P;if(y+L+(A!==E?1:0)>n)return void Vr.log("Warning, gif stream longer than expected.");r[y++]=R;var X=y+=L;for(A!==E&&(r[y++]=R),P=A;L--;)P=S[P],r[--X]=255&P,P>>=8;k!==null&&u<4096&&(S[u++]=k<<8|R,u>=h+1&&d<12&&(++d,h=h<<1|1)),k=E}else u=c+1,h=(1<<(d=i+1))-1,k=null}return y!==n&&Vr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Mx(e){var t,r,n,i,o,c=Math.floor,u=new Array(64),d=new Array(64),h=new Array(64),p=new Array(64),b=new Array(65535),y=new Array(65535),g=new Array(64),S=new Array(64),k=[],E=0,A=7,L=new Array(64),P=new Array(64),R=new Array(64),X=new Array(256),Q=new Array(2048),ae=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],se=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ve=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ye(I,J){for(var Z=0,le=0,ue=new Array,be=1;be<=16;be++){for(var Ee=1;Ee<=I[be];Ee++)ue[J[le]]=[],ue[J[le]][0]=Z,ue[J[le]][1]=be,le++,Z++;Z*=2}return ue}function xe(I){for(var J=I[0],Z=I[1]-1;Z>=0;)J&1<<Z&&(E|=1<<A),Z--,--A<0&&(E==255?(ie(255),ie(0)):ie(E),A=7,E=0)}function ie(I){k.push(I)}function he(I){ie(I>>8&255),ie(255&I)}function G(I,J,Z,le,ue){for(var be,Ee=ue[0],fe=ue[240],me=(function(Be,ht){var Ze,mt,xt,yr,nr,$t,sr,Jt,at,Mt,ot=0;for(at=0;at<8;++at){Ze=Be[ot],mt=Be[ot+1],xt=Be[ot+2],yr=Be[ot+3],nr=Be[ot+4],$t=Be[ot+5],sr=Be[ot+6];var Zr=Ze+(Jt=Be[ot+7]),Qt=Ze-Jt,Gt=mt+sr,Vt=mt-sr,Or=xt+$t,yt=xt-$t,Er=yr+nr,kt=yr-nr,Ut=Zr+Er,jr=Zr-Er,Yt=Gt+Or,At=Gt-Or;Be[ot]=Ut+Yt,Be[ot+4]=Ut-Yt;var lr=.707106781*(At+jr);Be[ot+2]=jr+lr,Be[ot+6]=jr-lr;var to=.382683433*((Ut=kt+yt)-(At=Vt+Qt)),$n=.5411961*Ut+to,Xi=1.306562965*At+to,ui=.707106781*(Yt=yt+Vt),Lt=Qt+ui,Bs=Qt-ui;Be[ot+5]=Bs+$n,Be[ot+3]=Bs-$n,Be[ot+1]=Lt+Xi,Be[ot+7]=Lt-Xi,ot+=8}for(ot=0,at=0;at<8;++at){Ze=Be[ot],mt=Be[ot+8],xt=Be[ot+16],yr=Be[ot+24],nr=Be[ot+32],$t=Be[ot+40],sr=Be[ot+48];var Nn=Ze+(Jt=Be[ot+56]),qr=Ze-Jt,Ss=mt+sr,gr=mt-sr,en=xt+$t,on=xt-$t,Qi=yr+nr,$s=yr-nr,Vs=Nn+Qi,Ws=Nn-Qi,jn=Ss+en,di=Ss-en;Be[ot]=Vs+jn,Be[ot+32]=Vs-jn;var Hs=.707106781*(di+Ws);Be[ot+16]=Ws+Hs,Be[ot+48]=Ws-Hs;var Zi=.382683433*((Vs=$s+on)-(di=gr+qr)),hi=.5411961*Vs+Zi,ro=1.306562965*di+Zi,Mo=.707106781*(jn=on+gr),Fo=qr+Mo,Do=qr-Mo;Be[ot+40]=Do+hi,Be[ot+24]=Do-hi,Be[ot+8]=Fo+ro,Be[ot+56]=Fo-ro,ot++}for(at=0;at<64;++at)Mt=Be[at]*ht[at],g[at]=Mt>0?Mt+.5|0:Mt-.5|0;return g})(I,J),Oe=0;Oe<64;++Oe)S[ae[Oe]]=me[Oe];var je=S[0]-Z;Z=S[0],je==0?xe(le[0]):(xe(le[y[be=32767+je]]),xe(b[be]));for(var Ve=63;Ve>0&&S[Ve]==0;)Ve--;if(Ve==0)return xe(Ee),Z;for(var ze,K=1;K<=Ve;){for(var We=K;S[K]==0&&K<=Ve;)++K;var vt=K-We;if(vt>=16){ze=vt>>4;for(var tt=1;tt<=ze;++tt)xe(fe);vt&=15}be=32767+S[K],xe(ue[(vt<<4)+y[be]]),xe(b[be]),K++}return Ve!=63&&xe(Ee),Z}function ce(I){I=Math.min(Math.max(I,1),100),o!=I&&((function(J){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var ue=c((Z[le]*J+50)/100);ue=Math.min(Math.max(ue,1),255),u[ae[le]]=ue}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var fe=c((be[Ee]*J+50)/100);fe=Math.min(Math.max(fe,1),255),d[ae[Ee]]=fe}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,je=0;je<8;je++)for(var Ve=0;Ve<8;Ve++)h[Oe]=1/(u[ae[Oe]]*me[je]*me[Ve]*8),p[Oe]=1/(d[ae[Oe]]*me[je]*me[Ve]*8),Oe++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),o=I)}this.encode=function(I,J){J&&ce(J),k=new Array,E=0,A=7,he(65496),he(65504),he(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),he(1),he(1),ie(0),ie(0),(function(){he(65499),he(132),ie(0);for(var mt=0;mt<64;mt++)ie(u[mt]);ie(1);for(var xt=0;xt<64;xt++)ie(d[xt])})(),(function(mt,xt){he(65472),he(17),ie(8),he(xt),he(mt),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)})(I.width,I.height),(function(){he(65476),he(418),ie(0);for(var mt=0;mt<16;mt++)ie(se[mt+1]);for(var xt=0;xt<=11;xt++)ie(V[xt]);ie(16);for(var yr=0;yr<16;yr++)ie(re[yr+1]);for(var nr=0;nr<=161;nr++)ie(T[nr]);ie(1);for(var $t=0;$t<16;$t++)ie(F[$t+1]);for(var sr=0;sr<=11;sr++)ie(z[sr]);ie(17);for(var Jt=0;Jt<16;Jt++)ie(H[Jt+1]);for(var at=0;at<=161;at++)ie(ve[at])})(),he(65498),he(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var Z=0,le=0,ue=0;E=0,A=7,this.encode.displayName="_encode_";for(var be,Ee,fe,me,Oe,je,Ve,ze,K,We=I.data,vt=I.width,tt=I.height,Be=4*vt,ht=0;ht<tt;){for(be=0;be<Be;){for(Oe=Be*ht+be,Ve=-1,ze=0,K=0;K<64;K++)je=Oe+(ze=K>>3)*Be+(Ve=4*(7&K)),ht+ze>=tt&&(je-=Be*(ht+1+ze-tt)),be+Ve>=Be&&(je-=be+Ve-Be+4),Ee=We[je++],fe=We[je++],me=We[je++],L[K]=(Q[Ee]+Q[fe+256|0]+Q[me+512|0]>>16)-128,P[K]=(Q[Ee+768|0]+Q[fe+1024|0]+Q[me+1280|0]>>16)-128,R[K]=(Q[Ee+1280|0]+Q[fe+1536|0]+Q[me+1792|0]>>16)-128;Z=G(L,h,Z,t,n),le=G(P,p,le,r,i),ue=G(R,p,ue,r,i),be+=32}ht+=8}if(A>=0){var Ze=[];Ze[1]=A+1,Ze[0]=(1<<A+1)-1,xe(Ze)}return he(65497),new Uint8Array(k)},e=e||50,(function(){for(var I=String.fromCharCode,J=0;J<256;J++)X[J]=I(J)})(),t=ye(se,V),r=ye(F,z),n=ye(re,T),i=ye(H,ve),(function(){for(var I=1,J=2,Z=1;Z<=15;Z++){for(var le=I;le<J;le++)y[32767+le]=Z,b[32767+le]=[],b[32767+le][1]=Z,b[32767+le][0]=le;for(var ue=-(J-1);ue<=-I;ue++)y[32767+ue]=Z,b[32767+ue]=[],b[32767+ue][1]=Z,b[32767+ue][0]=J-1+ue;I<<=1,J<<=1}})(),(function(){for(var I=0;I<256;I++)Q[I]=19595*I,Q[I+256|0]=38470*I,Q[I+512|0]=7471*I+32768,Q[I+768|0]=-11059*I,Q[I+1024|0]=-21709*I,Q[I+1280|0]=32768*I+8421375,Q[I+1536|0]=-27439*I,Q[I+1792|0]=-5329*I})(),ce(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Eo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Py(e){function t(V){if(!V)throw Error("assert :P")}function r(V,re,T){for(var F=0;4>F;F++)if(V[re+F]!=T.charCodeAt(F))return!0;return!1}function n(V,re,T,F,z){for(var H=0;H<z;H++)V[re+H]=T[F+H]}function i(V,re,T,F){for(var z=0;z<F;z++)V[re+z]=T}function o(V){return new Int32Array(V)}function c(V,re){for(var T=[],F=0;F<V;F++)T.push(new re);return T}function u(V,re){var T=[];return(function F(z,H,ve){for(var ye=ve[H],xe=0;xe<ye&&(z.push(ve.length>H+1?[]:new re),!(ve.length<H+1));xe++)F(z[xe],H+1,ve)})(T,0,V),T}var d=function(){var V=this;function re(m,v){for(var j=1<<v-1>>>0;m&j;)j>>>=1;return j?(m&j-1)+j:m}function T(m,v,j,C,O){t(!(C%j));do m[v+(C-=j)]=O;while(0<C)}function F(m,v,j,C,O){if(t(2328>=O),512>=O)var D=o(512);else if((D=o(O))==null)return 0;return(function(U,W,Y,ee,pe,ke){var te,we,Ce=W,Fe=1<<Y,Pe=o(16),Le=o(16);for(t(pe!=0),t(ee!=null),t(U!=null),t(0<Y),we=0;we<pe;++we){if(15<ee[we])return 0;++Pe[ee[we]]}if(Pe[0]==pe)return 0;for(Le[1]=0,te=1;15>te;++te){if(Pe[te]>1<<te)return 0;Le[te+1]=Le[te]+Pe[te]}for(we=0;we<pe;++we)te=ee[we],0<ee[we]&&(ke[Le[te]++]=we);if(Le[15]==1)return(ee=new z).g=0,ee.value=ke[0],T(U,Ce,1,Fe,ee),Fe;var Me,De=-1,Ue=Fe-1,ut=0,st=1,Xt=1,dt=1<<Y;for(we=0,te=1,pe=2;te<=Y;++te,pe<<=1){if(st+=Xt<<=1,0>(Xt-=Pe[te]))return 0;for(;0<Pe[te];--Pe[te])(ee=new z).g=te,ee.value=ke[we++],T(U,Ce+ut,pe,dt,ee),ut=re(ut,te)}for(te=Y+1,pe=2;15>=te;++te,pe<<=1){if(st+=Xt<<=1,0>(Xt-=Pe[te]))return 0;for(;0<Pe[te];--Pe[te]){if(ee=new z,(ut&Ue)!=De){for(Ce+=dt,Me=1<<(De=te)-Y;15>De&&!(0>=(Me-=Pe[De]));)++De,Me<<=1;Fe+=dt=1<<(Me=De-Y),U[W+(De=ut&Ue)].g=Me+Y,U[W+De].value=Ce-W-De}ee.g=te-Y,ee.value=ke[we++],T(U,Ce+(ut>>Y),pe,dt,ee),ut=re(ut,te)}}return st!=2*Le[15]-1?0:Fe})(m,v,j,C,O,D)}function z(){this.value=this.g=0}function H(){this.value=this.g=0}function ve(){this.G=c(5,z),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(gi,H)}function ye(m,v,j,C){t(m!=null),t(v!=null),t(2147483648>C),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=v,m.pa=j,m.Jd=v,m.Yc=j+C,m.Zc=4<=C?j+C-4+1:j,Ee(m)}function xe(m,v){for(var j=0;0<v--;)j|=me(m,128)<<v;return j}function ie(m,v){var j=xe(m,v);return fe(m)?-j:j}function he(m,v,j,C){var O,D=0;for(t(m!=null),t(v!=null),t(4294967288>C),m.Sb=C,m.Ra=0,m.u=0,m.h=0,4<C&&(C=4),O=0;O<C;++O)D+=v[j+O]<<8*O;m.Ra=D,m.bb=C,m.oa=v,m.pa=j}function G(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<ho-8>>>0,++m.bb,m.u-=8;le(m)&&(m.h=1,m.u=0)}function ce(m,v){if(t(0<=v),!m.h&&v<=Zs){var j=Z(m)&As[v];return m.u+=v,G(m),j}return m.h=1,m.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(m){return m.Ra>>>(m.u&ho-1)>>>0}function le(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>ho}function ue(m,v){m.u=v,m.h=le(m)}function be(m){m.u>=Ii&&(t(m.u>=Ii),G(m))}function Ee(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function fe(m){return xe(m,1)}function me(m,v){var j=m.Ca;0>m.b&&Ee(m);var C=m.b,O=j*v>>>8,D=(m.I>>>C>O)+0;for(D?(j-=O,m.I-=O+1<<C>>>0):j=O+1,C=j,O=0;256<=C;)O+=8,C>>=8;return C=7^O+ia[C],m.b-=C,m.Ca=(j<<C)-1,D}function Oe(m,v,j){m[v+0]=j>>24&255,m[v+1]=j>>16&255,m[v+2]=j>>8&255,m[v+3]=255&j}function je(m,v){return m[v+0]|m[v+1]<<8}function Ve(m,v){return je(m,v)|m[v+2]<<16}function ze(m,v){return je(m,v)|je(m,v+2)<<16}function K(m,v){var j=1<<v;return t(m!=null),t(0<v),m.X=o(j),m.X==null?0:(m.Mb=32-v,m.Xa=v,1)}function We(m,v){t(m!=null),t(v!=null),t(m.Xa==v.Xa),n(v.X,0,m.X,0,1<<v.Xa)}function vt(){this.X=[],this.Xa=this.Mb=0}function tt(m,v,j,C){t(j!=null),t(C!=null);var O=j[0],D=C[0];return O==0&&(O=(m*D+v/2)/v),D==0&&(D=(v*O+m/2)/m),0>=O||0>=D?0:(j[0]=O,C[0]=D,1)}function Be(m,v){return m+(1<<v)-1>>>v}function ht(m,v){return((4278255360&m)+(4278255360&v)>>>0&4278255360)+((16711935&m)+(16711935&v)>>>0&16711935)>>>0}function Ze(m,v){V[v]=function(j,C,O,D,U,W,Y){var ee;for(ee=0;ee<U;++ee){var pe=V[m](W[Y+ee-1],O,D+ee);W[Y+ee]=ht(j[C+ee],pe)}}}function mt(){this.ud=this.hd=this.jd=0}function xt(m,v){return((4278124286&(m^v))>>>1)+(m&v)>>>0}function yr(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function nr(m,v){return yr(m+(m-v+.5>>1))}function $t(m,v,j){return Math.abs(v-j)-Math.abs(m-j)}function sr(m,v,j,C,O,D,U){for(C=D[U-1],j=0;j<O;++j)D[U+j]=C=ht(m[v+j],C)}function Jt(m,v,j,C,O){var D;for(D=0;D<j;++D){var U=m[v+D],W=U>>8&255,Y=16711935&(Y=(Y=16711935&U)+((W<<16)+W));C[O+D]=(4278255360&U)+Y>>>0}}function at(m,v){v.jd=255&m,v.hd=m>>8&255,v.ud=m>>16&255}function Mt(m,v,j,C,O,D){var U;for(U=0;U<C;++U){var W=v[j+U],Y=W>>>8,ee=W,pe=255&(pe=(pe=W>>>16)+((m.jd<<24>>24)*(Y<<24>>24)>>>5));ee=255&(ee=(ee+=(m.hd<<24>>24)*(Y<<24>>24)>>>5)+((m.ud<<24>>24)*(pe<<24>>24)>>>5)),O[D+U]=(4278255360&W)+(pe<<16)+ee}}function ot(m,v,j,C,O){V[v]=function(D,U,W,Y,ee,pe,ke,te,we){for(Y=ke;Y<te;++Y)for(ke=0;ke<we;++ke)ee[pe++]=O(W[C(D[U++])])},V[m]=function(D,U,W,Y,ee,pe,ke){var te=8>>D.b,we=D.Ea,Ce=D.K[0],Fe=D.w;if(8>te)for(D=(1<<D.b)-1,Fe=(1<<te)-1;U<W;++U){var Pe,Le=0;for(Pe=0;Pe<we;++Pe)Pe&D||(Le=C(Y[ee++])),pe[ke++]=O(Ce[Le&Fe]),Le>>=te}else V["VP8LMapColor"+j](Y,ee,Ce,Fe,pe,ke,U,W,we)}}function Zr(m,v,j,C,O){for(j=v+j;v<j;){var D=m[v++];C[O++]=D>>16&255,C[O++]=D>>8&255,C[O++]=255&D}}function Qt(m,v,j,C,O){for(j=v+j;v<j;){var D=m[v++];C[O++]=D>>16&255,C[O++]=D>>8&255,C[O++]=255&D,C[O++]=D>>24&255}}function Gt(m,v,j,C,O){for(j=v+j;v<j;){var D=(U=m[v++])>>16&240|U>>12&15,U=240&U|U>>28&15;C[O++]=D,C[O++]=U}}function Vt(m,v,j,C,O){for(j=v+j;v<j;){var D=(U=m[v++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;C[O++]=D,C[O++]=U}}function Or(m,v,j,C,O){for(j=v+j;v<j;){var D=m[v++];C[O++]=255&D,C[O++]=D>>8&255,C[O++]=D>>16&255}}function yt(m,v,j,C,O,D){if(D==0)for(j=v+j;v<j;)Oe(C,((D=m[v++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),O+=32;else n(C,O,m,v,j)}function Er(m,v){V[v][0]=V[m+"0"],V[v][1]=V[m+"1"],V[v][2]=V[m+"2"],V[v][3]=V[m+"3"],V[v][4]=V[m+"4"],V[v][5]=V[m+"5"],V[v][6]=V[m+"6"],V[v][7]=V[m+"7"],V[v][8]=V[m+"8"],V[v][9]=V[m+"9"],V[v][10]=V[m+"10"],V[v][11]=V[m+"11"],V[v][12]=V[m+"12"],V[v][13]=V[m+"13"],V[v][14]=V[m+"0"],V[v][15]=V[m+"0"]}function kt(m){return m==xo||m==Fa||m==el||m==tl}function Ut(){this.eb=[],this.size=this.A=this.fb=0}function jr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ut,this.f.kb=new jr,this.sd=null}function At(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function lr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function to(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function $n(m,v){var j=m.T,C=v.ba.f.RGBA,O=C.eb,D=C.fb+m.ka*C.A,U=is[v.ba.S],W=m.y,Y=m.O,ee=m.f,pe=m.N,ke=m.ea,te=m.W,we=v.cc,Ce=v.dc,Fe=v.Mc,Pe=v.Nc,Le=m.ka,Me=m.ka+m.T,De=m.U,Ue=De+1>>1;for(Le==0?U(W,Y,null,null,ee,pe,ke,te,ee,pe,ke,te,O,D,null,null,De):(U(v.ec,v.fc,W,Y,we,Ce,Fe,Pe,ee,pe,ke,te,O,D-C.A,O,D,De),++j);Le+2<Me;Le+=2)we=ee,Ce=pe,Fe=ke,Pe=te,pe+=m.Rc,te+=m.Rc,D+=2*C.A,U(W,(Y+=2*m.fa)-m.fa,W,Y,we,Ce,Fe,Pe,ee,pe,ke,te,O,D-C.A,O,D,De);return Y+=m.fa,m.j+Me<m.o?(n(v.ec,v.fc,W,Y,De),n(v.cc,v.dc,ee,pe,Ue),n(v.Mc,v.Nc,ke,te,Ue),j--):1&Me||U(W,Y,null,null,ee,pe,ke,te,ee,pe,ke,te,O,D+C.A,null,null,De),j}function Xi(m,v,j){var C=m.F,O=[m.J];if(C!=null){var D=m.U,U=v.ba.S,W=U==Cl||U==el;v=v.ba.f.RGBA;var Y=[0],ee=m.ka;Y[0]=m.T,m.Kb&&(ee==0?--Y[0]:(--ee,O[0]-=m.width),m.j+m.ka+m.T==m.o&&(Y[0]=m.o-m.j-ee));var pe=v.eb;ee=v.fb+ee*v.A,m=Di(C,O[0],m.width,D,Y,pe,ee+(W?0:3),v.A),t(j==Y),m&&kt(U)&&Ps(pe,ee,W,D,Y,v.A)}return 0}function ui(m){var v=m.ma,j=v.ba.S,C=11>j,O=j==ji||j==Zo||j==Cl||j==Cr||j==12||kt(j);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Go(v.Oa,m,O?11:12))return 0;if(O&&kt(j)&&lo(),m.da)alert("todo:use_scaling");else{if(C){if(v.Ib=to,m.Kb){if(j=m.U+1>>1,v.memory=o(m.U+2*j),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+m.U,v.Mc=v.cc,v.Nc=v.dc+j,v.Ib=$n,lo()}}else alert("todo:EmitYUV");O&&(v.Jb=Xi,C&&Ri())}if(C&&!Cn){for(m=0;256>m;++m)as[m]=89858*(m-128)+ei>>qi,os[m]=-22014*(m-128)+ei,yo[m]=-45773*(m-128),za[m]=113618*(m-128)+ei>>qi;for(m=Nr;m<Sr;++m)v=76283*(m-16)+ei>>qi,$[m-Nr]=pn(v,255),Ae[m-Nr]=pn(v+8>>4,15);Cn=1}return 1}function Lt(m){var v=m.ma,j=m.U,C=m.T;return t(!(1&m.ka)),0>=j||0>=C?0:(j=v.Ib(m,v),v.Jb!=null&&v.Jb(m,v,j),v.Dc+=j,1)}function Bs(m){m.ma.memory=null}function Nn(m,v,j,C){return ce(m,8)!=47?0:(v[0]=ce(m,14)+1,j[0]=ce(m,14)+1,C[0]=ce(m,1),ce(m,3)!=0?0:!m.h)}function qr(m,v){if(4>m)return m+1;var j=m-2>>1;return(2+(1&m)<<j)+ce(v,j)+1}function Ss(m,v){return 120<v?v-120:1<=(j=((j=Iu[v-1])>>4)*m+(8-(15&j)))?j:1;var j}function gr(m,v,j){var C=Z(j),O=m[v+=255&C].g-8;return 0<O&&(ue(j,j.u+8),C=Z(j),v+=m[v].value,v+=C&(1<<O)-1),ue(j,j.u+m[v].g),m[v].value}function en(m,v,j){return j.g+=m.g,j.value+=m.value<<v>>>0,t(8>=j.g),m.g}function on(m,v,j){var C=m.xc;return t((v=C==0?0:m.vc[m.md*(j>>C)+(v>>C)])<m.Wb),m.Ya[v]}function Qi(m,v,j,C){var O=m.ab,D=m.c*v,U=m.C;v=U+v;var W=j,Y=C;for(C=m.Ta,j=m.Ua;0<O--;){var ee=m.gc[O],pe=U,ke=v,te=W,we=Y,Ce=(Y=C,W=j,ee.Ea);switch(t(pe<ke),t(ke<=ee.nc),ee.hc){case 2:Hr(te,we,(ke-pe)*Ce,Y,W);break;case 0:var Fe=pe,Pe=ke,Le=Y,Me=W,De=(dt=ee).Ea;Fe==0&&(Ta(te,we,null,null,1,Le,Me),sr(te,we+1,0,0,De-1,Le,Me+1),we+=De,Me+=De,++Fe);for(var Ue=1<<dt.b,ut=Ue-1,st=Be(De,dt.b),Xt=dt.K,dt=dt.w+(Fe>>dt.b)*st;Fe<Pe;){var dr=Xt,un=dt,Zt=1;for(Mi(te,we,Le,Me-De,1,Le,Me);Zt<De;){var it=(Zt&~ut)+Ue;it>De&&(it=De),(0,po[dr[un++]>>8&15])(te,we+ +Zt,Le,Me+Zt-De,it-Zt,Le,Me+Zt),Zt=it}we+=De,Me+=De,++Fe&ut||(dt+=st)}ke!=ee.nc&&n(Y,W-Ce,Y,W+(ke-pe-1)*Ce,Ce);break;case 1:for(Ce=te,Pe=we,De=(te=ee.Ea)-(Me=te&~(Le=(we=1<<ee.b)-1)),Fe=Be(te,ee.b),Ue=ee.K,ee=ee.w+(pe>>ee.b)*Fe;pe<ke;){for(ut=Ue,st=ee,Xt=new mt,dt=Pe+Me,dr=Pe+te;Pe<dt;)at(ut[st++],Xt),Fi(Xt,Ce,Pe,we,Y,W),Pe+=we,W+=we;Pe<dr&&(at(ut[st++],Xt),Fi(Xt,Ce,Pe,De,Y,W),Pe+=De,W+=De),++pe&Le||(ee+=Fe)}break;case 3:if(te==Y&&we==W&&0<ee.b){for(Pe=Y,te=Ce=W+(ke-pe)*Ce-(Me=(ke-pe)*Be(ee.Ea,ee.b)),we=Y,Le=W,Fe=[],Me=(De=Me)-1;0<=Me;--Me)Fe[Me]=we[Le+Me];for(Me=De-1;0<=Me;--Me)Pe[te+Me]=Fe[Me];aa(ee,pe,ke,Y,Ce,Y,W)}else aa(ee,pe,ke,te,we,Y,W)}W=C,Y=j}Y!=j&&n(C,j,W,Y,D)}function $s(m,v){var j=m.V,C=m.Ba+m.c*m.C,O=v-m.C;if(t(v<=m.l.o),t(16>=O),0<O){var D=m.l,U=m.Ta,W=m.Ua,Y=D.width;if(Qi(m,O,j,C),O=W=[W],t((j=m.C)<(C=v)),t(D.v<D.va),C>D.o&&(C=D.o),j<D.j){var ee=D.j-j;j=D.j,O[0]+=ee*Y}if(j>=C?j=0:(O[0]+=4*D.v,D.ka=j-D.j,D.U=D.va-D.v,D.T=C-j,j=1),j){if(W=W[0],11>(j=m.ca).S){var pe=j.f.RGBA,ke=(C=j.S,O=D.U,D=D.T,ee=pe.eb,pe.A),te=D;for(pe=pe.fb+m.Ma*pe.A;0<te--;){var we=U,Ce=W,Fe=O,Pe=ee,Le=pe;switch(C){case Qo:Yo(we,Ce,Fe,Pe,Le);break;case ji:yi(we,Ce,Fe,Pe,Le);break;case xo:yi(we,Ce,Fe,Pe,Le),Ps(Pe,Le,0,Fe,1,0);break;case Dc:Oa(we,Ce,Fe,Pe,Le);break;case Zo:yt(we,Ce,Fe,Pe,Le,1);break;case Fa:yt(we,Ce,Fe,Pe,Le,1),Ps(Pe,Le,0,Fe,1,0);break;case Cl:yt(we,Ce,Fe,Pe,Le,0);break;case el:yt(we,Ce,Fe,Pe,Le,0),Ps(Pe,Le,1,Fe,1,0);break;case Cr:mo(we,Ce,Fe,Pe,Le);break;case tl:mo(we,Ce,Fe,Pe,Le),la(Pe,Le,Fe,1,0);break;case Al:wi(we,Ce,Fe,Pe,Le);break;default:t(0)}W+=Y,pe+=ke}m.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=j.height)}}m.C=v,t(m.C<=m.i)}function Vs(m){var v;if(0<m.ua)return 0;for(v=0;v<m.Wb;++v){var j=m.Ya[v].G,C=m.Ya[v].H;if(0<j[1][C[1]+0].g||0<j[2][C[2]+0].g||0<j[3][C[3]+0].g)return 0}return 1}function Ws(m,v,j,C,O,D){if(m.Z!=0){var U=m.qd,W=m.rd;for(t(Mn[m.Z]!=null);v<j;++v)Mn[m.Z](U,W,C,O,C,O,D),U=C,W=O,O+=D;m.qd=U,m.rd=W}}function jn(m,v){var j=m.l.ma,C=j.Z==0||j.Z==1?m.l.j:m.C;if(C=m.C<C?C:m.C,t(v<=m.l.o),v>C){var O=m.l.width,D=j.ca,U=j.tb+O*C,W=m.V,Y=m.Ba+m.c*C,ee=m.gc;t(m.ab==1),t(ee[0].hc==3),bi(ee[0],C,v,W,Y,D,U),Ws(j,C,v,D,U,O)}m.C=m.Ma=v}function di(m,v,j,C,O,D,U){var W=m.$/C,Y=m.$%C,ee=m.m,pe=m.s,ke=j+m.$,te=ke;O=j+C*O;var we=j+C*D,Ce=280+pe.ua,Fe=m.Pb?W:16777216,Pe=0<pe.ua?pe.Wa:null,Le=pe.wc,Me=ke<we?on(pe,Y,W):null;t(m.C<D),t(we<=O);var De=!1;e:for(;;){for(;De||ke<we;){var Ue=0;if(W>=Fe){var ut=ke-j;t((Fe=m).Pb),Fe.wd=Fe.m,Fe.xd=ut,0<Fe.s.ua&&We(Fe.s.Wa,Fe.s.vb),Fe=W+Ll}if(Y&Le||(Me=on(pe,Y,W)),t(Me!=null),Me.Qb&&(v[ke]=Me.qb,De=!0),!De)if(be(ee),Me.jc){Ue=ee,ut=v;var st=ke,Xt=Me.pd[Z(Ue)&gi-1];t(Me.jc),256>Xt.g?(ue(Ue,Ue.u+Xt.g),ut[st]=Xt.value,Ue=0):(ue(Ue,Ue.u+Xt.g-256),t(256<=Xt.value),Ue=Xt.value),Ue==0&&(De=!0)}else Ue=gr(Me.G[0],Me.H[0],ee);if(ee.h)break;if(De||256>Ue){if(!De)if(Me.nd)v[ke]=(Me.qb|Ue<<8)>>>0;else{if(be(ee),De=gr(Me.G[1],Me.H[1],ee),be(ee),ut=gr(Me.G[2],Me.H[2],ee),st=gr(Me.G[3],Me.H[3],ee),ee.h)break;v[ke]=(st<<24|De<<16|Ue<<8|ut)>>>0}if(De=!1,++ke,++Y>=C&&(Y=0,++W,U!=null&&W<=D&&!(W%16)&&U(m,W),Pe!=null))for(;te<ke;)Ue=v[te++],Pe.X[(506832829*Ue&4294967295)>>>Pe.Mb]=Ue}else if(280>Ue){if(Ue=qr(Ue-256,ee),ut=gr(Me.G[4],Me.H[4],ee),be(ee),ut=Ss(C,ut=qr(ut,ee)),ee.h)break;if(ke-j<ut||O-ke<Ue)break e;for(st=0;st<Ue;++st)v[ke+st]=v[ke+st-ut];for(ke+=Ue,Y+=Ue;Y>=C;)Y-=C,++W,U!=null&&W<=D&&!(W%16)&&U(m,W);if(t(ke<=O),Y&Le&&(Me=on(pe,Y,W)),Pe!=null)for(;te<ke;)Ue=v[te++],Pe.X[(506832829*Ue&4294967295)>>>Pe.Mb]=Ue}else{if(!(Ue<Ce))break e;for(De=Ue-280,t(Pe!=null);te<ke;)Ue=v[te++],Pe.X[(506832829*Ue&4294967295)>>>Pe.Mb]=Ue;Ue=ke,t(!(De>>>(ut=Pe).Xa)),v[Ue]=ut.X[De],De=!0}De||t(ee.h==le(ee))}if(m.Pb&&ee.h&&ke<O)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&We(m.s.vb,m.s.Wa);else{if(ee.h)break e;U!=null&&U(m,W>D?D:W),m.a=0,m.$=ke-j}return 1}return m.a=3,0}function Hs(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var v=m.Wa;v!=null&&(v.X=null),m.vb=null,t(m!=null)}function Zi(){var m=new Rt;return m==null?null:(m.a=0,m.xb=vo,Er("Predictor","VP8LPredictors"),Er("Predictor","VP8LPredictors_C"),Er("PredictorAdd","VP8LPredictorsAdd"),Er("PredictorAdd","VP8LPredictorsAdd_C"),Hr=Jt,Fi=Mt,Yo=Zr,yi=Qt,mo=Gt,wi=Vt,Oa=Or,V.VP8LMapColor32b=vi,V.VP8LMapColor8b=fo,m)}function hi(m,v,j,C,O){var D=1,U=[m],W=[v],Y=C.m,ee=C.s,pe=null,ke=0;e:for(;;){if(j)for(;D&&ce(Y,1);){var te=U,we=W,Ce=C,Fe=1,Pe=Ce.m,Le=Ce.gc[Ce.ab],Me=ce(Pe,2);if(Ce.Oc&1<<Me)D=0;else{switch(Ce.Oc|=1<<Me,Le.hc=Me,Le.Ea=te[0],Le.nc=we[0],Le.K=[null],++Ce.ab,t(4>=Ce.ab),Me){case 0:case 1:Le.b=ce(Pe,3)+2,Fe=hi(Be(Le.Ea,Le.b),Be(Le.nc,Le.b),0,Ce,Le.K),Le.K=Le.K[0];break;case 3:var De,Ue=ce(Pe,8)+1,ut=16<Ue?0:4<Ue?1:2<Ue?2:3;if(te[0]=Be(Le.Ea,ut),Le.b=ut,De=Fe=hi(Ue,1,0,Ce,Le.K)){var st,Xt=Ue,dt=Le,dr=1<<(8>>dt.b),un=o(dr);if(un==null)De=0;else{var Zt=dt.K[0],it=dt.w;for(un[0]=dt.K[0][0],st=1;st<1*Xt;++st)un[st]=ht(Zt[it+st],un[st-1]);for(;st<4*dr;++st)un[st]=0;dt.K[0]=null,dt.K[0]=un,De=1}}Fe=De;break;case 2:break;default:t(0)}D=Fe}}if(U=U[0],W=W[0],D&&ce(Y,1)&&!(D=1<=(ke=ce(Y,4))&&11>=ke)){C.a=3;break e}var Je;if(Je=D)t:{var gn,Pt,or,Ir=C,dn=U,ls=W,Gr=ke,Gn=j,cs=Ir.m,Yr=Ir.s,Kt=[null],fr=1,Kr=0,Ar=Uc[Gr];r:for(;;){if(Gn&&ce(cs,1)){var Br=ce(cs,3)+2,Yn=Be(dn,Br),nn=Be(ls,Br),Os=Yn*nn;if(!hi(Yn,nn,0,Ir,Kt))break r;for(Kt=Kt[0],Yr.xc=Br,gn=0;gn<Os;++gn){var pr=Kt[gn]>>8&65535;Kt[gn]=pr,pr>=fr&&(fr=pr+1)}}if(cs.h)break r;for(Pt=0;5>Pt;++Pt){var Ur=Da[Pt];!Pt&&0<Gr&&(Ur+=1<<Gr),Kr<Ur&&(Kr=Ur)}var ms=c(fr*Ar,z),xs=fr,gs=c(xs,ve);if(gs==null)var ti=null;else t(65536>=xs),ti=gs;var Is=o(Kr);if(ti==null||Is==null||ms==null){Ir.a=1;break r}var Ms=ms;for(gn=or=0;gn<fr;++gn){var Tr=ti[gn],ri=Tr.G,Ui=Tr.H,il=0,da=1,vn=0;for(Pt=0;5>Pt;++Pt){Ur=Da[Pt],ri[Pt]=Ms,Ui[Pt]=or,!Pt&&0<Gr&&(Ur+=1<<Gr);s:{var Rl,Uu=Ur,$c=Ir,Ba=Is,qh=Ms,Vc=or,zi=0,Bi=$c.m,Wc=ce(Bi,1);if(i(Ba,0,0,Uu),Wc){var Tl=ce(Bi,1)+1,zd=ce(Bi,1),Ol=ce(Bi,zd==0?1:8);Ba[Ol]=1,Tl==2&&(Ba[Ol=ce(Bi,8)]=1);var Hc=1}else{var zu=o(19),Jr=ce(Bi,4)+4;if(19<Jr){$c.a=3;var Il=0;break s}for(Rl=0;Rl<Jr;++Rl)zu[Ou[Rl]]=ce(Bi,3);var Gc=void 0,Ml=void 0,Yc=$c,Bd=zu,$a=Uu,Xr=Ba,bn=0,$r=Yc.m,Kc=8,lc=c(128,z);n:for(;F(lc,0,7,Bd,19);){if(ce($r,1)){var Jc=2+2*ce($r,3);if((Gc=2+ce($r,Jc))>$a)break n}else Gc=$a;for(Ml=0;Ml<$a&&Gc--;){be($r);var Uh=lc[0+(127&Z($r))];ue($r,$r.u+Uh.g);var yn=Uh.value;if(16>yn)Xr[Ml++]=yn,yn!=0&&(Kc=yn);else{var $d=yn==16,Bu=yn-16,Vd=Pl[Bu],ha=ce($r,rl[Bu])+Vd;if(Ml+ha>$a)break n;for(var $i=$d?Kc:0;0<ha--;)Xr[Ml++]=$i}}bn=1;break n}bn||(Yc.a=3),Hc=bn}(Hc=Hc&&!Bi.h)&&(zi=F(qh,Vc,8,Ba,Uu)),Hc&&zi!=0?Il=zi:($c.a=3,Il=0)}if(Il==0)break r;if(da&&qc[Pt]==1&&(da=Ms[or].g==0),il+=Ms[or].g,or+=Il,3>=Pt){var wo,Xc=Is[0];for(wo=1;wo<Ur;++wo)Is[wo]>Xc&&(Xc=Is[wo]);vn+=Xc}}if(Tr.nd=da,Tr.Qb=0,da&&(Tr.qb=(ri[3][Ui[3]+0].value<<24|ri[1][Ui[1]+0].value<<16|ri[2][Ui[2]+0].value)>>>0,il==0&&256>ri[0][Ui[0]+0].value&&(Tr.Qb=1,Tr.qb+=ri[0][Ui[0]+0].value<<8)),Tr.jc=!Tr.Qb&&6>vn,Tr.jc){var cc,Va=Tr;for(cc=0;cc<gi;++cc){var No=cc,jo=Va.pd[No],Qc=Va.G[0][Va.H[0]+No];256<=Qc.value?(jo.g=Qc.g+256,jo.value=Qc.value):(jo.g=0,jo.value=0,No>>=en(Qc,8,jo),No>>=en(Va.G[1][Va.H[1]+No],16,jo),No>>=en(Va.G[2][Va.H[2]+No],0,jo),en(Va.G[3][Va.H[3]+No],24,jo))}}}Yr.vc=Kt,Yr.Wb=fr,Yr.Ya=ti,Yr.yc=ms,Je=1;break t}Je=0}if(!(D=Je)){C.a=3;break e}if(0<ke){if(ee.ua=1<<ke,!K(ee.Wa,ke)){C.a=1,D=0;break e}}else ee.ua=0;var $u=C,Wd=U,zh=W,Vu=$u.s,Fl=Vu.xc;if($u.c=Wd,$u.i=zh,Vu.md=Be(Wd,Fl),Vu.wc=Fl==0?-1:(1<<Fl)-1,j){C.xb=Si;break e}if((pe=o(U*W))==null){C.a=1,D=0;break e}D=(D=di(C,pe,0,U,W,W,null))&&!Y.h;break e}return D?(O!=null?O[0]=pe:(t(pe==null),t(j)),C.$=0,j||Hs(ee)):Hs(ee),D}function ro(m,v){var j=m.c*m.i,C=j+v+16*v;return t(m.c<=v),m.V=o(C),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+j+v,1)}function Mo(m,v){var j=m.C,C=v-j,O=m.V,D=m.Ba+m.c*j;for(t(v<=m.l.o);0<C;){var U=16<C?16:C,W=m.l.ma,Y=m.l.width,ee=Y*U,pe=W.ca,ke=W.tb+Y*j,te=m.Ta,we=m.Ua;Qi(m,U,O,D),rc(te,we,pe,ke,ee),Ws(W,j,j+U,pe,ke,Y),C-=U,O+=U*m.c,j+=U}t(j==v),m.C=m.Ma=v}function Fo(){this.ub=this.yd=this.td=this.Rb=0}function Do(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Lu(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Mr(){this.Yb=(function(){var m=[];return(function v(j,C,O){for(var D=O[C],U=0;U<D&&(j.push(O.length>C+1?[]:0),!(O.length<C+1));U++)v(j[U],C+1,O)})(m,0,[3,11]),m})()}function Lc(){this.jb=o(3),this.Wc=u([4,8],Mr),this.Xc=u([4,17],Mr)}function qo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Gs(){this.ld=this.La=this.dd=this.tc=0}function Na(){this.Na=this.la=0}function fn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ja(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Uo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gs),this.Y=0,this.ya=Array(new ja),this.aa=0,this.l=new yl}function fs(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Rc(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new Fo,this.Kc=new Do,this.ed=new qo,this.Qa=new Lu,this.Ic=this.$c=this.Aa=0,this.D=new Uo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,I),this.ia=0,this.pb=c(4,fn),this.Pa=new Lc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fs),this.Hd=0,this.rb=Array(new Na),this.sb=0,this.wa=Array(new Gs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ja),this.L=this.aa=0,this.gd=u([4,2],Gs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function pn(m,v){return 0>m?0:m>v?v:m}function yl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ru(){var m=new Rc;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,qa||(qa=ea)),m}function mn(m,v,j){return m.a==0&&(m.a=v,m.sc=j,m.cb=0),0}function no(m,v,j){return 3<=j&&m[v+0]==157&&m[v+1]==1&&m[v+2]==42}function Ys(m,v){if(m==null)return 0;if(m.a=0,m.sc="OK",v==null)return mn(m,2,"null VP8Io passed to VP8GetHeaders()");var j=v.data,C=v.w,O=v.ha;if(4>O)return mn(m,7,"Truncated header.");var D=j[C+0]|j[C+1]<<8|j[C+2]<<16,U=m.Od;if(U.Rb=!(1&D),U.td=D>>1&7,U.yd=D>>4&1,U.ub=D>>5,3<U.td)return mn(m,3,"Incorrect keyframe parameters.");if(!U.yd)return mn(m,4,"Frame not displayable.");C+=3,O-=3;var W=m.Kc;if(U.Rb){if(7>O)return mn(m,7,"cannot parse picture header");if(!no(j,C,O))return mn(m,3,"Bad code word");W.c=16383&(j[C+4]<<8|j[C+3]),W.Td=j[C+4]>>6,W.i=16383&(j[C+6]<<8|j[C+5]),W.Ud=j[C+6]>>6,C+=7,O-=7,m.za=W.c+15>>4,m.Ub=W.i+15>>4,v.width=W.c,v.height=W.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((D=m.Pa).jb,0,255,D.jb.length),t((D=m.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,i(D.Zb,0,0,D.Zb.length),i(D.Lb,0,0,D.Lb)}if(U.ub>O)return mn(m,7,"bad partition length");ye(D=m.m,j,C,U.ub),C+=U.ub,O-=U.ub,U.Rb&&(W.Ld=fe(D),W.Kd=fe(D)),W=m.Qa;var Y,ee=m.Pa;if(t(D!=null),t(W!=null),W.Cb=fe(D),W.Cb){if(W.Bb=fe(D),fe(D)){for(W.Fb=fe(D),Y=0;4>Y;++Y)W.Zb[Y]=fe(D)?ie(D,7):0;for(Y=0;4>Y;++Y)W.Lb[Y]=fe(D)?ie(D,6):0}if(W.Bb)for(Y=0;3>Y;++Y)ee.jb[Y]=fe(D)?xe(D,8):255}else W.Bb=0;if(D.Ka)return mn(m,3,"cannot parse segment header");if((W=m.ed).zd=fe(D),W.Tb=xe(D,6),W.wb=xe(D,3),W.Pc=fe(D),W.Pc&&fe(D)){for(ee=0;4>ee;++ee)fe(D)&&(W.vd[ee]=ie(D,6));for(ee=0;4>ee;++ee)fe(D)&&(W.od[ee]=ie(D,6))}if(m.L=W.Tb==0?0:W.zd?1:2,D.Ka)return mn(m,3,"cannot parse filter header");var pe=O;if(O=Y=C,C=Y+pe,W=pe,m.Xb=(1<<xe(m.m,2))-1,pe<3*(ee=m.Xb))j=7;else{for(Y+=3*ee,W-=3*ee,pe=0;pe<ee;++pe){var ke=j[O+0]|j[O+1]<<8|j[O+2]<<16;ke>W&&(ke=W),ye(m.Jc[+pe],j,Y,ke),Y+=ke,W-=ke,O+=3}ye(m.Jc[+ee],j,Y,W),j=Y<C?0:5}if(j!=0)return mn(m,j,"cannot parse partitions");for(j=xe(Y=m.m,7),O=fe(Y)?ie(Y,4):0,C=fe(Y)?ie(Y,4):0,W=fe(Y)?ie(Y,4):0,ee=fe(Y)?ie(Y,4):0,Y=fe(Y)?ie(Y,4):0,pe=m.Qa,ke=0;4>ke;++ke){if(pe.Cb){var te=pe.Zb[ke];pe.Fb||(te+=j)}else{if(0<ke){m.pb[ke]=m.pb[0];continue}te=j}var we=m.pb[ke];we.Sc[0]=go[pn(te+O,127)],we.Sc[1]=nl[pn(te+0,127)],we.Eb[0]=2*go[pn(te+C,127)],we.Eb[1]=101581*nl[pn(te+W,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=go[pn(te+ee,117)],we.Qc[1]=nl[pn(te+Y,127)],we.lc=te+Y}if(!U.Rb)return mn(m,4,"Not a key frame.");for(fe(D),U=m.Pa,j=0;4>j;++j){for(O=0;8>O;++O)for(C=0;3>C;++C)for(W=0;11>W;++W)ee=me(D,Fu[j][O][C][W])?xe(D,8):Bc[j][O][C][W],U.Wc[j][O].Yb[C][W]=ee;for(O=0;17>O;++O)U.Xc[j][O]=U.Wc[j][ac[O]]}return m.kc=fe(D),m.kc&&(m.Bd=xe(D,8)),m.cb=1}function ea(m,v,j,C,O,D,U){var W=v[O].Yb[j];for(j=0;16>O;++O){if(!me(m,W[j+0]))return O;for(;!me(m,W[j+1]);)if(W=v[++O].Yb[0],j=0,O==16)return 16;var Y=v[O+1].Yb;if(me(m,W[j+2])){var ee=m,pe=0;if(me(ee,(te=W)[(ke=j)+3]))if(me(ee,te[ke+6])){for(W=0,ke=2*(pe=me(ee,te[ke+8]))+(te=me(ee,te[ke+9+pe])),pe=0,te=sc[ke];te[W];++W)pe+=pe+me(ee,te[W]);pe+=3+(8<<ke)}else me(ee,te[ke+7])?(pe=7+2*me(ee,165),pe+=me(ee,145)):pe=5+me(ee,159);else pe=me(ee,te[ke+4])?3+me(ee,te[ke+5]):2;W=Y[2]}else pe=1,W=Y[1];Y=U+ic[O],0>(ee=m).b&&Ee(ee);var ke,te=ee.b,we=(ke=ee.Ca>>1)-(ee.I>>te)>>31;--ee.b,ee.Ca+=we,ee.Ca|=1,ee.I-=(ke+1&we)<<te,D[Y]=((pe^we)-we)*C[(0<O)+0]}return 16}function Sn(m){var v=m.rb[m.sb-1];v.la=0,v.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function _s(m,v,j,C,O){O=m[v+j+32*C]+(O>>3),m[v+j+32*C]=-256&O?0>O?0:255:O}function cr(m,v,j,C,O,D){_s(m,v,0,j,C+O),_s(m,v,1,j,C+D),_s(m,v,2,j,C-D),_s(m,v,3,j,C-O)}function Ks(m){return(20091*m>>16)+m}function Xn(m,v,j,C){var O,D=0,U=o(16);for(O=0;4>O;++O){var W=m[v+0]+m[v+8],Y=m[v+0]-m[v+8],ee=(35468*m[v+4]>>16)-Ks(m[v+12]),pe=Ks(m[v+4])+(35468*m[v+12]>>16);U[D+0]=W+pe,U[D+1]=Y+ee,U[D+2]=Y-ee,U[D+3]=W-pe,D+=4,v++}for(O=D=0;4>O;++O)W=(m=U[D+0]+4)+U[D+8],Y=m-U[D+8],ee=(35468*U[D+4]>>16)-Ks(U[D+12]),_s(j,C,0,0,W+(pe=Ks(U[D+4])+(35468*U[D+12]>>16))),_s(j,C,1,0,Y+ee),_s(j,C,2,0,Y-ee),_s(j,C,3,0,W-pe),D++,C+=32}function zo(m,v,j,C){var O=m[v+0]+4,D=35468*m[v+4]>>16,U=Ks(m[v+4]),W=35468*m[v+1]>>16;cr(j,C,0,O+U,m=Ks(m[v+1]),W),cr(j,C,1,O+D,m,W),cr(j,C,2,O-D,m,W),cr(j,C,3,O-U,m,W)}function Vn(m,v,j,C,O){Xn(m,v,j,C),O&&Xn(m,v+16,j,C+4)}function Ai(m,v,j,C){Ia(m,v+0,j,C,1),Ia(m,v+32,j,C+128,1)}function rr(m,v,j,C){var O;for(m=m[v+0]+4,O=0;4>O;++O)for(v=0;4>v;++v)_s(j,C,v,O,m)}function hr(m,v,j,C){m[v+0]&&wr(m,v+0,j,C),m[v+16]&&wr(m,v+16,j,C+4),m[v+32]&&wr(m,v+32,j,C+128),m[v+48]&&wr(m,v+48,j,C+128+4)}function Sa(m,v,j,C){var O,D=o(16);for(O=0;4>O;++O){var U=m[v+0+O]+m[v+12+O],W=m[v+4+O]+m[v+8+O],Y=m[v+4+O]-m[v+8+O],ee=m[v+0+O]-m[v+12+O];D[0+O]=U+W,D[8+O]=U-W,D[4+O]=ee+Y,D[12+O]=ee-Y}for(O=0;4>O;++O)U=(m=D[0+4*O]+3)+D[3+4*O],W=D[1+4*O]+D[2+4*O],Y=D[1+4*O]-D[2+4*O],ee=m-D[3+4*O],j[C+0]=U+W>>3,j[C+16]=ee+Y>>3,j[C+32]=U-W>>3,j[C+48]=ee-Y>>3,C+=64}function _a(m,v,j){var C,O=v-32,D=ns,U=255-m[O-1];for(C=0;C<j;++C){var W,Y=D,ee=U+m[v-1];for(W=0;W<j;++W)m[v+W]=Y[ee+m[O+W]];v+=32}}function Xl(m,v){_a(m,v,4)}function Ql(m,v){_a(m,v,8)}function Tc(m,v){_a(m,v,16)}function Bo(m,v){var j;for(j=0;16>j;++j)n(m,v+32*j,m,v-32,16)}function $o(m,v){var j;for(j=16;0<j;--j)i(m,v,m[v-1],16),v+=32}function Wn(m,v,j){var C;for(C=0;16>C;++C)i(v,j+32*C,m,16)}function ta(m,v){var j,C=16;for(j=0;16>j;++j)C+=m[v-1+32*j]+m[v+j-32];Wn(C>>5,m,v)}function ks(m,v){var j,C=8;for(j=0;16>j;++j)C+=m[v-1+32*j];Wn(C>>4,m,v)}function Qn(m,v){var j,C=8;for(j=0;16>j;++j)C+=m[v+j-32];Wn(C>>4,m,v)}function so(m,v){Wn(128,m,v)}function Et(m,v,j){return m+2*v+j+2>>2}function Pi(m,v){var j,C=v-32;for(C=new Uint8Array([Et(m[C-1],m[C+0],m[C+1]),Et(m[C+0],m[C+1],m[C+2]),Et(m[C+1],m[C+2],m[C+3]),Et(m[C+2],m[C+3],m[C+4])]),j=0;4>j;++j)n(m,v+32*j,C,0,C.length)}function Zl(m,v){var j=m[v-1],C=m[v-1+32],O=m[v-1+64],D=m[v-1+96];Oe(m,v+0,16843009*Et(m[v-1-32],j,C)),Oe(m,v+32,16843009*Et(j,C,O)),Oe(m,v+64,16843009*Et(C,O,D)),Oe(m,v+96,16843009*Et(O,D,D))}function Vo(m,v){var j,C=4;for(j=0;4>j;++j)C+=m[v+j-32]+m[v-1+32*j];for(C>>=3,j=0;4>j;++j)i(m,v+32*j,C,4)}function _n(m,v){var j=m[v-1+0],C=m[v-1+32],O=m[v-1+64],D=m[v-1-32],U=m[v+0-32],W=m[v+1-32],Y=m[v+2-32],ee=m[v+3-32];m[v+0+96]=Et(C,O,m[v-1+96]),m[v+1+96]=m[v+0+64]=Et(j,C,O),m[v+2+96]=m[v+1+64]=m[v+0+32]=Et(D,j,C),m[v+3+96]=m[v+2+64]=m[v+1+32]=m[v+0+0]=Et(U,D,j),m[v+3+64]=m[v+2+32]=m[v+1+0]=Et(W,U,D),m[v+3+32]=m[v+2+0]=Et(Y,W,U),m[v+3+0]=Et(ee,Y,W)}function Li(m,v){var j=m[v+1-32],C=m[v+2-32],O=m[v+3-32],D=m[v+4-32],U=m[v+5-32],W=m[v+6-32],Y=m[v+7-32];m[v+0+0]=Et(m[v+0-32],j,C),m[v+1+0]=m[v+0+32]=Et(j,C,O),m[v+2+0]=m[v+1+32]=m[v+0+64]=Et(C,O,D),m[v+3+0]=m[v+2+32]=m[v+1+64]=m[v+0+96]=Et(O,D,U),m[v+3+32]=m[v+2+64]=m[v+1+96]=Et(D,U,W),m[v+3+64]=m[v+2+96]=Et(U,W,Y),m[v+3+96]=Et(W,Y,Y)}function io(m,v){var j=m[v-1+0],C=m[v-1+32],O=m[v-1+64],D=m[v-1-32],U=m[v+0-32],W=m[v+1-32],Y=m[v+2-32],ee=m[v+3-32];m[v+0+0]=m[v+1+64]=D+U+1>>1,m[v+1+0]=m[v+2+64]=U+W+1>>1,m[v+2+0]=m[v+3+64]=W+Y+1>>1,m[v+3+0]=Y+ee+1>>1,m[v+0+96]=Et(O,C,j),m[v+0+64]=Et(C,j,D),m[v+0+32]=m[v+1+96]=Et(j,D,U),m[v+1+32]=m[v+2+96]=Et(D,U,W),m[v+2+32]=m[v+3+96]=Et(U,W,Y),m[v+3+32]=Et(W,Y,ee)}function fi(m,v){var j=m[v+0-32],C=m[v+1-32],O=m[v+2-32],D=m[v+3-32],U=m[v+4-32],W=m[v+5-32],Y=m[v+6-32],ee=m[v+7-32];m[v+0+0]=j+C+1>>1,m[v+1+0]=m[v+0+64]=C+O+1>>1,m[v+2+0]=m[v+1+64]=O+D+1>>1,m[v+3+0]=m[v+2+64]=D+U+1>>1,m[v+0+32]=Et(j,C,O),m[v+1+32]=m[v+0+96]=Et(C,O,D),m[v+2+32]=m[v+1+96]=Et(O,D,U),m[v+3+32]=m[v+2+96]=Et(D,U,W),m[v+3+64]=Et(U,W,Y),m[v+3+96]=Et(W,Y,ee)}function Wo(m,v){var j=m[v-1+0],C=m[v-1+32],O=m[v-1+64],D=m[v-1+96];m[v+0+0]=j+C+1>>1,m[v+2+0]=m[v+0+32]=C+O+1>>1,m[v+2+32]=m[v+0+64]=O+D+1>>1,m[v+1+0]=Et(j,C,O),m[v+3+0]=m[v+1+32]=Et(C,O,D),m[v+3+32]=m[v+1+64]=Et(O,D,D),m[v+3+64]=m[v+2+64]=m[v+0+96]=m[v+1+96]=m[v+2+96]=m[v+3+96]=D}function ec(m,v){var j=m[v-1+0],C=m[v-1+32],O=m[v-1+64],D=m[v-1+96],U=m[v-1-32],W=m[v+0-32],Y=m[v+1-32],ee=m[v+2-32];m[v+0+0]=m[v+2+32]=j+U+1>>1,m[v+0+32]=m[v+2+64]=C+j+1>>1,m[v+0+64]=m[v+2+96]=O+C+1>>1,m[v+0+96]=D+O+1>>1,m[v+3+0]=Et(W,Y,ee),m[v+2+0]=Et(U,W,Y),m[v+1+0]=m[v+3+32]=Et(j,U,W),m[v+1+32]=m[v+3+64]=Et(C,j,U),m[v+1+64]=m[v+3+96]=Et(O,C,j),m[v+1+96]=Et(D,O,C)}function Zn(m,v){var j;for(j=0;8>j;++j)n(m,v+32*j,m,v-32,8)}function ao(m,v){var j;for(j=0;8>j;++j)i(m,v,m[v-1],8),v+=32}function Tn(m,v,j){var C;for(C=0;8>C;++C)i(v,j+32*C,m,8)}function Ho(m,v){var j,C=8;for(j=0;8>j;++j)C+=m[v+j-32]+m[v-1+32*j];Tn(C>>4,m,v)}function wl(m,v){var j,C=4;for(j=0;8>j;++j)C+=m[v+j-32];Tn(C>>3,m,v)}function tc(m,v){var j,C=4;for(j=0;8>j;++j)C+=m[v-1+32*j];Tn(C>>3,m,v)}function ka(m,v){Tn(128,m,v)}function Js(m,v,j){var C=m[v-j],O=m[v+0],D=3*(O-C)+Ls[1020+m[v-2*j]-m[v+j]],U=Xo[112+(D+4>>3)];m[v-j]=ns[255+C+Xo[112+(D+3>>3)]],m[v+0]=ns[255+O-U]}function Ea(m,v,j,C){var O=m[v+0],D=m[v+j];return Rs[255+m[v-2*j]-m[v-j]]>C||Rs[255+D-O]>C}function oo(m,v,j,C){return 4*Rs[255+m[v-j]-m[v+0]]+Rs[255+m[v-2*j]-m[v+j]]<=C}function Es(m,v,j,C,O){var D=m[v-3*j],U=m[v-2*j],W=m[v-j],Y=m[v+0],ee=m[v+j],pe=m[v+2*j],ke=m[v+3*j];return 4*Rs[255+W-Y]+Rs[255+U-ee]>C?0:Rs[255+m[v-4*j]-D]<=O&&Rs[255+D-U]<=O&&Rs[255+U-W]<=O&&Rs[255+ke-pe]<=O&&Rs[255+pe-ee]<=O&&Rs[255+ee-Y]<=O}function ra(m,v,j,C){var O=2*C+1;for(C=0;16>C;++C)oo(m,v+C,j,O)&&Js(m,v+C,j)}function Xs(m,v,j,C){var O=2*C+1;for(C=0;16>C;++C)oo(m,v+C*j,1,O)&&Js(m,v+C*j,1)}function Nl(m,v,j,C){var O;for(O=3;0<O;--O)ra(m,v+=4*j,j,C)}function Qs(m,v,j,C){var O;for(O=3;0<O;--O)Xs(m,v+=4,j,C)}function pi(m,v,j,C,O,D,U,W){for(D=2*D+1;0<O--;){if(Es(m,v,j,D,U))if(Ea(m,v,j,W))Js(m,v,j);else{var Y=m,ee=v,pe=j,ke=Y[ee-2*pe],te=Y[ee-pe],we=Y[ee+0],Ce=Y[ee+pe],Fe=Y[ee+2*pe],Pe=27*(Me=Ls[1020+3*(we-te)+Ls[1020+ke-Ce]])+63>>7,Le=18*Me+63>>7,Me=9*Me+63>>7;Y[ee-3*pe]=ns[255+Y[ee-3*pe]+Me],Y[ee-2*pe]=ns[255+ke+Le],Y[ee-pe]=ns[255+te+Pe],Y[ee+0]=ns[255+we-Pe],Y[ee+pe]=ns[255+Ce-Le],Y[ee+2*pe]=ns[255+Fe-Me]}v+=C}}function Wr(m,v,j,C,O,D,U,W){for(D=2*D+1;0<O--;){if(Es(m,v,j,D,U))if(Ea(m,v,j,W))Js(m,v,j);else{var Y=m,ee=v,pe=j,ke=Y[ee-pe],te=Y[ee+0],we=Y[ee+pe],Ce=Xo[112+(4+(Fe=3*(te-ke))>>3)],Fe=Xo[112+(Fe+3>>3)],Pe=Ce+1>>1;Y[ee-2*pe]=ns[255+Y[ee-2*pe]+Pe],Y[ee-pe]=ns[255+ke+Fe],Y[ee+0]=ns[255+te-Ce],Y[ee+pe]=ns[255+we-Pe]}v+=C}}function es(m,v,j,C,O,D){pi(m,v,j,1,16,C,O,D)}function kn(m,v,j,C,O,D){pi(m,v,1,j,16,C,O,D)}function jl(m,v,j,C,O,D){var U;for(U=3;0<U;--U)Wr(m,v+=4*j,j,1,16,C,O,D)}function w(m,v,j,C,O,D){var U;for(U=3;0<U;--U)Wr(m,v+=4,1,j,16,C,O,D)}function M(m,v,j,C,O,D,U,W){pi(m,v,O,1,8,D,U,W),pi(j,C,O,1,8,D,U,W)}function ne(m,v,j,C,O,D,U,W){pi(m,v,1,O,8,D,U,W),pi(j,C,1,O,8,D,U,W)}function de(m,v,j,C,O,D,U,W){Wr(m,v+4*O,O,1,8,D,U,W),Wr(j,C+4*O,O,1,8,D,U,W)}function Se(m,v,j,C,O,D,U,W){Wr(m,v+4,1,O,8,D,U,W),Wr(j,C+4,1,O,8,D,U,W)}function qe(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new lr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $e(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function et(){this.ua=0,this.Wa=new vt,this.vb=new vt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ve,this.yc=new z}function Rt(){this.xb=this.a=0,this.l=new yl,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new et,this.ab=0,this.gc=c(4,lt),this.Oc=0}function St(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new yl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ir(m,v,j,C,O,D,U){for(m=m==null?0:m[v+0],v=0;v<U;++v)O[D+v]=m+j[C+v]&255,m=O[D+v]}function Ft(m,v,j,C,O,D,U){var W;if(m==null)ir(null,null,j,C,O,D,U);else for(W=0;W<U;++W)O[D+W]=m[v+W]+j[C+W]&255}function tn(m,v,j,C,O,D,U){if(m==null)ir(null,null,j,C,O,D,U);else{var W,Y=m[v+0],ee=Y,pe=Y;for(W=0;W<U;++W)ee=pe+(Y=m[v+W])-ee,pe=j[C+W]+(-256&ee?0>ee?0:255:ee)&255,ee=Y,O[D+W]=pe}}function tr(m,v,j,C){var O=v.width,D=v.o;if(t(m!=null&&v!=null),0>j||0>=C||j+C>D)return null;if(!m.Cc){if(m.ga==null){var U;if(m.ga=new St,(U=m.ga==null)||(U=v.width*v.o,t(m.Gb.length==0),m.Gb=o(U),m.Uc=0,m.Gb==null?U=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,U=1),U=!U),!U){U=m.ga;var W=m.Fa,Y=m.P,ee=m.qc,pe=m.mb,ke=m.nb,te=Y+1,we=ee-1,Ce=U.l;if(t(W!=null&&pe!=null&&v!=null),Mn[0]=null,Mn[1]=ir,Mn[2]=Ft,Mn[3]=tn,U.ca=pe,U.tb=ke,U.c=v.width,U.i=v.height,t(0<U.c&&0<U.i),1>=ee)v=0;else if(U.$a=3&W[Y+0],U.Z=W[Y+0]>>2&3,U.Lc=W[Y+0]>>4&3,Y=W[Y+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||Y)v=0;else if(Ce.put=Lt,Ce.ac=ui,Ce.bc=Bs,Ce.ma=U,Ce.width=v.width,Ce.height=v.height,Ce.Da=v.Da,Ce.v=v.v,Ce.va=v.va,Ce.j=v.j,Ce.o=v.o,U.$a)e:{t(U.$a==1),v=Zi();t:for(;;){if(v==null){v=0;break e}if(t(U!=null),U.mc=v,v.c=U.c,v.i=U.i,v.l=U.l,v.l.ma=U,v.l.width=U.c,v.l.height=U.i,v.a=0,he(v.m,W,te,we),!hi(U.c,U.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Vs(v.s)?(U.ic=1,W=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(W),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(U.ic=0,v=ro(v,U.c)),!v))break t;v=1;break e}U.mc=null,v=0}else v=we>=U.c*U.i;U=!v}if(U)return null;m.ga.Lc!=1?m.Ga=0:C=D-j}t(m.ga!=null),t(j+C<=D);e:{if(v=(W=m.ga).c,D=W.l.o,W.$a==0){if(te=m.rc,we=m.Vc,Ce=m.Fa,Y=m.P+1+j*v,ee=m.mb,pe=m.nb+j*v,t(Y<=m.P+m.qc),W.Z!=0)for(t(Mn[W.Z]!=null),U=0;U<C;++U)Mn[W.Z](te,we,Ce,Y,ee,pe,v),te=ee,we=pe,pe+=v,Y+=v;else for(U=0;U<C;++U)n(ee,pe,Ce,Y,v),te=ee,we=pe,pe+=v,Y+=v;m.rc=te,m.Vc=we}else{if(t(W.mc!=null),v=j+C,t((U=W.mc)!=null),t(v<=U.i),U.C>=v)v=1;else if(W.ic||Ri(),W.ic){W=U.V,te=U.Ba,we=U.c;var Fe=U.i,Pe=(Ce=1,Y=U.$/we,ee=U.$%we,pe=U.m,ke=U.s,U.$),Le=we*Fe,Me=we*v,De=ke.wc,Ue=Pe<Me?on(ke,ee,Y):null;t(Pe<=Le),t(v<=Fe),t(Vs(ke));t:for(;;){for(;!pe.h&&Pe<Me;){if(ee&De||(Ue=on(ke,ee,Y)),t(Ue!=null),be(pe),256>(Fe=gr(Ue.G[0],Ue.H[0],pe)))W[te+Pe]=Fe,++Pe,++ee>=we&&(ee=0,++Y<=v&&!(Y%16)&&jn(U,Y));else{if(!(280>Fe)){Ce=0;break t}Fe=qr(Fe-256,pe);var ut,st=gr(Ue.G[4],Ue.H[4],pe);if(be(pe),!(Pe>=(st=Ss(we,st=qr(st,pe)))&&Le-Pe>=Fe)){Ce=0;break t}for(ut=0;ut<Fe;++ut)W[te+Pe+ut]=W[te+Pe+ut-st];for(Pe+=Fe,ee+=Fe;ee>=we;)ee-=we,++Y<=v&&!(Y%16)&&jn(U,Y);Pe<Me&&ee&De&&(Ue=on(ke,ee,Y))}t(pe.h==le(pe))}jn(U,Y>v?v:Y);break t}!Ce||pe.h&&Pe<Le?(Ce=0,U.a=pe.h?5:3):U.$=Pe,v=Ce}else v=di(U,U.V,U.Ba,U.c,U.i,v,Mo);if(!v){C=0;break e}}j+C>=D&&(m.Cc=1),C=1}if(!C)return null;if(m.Cc&&((C=m.ga)!=null&&(C.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+j*O}function ln(m,v,j,C,O,D){for(;0<O--;){var U,W=m,Y=v+(j?1:0),ee=m,pe=v+(j?0:3);for(U=0;U<C;++U){var ke=ee[pe+4*U];ke!=255&&(ke*=32897,W[Y+4*U+0]=W[Y+4*U+0]*ke>>23,W[Y+4*U+1]=W[Y+4*U+1]*ke>>23,W[Y+4*U+2]=W[Y+4*U+2]*ke>>23)}v+=D}}function ur(m,v,j,C,O){for(;0<C--;){var D;for(D=0;D<j;++D){var U=m[v+2*D+0],W=15&(ee=m[v+2*D+1]),Y=4369*W,ee=(240&ee|ee>>4)*Y>>16;m[v+2*D+0]=(240&U|U>>4)*Y>>16&240|(15&U|U<<4)*Y>>16>>4&15,m[v+2*D+1]=240&ee|W}v+=O}}function En(m,v,j,C,O,D,U,W){var Y,ee,pe=255;for(ee=0;ee<O;++ee){for(Y=0;Y<C;++Y){var ke=m[v+Y];D[U+4*Y]=ke,pe&=ke}v+=j,U+=W}return pe!=255}function na(m,v,j,C,O){var D;for(D=0;D<O;++D)j[C+D]=m[v+D]>>8}function Ri(){Ps=ln,la=ur,Di=En,rc=na}function On(m,v,j){V[m]=function(C,O,D,U,W,Y,ee,pe,ke,te,we,Ce,Fe,Pe,Le,Me,De){var Ue,ut=De-1>>1,st=W[Y+0]|ee[pe+0]<<16,Xt=ke[te+0]|we[Ce+0]<<16;t(C!=null);var dt=3*st+Xt+131074>>2;for(v(C[O+0],255&dt,dt>>16,Fe,Pe),D!=null&&(dt=3*Xt+st+131074>>2,v(D[U+0],255&dt,dt>>16,Le,Me)),Ue=1;Ue<=ut;++Ue){var dr=W[Y+Ue]|ee[pe+Ue]<<16,un=ke[te+Ue]|we[Ce+Ue]<<16,Zt=st+dr+Xt+un+524296,it=Zt+2*(dr+Xt)>>3;dt=it+st>>1,st=(Zt=Zt+2*(st+un)>>3)+dr>>1,v(C[O+2*Ue-1],255&dt,dt>>16,Fe,Pe+(2*Ue-1)*j),v(C[O+2*Ue-0],255&st,st>>16,Fe,Pe+(2*Ue-0)*j),D!=null&&(dt=Zt+Xt>>1,st=it+un>>1,v(D[U+2*Ue-1],255&dt,dt>>16,Le,Me+(2*Ue-1)*j),v(D[U+2*Ue+0],255&st,st>>16,Le,Me+(2*Ue+0)*j)),st=dr,Xt=un}1&De||(dt=3*st+Xt+131074>>2,v(C[O+De-1],255&dt,dt>>16,Fe,Pe+(De-1)*j),D!=null&&(dt=3*Xt+st+131074>>2,v(D[U+De-1],255&dt,dt>>16,Le,Me+(De-1)*j)))}}function lo(){is[Qo]=Du,is[ji]=ca,is[Dc]=qu,is[Zo]=bo,is[Cl]=Ua,is[Cr]=sl,is[Al]=oc,is[xo]=ca,is[Fa]=bo,is[el]=Ua,is[tl]=sl}function vr(m){return m&-16384?0>m?0:255:m>>ua}function mi(m,v){return vr((19077*m>>8)+(26149*v>>8)-14234)}function Ti(m,v,j){return vr((19077*m>>8)-(6419*v>>8)-(13320*j>>8)+8708)}function Ca(m,v){return vr((19077*m>>8)+(33050*v>>8)-17685)}function Aa(m,v,j,C,O){C[O+0]=mi(m,j),C[O+1]=Ti(m,v,j),C[O+2]=Ca(m,v)}function cn(m,v,j,C,O){C[O+0]=Ca(m,v),C[O+1]=Ti(m,v,j),C[O+2]=mi(m,j)}function Pa(m,v,j,C,O){var D=Ti(m,v,j);v=D<<3&224|Ca(m,v)>>3,C[O+0]=248&mi(m,j)|D>>5,C[O+1]=v}function La(m,v,j,C,O){var D=240&Ca(m,v)|15;C[O+0]=240&mi(m,j)|Ti(m,v,j)>>4,C[O+1]=D}function Sl(m,v,j,C,O){C[O+0]=255,Aa(m,v,j,C,O+1)}function co(m,v,j,C,O){cn(m,v,j,C,O),C[O+3]=255}function ts(m,v,j,C,O){Aa(m,v,j,C,O),C[O+3]=255}function xi(m,v,j){V[m]=function(C,O,D,U,W,Y,ee,pe,ke){for(var te=pe+(-2&ke)*j;pe!=te;)v(C[O+0],D[U+0],W[Y+0],ee,pe),v(C[O+1],D[U+0],W[Y+0],ee,pe+j),O+=2,++U,++Y,pe+=2*j;1&ke&&v(C[O+0],D[U+0],W[Y+0],ee,pe)}}function Oi(m,v,j){return j==0?m==0?v==0?6:5:v==0?4:0:j}function sa(m,v,j,C,O){switch(m>>>30){case 3:Ia(v,j,C,O,0);break;case 2:br(v,j,C,O);break;case 1:wr(v,j,C,O)}}function Cs(m,v){var j,C,O=v.M,D=v.Nb,U=m.oc,W=m.pc+40,Y=m.oc,ee=m.pc+584,pe=m.oc,ke=m.pc+600;for(j=0;16>j;++j)U[W+32*j-1]=129;for(j=0;8>j;++j)Y[ee+32*j-1]=129,pe[ke+32*j-1]=129;for(0<O?U[W-1-32]=Y[ee-1-32]=pe[ke-1-32]=129:(i(U,W-32-1,127,21),i(Y,ee-32-1,127,9),i(pe,ke-32-1,127,9)),C=0;C<m.za;++C){var te=v.ya[v.aa+C];if(0<C){for(j=-1;16>j;++j)n(U,W+32*j-4,U,W+32*j+12,4);for(j=-1;8>j;++j)n(Y,ee+32*j-4,Y,ee+32*j+4,4),n(pe,ke+32*j-4,pe,ke+32*j+4,4)}var we=m.Gd,Ce=m.Hd+C,Fe=te.ad,Pe=te.Hc;if(0<O&&(n(U,W-32,we[Ce].y,0,16),n(Y,ee-32,we[Ce].f,0,8),n(pe,ke-32,we[Ce].ea,0,8)),te.Za){var Le=U,Me=W-32+16;for(0<O&&(C>=m.za-1?i(Le,Me,we[Ce].y[15],4):n(Le,Me,we[Ce+1].y,0,4)),j=0;4>j;j++)Le[Me+128+j]=Le[Me+256+j]=Le[Me+384+j]=Le[Me+0+j];for(j=0;16>j;++j,Pe<<=2)Le=U,Me=W+Xe[j],Ts[te.Ob[j]](Le,Me),sa(Pe,Fe,16*+j,Le,Me)}else if(Le=Oi(C,O,te.Ob[0]),Hn[Le](U,W),Pe!=0)for(j=0;16>j;++j,Pe<<=2)sa(Pe,Fe,16*+j,U,W+Xe[j]);for(j=te.Gc,Le=Oi(C,O,te.Dd),ss[Le](Y,ee),ss[Le](pe,ke),Pe=Fe,Le=Y,Me=ee,255&(te=0|j)&&(170&te?rs(Pe,256,Le,Me):Rr(Pe,256,Le,Me)),te=pe,Pe=ke,255&(j>>=8)&&(170&j?rs(Fe,320,te,Pe):Rr(Fe,320,te,Pe)),O<m.Ub-1&&(n(we[Ce].y,0,U,W+480,16),n(we[Ce].f,0,Y,ee+224,8),n(we[Ce].ea,0,pe,ke+224,8)),j=8*D*m.B,we=m.sa,Ce=m.ta+16*C+16*D*m.R,Fe=m.qa,te=m.ra+8*C+j,Pe=m.Ha,Le=m.Ia+8*C+j,j=0;16>j;++j)n(we,Ce+j*m.R,U,W+32*j,16);for(j=0;8>j;++j)n(Fe,te+j*m.B,Y,ee+32*j,8),n(Pe,Le+j*m.B,pe,ke+32*j,8)}}function uo(m,v,j,C,O,D,U,W,Y){var ee=[0],pe=[0],ke=0,te=Y!=null?Y.kd:0,we=Y??new $e;if(m==null||12>j)return 7;we.data=m,we.w=v,we.ha=j,v=[v],j=[j],we.gb=[we.gb];e:{var Ce=v,Fe=j,Pe=we.gb;if(t(m!=null),t(Fe!=null),t(Pe!=null),Pe[0]=0,12<=Fe[0]&&!r(m,Ce[0],"RIFF")){if(r(m,Ce[0]+8,"WEBP")){Pe=3;break e}var Le=ze(m,Ce[0]+4);if(12>Le||4294967286<Le){Pe=3;break e}if(te&&Le>Fe[0]-8){Pe=7;break e}Pe[0]=Le,Ce[0]+=12,Fe[0]-=12}Pe=0}if(Pe!=0)return Pe;for(Le=0<we.gb[0],j=j[0];;){e:{var Me=m;Fe=v,Pe=j;var De=ee,Ue=pe,ut=Ce=[0];if((dt=ke=[ke])[0]=0,8>Pe[0])Pe=7;else{if(!r(Me,Fe[0],"VP8X")){if(ze(Me,Fe[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var st=ze(Me,Fe[0]+8),Xt=1+Ve(Me,Fe[0]+12);if(2147483648<=Xt*(Me=1+Ve(Me,Fe[0]+15))){Pe=3;break e}ut!=null&&(ut[0]=st),De!=null&&(De[0]=Xt),Ue!=null&&(Ue[0]=Me),Fe[0]+=18,Pe[0]-=18,dt[0]=1}Pe=0}}if(ke=ke[0],Ce=Ce[0],Pe!=0)return Pe;if(Fe=!!(2&Ce),!Le&&ke)return 3;if(D!=null&&(D[0]=!!(16&Ce)),U!=null&&(U[0]=Fe),W!=null&&(W[0]=0),U=ee[0],Ce=pe[0],ke&&Fe&&Y==null){Pe=0;break}if(4>j){Pe=7;break}if(Le&&ke||!Le&&!ke&&!r(m,v[0],"ALPH")){j=[j],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{st=m,Pe=v,Le=j;var dt=we.gb;De=we.na,Ue=we.P,ut=we.Sa,Xt=22,t(st!=null),t(Le!=null),Me=Pe[0];var dr=Le[0];for(t(De!=null),t(ut!=null),De[0]=null,Ue[0]=null,ut[0]=0;;){if(Pe[0]=Me,Le[0]=dr,8>dr){Pe=7;break e}var un=ze(st,Me+4);if(4294967286<un){Pe=3;break e}var Zt=8+un+1&-2;if(Xt+=Zt,0<dt&&Xt>dt){Pe=3;break e}if(!r(st,Me,"VP8 ")||!r(st,Me,"VP8L")){Pe=0;break e}if(dr[0]<Zt){Pe=7;break e}r(st,Me,"ALPH")||(De[0]=st,Ue[0]=Me+8,ut[0]=un),Me+=Zt,dr-=Zt}}if(j=j[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],Pe!=0)break}j=[j],we.Ja=[we.Ja],we.xa=[we.xa];e:if(dt=m,Pe=v,Le=j,De=we.gb[0],Ue=we.Ja,ut=we.xa,st=Pe[0],Me=!r(dt,st,"VP8 "),Xt=!r(dt,st,"VP8L"),t(dt!=null),t(Le!=null),t(Ue!=null),t(ut!=null),8>Le[0])Pe=7;else{if(Me||Xt){if(dt=ze(dt,st+4),12<=De&&dt>De-12){Pe=3;break e}if(te&&dt>Le[0]-8){Pe=7;break e}Ue[0]=dt,Pe[0]+=8,Le[0]-=8,ut[0]=Xt}else ut[0]=5<=Le[0]&&dt[st+0]==47&&!(dt[st+4]>>5),Ue[0]=Le[0];Pe=0}if(j=j[0],we.Ja=we.Ja[0],we.xa=we.xa[0],v=v[0],Pe!=0)break;if(4294967286<we.Ja)return 3;if(W==null||Fe||(W[0]=we.xa?2:1),U=[U],Ce=[Ce],we.xa){if(5>j){Pe=7;break}W=U,te=Ce,Fe=D,m==null||5>j?m=0:5<=j&&m[v+0]==47&&!(m[v+4]>>5)?(Le=[0],dt=[0],De=[0],he(Ue=new J,m,v,j),Nn(Ue,Le,dt,De)?(W!=null&&(W[0]=Le[0]),te!=null&&(te[0]=dt[0]),Fe!=null&&(Fe[0]=De[0]),m=1):m=0):m=0}else{if(10>j){Pe=7;break}W=Ce,m==null||10>j||!no(m,v+3,j-3)?m=0:(te=m[v+0]|m[v+1]<<8|m[v+2]<<16,Fe=16383&(m[v+7]<<8|m[v+6]),m=16383&(m[v+9]<<8|m[v+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=we.Ja||!Fe||!m?m=0:(U&&(U[0]=Fe),W&&(W[0]=m),m=1))}if(!m||(U=U[0],Ce=Ce[0],ke&&(ee[0]!=U||pe[0]!=Ce)))return 3;Y!=null&&(Y[0]=we,Y.offset=v-Y.w,t(4294967286>v-Y.w),t(Y.offset==Y.ha-j));break}return Pe==0||Pe==7&&ke&&Y==null?(D!=null&&(D[0]|=we.na!=null&&0<we.na.length),C!=null&&(C[0]=U),O!=null&&(O[0]=Ce),0):Pe}function Go(m,v,j){var C=v.width,O=v.height,D=0,U=0,W=C,Y=O;if(v.Da=m!=null&&0<m.Da,v.Da&&(W=m.cd,Y=m.bd,D=m.v,U=m.j,11>j||(D&=-2,U&=-2),0>D||0>U||0>=W||0>=Y||D+W>C||U+Y>O))return 0;if(v.v=D,v.j=U,v.va=D+W,v.o=U+Y,v.U=W,v.T=Y,v.da=m!=null&&0<m.da,v.da){if(!tt(W,Y,j=[m.ib],D=[m.hb]))return 0;v.ib=j[0],v.hb=D[0]}return v.ob=m!=null&&m.ob,v.Kb=m==null||!m.Sd,v.da&&(v.ob=v.ib<3*C/4&&v.hb<3*O/4,v.Kb=0),1}function _l(m){if(m==null)return 2;if(11>m.S){var v=m.f.RGBA;v.fb+=(m.height-1)*v.A,v.A=-v.A}else v=m.f.kb,m=m.height,v.O+=(m-1)*v.fa,v.fa=-v.fa,v.N+=(m-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(m-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(m-1)*v.lb,v.lb=-v.lb);return 0}function Ra(m,v,j,C){if(C==null||0>=m||0>=v)return 2;if(j!=null){if(j.Da){var O=j.cd,D=j.bd,U=-2&j.v,W=-2&j.j;if(0>U||0>W||0>=O||0>=D||U+O>m||W+D>v)return 2;m=O,v=D}if(j.da){if(!tt(m,v,O=[j.ib],D=[j.hb]))return 2;m=O[0],v=D[0]}}C.width=m,C.height=v;e:{var Y=C.width,ee=C.height;if(m=C.S,0>=Y||0>=ee||!(m>=Qo&&13>m))m=2;else{if(0>=C.Rd&&C.sd==null){U=D=O=v=0;var pe=(W=Y*_t[m])*ee;if(11>m||(D=(ee+1)/2*(v=(Y+1)/2),m==12&&(U=(O=Y)*ee)),(ee=o(pe+2*D+U))==null){m=1;break e}C.sd=ee,11>m?((Y=C.f.RGBA).eb=ee,Y.fb=0,Y.A=W,Y.size=pe):((Y=C.f.kb).y=ee,Y.O=0,Y.fa=W,Y.Fd=pe,Y.f=ee,Y.N=0+pe,Y.Ab=v,Y.Cd=D,Y.ea=ee,Y.W=0+pe+D,Y.Db=v,Y.Ed=D,m==12&&(Y.F=ee,Y.J=0+pe+2*D),Y.Tc=U,Y.lb=O)}if(v=1,O=C.S,D=C.width,U=C.height,O>=Qo&&13>O)if(11>O)m=C.f.RGBA,v&=(W=Math.abs(m.A))*(U-1)+D<=m.size,v&=W>=D*_t[O],v&=m.eb!=null;else{m=C.f.kb,W=(D+1)/2,pe=(U+1)/2,Y=Math.abs(m.fa),ee=Math.abs(m.Ab);var ke=Math.abs(m.Db),te=Math.abs(m.lb),we=te*(U-1)+D;v&=Y*(U-1)+D<=m.Fd,v&=ee*(pe-1)+W<=m.Cd,v=(v&=ke*(pe-1)+W<=m.Ed)&Y>=D&ee>=W&ke>=W,v&=m.y!=null,v&=m.f!=null,v&=m.ea!=null,O==12&&(v&=te>=D,v&=we<=m.Tc,v&=m.F!=null)}else v=0;m=v?0:2}}return m!=0||j!=null&&j.fd&&(m=_l(C)),m}var gi=64,As=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zs=24,ho=32,Ii=8,ia=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),V.Predictor0=function(){return 4278190080},V.Predictor1=function(m){return m},V.Predictor2=function(m,v,j){return v[j+0]},V.Predictor3=function(m,v,j){return v[j+1]},V.Predictor4=function(m,v,j){return v[j-1]},V.Predictor5=function(m,v,j){return xt(xt(m,v[j+1]),v[j+0])},V.Predictor6=function(m,v,j){return xt(m,v[j-1])},V.Predictor7=function(m,v,j){return xt(m,v[j+0])},V.Predictor8=function(m,v,j){return xt(v[j-1],v[j+0])},V.Predictor9=function(m,v,j){return xt(v[j+0],v[j+1])},V.Predictor10=function(m,v,j){return xt(xt(m,v[j-1]),xt(v[j+0],v[j+1]))},V.Predictor11=function(m,v,j){var C=v[j+0];return 0>=$t(C>>24&255,m>>24&255,(v=v[j-1])>>24&255)+$t(C>>16&255,m>>16&255,v>>16&255)+$t(C>>8&255,m>>8&255,v>>8&255)+$t(255&C,255&m,255&v)?C:m},V.Predictor12=function(m,v,j){var C=v[j+0];return(yr((m>>24&255)+(C>>24&255)-((v=v[j-1])>>24&255))<<24|yr((m>>16&255)+(C>>16&255)-(v>>16&255))<<16|yr((m>>8&255)+(C>>8&255)-(v>>8&255))<<8|yr((255&m)+(255&C)-(255&v)))>>>0},V.Predictor13=function(m,v,j){var C=v[j-1];return(nr((m=xt(m,v[j+0]))>>24&255,C>>24&255)<<24|nr(m>>16&255,C>>16&255)<<16|nr(m>>8&255,C>>8&255)<<8|nr(255&m,255&C))>>>0};var Ta=V.PredictorAdd0;V.PredictorAdd1=sr,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var Mi=V.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Hr,aa=V.ColorIndexInverseTransform,vi=V.MapARGB,bi=V.VP8LColorIndexInverseTransformAlpha,fo=V.MapAlpha,po=V.VP8LPredictorsAdd=[];po.length=16,(V.VP8LPredictors=[]).length=16,(V.VP8LPredictorsAdd_C=[]).length=16,(V.VP8LPredictors_C=[]).length=16;var Fi,Yo,yi,mo,wi,Oa,In,Ia,br,rs,wr,Rr,rn,xn,ps,Ko,kl,oa,Ni,Ma,Jo,Oc,El,_e,Ps,la,Di,rc,Tu=o(511),nc=o(2041),Ic=o(225),Mc=o(767),Fc=0,Ls=nc,Xo=Ic,ns=Mc,Rs=Tu,Qo=0,ji=1,Dc=2,Zo=3,Cl=4,Cr=5,Al=6,xo=7,Fa=8,el=9,tl=10,rl=[2,3,7],Pl=[3,3,11],Da=[280,256,256,256,40],qc=[0,1,1,1,0],Ou=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Iu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Uc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ll=8,go=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],nl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qa=null,sc=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ic=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],zc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Bc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Mu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Fu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ac=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Hn=[],Ts=[],ss=[],Si=1,vo=2,Mn=[],is=[];On("UpsampleRgbLinePair",Aa,3),On("UpsampleBgrLinePair",cn,3),On("UpsampleRgbaLinePair",ts,4),On("UpsampleBgraLinePair",co,4),On("UpsampleArgbLinePair",Sl,4),On("UpsampleRgba4444LinePair",La,2),On("UpsampleRgb565LinePair",Pa,2);var Du=V.UpsampleRgbLinePair,qu=V.UpsampleBgrLinePair,ca=V.UpsampleRgbaLinePair,bo=V.UpsampleBgraLinePair,Ua=V.UpsampleArgbLinePair,sl=V.UpsampleRgba4444LinePair,oc=V.UpsampleRgb565LinePair,qi=16,ei=1<<qi-1,Nr=-227,Sr=482,ua=6,Cn=0,as=o(256),za=o(256),yo=o(256),os=o(256),$=o(Sr-Nr),Ae=o(Sr-Nr);xi("YuvToRgbRow",Aa,3),xi("YuvToBgrRow",cn,3),xi("YuvToRgbaRow",ts,4),xi("YuvToBgraRow",co,4),xi("YuvToArgbRow",Sl,4),xi("YuvToRgba4444Row",La,2),xi("YuvToRgb565Row",Pa,2);var Xe=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nt=[0,2,8],Dt=[8,7,6,4,4,2,2,2,1,1,1,1],Bt=1;this.WebPDecodeRGBA=function(m,v,j,C,O){var D=ji,U=new qe,W=new Yt;U.ba=W,W.S=D,W.width=[W.width],W.height=[W.height];var Y=W.width,ee=W.height,pe=new At;if(pe==null||m==null)var ke=2;else t(pe!=null),ke=uo(m,v,j,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(ke!=0?Y=0:(Y!=null&&(Y[0]=pe.width[0]),ee!=null&&(ee[0]=pe.height[0]),Y=1),Y){W.width=W.width[0],W.height=W.height[0],C!=null&&(C[0]=W.width),O!=null&&(O[0]=W.height);e:{if(C=new yl,(O=new $e).data=m,O.w=v,O.ha=j,O.kd=1,v=[0],t(O!=null),((m=uo(O.data,O.w,O.ha,null,null,null,v,null,O))==0||m==7)&&v[0]&&(m=4),(v=m)==0){if(t(U!=null),C.data=O.data,C.w=O.w+O.offset,C.ha=O.ha-O.offset,C.put=Lt,C.ac=ui,C.bc=Bs,C.ma=U,O.xa){if((m=Zi())==null){U=1;break e}if((function(te,we){var Ce=[0],Fe=[0],Pe=[0];t:for(;;){if(te==null)return 0;if(we==null)return te.a=2,0;if(te.l=we,te.a=0,he(te.m,we.data,we.w,we.ha),!Nn(te.m,Ce,Fe,Pe)){te.a=3;break t}if(te.xb=vo,we.width=Ce[0],we.height=Fe[0],!hi(Ce[0],Fe[0],1,te,null))break t;return 1}return t(te.a!=0),0})(m,C)){if(C=(v=Ra(C.width,C.height,U.Oa,U.ba))==0){t:{C=m;r:for(;;){if(C==null){C=0;break t}if(t(C.s.yc!=null),t(C.s.Ya!=null),t(0<C.s.Wb),t((j=C.l)!=null),t((O=j.ma)!=null),C.xb!=0){if(C.ca=O.ba,C.tb=O.tb,t(C.ca!=null),!Go(O.Oa,j,Zo)){C.a=2;break r}if(!ro(C,j.width)||j.da)break r;if((j.da||kt(C.ca.S))&&Ri(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&Ri()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!K(C.s.vb,C.s.Wa.Xa)){C.a=1;break r}C.xb=0}if(!di(C,C.V,C.Ba,C.c,C.i,j.o,$s))break r;O.Dc=C.Ma,C=1;break t}t(C.a!=0),C=0}C=!C}C&&(v=m.a)}else v=m.a}else{if((m=new Ru)==null){U=1;break e}if(m.Fa=O.na,m.P=O.P,m.qc=O.Sa,Ys(m,C)){if((v=Ra(C.width,C.height,U.Oa,U.ba))==0){if(m.Aa=0,j=U.Oa,t((O=m)!=null),j!=null){if(0<(Y=0>(Y=j.Md)?0:100<Y?255:255*Y/100)){for(ee=pe=0;4>ee;++ee)12>(ke=O.pb[ee]).lc&&(ke.ia=Y*Dt[0>ke.lc?0:ke.lc]>>3),pe|=ke.ia;pe&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=j.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(te,we){if(te==null)return 0;if(we==null)return mn(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!Ys(te,we))return 0;if(t(te.cb),we.ac==null||we.ac(we)){we.ob&&(te.L=0);var Ce=nt[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=we.v-Ce>>4,te.zb=we.j-Ce>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=we.o+15+Ce>>4,te.Hb=we.va+15+Ce>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var Fe=te.ed;for(Ce=0;4>Ce;++Ce){var Pe;if(te.Qa.Cb){var Le=te.Qa.Lb[Ce];te.Qa.Fb||(Le+=Fe.Tb)}else Le=Fe.Tb;for(Pe=0;1>=Pe;++Pe){var Me=te.gd[Ce][Pe],De=Le;if(Fe.Pc&&(De+=Fe.vd[0],Pe&&(De+=Fe.od[0])),0<(De=0>De?0:63<De?63:De)){var Ue=De;0<Fe.wb&&(Ue=4<Fe.wb?Ue>>2:Ue>>1)>9-Fe.wb&&(Ue=9-Fe.wb),1>Ue&&(Ue=1),Me.dd=Ue,Me.tc=2*De+Ue,Me.ld=40<=De?2:15<=De?1:0}else Me.tc=0;Me.La=Pe}}}Ce=0}else mn(te,6,"Frame setup failed"),Ce=te.a;if(Ce=Ce==0){if(Ce){te.$c=0,0<te.Aa||(te.Ic=Bt);t:{Ce=te.Ic,Fe=4*(Ue=te.za);var ut=32*Ue,st=Ue+1,Xt=0<te.L?Ue*(0<te.Aa?2:1):0,dt=(te.Aa==2?2:1)*Ue;if((Me=Fe+832+(Pe=3*(16*Ce+nt[te.L])/2*ut)+(Le=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=Me)Ce=0;else{if(Me>te.Vb){if(te.Vb=0,te.Ec=o(Me),te.Fc=0,te.Ec==null){Ce=mn(te,1,"no memory during frame initialization.");break t}te.Vb=Me}Me=te.Ec,De=te.Fc,te.Ac=Me,te.Bc=De,De+=Fe,te.Gd=c(ut,fs),te.Hd=0,te.rb=c(st+1,Na),te.sb=1,te.wa=Xt?c(Xt,Gs):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=Ue),t(!0),te.oc=Me,te.pc=De,De+=832,te.ya=c(dt,ja),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=Ue),te.R=16*Ue,te.B=8*Ue,Ue=(ut=nt[te.L])*te.R,ut=ut/2*te.B,te.sa=Me,te.ta=De+Ue,te.qa=te.sa,te.ra=te.ta+16*Ce*te.R+ut,te.Ha=te.qa,te.Ia=te.ra+8*Ce*te.B+ut,te.$c=0,De+=Pe,te.mb=Le?Me:null,te.nb=Le?De:null,t(De+Le<=te.Fc+te.Vb),Sn(te),i(te.Ac,te.Bc,0,Fe),Ce=1}}if(Ce){if(we.ka=0,we.y=te.sa,we.O=te.ta,we.f=te.qa,we.N=te.ra,we.ea=te.Ha,we.Vd=te.Ia,we.fa=te.R,we.Rc=te.B,we.F=null,we.J=0,!Fc){for(Ce=-255;255>=Ce;++Ce)Tu[255+Ce]=0>Ce?-Ce:Ce;for(Ce=-1020;1020>=Ce;++Ce)nc[1020+Ce]=-128>Ce?-128:127<Ce?127:Ce;for(Ce=-112;112>=Ce;++Ce)Ic[112+Ce]=-16>Ce?-16:15<Ce?15:Ce;for(Ce=-255;510>=Ce;++Ce)Mc[255+Ce]=0>Ce?0:255<Ce?255:Ce;Fc=1}In=Sa,Ia=Vn,rs=Ai,wr=rr,Rr=hr,br=zo,rn=es,xn=kn,ps=M,Ko=ne,kl=jl,oa=w,Ni=de,Ma=Se,Jo=ra,Oc=Xs,El=Nl,_e=Qs,Ts[0]=Vo,Ts[1]=Xl,Ts[2]=Pi,Ts[3]=Zl,Ts[4]=_n,Ts[5]=io,Ts[6]=Li,Ts[7]=fi,Ts[8]=ec,Ts[9]=Wo,Hn[0]=ta,Hn[1]=Tc,Hn[2]=Bo,Hn[3]=$o,Hn[4]=ks,Hn[5]=Qn,Hn[6]=so,ss[0]=Ho,ss[1]=Ql,ss[2]=Zn,ss[3]=ao,ss[4]=tc,ss[5]=wl,ss[6]=ka,Ce=1}else Ce=0}Ce&&(Ce=(function(dr,un){for(dr.M=0;dr.M<dr.Va;++dr.M){var Zt,it=dr.Jc[dr.M&dr.Xb],Je=dr.m,gn=dr;for(Zt=0;Zt<gn.za;++Zt){var Pt=Je,or=gn,Ir=or.Ac,dn=or.Bc+4*Zt,ls=or.zc,Gr=or.ya[or.aa+Zt];if(or.Qa.Bb?Gr.$b=me(Pt,or.Pa.jb[0])?2+me(Pt,or.Pa.jb[2]):me(Pt,or.Pa.jb[1]):Gr.$b=0,or.kc&&(Gr.Ad=me(Pt,or.Bd)),Gr.Za=!me(Pt,145)+0,Gr.Za){var Gn=Gr.Ob,cs=0;for(or=0;4>or;++or){var Yr,Kt=ls[0+or];for(Yr=0;4>Yr;++Yr){Kt=Mu[Ir[dn+Yr]][Kt];for(var fr=zc[me(Pt,Kt[0])];0<fr;)fr=zc[2*fr+me(Pt,Kt[fr])];Kt=-fr,Ir[dn+Yr]=Kt}n(Gn,cs,Ir,dn,4),cs+=4,ls[0+or]=Kt}}else Kt=me(Pt,156)?me(Pt,128)?1:3:me(Pt,163)?2:0,Gr.Ob[0]=Kt,i(Ir,dn,Kt,4),i(ls,0,Kt,4);Gr.Dd=me(Pt,142)?me(Pt,114)?me(Pt,183)?1:3:2:0}if(gn.m.Ka)return mn(dr,7,"Premature end-of-partition0 encountered.");for(;dr.ja<dr.za;++dr.ja){if(gn=it,Pt=(Je=dr).rb[Je.sb-1],Ir=Je.rb[Je.sb+Je.ja],Zt=Je.ya[Je.aa+Je.ja],dn=Je.kc?Zt.Ad:0)Pt.la=Ir.la=0,Zt.Za||(Pt.Na=Ir.Na=0),Zt.Hc=0,Zt.Gc=0,Zt.ia=0;else{var Kr,Ar;if(Pt=Ir,Ir=gn,dn=Je.Pa.Xc,ls=Je.ya[Je.aa+Je.ja],Gr=Je.pb[ls.$b],or=ls.ad,Gn=0,cs=Je.rb[Je.sb-1],Kt=Yr=0,i(or,Gn,0,384),ls.Za)var Br=0,Yn=dn[3];else{fr=o(16);var nn=Pt.Na+cs.Na;if(nn=qa(Ir,dn[1],nn,Gr.Eb,0,fr,0),Pt.Na=cs.Na=(0<nn)+0,1<nn)In(fr,0,or,Gn);else{var Os=fr[0]+3>>3;for(fr=0;256>fr;fr+=16)or[Gn+fr]=Os}Br=1,Yn=dn[0]}var pr=15&Pt.la,Ur=15&cs.la;for(fr=0;4>fr;++fr){var ms=1&Ur;for(Os=Ar=0;4>Os;++Os)pr=pr>>1|(ms=(nn=qa(Ir,Yn,nn=ms+(1&pr),Gr.Sc,Br,or,Gn))>Br)<<7,Ar=Ar<<2|(3<nn?3:1<nn?2:or[Gn+0]!=0),Gn+=16;pr>>=4,Ur=Ur>>1|ms<<7,Yr=(Yr<<8|Ar)>>>0}for(Yn=pr,Br=Ur>>4,Kr=0;4>Kr;Kr+=2){for(Ar=0,pr=Pt.la>>4+Kr,Ur=cs.la>>4+Kr,fr=0;2>fr;++fr){for(ms=1&Ur,Os=0;2>Os;++Os)nn=ms+(1&pr),pr=pr>>1|(ms=0<(nn=qa(Ir,dn[2],nn,Gr.Qc,0,or,Gn)))<<3,Ar=Ar<<2|(3<nn?3:1<nn?2:or[Gn+0]!=0),Gn+=16;pr>>=2,Ur=Ur>>1|ms<<5}Kt|=Ar<<4*Kr,Yn|=pr<<4<<Kr,Br|=(240&Ur)<<Kr}Pt.la=Yn,cs.la=Br,ls.Hc=Yr,ls.Gc=Kt,ls.ia=43690&Kt?0:Gr.ia,dn=!(Yr|Kt)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[Zt.$b][Zt.Za],Je.wa[Je.Y+Je.ja].La|=!dn),gn.Ka)return mn(dr,7,"Premature end-of-file encountered.")}if(Sn(dr),Je=un,gn=1,Zt=(it=dr).D,Pt=0<it.L&&it.M>=it.zb&&it.M<=it.Va,it.Aa==0)t:{if(Zt.M=it.M,Zt.uc=Pt,Cs(it,Zt),gn=1,Zt=(Ar=it.D).Nb,Pt=(Kt=nt[it.L])*it.R,Ir=Kt/2*it.B,fr=16*Zt*it.R,Os=8*Zt*it.B,dn=it.sa,ls=it.ta-Pt+fr,Gr=it.qa,or=it.ra-Ir+Os,Gn=it.Ha,cs=it.Ia-Ir+Os,Ur=(pr=Ar.M)==0,Yr=pr>=it.Va-1,it.Aa==2&&Cs(it,Ar),Ar.uc)for(ms=(nn=it).D.M,t(nn.D.uc),Ar=nn.yb;Ar<nn.Hb;++Ar){Br=Ar,Yn=ms;var xs=(gs=(vn=nn).D).Nb;Kr=vn.R;var gs=gs.wa[gs.Y+Br],ti=vn.sa,Is=vn.ta+16*xs*Kr+16*Br,Ms=gs.dd,Tr=gs.tc;if(Tr!=0)if(t(3<=Tr),vn.L==1)0<Br&&Oc(ti,Is,Kr,Tr+4),gs.La&&_e(ti,Is,Kr,Tr),0<Yn&&Jo(ti,Is,Kr,Tr+4),gs.La&&El(ti,Is,Kr,Tr);else{var ri=vn.B,Ui=vn.qa,il=vn.ra+8*xs*ri+8*Br,da=vn.Ha,vn=vn.Ia+8*xs*ri+8*Br;xs=gs.ld,0<Br&&(xn(ti,Is,Kr,Tr+4,Ms,xs),Ko(Ui,il,da,vn,ri,Tr+4,Ms,xs)),gs.La&&(oa(ti,Is,Kr,Tr,Ms,xs),Ma(Ui,il,da,vn,ri,Tr,Ms,xs)),0<Yn&&(rn(ti,Is,Kr,Tr+4,Ms,xs),ps(Ui,il,da,vn,ri,Tr+4,Ms,xs)),gs.La&&(kl(ti,Is,Kr,Tr,Ms,xs),Ni(Ui,il,da,vn,ri,Tr,Ms,xs))}}if(it.ia&&alert("todo:DitherRow"),Je.put!=null){if(Ar=16*pr,pr=16*(pr+1),Ur?(Je.y=it.sa,Je.O=it.ta+fr,Je.f=it.qa,Je.N=it.ra+Os,Je.ea=it.Ha,Je.W=it.Ia+Os):(Ar-=Kt,Je.y=dn,Je.O=ls,Je.f=Gr,Je.N=or,Je.ea=Gn,Je.W=cs),Yr||(pr-=Kt),pr>Je.o&&(pr=Je.o),Je.F=null,Je.J=null,it.Fa!=null&&0<it.Fa.length&&Ar<pr&&(Je.J=tr(it,Je,Ar,pr-Ar),Je.F=it.mb,Je.F==null&&Je.F.length==0)){gn=mn(it,3,"Could not decode alpha data.");break t}Ar<Je.j&&(Kt=Je.j-Ar,Ar=Je.j,t(!(1&Kt)),Je.O+=it.R*Kt,Je.N+=it.B*(Kt>>1),Je.W+=it.B*(Kt>>1),Je.F!=null&&(Je.J+=Je.width*Kt)),Ar<pr&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=Ar-Je.j,Je.U=Je.va-Je.v,Je.T=pr-Ar,gn=Je.put(Je))}Zt+1!=it.Ic||Yr||(n(it.sa,it.ta-Pt,dn,ls+16*it.R,Pt),n(it.qa,it.ra-Ir,Gr,or+8*it.B,Ir),n(it.Ha,it.Ia-Ir,Gn,cs+8*it.B,Ir))}if(!gn)return mn(dr,6,"Output aborted.")}return 1})(te,we)),we.bc!=null&&we.bc(we),Ce&=1}return Ce?(te.cb=0,Ce):0})(m,C)||(v=m.a)}}else v=m.a}v==0&&U.Oa!=null&&U.Oa.fd&&(v=_l(U.ba))}U=v}D=U!=0?null:11>D?W.f.RGBA.eb:W.f.kb.y}else D=null;return D};var _t=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(V,re){for(var T="",F=0;F<4;F++)T+=String.fromCharCode(V[re++]);return T}function p(V,re){return V[re+0]|V[re+1]<<8}function b(V,re){return(V[re+0]|V[re+1]<<8|V[re+2]<<16)>>>0}function y(V,re){return(V[re+0]|V[re+1]<<8|V[re+2]<<16|V[re+3]<<24)>>>0}new d;var g=[0],S=[0],k=[],E=new d,A=e,L=(function(V,re){var T={},F=0,z=!1,H=0,ve=0;if(T.frames=[],!(function(I,J){for(var Z=0;Z<4;Z++)if(I[J+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(V,re)){for(y(V,re+=4),re+=8;re<V.length;){var ye=h(V,re),xe=y(V,re+=4);re+=4;var ie=xe+(1&xe);switch(ye){case"VP8 ":case"VP8L":T.frames[F]===void 0&&(T.frames[F]={}),(ce=T.frames[F]).src_off=z?ve:re-8,ce.src_size=H+xe+8,F++,z&&(z=!1,H=0,ve=0);break;case"VP8X":(ce=T.header={}).feature_flags=V[re];var he=re+4;ce.canvas_width=1+b(V,he),he+=3,ce.canvas_height=1+b(V,he),he+=3;break;case"ALPH":z=!0,H=ie+8,ve=re-8;break;case"ANIM":(ce=T.header).bgcolor=y(V,re),he=re+4,ce.loop_count=p(V,he),he+=2;break;case"ANMF":var G,ce;(ce=T.frames[F]={}).offset_x=2*b(V,re),re+=3,ce.offset_y=2*b(V,re),re+=3,ce.width=1+b(V,re),re+=3,ce.height=1+b(V,re),re+=3,ce.duration=b(V,re),re+=3,G=V[re++],ce.dispose=1&G,ce.blend=G>>1&1}ye!="ANMF"&&(re+=ie)}return T}})(A,0);L.response=A,L.rgbaoutput=!0,L.dataurl=!1;var P=L.header?L.header:null,R=L.frames?L.frames:null;if(P){P.loop_counter=P.loop_count,g=[P.canvas_height],S=[P.canvas_width];for(var X=0;X<R.length&&R[X].blend!=0;X++);}var Q=R[0],ae=E.WebPDecodeRGBA(A,Q.src_off,Q.src_size,S,g);Q.rgba=ae,Q.imgwidth=S[0],Q.imgheight=g[0];for(var se=0;se<S[0]*g[0]*4;se++)k[se]=ae[se];return this.width=S,this.height=g,this.data=k,this}(function(e){var t,r,n,i,o,c,u,d,h,p=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new d,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new c,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new c,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new b(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,h=new p}]);var b=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=I;Object.defineProperty(this,"pdf",{get:function(){return J}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(K){Z=!!K}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(K){le=!!K}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(K){isNaN(K)||(ue=K)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(K){isNaN(K)||(be=K)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(K){var We;typeof K=="number"?We=[K,K,K,K]:((We=new Array(4))[0]=K[0],We[1]=K.length>=2?K[1]:We[0],We[2]=K.length>=3?K[2]:We[0],We[3]=K.length>=4?K[3]:We[1]),h.margin=We}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(K){Ee=K}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(K){fe=K}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(K){me=K}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(K){K instanceof p&&(h=K)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(K){h.path=K}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(K){Oe=K}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(K){var We;We=y(K),this.ctx.fillStyle=We.style,this.ctx.isFillTransparent=We.a===0,this.ctx.fillOpacity=We.a,this.pdf.setFillColor(We.r,We.g,We.b,{a:We.a}),this.pdf.setTextColor(We.r,We.g,We.b,{a:We.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(K){var We=y(K);this.ctx.strokeStyle=We.style,this.ctx.isStrokeTransparent=We.a===0,this.ctx.strokeOpacity=We.a,We.a===0?this.pdf.setDrawColor(255,255,255):(We.a,this.pdf.setDrawColor(We.r,We.g,We.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(K){["butt","round","square"].indexOf(K)!==-1&&(this.ctx.lineCap=K,this.pdf.setLineCap(K))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(K){isNaN(K)||(this.ctx.lineWidth=K,this.pdf.setLineWidth(K))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(K){["bevel","round","miter"].indexOf(K)!==-1&&(this.ctx.lineJoin=K,this.pdf.setLineJoin(K))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(K){isNaN(K)||(this.ctx.miterLimit=K,this.pdf.setMiterLimit(K))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(K){this.ctx.textBaseline=K}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(K){["right","end","center","left","start"].indexOf(K)!==-1&&(this.ctx.textAlign=K)}});var je=null,Ve=null,ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(K){je=null,Ve=null,ze=K}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(K){var We;if(this.ctx.font=K,(We=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(K))!==null){var vt=We[1];We[2];var tt=We[3],Be=We[4];We[5];var ht=We[6],Ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(Ze==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:Ze==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var mt=(function(ot){var Zr,Qt,Gt=[],Vt=ot.trim();if(Vt==="")return Ox;if(Vt in my)return[my[Vt]];for(;Vt!=="";){switch(Qt=null,Zr=(Vt=gy(Vt)).charAt(0)){case'"':case"'":Qt=MO(Vt.substring(1),Zr);break;default:Qt=FO(Vt)}if(Qt===null||(Gt.push(Qt[0]),(Vt=gy(Qt[1]))!==""&&Vt.charAt(0)!==","))return Ox;Vt=Vt.replace(/^,/,"")}return Gt})(ht);if(this.fontFaces){var xt=(function(ot,Zr){var Qt=ot.getFontList(),Gt=JSON.stringify(Qt);if(je===null||Ve!==Gt){var Vt=(function(Or){var yt=[];return Object.keys(Or).forEach(function(Er){Or[Er].forEach(function(kt){var Ut=null;switch(kt){case"bold":Ut={family:Er,weight:"bold"};break;case"italic":Ut={family:Er,style:"italic"};break;case"bolditalic":Ut={family:Er,weight:"bold",style:"italic"};break;case"":case"normal":Ut={family:Er}}Ut!==null&&(Ut.ref={name:Er,style:kt},yt.push(Ut))})}),yt})(Qt);je=(function(Or){for(var yt={},Er=0;Er<Or.length;++Er){var kt=Tx(Or[Er]),Ut=kt.family,jr=kt.stretch,Yt=kt.style,At=kt.weight;yt[Ut]=yt[Ut]||{},yt[Ut][jr]=yt[Ut][jr]||{},yt[Ut][jr][Yt]=yt[Ut][jr][Yt]||{},yt[Ut][jr][Yt][At]=kt}return yt})(Vt.concat(Zr)),Ve=Gt}return je})(this.pdf,this.fontFaces),yr=mt.map(function(ot){return{family:ot,stretch:"normal",weight:tt,style:vt}}),nr=(function(ot,Zr,Qt){for(var Gt=(Qt=Qt||{}).defaultFontFamily||"times",Vt=Object.assign({},IO,Qt.genericFontFamilies||{}),Or=null,yt=null,Er=0;Er<Zr.length;++Er)if(Vt[(Or=Tx(Zr[Er])).family]&&(Or.family=Vt[Or.family]),ot.hasOwnProperty(Or.family)){yt=ot[Or.family];break}if(!(yt=yt||ot[Gt]))throw new Error("Could not find a font-family for the rule '"+xy(Or)+"' and default family '"+Gt+"'.");if(yt=(function(kt,Ut){if(Ut[kt])return Ut[kt];var jr=Ug[kt],Yt=jr<=Ug.normal?-1:1,At=py(Ut,pN,jr,Yt);if(!At)throw new Error("Could not find a matching font-stretch value for "+kt);return At})(Or.stretch,yt),yt=(function(kt,Ut){if(Ut[kt])return Ut[kt];for(var jr=fN[kt],Yt=0;Yt<jr.length;++Yt)if(Ut[jr[Yt]])return Ut[jr[Yt]];throw new Error("Could not find a matching font-style for "+kt)})(Or.style,yt),!(yt=(function(kt,Ut){if(Ut[kt])return Ut[kt];if(kt===400&&Ut[500])return Ut[500];if(kt===500&&Ut[400])return Ut[400];var jr=OO[kt],Yt=py(Ut,mN,jr,kt<400?-1:1);if(!Yt)throw new Error("Could not find a matching font-weight for value "+kt);return Yt})(Or.weight,yt)))throw new Error("Failed to resolve a font for the rule '"+xy(Or)+"'.");return yt})(xt,yr);this.pdf.setFont(nr.ref.name,nr.ref.style)}else{var $t="";(tt==="bold"||parseInt(tt,10)>=700||vt==="bold")&&($t="bold"),vt==="italic"&&($t+="italic"),$t.length===0&&($t="normal");for(var sr="",Jt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<mt.length;at++){if(this.pdf.internal.getFont(mt[at],$t,{noFallback:!0,disableWarning:!0})!==void 0){sr=mt[at];break}if($t==="bolditalic"&&this.pdf.internal.getFont(mt[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)sr=mt[at],$t="bold";else if(this.pdf.internal.getFont(mt[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){sr=mt[at],$t="normal";break}}if(sr===""){for(var Mt=0;Mt<mt.length;Mt++)if(Jt[mt[Mt]]){sr=Jt[mt[Mt]];break}}sr=sr===""?"Times":sr,this.pdf.setFont(sr,$t)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(K){this.ctx.globalCompositeOperation=K}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(K){this.ctx.globalAlpha=K}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(K){this.ctx.lineDashOffset=K,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(K){this.ctx.lineDash=K,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(K){this.ctx.ignoreClearRect=!!K}})};b.prototype.setLineDash=function(I){this.lineDash=I},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){R.call(this,"fill",!1)},b.prototype.stroke=function(){R.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(I,J){if(isNaN(I)||isNaN(J))throw Vr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new c(I,J));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new c(I,J)},b.prototype.closePath=function(){var I=new c(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Dr(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){I=new c(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(I.x,I.y)},b.prototype.lineTo=function(I,J){if(isNaN(I)||isNaN(J))throw Vr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new c(I,J));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new c(Z.x,Z.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},b.prototype.quadraticCurveTo=function(I,J,Z,le){if(isNaN(Z)||isNaN(le)||isNaN(I)||isNaN(J))throw Vr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new c(Z,le)),be=this.ctx.transform.applyToPoint(new c(I,J));this.path.push({type:"qct",x1:be.x,y1:be.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new c(ue.x,ue.y)},b.prototype.bezierCurveTo=function(I,J,Z,le,ue,be){if(isNaN(ue)||isNaN(be)||isNaN(I)||isNaN(J)||isNaN(Z)||isNaN(le))throw Vr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new c(ue,be)),fe=this.ctx.transform.applyToPoint(new c(I,J)),me=this.ctx.transform.applyToPoint(new c(Z,le));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:me.x,y2:me.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new c(Ee.x,Ee.y)},b.prototype.arc=function(I,J,Z,le,ue,be){if(isNaN(I)||isNaN(J)||isNaN(Z)||isNaN(le)||isNaN(ue))throw Vr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=!!be,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new c(I,J));I=Ee.x,J=Ee.y;var fe=this.ctx.transform.applyToPoint(new c(0,Z)),me=this.ctx.transform.applyToPoint(new c(0,0));Z=Math.sqrt(Math.pow(fe.x-me.x,2)+Math.pow(fe.y-me.y,2))}Math.abs(ue-le)>=2*Math.PI&&(le=0,ue=2*Math.PI),this.path.push({type:"arc",x:I,y:J,radius:Z,startAngle:le,endAngle:ue,counterclockwise:be})},b.prototype.arcTo=function(I,J,Z,le,ue){throw new Error("arcTo not implemented.")},b.prototype.rect=function(I,J,Z,le){if(isNaN(I)||isNaN(J)||isNaN(Z)||isNaN(le))throw Vr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,J),this.lineTo(I+Z,J),this.lineTo(I+Z,J+le),this.lineTo(I,J+le),this.lineTo(I,J),this.lineTo(I+Z,J),this.lineTo(I,J)},b.prototype.fillRect=function(I,J,Z,le){if(isNaN(I)||isNaN(J)||isNaN(Z)||isNaN(le))throw Vr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,J,Z,le),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},b.prototype.strokeRect=function(I,J,Z,le){if(isNaN(I)||isNaN(J)||isNaN(Z)||isNaN(le))throw Vr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(I,J,Z,le),this.stroke())},b.prototype.clearRect=function(I,J,Z,le){if(isNaN(I)||isNaN(J)||isNaN(Z)||isNaN(le))throw Vr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,J,Z,le))},b.prototype.save=function(I){I=typeof I!="boolean"||I;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},b.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(J),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(I){var J,Z,le,ue;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))J=0,Z=0,le=0,ue=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(be!==null)J=parseInt(be[1]),Z=parseInt(be[2]),le=parseInt(be[3]),ue=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)J=parseInt(be[1]),Z=parseInt(be[2]),le=parseInt(be[3]),ue=parseFloat(be[4]);else{if(ue=1,typeof I=="string"&&I.charAt(0)!=="#"){var Ee=new aN(I);I=Ee.ok?Ee.toHex():"#000000"}I.length===4?(J=I.substring(1,2),J+=J,Z=I.substring(2,3),Z+=Z,le=I.substring(3,4),le+=le):(J=I.substring(1,3),Z=I.substring(3,5),le=I.substring(5,7)),J=parseInt(J,16),Z=parseInt(Z,16),le=parseInt(le,16)}}return{r:J,g:Z,b:le,a:ue,style:I}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(I,J,Z,le){if(isNaN(J)||isNaN(Z)||typeof I!="string")throw Vr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!g.call(this)){var ue=ie(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;F.call(this,{text:I,x:J,y:Z,scale:be,angle:ue,align:this.textAlign,maxWidth:le})}},b.prototype.strokeText=function(I,J,Z,le){if(isNaN(J)||isNaN(Z)||typeof I!="string")throw Vr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){le=isNaN(le)?void 0:le;var ue=ie(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;F.call(this,{text:I,x:J,y:Z,scale:be,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:le})}},b.prototype.measureText=function(I){if(typeof I!="string")throw Vr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,Z=this.pdf.internal.scaleFactor,le=J.internal.getFontSize(),ue=J.getStringUnitWidth(I)*le/J.internal.scaleFactor;return new function(be){var Ee=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this}({width:ue*=Math.round(96*Z/72*1e4)/1e4})},b.prototype.scale=function(I,J){if(isNaN(I)||isNaN(J))throw Vr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new d(I,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},b.prototype.rotate=function(I){if(isNaN(I))throw Vr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new d(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},b.prototype.translate=function(I,J){if(isNaN(I)||isNaN(J))throw Vr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new d(1,0,0,1,I,J);this.ctx.transform=this.ctx.transform.multiply(Z)},b.prototype.transform=function(I,J,Z,le,ue,be){if(isNaN(I)||isNaN(J)||isNaN(Z)||isNaN(le)||isNaN(ue)||isNaN(be))throw Vr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new d(I,J,Z,le,ue,be);this.ctx.transform=this.ctx.transform.multiply(Ee)},b.prototype.setTransform=function(I,J,Z,le,ue,be){I=isNaN(I)?1:I,J=isNaN(J)?0:J,Z=isNaN(Z)?0:Z,le=isNaN(le)?1:le,ue=isNaN(ue)?0:ue,be=isNaN(be)?0:be,this.ctx.transform=new d(I,J,Z,le,ue,be)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(I,J,Z,le,ue,be,Ee,fe,me){var Oe=this.pdf.getImageProperties(I),je=1,Ve=1,ze=1,K=1;le!==void 0&&fe!==void 0&&(ze=fe/le,K=me/ue,je=Oe.width/le*fe/le,Ve=Oe.height/ue*me/ue),be===void 0&&(be=J,Ee=Z,J=0,Z=0),le!==void 0&&fe===void 0&&(fe=le,me=ue),le===void 0&&fe===void 0&&(fe=Oe.width,me=Oe.height);var We=this.ctx.transform.decompose(),vt=ie(We.rotate.shx),tt=new d,Be=(tt=(tt=(tt=tt.multiply(We.translate)).multiply(We.skew)).multiply(We.scale)).applyToRectangle(new u(be-J*ze,Ee-Z*K,le*je,ue*Ve));if(this.autoPaging){for(var ht,Ze=E.call(this,Be),mt=[],xt=0;xt<Ze.length;xt+=1)mt.indexOf(Ze[xt])===-1&&mt.push(Ze[xt]);P(mt);for(var yr=mt[0],nr=mt[mt.length-1],$t=yr;$t<nr+1;$t++){this.pdf.setPage($t);var sr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Jt=$t===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=$t===1?0:at+($t-2)*Mt;if(this.ctx.clip_path.length!==0){var Zr=this.path;ht=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(ht,this.posX+this.margin[3],-ot+Jt+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=Zr}var Qt=JSON.parse(JSON.stringify(Be));Qt=L([Qt],this.posX+this.margin[3],-ot+Jt+this.ctx.prevPageLastElemOffset)[0];var Gt=($t>yr||$t<nr)&&k.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sr,Mt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,vt),Gt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(I,"JPEG",Be.x,Be.y,Be.w,Be.h,null,null,vt)};var E=function(I,J,Z){var le=[];J=J||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":le.push(Math.floor((I.y+ue)/Z)+1);break;case"arc":le.push(Math.floor((I.y+ue-I.radius)/Z)+1),le.push(Math.floor((I.y+ue+I.radius)/Z)+1);break;case"qct":var be=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);le.push(Math.floor((be.y+ue)/Z)+1),le.push(Math.floor((be.y+be.h+ue)/Z)+1);break;case"bct":var Ee=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);le.push(Math.floor((Ee.y+ue)/Z)+1),le.push(Math.floor((Ee.y+Ee.h+ue)/Z)+1);break;case"rect":le.push(Math.floor((I.y+ue)/Z)+1),le.push(Math.floor((I.y+I.h+ue)/Z)+1)}for(var fe=0;fe<le.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<le[fe];)A.call(this);return le},A=function(){var I=this.fillStyle,J=this.strokeStyle,Z=this.font,le=this.lineCap,ue=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=J,this.font=Z,this.lineCap=le,this.lineWidth=ue,this.lineJoin=be},L=function(I,J,Z){for(var le=0;le<I.length;le++)switch(I[le].type){case"bct":I[le].x2+=J,I[le].y2+=Z;case"qct":I[le].x1+=J,I[le].y1+=Z;default:I[le].x+=J,I[le].y+=Z}return I},P=function(I){return I.sort(function(J,Z){return J-Z})},R=function(I,J){var Z=this.fillStyle,le=this.strokeStyle,ue=this.lineCap,be=this.lineWidth,Ee=Math.abs(be*this.ctx.transform.scaleX),fe=this.lineJoin;if(this.autoPaging){for(var me,Oe,je=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),ze=[],K=0;K<Ve.length;K++)if(Ve[K].x!==void 0)for(var We=E.call(this,Ve[K]),vt=0;vt<We.length;vt+=1)ze.indexOf(We[vt])===-1&&ze.push(We[vt]);for(var tt=0;tt<ze.length;tt++)for(;this.pdf.internal.getNumberOfPages()<ze[tt];)A.call(this);P(ze);for(var Be=ze[0],ht=ze[ze.length-1],Ze=Be;Ze<ht+1;Ze++){this.pdf.setPage(Ze),this.fillStyle=Z,this.strokeStyle=le,this.lineCap=ue,this.lineWidth=Ee,this.lineJoin=fe;var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=Ze===1?this.posY+this.margin[0]:this.margin[0],yr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$t=Ze===1?0:yr+(Ze-2)*nr;if(this.ctx.clip_path.length!==0){var sr=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(me,this.posX+this.margin[3],-$t+xt+this.ctx.prevPageLastElemOffset),X.call(this,I,!0),this.path=sr}if(Oe=JSON.parse(JSON.stringify(je)),this.path=L(Oe,this.posX+this.margin[3],-$t+xt+this.ctx.prevPageLastElemOffset),J===!1||Ze===0){var Jt=(Ze>Be||Ze<ht)&&k.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,nr,null).clip().discardPath()),X.call(this,I,J),Jt&&this.pdf.restoreGraphicsState()}this.lineWidth=be}this.path=je}else this.lineWidth=Ee,X.call(this,I,J),this.lineWidth=be},X=function(I,J){if((I!=="stroke"||J||!S.call(this))&&(I==="stroke"||J||!g.call(this))){for(var Z,le,ue=[],be=this.path,Ee=0;Ee<be.length;Ee++){var fe=be[Ee];switch(fe.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:fe,deltas:[],abs:[]});break;case"lt":var me=ue.length;if(be[Ee-1]&&!isNaN(be[Ee-1].x)&&(Z=[fe.x-be[Ee-1].x,fe.y-be[Ee-1].y],me>0)){for(;me>=0;me--)if(ue[me-1].close!==!0&&ue[me-1].begin!==!0){ue[me-1].deltas.push(Z),ue[me-1].abs.push(fe);break}}break;case"bct":Z=[fe.x1-be[Ee-1].x,fe.y1-be[Ee-1].y,fe.x2-be[Ee-1].x,fe.y2-be[Ee-1].y,fe.x-be[Ee-1].x,fe.y-be[Ee-1].y],ue[ue.length-1].deltas.push(Z);break;case"qct":var Oe=be[Ee-1].x+2/3*(fe.x1-be[Ee-1].x),je=be[Ee-1].y+2/3*(fe.y1-be[Ee-1].y),Ve=fe.x+2/3*(fe.x1-fe.x),ze=fe.y+2/3*(fe.y1-fe.y),K=fe.x,We=fe.y;Z=[Oe-be[Ee-1].x,je-be[Ee-1].y,Ve-be[Ee-1].x,ze-be[Ee-1].y,K-be[Ee-1].x,We-be[Ee-1].y],ue[ue.length-1].deltas.push(Z);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(fe)}}le=J?null:I==="stroke"?"stroke":"fill";for(var vt=!1,tt=0;tt<ue.length;tt++)if(ue[tt].arc)for(var Be=ue[tt].abs,ht=0;ht<Be.length;ht++){var Ze=Be[ht];Ze.type==="arc"?se.call(this,Ze.x,Ze.y,Ze.radius,Ze.startAngle,Ze.endAngle,Ze.counterclockwise,void 0,J,!vt):z.call(this,Ze.x,Ze.y),vt=!0}else if(ue[tt].close===!0)this.pdf.internal.out("h"),vt=!1;else if(ue[tt].begin!==!0){var mt=ue[tt].start.x,xt=ue[tt].start.y;H.call(this,ue[tt].deltas,mt,xt),vt=!0}le&&V.call(this,le),J&&re.call(this)}},Q=function(I){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-Z;case"top":return I+J-Z;case"hanging":return I+J-2*Z;case"middle":return I+J/2-Z;default:return I}},ae=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(J,Z){this.colorStops.push([J,Z])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var se=function(I,J,Z,le,ue,be,Ee,fe,me){for(var Oe=ye.call(this,Z,le,ue,be),je=0;je<Oe.length;je++){var Ve=Oe[je];je===0&&(me?T.call(this,Ve.x1+I,Ve.y1+J):z.call(this,Ve.x1+I,Ve.y1+J)),ve.call(this,I,J,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}fe?re.call(this):V.call(this,Ee)},V=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},re=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(I,J){this.pdf.internal.out(r(I)+" "+n(J)+" m")},F=function(I){var J;switch(I.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var Z,le,ue,be=this.pdf.getTextDimensions(I.text),Ee=Q.call(this,I.y),fe=ae.call(this,Ee)-be.h,me=this.ctx.transform.applyToPoint(new c(I.x,Ee));if(this.autoPaging){var Oe=this.ctx.transform.decompose(),je=new d;je=(je=(je=je.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale);for(var Ve=this.ctx.transform.applyToRectangle(new u(I.x,Ee,be.w,be.h)),ze=je.applyToRectangle(new u(I.x,fe,be.w,be.h)),K=E.call(this,ze),We=[],vt=0;vt<K.length;vt+=1)We.indexOf(K[vt])===-1&&We.push(K[vt]);P(We);for(var tt=We[0],Be=We[We.length-1],ht=tt;ht<Be+1;ht++){this.pdf.setPage(ht);var Ze=ht===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[2],yr=xt-this.margin[0],nr=this.pdf.internal.pageSize.width-this.margin[1],$t=nr-this.margin[3],sr=ht===1?0:mt+(ht-2)*yr;if(this.ctx.clip_path.length!==0){var Jt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Z,this.posX+this.margin[3],-1*sr+Ze),X.call(this,"fill",!0),this.path=Jt}var at=L([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-sr+Ze+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*I.scale),ue=this.lineWidth,this.lineWidth=ue*I.scale);var Mt=this.autoPaging!=="text";if(Mt||at.y+at.h<=xt){if(Mt||at.y>=Ze&&at.x<=nr){var ot=Mt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||nr-at.x)[0],Zr=L([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-sr+Ze+this.ctx.prevPageLastElemOffset)[0],Qt=Mt&&(ht>tt||ht<Be)&&k.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,yr,null).clip().discardPath()),this.pdf.text(ot,Zr.x,Zr.y,{angle:I.angle,align:J,renderingMode:I.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else at.y<xt&&(this.ctx.prevPageLastElemOffset+=xt-at.y);I.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ue)}}else I.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*I.scale),ue=this.lineWidth,this.lineWidth=ue*I.scale),this.pdf.text(I.text,me.x+this.posX,me.y+this.posY,{angle:I.angle,align:J,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ue)},z=function(I,J,Z,le){Z=Z||0,le=le||0,this.pdf.internal.out(r(I+Z)+" "+n(J+le)+" l")},H=function(I,J,Z){return this.pdf.lines(I,J,Z,null,null)},ve=function(I,J,Z,le,ue,be,Ee,fe){this.pdf.internal.out([t(i(Z+I)),t(o(le+J)),t(i(ue+I)),t(o(be+J)),t(i(Ee+I)),t(o(fe+J)),"c"].join(" "))},ye=function(I,J,Z,le){for(var ue=2*Math.PI,be=Math.PI/2;J>Z;)J-=ue;var Ee=Math.abs(Z-J);Ee<ue&&le&&(Ee=ue-Ee);for(var fe=[],me=le?-1:1,Oe=J;Ee>1e-5;){var je=Oe+me*Math.min(Ee,be);fe.push(xe.call(this,I,Oe,je)),Ee-=Math.abs(je-Oe),Oe=je}return fe},xe=function(I,J,Z){var le=(Z-J)/2,ue=I*Math.cos(le),be=I*Math.sin(le),Ee=ue,fe=-be,me=Ee*Ee+fe*fe,Oe=me+Ee*ue+fe*be,je=4/3*(Math.sqrt(2*me*Oe)-Oe)/(Ee*be-fe*ue),Ve=Ee-je*fe,ze=fe+je*Ee,K=Ve,We=-ze,vt=le+J,tt=Math.cos(vt),Be=Math.sin(vt);return{x1:I*Math.cos(J),y1:I*Math.sin(J),x2:Ve*tt-ze*Be,y2:Ve*Be+ze*tt,x3:K*tt-We*Be,y3:K*Be+We*tt,x4:I*Math.cos(Z),y4:I*Math.sin(Z)}},ie=function(I){return 180*I/Math.PI},he=function(I,J,Z,le,ue,be){var Ee=I+.5*(Z-I),fe=J+.5*(le-J),me=ue+.5*(Z-ue),Oe=be+.5*(le-be),je=Math.min(I,ue,Ee,me),Ve=Math.max(I,ue,Ee,me),ze=Math.min(J,be,fe,Oe),K=Math.max(J,be,fe,Oe);return new u(je,ze,Ve-je,K-ze)},G=function(I,J,Z,le,ue,be,Ee,fe){var me,Oe,je,Ve,ze,K,We,vt,tt,Be,ht,Ze,mt,xt,yr=Z-I,nr=le-J,$t=ue-Z,sr=be-le,Jt=Ee-ue,at=fe-be;for(Oe=0;Oe<41;Oe++)tt=(We=(je=I+(me=Oe/40)*yr)+me*((ze=Z+me*$t)-je))+me*(ze+me*(ue+me*Jt-ze)-We),Be=(vt=(Ve=J+me*nr)+me*((K=le+me*sr)-Ve))+me*(K+me*(be+me*at-K)-vt),Oe==0?(ht=tt,Ze=Be,mt=tt,xt=Be):(ht=Math.min(ht,tt),Ze=Math.min(Ze,Be),mt=Math.max(mt,tt),xt=Math.max(xt,Be));return new u(Math.round(ht),Math.round(Ze),Math.round(mt-ht),Math.round(xt-Ze))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,J,Z=(I=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:J}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Nt.API),(function(e){var t=function(c){var u,d,h,p,b,y,g,S,k,E;for(d=[],h=0,p=(c+=u="\0\0\0\0".slice(c.length%4||4)).length;p>h;h+=4)(b=(c.charCodeAt(h)<<24)+(c.charCodeAt(h+1)<<16)+(c.charCodeAt(h+2)<<8)+c.charCodeAt(h+3))!==0?(y=(b=((b=((b=((b=(b-(E=b%85))/85)-(k=b%85))/85)-(S=b%85))/85)-(g=b%85))/85)%85,d.push(y+33,g+33,S+33,k+33,E+33)):d.push(122);return(function(A,L){for(var P=L;P>0;P--)A.pop()})(d,u.length),String.fromCharCode.apply(String,d)+"~>"},r=function(c){var u,d,h,p,b,y=String,g="length",S=255,k="charCodeAt",E="slice",A="replace";for(c[E](-2),c=c[E](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),h=[],p=0,b=(c+=u="uuuuu"[E](c[g]%5||5))[g];b>p;p+=5)d=52200625*(c[k](p)-33)+614125*(c[k](p+1)-33)+7225*(c[k](p+2)-33)+85*(c[k](p+3)-33)+(c[k](p+4)-33),h.push(S&d>>24,S&d>>16,S&d>>8,S&d);return(function(L,P){for(var R=P;R>0;R--)L.pop()})(h,u[g]),y.fromCharCode.apply(y,h)},n=function(c){return c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(c){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),u.test(c)===!1)return"";for(var d="",h=0;h<c.length;h+=2)d+=String.fromCharCode("0x"+(c[h]+c[h+1]));return d},o=function(c){for(var u=new Uint8Array(c.length),d=c.length;d--;)u[d]=c.charCodeAt(d);return(u=Tg(u)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};e.processDataByFilters=function(c,u){var d=0,h=c||"",p=[];for(typeof(u=u||[])=="string"&&(u=[u]),d=0;d<u.length;d+=1)switch(u[d]){case"ASCII85Decode":case"/ASCII85Decode":h=r(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=n(h),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=o(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[d]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}})(Nt.API),(function(e){e.loadFile=function(t,r,n){return(function(i,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var u=void 0;try{u=(function(d,h,p){var b=new XMLHttpRequest,y=0,g=function(S){var k=S.length,E=[],A=String.fromCharCode;for(y=0;y<k;y+=1)E.push(A(255&S.charCodeAt(y)));return E.join("")};if(b.open("GET",d,!h),b.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(b.onload=function(){b.status===200?p(g(this.responseText)):p(void 0)}),b.send(null),h&&b.status===200)return g(b.responseText)})(i,o,c)}catch{}return u})(t,r,n)},e.loadImageFile=e.loadFile})(Nt.API),(function(e){function t(){return(Ht.html2canvas?Promise.resolve(Ht.html2canvas):uh(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function r(){return(Ht.DOMPurify?Promise.resolve(Ht.DOMPurify):uh(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var n=function(u){var d=Dr(u);return d==="undefined"?"undefined":d==="string"||u instanceof String?"string":d==="number"||u instanceof Number?"number":d==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":d==="object"?"object":"unknown"},i=function(u,d){var h=document.createElement(u);for(var p in d.className&&(h.className=d.className),d.innerHTML&&d.dompurify&&(h.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)h.style[p]=d.style[p];return h},o=function u(d,h){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),b=d.firstChild;b;b=b.nextSibling)h!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||p.appendChild(u(b,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p},c=function u(d){var h=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),p=u.convert(Promise.resolve(),h);return(p=p.setProgress(1,u,1,[u])).set(d)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(u,d){return u.__proto__=d||c.prototype,u},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(u,d){return this.then(function(){switch(d=d||(function(h){switch(n(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),d){case"string":return this.then(r).then(function(h){return this.set({src:i("div",{innerHTML:u,dompurify:h})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},c.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(d){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,d(this.prop.container,h)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(d){var h=this.opt.jsPDF,p=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var g=0;g<p.length;++g){var S=p[g],k=S.src.find(function(E){return E.format==="truetype"});k&&h.addFont(k.url,S.ref.name,S.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,h.context2d.save(!0),d(this.prop.container,y)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(u,d,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(u,d):this.outputPdf(u,d)},c.prototype.outputPdf=function(u,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,d)})},c.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},c.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(u){if(n(u)!=="object")return this;var d=Object.keys(u||{}).map(function(h){if(h in c.template.prop)return function(){this.prop[h]=u[h]};switch(h){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[h]=u[h]}}},this);return this.then(function(){return this.thenList(d)})},c.prototype.get=function(u,d){return this.then(function(){var h=u in c.template.prop?this.prop[u]:this.opt[u];return d?d(h):h})},c.prototype.setMargin=function(u){return this.then(function(){switch(n(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},c.prototype.setPageSize=function(u){function d(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(u=u||Nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:d(u.inner.width,u.k),height:d(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},c.prototype.setProgress=function(u,d,h,p){return u!=null&&(this.progress.val=u),d!=null&&(this.progress.state=d),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(u,d,h,p){return this.setProgress(u?this.progress.val+u:null,d||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},c.prototype.then=function(u,d){var h=this;return this.thenCore(u,d,function(p,b){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(y){return h.updateProgress(null,p),y}).then(p,b).then(function(y){return h.updateProgress(1),y})})},c.prototype.thenCore=function(u,d,h){h=h||Promise.prototype.then;var p=this;u&&(u=u.bind(p)),d&&(d=d.bind(p));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:c.convert(Object.assign({},p),Promise.prototype),y=h.call(b,u,d);return c.convert(y,p.__proto__)},c.prototype.thenExternal=function(u,d){return Promise.prototype.then.call(this,u,d)},c.prototype.thenList=function(u){var d=this;return u.forEach(function(h){d=d.thenCore(h)}),d},c.prototype.catch=function(u){u&&(u=u.bind(this));var d=Promise.prototype.catch.call(this,u);return c.convert(d,this)},c.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},c.prototype.error=function(u){return this.then(function(){throw new Error(u)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Nt.getPageSize=function(u,d,h){if(Dr(u)==="object"){var p=u;u=p.orientation,d=p.unit||d,h=p.format||h}d=d||"mm",h=h||"a4",u=(""+(u||"P")).toLowerCase();var b,y=(""+h).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+d}var S,k=0,E=0;if(g.hasOwnProperty(y))k=g[y][1]/b,E=g[y][0]/b;else try{k=h[1],E=h[0]}catch{throw new Error("Invalid format: "+h)}if(u==="p"||u==="portrait")u="p",E>k&&(S=E,E=k,k=S);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",k>E&&(S=E,E=k,k=S)}return{width:E,height:k,unit:d,k:b,orientation:u}},e.html=function(u,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Tx):null;var h=new c(d);return d.worker?h:h.from(u).doCallback()}})(Nt.API),Nt.API.addJS=function(e){return by=e,this.internal.events.subscribe("postPutResources",function(){Of=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Of+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),vy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+by+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Of!==void 0&&vy!==void 0&&this.internal.out("/Names <</JavaScript "+Of+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),o=0;o<i.length;o++){var c=i[o],u=n.exec(c);if(u!=null){var d=u[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(c)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(o=0;o<h;o++){var b=r.internal.newObject();p.push(b);var y=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<p.length;o++)r.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,o){var c={title:i,options:o,children:[]};return n==null&&(n=this.root),n.children.push(c),c},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var c=n.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var u=this.count=this.count_r({count:0},c);if(u>0&&this.line("/Count "+u),c.options&&c.options.pageNumber){var d=r.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var o=0;o<i.children.length;o++)n.count++,this.count_r(n,i.children[o]);return n.count}}])})(Nt.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,o,c,u){var d,h=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=c||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=(function(b){for(var y,g=256*b.charCodeAt(4)+b.charCodeAt(5),S=b.length,k={width:0,height:0,numcomponents:1},E=4;E<S;E+=2){if(E+=g,t.indexOf(b.charCodeAt(E+1))!==-1){y=256*b.charCodeAt(E+5)+b.charCodeAt(E+6),k={width:256*b.charCodeAt(E+7)+b.charCodeAt(E+8),height:y,numcomponents:b.charCodeAt(E+9)};break}g=256*b.charCodeAt(E+2)+b.charCodeAt(E+3)}return k})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:r,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:h,index:n,alias:i}}return p}})(Nt.API),Nt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,o=yO(e,{checkCrc:!0}),c=o.width,u=o.height,d=o.channels,h=o.palette,p=o.depth;i=h&&d===1?(function(se){for(var V=se.width,re=se.height,T=se.data,F=se.palette,z=se.depth,H=!1,ve=[],ye=[],xe=void 0,ie=!1,he=0,G=0;G<F.length;G++){var ce=j5(F[G],4),I=ce[0],J=ce[1],Z=ce[2],le=ce[3];ve.push(I,J,Z),le!=null&&(le===0?(he++,ye.length<1&&ye.push(G)):le<255&&(ie=!0))}if(ie||he>1){H=!0,ye=void 0;var ue=V*re;xe=new Uint8Array(ue);for(var be=new DataView(T.buffer),Ee=0;Ee<ue;Ee++){var fe=Ix(be,Ee,z),me=j5(F[fe],4)[3];xe[Ee]=me}}else he===0&&(ye=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:T,alphaBytes:xe,needSMask:H,palette:ve,mask:ye}})(o):d===2||d===4?(function(se){for(var V=se.data,re=se.width,T=se.height,F=se.channels,z=se.depth,H=F===2?"DeviceGray":"DeviceRGB",ve=F-1,ye=re*T,xe=ve,ie=ye*xe,he=1*ye,G=Math.ceil(ie*z/8),ce=Math.ceil(he*z/8),I=new Uint8Array(G),J=new Uint8Array(ce),Z=new DataView(V.buffer),le=new DataView(I.buffer),ue=new DataView(J.buffer),be=!1,Ee=0;Ee<ye;Ee++){for(var fe=Ee*F,me=0;me<xe;me++)Cy(le,Ix(Z,fe+me,z),Ee*xe+me,z);var Oe=Ix(Z,fe+xe,z);Oe<(1<<z)-1&&(be=!0),Cy(ue,Oe,1*Ee,z)}return{colorSpace:H,colorsPerPixel:ve,sMaskBitsPerComponent:be?z:void 0,colorBytes:I,alphaBytes:J,needSMask:be}})(o):(function(se){var V=se.data,re=se.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:re,colorsPerPixel:re==="DeviceGray"?1:3,colorBytes:V instanceof Uint16Array?(function(T){for(var F=T.length,z=new Uint8Array(2*F),H=new DataView(z.buffer,z.byteOffset,z.byteLength),ve=0;ve<F;ve++)H.setUint16(2*ve,T[ve],!1);return z})(V):V,needSMask:!1}})(o);var b,y,g,S=i,k=S.colorSpace,E=S.colorsPerPixel,A=S.sMaskBitsPerComponent,L=S.colorBytes,P=S.alphaBytes,R=S.needSMask,X=S.palette,Q=S.mask,ae=null;return n!==Nt.API.image_compression.NONE&&typeof Tg=="function"?(ae=(function(se){var V;switch(se){case Nt.API.image_compression.FAST:V=11;break;case Nt.API.image_compression.MEDIUM:V=13;break;case Nt.API.image_compression.SLOW:V=14;break;default:V=12}return V})(n),b=this.decode.FLATE_DECODE,y="/Predictor ".concat(ae," /Colors ").concat(E," /BitsPerComponent ").concat(p," /Columns ").concat(c),e=jy(L,Math.ceil(c*E*p/8),E,p,n),R&&(g=jy(P,Math.ceil(c*A/8),1,A,n))):(b=void 0,y=void 0,e=L,R&&(g=P)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:e,index:t,filter:b,decodeParameters:y,transparency:Q,palette:X,sMask:g,predictor:ae,width:c,height:u,bitsPerComponent:p,sMaskBitsPerComponent:A,colorSpace:k}}},(function(e){e.processGIF89A=function(t,r,n,i){var o=new zO(t),c=o.width,u=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var h={data:d,width:c,height:u},p=new Mx(100).encode(h,100);return e.processJPEG.call(this,p,r,n,i)},e.processGIF87A=e.processGIF89A})(Nt.API),Eo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Eo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Vr.log("bit decode error:"+r)}},Eo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var d=this.palette[o>>7-u&1];this.data[c+4*u]=d.blue,this.data[c+4*u+1]=d.green,this.data[c+4*u+2]=d.red,this.data[c+4*u+3]=255}r!==0&&(this.pos+=4-r)}},Eo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var o=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+2*i*4,u=o>>4,d=15&o,h=this.palette[u];if(this.data[c]=h.blue,this.data[c+1]=h.green,this.data[c+2]=h.red,this.data[c+3]=255,2*i+1>=this.width)break;h=this.palette[d],this.data[c+4]=h.blue,this.data[c+4+1]=h.green,this.data[c+4+2]=h.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},Eo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*n;if(i<this.palette.length){var c=this.palette[i];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},Eo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,u=(o>>5&t)/t*255|0,d=(o>>10&t)/t*255|0,h=o>>15?255:0,p=n*this.width*4+4*i;this.data[p]=d,this.data[p+1]=u,this.data[p+2]=c,this.data[p+3]=h}this.pos+=e}},Eo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(c&t)/t*255|0,d=(c>>5&r)/r*255|0,h=(c>>11)/t*255|0,p=i*this.width*4+4*o;this.data[p]=h,this.data[p+1]=d,this.data[p+2]=u,this.data[p+3]=255}this.pos+=e}},Eo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*r;this.data[c]=o,this.data[c+1]=i,this.data[c+2]=n,this.data[c+3]=255}this.pos+=this.width%4}},Eo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*r;this.data[u]=o,this.data[u+1]=i,this.data[u+2]=n,this.data[u+3]=c}},Eo.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,i){var o=new Eo(t,!1),c=o.width,u=o.height,d={data:o.getData(),width:c,height:u},h=new Mx(100).encode(d,100);return e.processJPEG.call(this,h,r,n,i)}})(Nt.API),Py.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,i){var o=new Py(t),c=o.width,u=o.height,d={data:o.getData(),width:c,height:u},h=new Mx(100).encode(d,100);return e.processJPEG.call(this,h,r,n,i)}})(Nt.API),Nt.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,o=new Uint8Array(i/4*3),c=new Uint8Array(i/4),u=0,d=0,h=0;h<i;h+=4){var p=n[h],b=n[h+1],y=n[h+2],g=n[h+3];o[u++]=p,o[u++]=b,o[u++]=y,c[d++]=g}var S=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:S,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Nt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},cd=Nt.API,If=cd.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:i.metadata.Unicode.widths,d=u.fof?u.fof:1,h=t.kerning?t.kerning:i.metadata.Unicode.kerning,p=h.fof?h.fof:1,b=t.doKerning!==!1,y=0,g=e.length,S=0,k=u[0]||d,E=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?E.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+c*(1e3/o)||0)/1e3):(y=b&&Dr(h[n])==="object"&&!isNaN(parseInt(h[n][S],10))?h[n][S]/p:0,E.push((u[n]||k)/d+y)),S=n;return E},yy=cd.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return cd.processArabic&&(e=cd.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:If.apply(this,arguments).reduce(function(o,c){return o+c},0)},wy=function(e,t,r,n){for(var i=[],o=0,c=e.length,u=0;o!==c&&u+t[o]<r;)u+=t[o],o++;i.push(e.slice(0,o));var d=o;for(u=0;o!==c;)u+t[o]>n&&(i.push(e.slice(d,o)),u=0,d=o),u+=t[o],o++;return d!==o&&i.push(e.slice(d,o)),i},Ny=function(e,t,r){r||(r={});var n,i,o,c,u,d,h,p=[],b=[p],y=r.textIndent||0,g=0,S=0,k=e.split(" "),E=If.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?k[0].length+2:r.lineIndent||0){var A=Array(d).join(" "),L=[];k.map(function(R){(R=R.split(/\s*\n/)).length>1?L=L.concat(R.map(function(X,Q){return(Q&&X.length?`
`:"")+X})):L.push(R[0])}),k=L,d=yy.apply(this,[A,r])}for(o=0,c=k.length;o<c;o++){var P=0;if(n=k[o],d&&n[0]==`
`&&(n=n.substr(1),P=1),y+g+(S=(i=If.apply(this,[n,r])).reduce(function(R,X){return R+X},0))>t||P){if(S>t){for(u=wy.apply(this,[n,i,t-(y+g),t]),p.push(u.shift()),p=[u.pop()];u.length;)b.push([u.shift()]);S=i.slice(n.length-(p[0]?p[0].length:0)).reduce(function(R,X){return R+X},0)}else p=[n];b.push(p),y=S+d,g=E}else p.push(n),y+=g+S,g=E}return h=d?function(R,X){return(X?A:"")+R.join(" ")}:function(R){return R.join(" ")},b.map(h)},cd.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var b=this.internal.getFont(p.fontName,p.fontStyle),y="Unicode";return b.metadata[y]?{widths:b.metadata[y].widths||{0:1},kerning:b.metadata[y].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/i;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=r.lineIndent;var u,d,h=[];for(u=0,d=n.length;u<d;u++)h=h.concat(Ny.apply(this,[n[u],c,o]));return h},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},o=0;o<16;o++)n[r[o]]=t[o],i[t[o]]=r[o];var c=function(y){return"0x"+parseInt(y,10).toString(16)},u=e.__fontmetrics__.compress=function(y){var g,S,k,E,A=["{"];for(var L in y){if(g=y[L],isNaN(parseInt(L,10))?S="'"+L+"'":(L=parseInt(L,10),S=(S=c(L).slice(2)).slice(0,-1)+i[S.slice(-1)]),typeof g=="number")g<0?(k=c(g).slice(3),E="-"):(k=c(g).slice(2),E=""),k=E+k.slice(0,-1)+i[k.slice(-1)];else{if(Dr(g)!=="object")throw new Error("Don't know what to do with value type "+Dr(g)+".");k=u(g)}A.push(S+k)}return A.push("}"),A.join("")},d=e.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,S,k,E,A={},L=1,P=A,R=[],X="",Q="",ae=y.length-1,se=1;se<ae;se+=1)(E=y[se])=="'"?g?(k=g.join(""),g=void 0):g=[]:g?g.push(E):E=="{"?(R.push([P,k]),P={},k=void 0):E=="}"?((S=R.pop())[0][S[1]]=P,k=void 0,P=S[0]):E=="-"?L=-1:k===void 0?n.hasOwnProperty(E)?(X+=n[E],k=parseInt(X,16)*L,L=1,X=""):X+=E:n.hasOwnProperty(E)?(Q+=n[E],P[k]=parseInt(Q,16)*L,L=1,k=void 0,Q=""):Q+=E;return A},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},b={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(y){var g=y.font,S=b.Unicode[g.postScriptName];S&&(g.metadata.Unicode={},g.metadata.Unicode.widths=S.widths,g.metadata.Unicode.kerning=S.kerning);var k=p.Unicode[g.postScriptName];k&&(g.metadata.Unicode.encoding=k,g.encoding=k.codePages[0])}])})(Nt.API),(function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),o=0;o<n;o++)i[o]=r.charCodeAt(o);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,o=r.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(c,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(Wf(u)),c.metadata=e.API.TTFFont.open(u),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(i,n)}}])})(Nt),Nt.API.addSvgAsImage=function(e,t,r,n,i,o,c,u){if(isNaN(t)||isNaN(r))throw Vr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Vr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=i;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(Ht.canvg?Promise.resolve(Ht.canvg):uh(()=>import("./index.es-D9u46MI0.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(h,e,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){b.addImage(d.toDataURL("image/jpeg",1),t,r,n,i,c,u)})},Nt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},Nt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(c),d=[],h=0,p=0,b=0;function y(S,k){var E,A=!1;for(E=0;E<S.length;E+=1)S[E]===k&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=u.length;for(b=0;b<g;b+=1)r[u[b]].value=r[u[b]].defaultValue,r[u[b]].explicitSet=!1}if(Dr(e)==="object"){for(i in e)if(o=e[i],y(u,i)&&o!==void 0){if(r[i].type==="boolean"&&typeof o=="boolean")r[i].value=o;else if(r[i].type==="name"&&y(r[i].valueSet,o))r[i].value=o;else if(r[i].type==="integer"&&Number.isInteger(o))r[i].value=o;else if(r[i].type==="array"){for(h=0;h<o.length;h+=1)if(n=!0,o[h].length===1&&typeof o[h][0]=="number")d.push(String(o[h]-1));else if(o[h].length>1){for(p=0;p<o[h].length;p+=1)typeof o[h][p]!="number"&&(n=!1);n===!0&&d.push([o[h][0]-1,o[h][1]-1].join(" "))}r[i].value="["+d.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,k=[];for(S in r)r[S].explicitSet===!0&&(r[S].type==="name"?k.push("/"+S+" /"+r[S].value):k.push("/"+S+" "+r[S].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),h=o.length+c.length+u.length+i.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+o+c+u+d),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Nt.API),(function(e){var t=e.API,r=t.pdfEscape16=function(o,c){for(var u,d=c.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],b=0,y=o.length;b<y;++b){if(u=c.metadata.characterToGlyph(o.charCodeAt(b)),c.metadata.glyIdsUsed.push(u),c.metadata.toUnicode[u]=o.charCodeAt(b),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(c.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(h[4-u.length],u)}return p.join("")},n=function(o){var c,u,d,h,p,b,y;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],b=0,y=(u=Object.keys(o).sort(function(g,S){return g-S})).length;b<y;b++)c=u[b],d.length>=100&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(h=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),d.push("<"+c+"><"+h+">"));return d.length&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(c){var u=c.font,d=c.out,h=c.newObject,p=c.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="Identity-H"){for(var b=u.metadata.Unicode.widths,y=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),g="",S=0;S<y.length;S++)g+=String.fromCharCode(y[S]);var k=h();p({data:g,addLength1:!0,objectId:k}),d("endobj");var E=h();p({data:n(u.metadata.toUnicode),addLength1:!0,objectId:E}),d("endobj");var A=h();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+md(u.fontName)),d("/FontFile2 "+k+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var L=h();d("<<"),d("/Type /Font"),d("/BaseFont /"+md(u.fontName)),d("/FontDescriptor "+A+" 0 R"),d("/W "+e.API.PDFObject.convert(b)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=h(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+E+" 0 R"),d("/BaseFont /"+md(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+L+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(c){var u=c.font,d=c.out,h=c.newObject,p=c.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var b=u.metadata.rawData,y="",g=0;g<b.length;g++)y+=String.fromCharCode(b[g]);var S=h();p({data:y,addLength1:!0,objectId:S}),d("endobj");var k=h();p({data:n(u.metadata.toUnicode),addLength1:!0,objectId:k}),d("endobj");var E=h();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+S+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+md(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=h();for(var A=0;A<u.metadata.hmtx.widths.length;A++)u.metadata.hmtx.widths[A]=parseInt(u.metadata.hmtx.widths[A]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+md(u.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(o)}]);var i=function(o){var c,u=o.text||"",d=o.x,h=o.y,p=o.options||{},b=o.mutex||{},y=b.pdfEscape,g=b.activeFontKey,S=b.fonts,k=g,E="",A=0,L="",P=S[k].encoding;if(S[k].encoding!=="Identity-H")return{text:u,x:d,y:h,options:p,mutex:b};for(L=u,k=g,Array.isArray(u)&&(L=u[0]),A=0;A<L.length;A+=1)S[k].metadata.hasOwnProperty("cmap")&&(c=S[k].metadata.cmap.unicode.codeMap[L[A].charCodeAt(0)]),c||L[A].charCodeAt(0)<256&&S[k].metadata.hasOwnProperty("Unicode")?E+=L[A]:E+="";var R="";return parseInt(k.slice(1))<14||P==="WinAnsiEncoding"?R=y(E,k).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(R=r(E,S[k])),b.isHex=!0,{text:R,x:d,y:h,options:p,mutex:b}};t.events.push(["postProcessText",function(o){var c=o.text||"",u=[],d={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var h=0;for(h=0;h<c.length;h+=1)Array.isArray(c[h])&&c[h].length===3?u.push([i(Object.assign({},d,{text:c[h][0]})).text,c[h][1],c[h][2]]):u.push(i(Object.assign({},d,{text:c[h]})).text);o.text=u}else o.text=i(Object.assign({},d,{text:c})).text}])})(Nt),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Nt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,o,c,u,d,h,p,b=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,P=0;this.__bidiEngine__={};var R=function(T){var F=T.charCodeAt(),z=F>>8,H=k[z];return H!==void 0?b[256*H+(255&F)]:z===252||z===253?"AL":A.test(z)?"L":z===8?"R":"N"},X=function(T){for(var F,z=0;z<T.length;z++){if((F=R(T.charAt(z)))==="L")return!1;if(F==="R")return!0}return!1},Q=function(T,F,z,H){var ve,ye,xe,ie,he=F[H];switch(he){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(he="AN");break;case"AL":L=!0,he="R";break;case"WS":case"BN":he="N";break;case"CS":H<1||H+1>=F.length||(ve=z[H-1])!=="EN"&&ve!=="AN"||(ye=F[H+1])!=="EN"&&ye!=="AN"?he="N":L&&(ye="AN"),he=ye===ve?ye:"N";break;case"ES":he=(ve=H>0?z[H-1]:"B")==="EN"&&H+1<F.length&&F[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&z[H-1]==="EN"){he="EN";break}if(L){he="N";break}for(xe=H+1,ie=F.length;xe<ie&&F[xe]==="ET";)xe++;he=xe<ie&&F[xe]==="EN"?"EN":"N";break;case"NSM":if(c&&!u){for(ie=F.length,xe=H+1;xe<ie&&F[xe]==="NSM";)xe++;if(xe<ie){var G=T[H],ce=G>=1425&&G<=2303||G===64286;if(ve=F[xe],ce&&(ve==="R"||ve==="AL")){he="R";break}}}he=H<1||(ve=F[H-1])==="B"?"N":z[H-1];break;case"B":L=!1,i=!0,he=P;break;case"S":o=!0,he="N"}return he},ae=function(T,F,z){var H=T.split("");return z&&se(H,z,{hiLevel:P}),H.reverse(),F&&F.reverse(),H.join("")},se=function(T,F,z){var H,ve,ye,xe,ie,he=-1,G=T.length,ce=0,I=[],J=P?g:y,Z=[];for(L=!1,i=!1,o=!1,ve=0;ve<G;ve++)Z[ve]=R(T[ve]);for(ye=0;ye<G;ye++){if(ie=ce,I[ye]=Q(T,Z,I,ye),H=240&(ce=J[ie][S[I[ye]]]),ce&=15,F[ye]=xe=J[ce][5],H>0)if(H===16){for(ve=he;ve<ye;ve++)F[ve]=1;he=-1}else he=-1;if(J[ce][6])he===-1&&(he=ye);else if(he>-1){for(ve=he;ve<ye;ve++)F[ve]=xe;he=-1}Z[ye]==="B"&&(F[ye]=0),z.hiLevel|=xe}o&&(function(le,ue,be){for(var Ee=0;Ee<be;Ee++)if(le[Ee]==="S"){ue[Ee]=P;for(var fe=Ee-1;fe>=0&&le[fe]==="WS";fe--)ue[fe]=P}})(Z,F,G)},V=function(T,F,z,H,ve){if(!(ve.hiLevel<T)){if(T===1&&P===1&&!i)return F.reverse(),void(z&&z.reverse());for(var ye,xe,ie,he,G=F.length,ce=0;ce<G;){if(H[ce]>=T){for(ie=ce+1;ie<G&&H[ie]>=T;)ie++;for(he=ce,xe=ie-1;he<xe;he++,xe--)ye=F[he],F[he]=F[xe],F[xe]=ye,z&&(ye=z[he],z[he]=z[xe],z[xe]=ye);ce=ie}ce++}}},re=function(T,F,z){var H=T.split(""),ve={hiLevel:P};return z||(z=[]),se(H,z,ve),(function(ye,xe,ie){if(ie.hiLevel!==0&&p)for(var he,G=0;G<ye.length;G++)xe[G]===1&&(he=E.indexOf(ye[G]))>=0&&(ye[G]=E[he+1])})(H,z,ve),V(2,H,F,z,ve),V(1,H,F,z,ve),H.join("")};return this.__bidiEngine__.doBidiReorder=function(T,F,z){if((function(ve,ye){if(ye)for(var xe=0;xe<ve.length;xe++)ye[xe]=xe;u===void 0&&(u=X(ve)),h===void 0&&(h=X(ve))})(T,F),c||!d||h)if(c&&d&&u^h)P=u?1:0,T=ae(T,F,z);else if(!c&&d&&h)P=u?1:0,T=re(T,F,z),T=ae(T,F);else if(!c||u||d||h){if(c&&!d&&u^h)T=ae(T,F),u?(P=0,T=re(T,F,z)):(P=1,T=re(T,F,z),T=ae(T,F));else if(c&&u&&!d&&h)P=1,T=re(T,F,z),T=ae(T,F);else if(!c&&!d&&u^h){var H=p;u?(P=1,T=re(T,F,z),P=0,p=!1,T=re(T,F,z),p=H):(P=0,T=re(T,F,z),T=ae(T,F),P=1,p=!1,T=re(T,F,z),p=H,T=ae(T,F))}}else P=0,T=re(T,F,z);else P=u?1:0,T=re(T,F,z);return T},this.__bidiEngine__.setOptions=function(T){T&&(c=T.isInputVisual,d=T.isOutputVisual,u=T.isInputRtl,h=T.isOutputRtl,p=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(c=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?c.push([r.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):c.push([r.doBidiReorder(i[u])]);n.text=c}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(Nt),Nt.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Cc(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new rI(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new BO(this.contents),this.head=new VO(this),this.name=new KO(this),this.cmap=new gN(this),this.toUnicode={},this.hhea=new WO(this),this.maxp=new JO(this),this.hmtx=new XO(this),this.post=new GO(this),this.os2=new HO(this),this.loca=new tI(this),this.glyf=new QO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,u,d,h;for(h=[],c=0,u=(d=this.bbox).length;c<u;c++)t=d[c],h.push(Math.round(t*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,o,c,u;for(c=0,o=0,u=(t=""+t).length;0<=u?o<u:o>u;o=0<=u?++o:--o)i=t.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return c*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Io,Cc=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,o,c,u,d;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^o)+65536*(255^c)+256*(255^u)+(255^d)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*o+65536*c+256*u+d},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,o;for(o=[],n=0,i=t.length;n<i;n++)r=t[n],o.push(this.writeByte(r));return o},e})(),BO=(function(){var e;function t(r){var n,i,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,o,c,u,d,h,p,b,y,g,S,k;for(k in g=Object.keys(r).length,d=Math.log(2),b=16*Math.floor(Math.log(g)/d),c=Math.floor(b/d),p=16*g-b,(i=new Cc).writeInt(this.scalarType),i.writeShort(g),i.writeShort(b),i.writeShort(c),i.writeShort(p),o=16*g,h=i.pos+o,u=null,S=[],r)for(y=r[k],i.writeString(k),i.writeInt(e(y)),i.writeInt(h),i.writeInt(y.length),S=S.concat(y),k==="head"&&(u=h),h+=y.length;h%4;)S.push(0),h++;return i.write(S),n=2981146554-e(i.data),i.pos=u+8,i.writeUInt32(n),i.data},e=function(r){var n,i,o,c;for(r=vN.call(r);r.length%4;)r.push(0);for(o=new Cc(r),i=0,n=0,c=r.length;n<c;n=n+=4)i+=o.readUInt32();return 4294967295&i},t})(),$O={}.hasOwnProperty,bl=function(e,t){for(var r in t)$O.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Io=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var VO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Io),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Cc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),Ly=(function(){function e(t,r){var n,i,o,c,u,d,h,p,b,y,g,S,k,E,A,L,P;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),b=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(g=t.readUInt16(),y=g/2,t.pos+=6,o=(function(){var R,X;for(X=[],d=R=0;0<=y?R<y:R>y;d=0<=y?++R:--R)X.push(t.readUInt16());return X})(),t.pos+=2,k=(function(){var R,X;for(X=[],d=R=0;0<=y?R<y:R>y;d=0<=y?++R:--R)X.push(t.readUInt16());return X})(),h=(function(){var R,X;for(X=[],d=R=0;0<=y?R<y:R>y;d=0<=y?++R:--R)X.push(t.readUInt16());return X})(),p=(function(){var R,X;for(X=[],d=R=0;0<=y?R<y:R>y;d=0<=y?++R:--R)X.push(t.readUInt16());return X})(),i=(this.length-t.pos+this.offset)/2,u=(function(){var R,X;for(X=[],d=R=0;0<=i?R<i:R>i;d=0<=i?++R:--R)X.push(t.readUInt16());return X})(),d=A=0,P=o.length;A<P;d=++A)for(E=o[d],n=L=S=k[d];S<=E?L<=E:L>=E;n=S<=E?++L:--L)p[d]===0?c=n+h[d]:(c=u[p[d]/2+(n-S)-(y-d)]||0)!==0&&(c+=h[d]),this.codeMap[n]=65535&c}t.pos=b}return e.encode=function(t,r){var n,i,o,c,u,d,h,p,b,y,g,S,k,E,A,L,P,R,X,Q,ae,se,V,re,T,F,z,H,ve,ye,xe,ie,he,G,ce,I,J,Z,le,ue,be,Ee,fe,me,Oe,je;switch(H=new Cc,c=Object.keys(t).sort(function(Ve,ze){return Ve-ze}),r){case"macroman":for(k=0,E=(function(){var Ve=[];for(S=0;S<256;++S)Ve.push(0);return Ve})(),L={0:0},o={},ve=0,he=c.length;ve<he;ve++)L[fe=t[i=c[ve]]]==null&&(L[fe]=++k),o[i]={old:t[i],new:L[t[i]]},E[i]=L[t[i]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(E),{charMap:o,subtable:H.data,maxGlyphID:k+1};case"unicode":for(F=[],b=[],P=0,L={},n={},A=h=null,ye=0,G=c.length;ye<G;ye++)L[X=t[i=c[ye]]]==null&&(L[X]=++P),n[i]={old:X,new:L[X]},u=L[X]-i,A!=null&&u===h||(A&&b.push(A),F.push(i),h=u),A=i;for(A&&b.push(A),b.push(65535),F.push(65535),re=2*(V=F.length),se=2*Math.pow(Math.log(V)/Math.LN2,2),y=Math.log(se/2)/Math.LN2,ae=2*V-se,d=[],Q=[],g=[],S=xe=0,ce=F.length;xe<ce;S=++xe){if(T=F[S],p=b[S],T===65535){d.push(0),Q.push(0);break}if(T-(z=n[T].new)>=32768)for(d.push(0),Q.push(2*(g.length+V-S)),i=ie=T;T<=p?ie<=p:ie>=p;i=T<=p?++ie:--ie)g.push(n[i].new);else d.push(z-T),Q.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*V+2*g.length),H.writeUInt16(0),H.writeUInt16(re),H.writeUInt16(se),H.writeUInt16(y),H.writeUInt16(ae),be=0,I=b.length;be<I;be++)i=b[be],H.writeUInt16(i);for(H.writeUInt16(0),Ee=0,J=F.length;Ee<J;Ee++)i=F[Ee],H.writeUInt16(i);for(me=0,Z=d.length;me<Z;me++)u=d[me],H.writeUInt16(u);for(Oe=0,le=Q.length;Oe<le;Oe++)R=Q[Oe],H.writeUInt16(R);for(je=0,ue=g.length;je<ue;je++)k=g[je],H.writeUInt16(k);return{charMap:n,subtable:H.data,maxGlyphID:P+1}}},e})(),gN=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Io),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new Ly(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=Ly.encode(t,r),(i=new Cc).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e})(),WO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Io),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),HO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Io),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),GO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Io),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var c,u,d;for(d=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)d.push(t.readUInt32());return d}).call(this)}},e})(),YO=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},KO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Io),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,o,c,u,d,h,p,b,y;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),n=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(d={},o=p=0,b=n.length;p<b;o=++p)i=n[o],t.pos=i.offset,h=t.readString(i.length),c=new YO(h,i),d[y=i.nameID]==null&&(d[y]=[]),d[i.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e})(),JO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Io),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),XO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Io),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,o,c,u,d;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,p;for(p=[],r=h=0;0<=i?h<i:h>i;r=0<=i?++h:--h)p.push(t.readInt16());return p})(),this.widths=(function(){var h,p,b,y;for(y=[],h=0,p=(b=this.metrics).length;h<p;h++)o=b[h],y.push(o.advance);return y}).call(this),n=this.widths[this.widths.length-1],d=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)d.push(this.widths.push(n));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),vN=[].slice,QO=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Io),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,o,c,u,d,h,p,b;return t in this.cache?this.cache[t]:(o=this.file.loca,r=this.file.contents,n=o.indexOf(t),(i=o.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,c=(u=new Cc(r.read(i))).readShort(),h=u.readShort(),b=u.readShort(),d=u.readShort(),p=u.readShort(),this.cache[t]=c===-1?new eI(u,h,b,d,p):new ZO(u,c,h,b,d,p),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,o,c,u,d;for(c=[],o=[],u=0,d=r.length;u<d;u++)i=t[r[u]],o.push(c.length),i&&(c=c.concat(i.encode(n)));return o.push(c.length),{table:c,offsets:o}},e})(),ZO=(function(){function e(t,r,n,i,o,c){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=o,this.yMax=c,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),eI=(function(){function e(t,r,n,i,o){var c,u;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;u=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&u;)c.pos+=1&u?4:2,128&u?c.pos+=8:64&u?c.pos+=4:8&u&&(c.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Cc(vN.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),tI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bl(e,Io),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,o;for(o=[],n=0,i=this.length;n<i;n+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],n=0,i=this.length;n<i;n+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,o=0,c=0;c<n.length;++c)if(n[c]=i,o<r.length&&r[o]==c){++o,n[c]=i;var u=this.offsets[c],d=this.offsets[c+1]-u;d>0&&(i+=d)}for(var h=new Array(4*n.length),p=0;p<n.length;++p)h[4*p+3]=255&n[p],h[4*p+2]=(65280&n[p])>>8,h[4*p+1]=(16711680&n[p])>>16,h[4*p]=(4278190080&n[p])>>24;return h},e})(),rI=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,o;for(r in i=this.font.cmap.tables[0].codeMap,t={},o=this.subset)n=o[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,o,c,u,d;for(i={},c=0,u=t.length;c<u;c++)i[o=t[c]]=this.font.glyf.glyphFor(o);for(o in r=[],i)(n=i[o])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(o in d=this.glyphsFor(r))n=d[o],i[o]=n;return i},e.prototype.encode=function(t,r){var n,i,o,c,u,d,h,p,b,y,g,S,k,E,A;for(i in n=gN.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),g={0:0},A=n.charMap)g[(d=A[i]).old]=d.new;for(S in y=n.maxGlyphID,c)S in g||(g[S]=y++);return p=(function(L){var P,R;for(P in R={},L)R[L[P]]=P;return R})(g),b=Object.keys(p).sort(function(L,P){return L-P}),k=(function(){var L,P,R;for(R=[],L=0,P=b.length;L<P;L++)u=b[L],R.push(p[u]);return R})(),o=this.font.glyf.encode(c,k,g),h=this.font.loca.encode(o.offsets,k),E={cmap:this.font.cmap.raw(),glyf:o.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},e})();Nt.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,o,c;if(Array.isArray(r))return"["+(function(){var u,d,h;for(h=[],u=0,d=r.length;u<d;u++)n=r[u],h.push(t.convert(n));return h})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in o=["<<"],r)c=r[i],o.push("/"+i+" "+t.convert(c));return o.push(">>"),o.join(`
`)}return""+r},t})();function nI(e,t){e.setFillColor(10,15,30),e.rect(0,0,210,297,"F"),e.setFillColor(230,81,0),e.rect(20,50,5,40,"F"),e.setTextColor(255,255,255),e.setFont("Helvetica","bold"),e.setFontSize(28),e.text("AUDIT D'INTGRIT",35,65),e.setFontSize(14),e.setFont("Helvetica","normal"),e.text("RAPPORT DE RISQUE OPS & UX",35,75),e.setDrawColor(255,255,255,.2),e.line(20,240,190,240);const r=255;e.setFontSize(8),e.setTextColor(150,150,150),e.text("SYSTEM ID",20,r),e.text("GNR LE",80,r),e.text("VERSION",160,r),e.setTextColor(255,255,255),e.setFontSize(9),e.text(t.systemName||"EDF COCKPIT",20,r+5),e.text(t.generatedAt||new Date().toISOString(),80,r+5),e.text(t.version||"1.0",160,r+5),e.addPage()}const Fx={TEXT:[34,34,34]};function sI(e,t){e.addPage(),e.setTextColor(...Fx.TEXT),e.setFont("Helvetica","bold"),e.setFontSize(22),e.text("Sommaire",20,40);let r=60;e.setFontSize(11),e.setFont("Helvetica","normal"),t.forEach(n=>{e.setTextColor(...Fx.TEXT),e.text(n.title,20,r);const i=".".repeat(70);e.setTextColor(200,200,200),e.text(i,80,r),e.setTextColor(...Fx.TEXT),e.text(`${n.page}`,190,r,{align:"right"}),r+=10})}function iI(e,t,r,n){e.setDrawColor(34,34,34),e.setLineWidth(.8),e.line(20,n,60,n),n+=10,e.setFont("Helvetica","bold"),e.setFontSize(16),e.setTextColor(34,34,34),e.text(t.toUpperCase(),20,n);const o=r>=80?[27,94,32]:r>=60?[230,81,0]:[179,38,30];return e.setFillColor(...o),e.roundedRect(165,n-6,25,8,1,1,"F"),e.setFontSize(8),e.setTextColor(255,255,255),e.text(`SANT: ${r}%`,177.5,n-.5,{align:"center"}),n+15}const Ry=e=>e*8,oh={CRITICAL:[170,70,70],HIGH:[180,140,60],LOW:[60,110,100],TEXT_DARK:[20,20,20],TEXT_MAIN:[45,45,45],TEXT_MUTED:[140,140,140],LINE:[220,220,220],ZONE_HIGH:[230,230,230],ZONE_MED:[245,235,215],ZONE_LOW:[245,220,220]};function Gp(e,t,r,n){e.setFont("Helvetica","bold"),e.setFontSize(16),e.setTextColor(34,34,34),e.text(t,r,n);const i=e.getTextWidth(t);e.setDrawColor(34,34,34),e.line(r,n+2,r+i,n+2)}function Ja(e,t,r,n,i=180){e.setFont("Helvetica","normal"),e.setFontSize(10),e.setTextColor(60,60,60);const o=e.splitTextToSize(t,i);e.text(o,r,n)}function aI(e,t,r){let c=r;const u=b=>{c+b>270&&(e.addPage(),c=30)},d=oh[t.severity]||oh.LOW;u(Ry(2)),e.setDrawColor(...d),e.setLineWidth(.6),e.line(19,c,19,c+14),e.setFont("Helvetica","bold"),e.setFontSize(8),e.setTextColor(...d),e.text(t.severity.toUpperCase(),25,c+5),e.setFontSize(7),e.setTextColor(...oh.TEXT_MUTED),e.text(`ID: ${t.code}`,185,c+5,{align:"right"}),c+=14;const h=(b,y)=>{if(!y)return;let g="";Array.isArray(y)?g=y.join(", "):typeof y=="object"?g=`${y.name}  ${y.description}`:g=y;const S=e.splitTextToSize(g,160),k=5+S.length*4.8+6;u(k),e.setFont("Helvetica","bold"),e.setFontSize(7),e.setTextColor(...oh.TEXT_MUTED),e.text(b.toUpperCase(),25,c),c+=5,e.setFont("Helvetica","normal"),e.setFontSize(9),e.setTextColor(...oh.TEXT_MAIN),e.text(S,25,c),c+=S.length*4.8+6};h("Problme dtect",t.description),t.impact&&h("Impact oprationnel",t.impact);const p=Array.isArray(t.remediation)?t.remediation.map(b=>` ${b}`):` ${t.remediation}`;return h("Action corrective",p),t.suggestedPattern&&h("Pattern Requis",t.suggestedPattern),c+Ry(1)}function oI(e,t){e.addPage();const r=[];let n=30;return t.forEach(i=>{const o=e.internal.getCurrentPageInfo().pageNumber;r.push({title:i.component,page:o}),n>230&&(e.addPage(),n=25),n=iI(e,i.component,i.score,n),n+=5,i.issues.forEach(c=>{n=aI(e,c,n)}),n+=18}),r}function lI(e,t){e.addPage();const r=[...(t.charts||[]).flatMap(c=>c.issues),...(t.cards||[]).flatMap(c=>c.issues)],n=r.filter(c=>c.severity==="CRITICAL").length,i=new Set(r.map(c=>{var u;return(u=c.suggestedPattern)==null?void 0:u.name}).filter(Boolean)).size,o={health:Math.round(t.globalScore||0),criticalCount:n,patternCount:i};cI(e,o)}function cI(e,t){let n=20;e.setFont("Helvetica","bold"),e.setFontSize(18),e.setTextColor(34,34,34),e.text("EXECUTIVE SUMMARY",15,n),n+=12;const i=88,o=45,c=t.health>=98;Mf(e,15,n,i,o,"GLOBAL HEALTH",`${t.health}%`,c?"Systme stable":"Risque de biais lev",c?[27,94,32]:[179,38,30]),Mf(e,15+i+4,n,i,o,"CRITICAL RISKS",t.criticalCount.toString(),c?"Aucun blocage":"Blocages immdiats",c?[27,94,32]:[230,81,0]),n+=o+4;const u=t.patternCount===0;Mf(e,15,n,i,o,"STRATEGIC PATTERNS",u?"OK":t.patternCount.toString(),u?"Tous dploys":"Actifs  implmenter",u?[21,101,192]:[8,12,32]);const d=t.health>80;Mf(e,15+i+4,n,i,o,"DECISION READINESS",d?"READY":"UNSAFE",d?"Signal fiable":"Fiabilit compromise",d?[27,94,32]:[179,38,30]),n+=o+15,e.setFillColor(245,246,248),e.roundedRect(15,n,180,35,2,2,"F"),e.setFontSize(10),e.setTextColor(8,12,32),e.setFont("Helvetica","bold"),e.text("RISQUES OPRATIONNELS",23,n+8),e.setFont("Helvetica","normal"),e.setFontSize(9),e.setTextColor(60,60,60),c?e.text(` Aucun risque critique dtect.
 Latence dcisionnelle nulle.
 Intgrit des donnes vrifie.`,23,n+16):e.text(` Perte de visibilit sur l'exposition financire relle (> $500k).
 Retard de raction sur les signaux de rupture client  J+7.
 Paralysie dcisionnelle des Risk Officers due  la densit cognitive.`,23,n+16),n+=45,c?(e.setFillColor(27,94,32),e.roundedRect(15,n,180,15,1,1,"F"),e.setTextColor(255,255,255),e.setFont("Helvetica","bold"),e.text("RECOMMANDATION : DPLOIEMENT AUTORIS. SYSTME NOMINAL.",20,n+9.5)):(e.setFillColor(179,38,30),e.roundedRect(15,n,180,15,1,1,"F"),e.setTextColor(255,255,255),e.setFont("Helvetica","bold"),e.text("RECOMMANDATION : SUSPENDRE LES DPLOIEMENTS ET APPLIQUER LES PATTERNS CRITIQUES.",20,n+9.5))}function Mf(e,t,r,n,i,o,c,u,d){e.setDrawColor(230,230,230),e.setFillColor(255,255,255),e.roundedRect(t,r,n,i,2,2,"FD"),e.setFillColor(...d),e.rect(t,r,2,i,"F"),e.setFontSize(8),e.setTextColor(120,120,120),e.setFont("Helvetica","bold"),e.text(o,t+8,r+10),e.setFontSize(22),e.setTextColor(...d),e.text(c,t+8,r+26),e.setFontSize(8),e.setTextColor(150,150,150),e.setFont("Helvetica","normal"),e.text(u,t+8,r+36)}function uI(e,t){e.addPage();const r=15;let n=30;e.setFont("Helvetica","bold"),e.setFontSize(18),e.setTextColor(34,34,34),e.text("SYNTHSE SYSTME",r,n),n+=15,e.setFillColor(248,249,250),e.rect(r,n,180,60,"F"),e.setFontSize(11),e.text("PATTERNS STRATGIQUES  DPLOYER",r+8,n+10);const i=[{name:"Risk Skyline",impact:"Visualisation immdiate des seuils de danger."},{name:"Confidence Corridor",impact:"Suppression du biais d'optimisme sur les projections."},{name:"Semantic Clusters",impact:"Rduction de la charge mentale (Miller's Limit)."}];n+=20,i.forEach(c=>{e.setFillColor(8,12,32),e.circle(r+12,n-1,1,"F"),e.setFont("Helvetica","bold"),e.setTextColor(34,34,34),e.text(c.name,r+18,n),e.setFont("Helvetica","normal"),e.setTextColor(100,100,100),e.text(` ${c.impact}`,r+55,n),n+=10}),n+=15,e.setFont("Helvetica","bold"),e.setTextColor(34,34,34),e.text("ORDRE DE PRIORIT DE CORRECTION",r,n);const o=[{step:"01",task:"Intgrit Financire",desc:"Composants RiskProof & ProjectionCA"},{step:"02",task:"Rupture Client",desc:"Composants ClientDrift & BehaviorDrift"},{step:"03",task:"Hygine Cognitive",desc:"Rorganisation des KPI Cards"}];n+=12,o.forEach(c=>{e.setFillColor(230,230,230),e.roundedRect(r,n,180,12,1,1,"F"),e.setTextColor(8,12,32),e.setFont("Helvetica","bold"),e.text(c.step,r+5,n+8),e.text(c.task,r+18,n+8),e.setFont("Helvetica","normal"),e.setTextColor(100,100,100),e.text(c.desc,r+70,n+8),n+=15})}function dI(e){e.addPage();const t=15;let r=20;Gp(e," PROPOS DE CET AUDIT",t,r),r+=15,Ja(e,`Ce document est un audit oprationnel gnr automatiquement par l'Ops Agent  Revenue Assurance Engine.
Son but est d'valuer l'intgrit, la lisibilit et la capacit dcisionnelle des tableaux de bord oprationnels du systme.`,t,r),r+=20,e.setFont("Helvetica","bold"),e.setFontSize(11),e.text("L'audit repose sur trois piliers :",t,r),r+=10,e.setFont("Helvetica","bold"),e.text("1. Vrit de la Donne",t,r),r+=6,e.setFont("Helvetica","normal"),Ja(e,"Vrification que les valeurs affiches refltent la base de donnes sans distorsion, omission ou biais.",t,r),r+=15,e.setFont("Helvetica","bold"),e.text("2. Lisibilit UX",t,r),r+=6,e.setFont("Helvetica","normal"),Ja(e,"valuation de la capacit des composants visuels  permettre au dcideur de comprendre risques, tendances et anomalies en quelques secondes.",t,r),r+=15,e.setFont("Helvetica","bold"),e.text("3. Intgrit Dcisionnelle",t,r),r+=6,e.setFont("Helvetica","normal"),Ja(e,"valuation de la capacit de chaque composant  supporter une priorisation correcte, rduire l'ambigut et prvenir les angles morts oprationnels.",t,r),r+=20,Ja(e,`Cet audit ne remplace pas le jugement humain.
Il fournit une valuation structure, rptable et traable pour soutenir la gouvernance et la fiabilit oprationnelle.`,t,r)}function hI(e){e.addPage();const t=15;let r=20;Gp(e,"MTHODOLOGIE ET PRIMTRE",t,r),r+=15,e.setFont("Helvetica","bold"),e.setFontSize(11),e.text("Primtre de l'Audit",t,r),r+=8,e.setFont("Helvetica","normal"),Ja(e,`L'audit couvre tous les composants actifs du tableau de bord utiliss pour la dcision oprationnelle, incluant :
 Visualisations des risques financiers
 Projections de revenus
 Timelines comportementales client
 Cartographie des risques
 Clusters KPI`,t,r),r+=35,e.setFont("Helvetica","bold"),e.text("Mthodologie",t,r),r+=8,e.setFont("Helvetica","normal"),Ja(e,"L'Ops Agent applique un cadre d'valuation dterministe bas sur :",t,r),r+=10,[{t:"A. Critres Structurels",d:"Lisibilit des axes, densit des labels, contraste (WCAG), visibilit des seuils, clart des lgendes."},{t:"B. Critres Dcisionnels",d:"Capacit  dtecter le risque, prioriser les actions, identifier les anomalies, prvenir les erreurs d'interprtation."},{t:"C. Critres d'Intgrit",d:"Alignement avec les donnes source, absence de valeurs caches, cohrence entre composants."}].forEach(o=>{e.setFont("Helvetica","bold"),e.text(o.t,t,r),r+=6,e.setFont("Helvetica","normal"),Ja(e,o.d,t,r),r+=14}),r+=5,e.setFont("Helvetica","bold"),e.text("Niveaux de Svrit",t,r),r+=8,[{l:"CRITIQUE",d:"Risque immdiat de mauvaise interprtation ou d'erreur oprationnelle."},{l:"LEVE",d:"Dgradation significative de la qualit de dcision."},{l:"MOYENNE",d:"Friction notable, mais non bloquante."},{l:"FAIBLE",d:"Problmes cosmtiques ou mineurs."}].forEach(o=>{e.setFont("Helvetica","bold"),e.text(o.l,t,r),e.setFont("Helvetica","normal"),e.text(`  ${o.d}`,t+25,r),r+=7}),r+=10,e.setFont("Helvetica","bold"),e.text("Limites",t,r),r+=6,e.setFont("Helvetica","normal"),Ja(e,`L'audit value l'intgrit visuelle et structurelle, non la performance mtier.
La validation humaine reste requise pour les dcisions finales.`,t,r)}function fI(e){e.addPage();const t=15;let r=20;Gp(e,"CADRE D'VALUATION DES RISQUES",t,r),r+=15,Ja(e,"Cet audit utilise un modle de notation standardis pour valuer la fiabilit oprationnelle des composants.",t,r),r+=15,e.setFont("Helvetica","bold"),e.text("Interprtation des Scores",t,r),r+=8;const n=["80100  Oprationnellement fiable","6079    Acceptable mais ncessite des amliorations","4059    Haut risque de mauvaise interprtation","039      Oprationnellement dangereux"];e.setFont("Helvetica","normal"),n.forEach(c=>{e.text(c,t,r),r+=6}),r+=10,e.setFont("Helvetica","bold"),e.text("Dimensions du Risque",t,r),r+=8,[{t:"1. Risque de Visibilit",d:"Mesure si l'information essentielle est visible sans effort."},{t:"2. Risque d'Interprtation",d:"Mesure si un composant peut mener  des conclusions errones."},{t:"3. Risque d'Actionnabilit",d:"Mesure si le composant guide l'utilisateur vers la bonne action suivante."},{t:"4. Risque d'Intgrit",d:"Mesure si le composant reprsente fidlement les donnes sous-jacentes."}].forEach(c=>{e.setFont("Helvetica","bold"),e.text(c.t,t,r),r+=6,e.setFont("Helvetica","normal"),Ja(e,c.d,t,r),r+=12}),r+=10,e.setFillColor(245,246,248),e.roundedRect(t,r,180,50,2,2,"F"),e.setFont("Helvetica","bold"),e.setTextColor(34,34,34),e.text("Pourquoi est-ce important ?",t+5,r+10),e.setFont("Helvetica","normal"),e.setFontSize(10),e.text(`Un tableau de bord n'est pas un outil de reporting.
C'est un moteur de dcision.

Toute ambigut, surcharge ou manque de rfrence augmente la probabilit de :
 actions retardes
 priorisation incorrecte
 perte de revenus
 angles morts oprationnels`,t+5,r+20)}function pI(e){e.addPage();const t=15;let r=20;Gp(e,"GLOSSAIRE",t,r),r+=15,[{t:"Intgrit Dcisionnelle",d:"Capacit d'un systme  guider les utilisateurs vers des dcisions correctes, opportunes et justifies."},{t:"Risk Skyline",d:"Pattern de visualisation combinant des zones de risque en arrire-plan avec des barres style 'skyline' et lignes de tendance."},{t:"Corridor de Confiance",d:"Modle de projection utilisant des bandes d'incertitude (p10/p90) autour d'une tendance centrale."},{t:"Radar Quadrant",d:"Matrice risque/action  quatre quadrants avec micro-actions explicites."},{t:"Jalons Temporels",d:"Marqueurs verticaux indiquant les jours contractuels critiques (ex: J+7)."},{t:"Clusters Smantiques",d:"Regroupement des KPI par domaine logique pour rduire la surcharge cognitive."},{t:"Angle Mort Oprationnel",d:"Zone o un risque existe mais n'est pas visible par le dcideur."}].forEach(i=>{e.setFont("Helvetica","bold"),e.setFontSize(10),e.setTextColor(34,34,34),e.text(i.t,t,r),e.getTextWidth(i.t),e.setFont("Helvetica","normal"),e.setTextColor(60,60,60),Ja(e,i.d,t,r+5),r+=20})}function mI(e){const t=new Nt,r=e.uxDetails||{globalScore:e.uxScore,charts:[],cards:[]},n=[...r.charts||[],...r.cards||[]];nI(t,{systemName:"EDF COCKPIT / AGENT ZERO",version:"7.0 (UX INTELLIGENCE)",generatedAt:e.generatedAt||new Date().toISOString()}),dI(t),hI(t),lI(t,r),fI(t),uI(t),t.setFont("Helvetica","normal");const i=oI(t,n);sI(t,i),pI(t);const o=t.getNumberOfPages();o>4&&t.movePage(o,4);const c=t.getNumberOfPages();for(let u=1;u<=c;u++)u!==1&&(t.setPage(u),t.setFontSize(8),t.setTextColor(150),t.text(`Page ${u} of ${c}  OPS INTEGRITY AUDIT`,190,290,{align:"right"}));return t.output("datauristring")}const Ty=({mode:e})=>{B.useEffect(()=>{(async()=>{const{data:n}=await Ao.from("decision_logs").select("*").order("created_at",{ascending:!1}).limit(50),i=(n||[]).map(c=>({study_id:c.study_id,priority:c.action_performed.includes("STOP")?"STOP":c.action_performed.includes("WAR_ROOM")?"WAR_ROOM":"WATCH",axis:"A",justification:typeof c.justification=="string"?c.justification:JSON.stringify(c.justification)})),o=g5({decisions:i,uxScore:85,dataBreaches:0,uxDetails:{globalScore:85,dataIntegrityIssues:[],cards:[],charts:[]}});if(e==="download"){const c=mI(o),u=document.createElement("a");u.href=c,u.download=`ops_audit_report_${Date.now()}.pdf`,document.body.appendChild(u),u.click(),document.body.removeChild(u)}})()},[e]);const t=g5({decisions:globalThis.__OPS_DECISIONS__||MOCK_DECISIONS,uxScore:93,dataBreaches:0});return e==="download"?s.jsxs("div",{style:{padding:40,background:"#111",color:"#fff",fontFamily:"monospace"},children:[s.jsx("h1",{children:" Generating PDF..."}),s.jsx("p",{children:"Your download should start automatically."}),s.jsx("button",{onClick:()=>window.history.back(),children:"Go Back"})]}):s.jsx("pre",{style:{padding:20,background:"#0d1117",color:"#c9d1d9",fontSize:14,overflow:"auto"},children:JSON.stringify(t,null,2)})},Dx=({children:e})=>{const[t,r]=B.useState(!1),[n,i]=B.useState(""),[o,c]=B.useState(!1);B.useEffect(()=>{localStorage.getItem("dashboard_auth_token")==="valid_session_secured"&&r(!0)},[]);const u=d=>{d.preventDefault(),n==="admin"||n==="edf"||n==="demo"?(localStorage.setItem("dashboard_auth_token","valid_session_secured"),r(!0),c(!1)):c(!0)};return t?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"min-h-screen bg-[#020408] flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-[rgba(20,20,20,0.6)] backdrop-blur-xl border border-[rgba(255,255,255,0.08)] rounded-2xl p-8 shadow-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"text-3xl mb-4",children:""}),s.jsx("h1",{className:"text-xl font-bold text-white mb-2 font-['Outfit'] tracking-wide",children:"ACCS SCURIS"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Veuillez vous identifier pour accder au systme."})]}),s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsx("div",{children:s.jsx("input",{type:"password",value:n,onChange:d=>i(d.target.value),placeholder:"Mot de passe",className:"w-full bg-[rgba(0,0,0,0.3)] border border-[rgba(255,255,255,0.1)] rounded-lg px-4 py-3 text-white placeholder-gray-600 focus:outline-none focus:border-[#f97316] transition-colors text-center tracking-widest",autoFocus:!0})}),o&&s.jsx("div",{className:"text-red-400 text-xs text-center bg-red-500/10 py-2 rounded",children:"Mot de passe incorrect"}),s.jsx("button",{type:"submit",className:"w-full bg-[#f97316] hover:bg-[#ea580c] text-white font-bold py-3 rounded-lg transition-all transform hover:scale-[1.02] shadow-[0_0_20px_rgba(249,115,22,0.2)]",children:"DVERROUILLER"}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("p",{className:"text-[10px] text-gray-600 uppercase tracking-widest",children:"Systme AutoPilote Scuris"})})]})]})})},xI=()=>{const[e,t]=B.useState(!1),[r,n]=B.useState(null),[i,o]=B.useState(null),[c,u]=B.useState(null),[d,h]=B.useState(null),[p,b]=B.useState(!1);console.log(" MainApp mont"),console.log("hasData:",e),console.log("profileDetected:",r),console.log("simulationData:",i),console.log("study:",c);const[y,g]=B.useState(null),S=async E=>{b(!0),console.log(" handleUploadSuccess appel avec:",E);let A=typeof E=="string"?JSON.parse(E):E;o(A);try{if(A.address&&A.houseSize){const L=await pR(A.address,Number(A.houseSize));console.log(" Green positioning:",L),h(L)}}catch(L){console.error(" Green engine error:",L),h(null)}t(!0),b(!1)},k=E=>{const A=E.profile||E;console.log(" Profil dtect:",A),console.log(" Signaux psychologiques:",E.signals),E.alerts&&(console.log(" Alertes Garde-Fous:",E.alerts),E.alerts.fatigueCritical&&console.warn(" FATIGUE CRITIQUE  Parcours ultra-simplifi impos"),E.alerts.incoherentAnswers&&console.warn(" CONTRADICTIONS  Bascule prudente active")),g(E),n(A)};return s.jsx("div",{className:"min-h-screen bg-[#020202]",children:e?r?p?s.jsx("div",{className:"flex items-center justify-center min-h-screen text-white text-xl",children:" Chargement du cockpit..."}):s.jsx(rR,{data:{profile:r,speechResult:y,greenPositioning:d,params:{inflationRate:parseFloat(i.inflation)||5,electricityPrice:parseFloat(i.pricePerKwh)||.25,yearlyProduction:parseFloat(i.production)||7e3,selfConsumptionRate:parseFloat(i.selfConsumption)||70,yearlyConsumption:parseFloat(i.yearlyConsumption)||1e4,installCost:parseFloat(i.installPrice)||18990,creditMonthlyPayment:parseFloat(i.creditMonthly)||147.8,insuranceMonthlyPayment:parseFloat(i.insuranceMonthly)||4.7,creditDurationMonths:parseFloat(i.creditDuration)||180,creditInterestRate:parseFloat(i.creditRate)||5.89,address:i.address||"",houseSize:parseFloat(i.houseSize)||120,installedPower:parseFloat(i.puissanceInstallee)||3,currentBillYear:parseFloat(i.currentBillYear)||2500,annualBill:parseFloat(i.currentBillYear)||2500,monthlyBill:parseFloat(i.currentBillYear)/12||208,cashApport:0,taxRate:0,buybackRate:.04}},studyId:c==null?void 0:c.id,projectionYears:25,onReset:()=>{t(!1),n(null),g(null),o(null),u(null)},onProfileChange:E=>{n(E)}}):s.jsx(hR,{onProfileDetected:k}):s.jsx(sR,{onFileSelect:E=>{const A=new FileReader;A.onload=L=>{var P;try{const R=JSON.parse((P=L.target)==null?void 0:P.result);S(R)}catch{console.error("Erreur lecture fichier")}},A.readAsText(E)},onTextSubmit:S,isLoading:!1})})},gI=jt.lazy(()=>uh(()=>import("./AdminDashboard-rFhyp3BK.js"),[])),vI=jt.lazy(()=>uh(()=>import("./Dashboard-BRlb6zRi.js"),[])),bI=()=>s.jsx("div",{className:"min-h-screen bg-[#020202] flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-white/10 border-t-orange-500 rounded-full animate-spin"}),s.jsx("div",{className:"text-white text-sm font-bold uppercase tracking-widest animate-pulse",children:"Chargement du systme..."})]})}),yI=()=>s.jsx(Tj,{children:s.jsx(jt.Suspense,{fallback:s.jsx(bI,{}),children:s.jsxs(cj,{children:[s.jsx(lu,{path:"/",element:s.jsx(Dx,{children:s.jsx(xI,{})})}),s.jsx(lu,{path:"/guest/:token",element:s.jsx(fR,{})}),s.jsx(lu,{path:"/dashboard",element:s.jsx(Dx,{children:s.jsx(vI,{})})}),s.jsx(lu,{path:"/admin",element:s.jsx(Dx,{children:s.jsx(gI,{})})}),s.jsx(lu,{path:"/api/ops/audit",element:s.jsx(Ty,{mode:"json"})}),s.jsx(lu,{path:"/api/ops/audit/download",element:s.jsx(Ty,{mode:"download"})})]})})}),bN=document.getElementById("root");if(!bN)throw new Error("Could not find root element to mount to");const wI=l3.createRoot(bN);wI.render(s.jsx(jt.StrictMode,{children:s.jsx(yI,{})}));export{Dr as $,S2 as A,lL as B,s8 as C,IL as D,tw as E,wc as F,Lp as G,Xf as H,US as I,g5 as J,mI as K,Eg as L,E4 as M,gL as N,kL as O,jg as P,o1 as Q,jt as R,zs as S,fu as T,u8 as U,m8 as V,j4 as W,_E as X,hf as Y,ga as Z,Ct as _,_I as a,Qa as b,It as c,i4 as d,yd as e,b4 as f,BL as g,zg as h,Bw as i,s as j,CE as k,uC as l,Ac as m,PE as n,ZA as o,kI as p,QA as q,B as r,Ao as s,X8 as t,H3 as u,XA as v,KA as w,Nf as x,j2 as y,hL as z};
