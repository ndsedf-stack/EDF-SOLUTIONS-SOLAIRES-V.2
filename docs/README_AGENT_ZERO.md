# ü¶Ö SYSTEM README / BIBLE (v1.0) ‚Äî Agent Zero

> **Objectif du syst√®me :** Emp√™cher une mauvaise d√©cision. Jamais forcer une bonne d√©cision.
> **Agent Zero est un orchestrateur d√©cisionnel, pas un moteur de persuasion.**

---

## 1. CE QU‚ÄôEST AGENT ZERO
Agent Zero est un syst√®me de pilotage qui :
*   **observe** le contexte utilisateur
*   **identifie** un profil d√©cisionnel
*   **ajuste** l‚Äôordre, la visibilit√© et l‚Äôintensit√© des modules
*   **sans jamais modifier les chiffres**
*   **sans jamais inventer du contenu**

üëâ **Il agit sur la structure, pas sur la v√©rit√©.**

## 2. CE QU‚ÄôAGENT ZERO N‚ÄôEST PAS
*   ‚ùå Un chatbot commercial
*   ‚ùå Un moteur de closing agressif
*   ‚ùå Un g√©n√©rateur de discours
*   ‚ùå Un IA qui ‚Äúconvainc‚Äù

üëâ **Agent Zero n‚Äôargumente pas. Il √©vite l‚Äôerreur.**

---

## 3. ARCHITECTURE GLOBALE
```mermaid
graph TD
    DATA[Donn√©es r√©elles] --> DASH[Dashboard Statique & Fiable]
    DASH --> AGENT[Agent Zero]
    AGENT --> ORCH[Orchestration des modules]
```
**S√©paration stricte :**
*   Le Dashboard **calcule, affiche, d√©montre.**
*   Agent Zero **d√©cide quand, comment et dans quel ordre.**
*   ‚ö†Ô∏è Agent Zero n‚Äôacc√®de jamais aux formules.

---

## 4. TABLEAU R√âCAPITULATIF DES MODULES (C≈íUR DU SYST√àME)

| ID | Module | R√¥le | D√©cision directe | Pilot√© par Agent Zero | Verrou |
| :--- | :--- | :--- | :---: | :---: | :--- |
| **M1** | Audit & Conso | Base factuelle | ‚ùå | ‚ùå | Toujours visible |
| **M2** | Budget Mensuel | Neutraliser le prix | ‚ùå | ‚ö†Ô∏è (ordre) | Stable |
| **M3** | Garanties | S√©curisation mentale | ‚ùå | ‚úÖ (profil) | Inalt√©rable |
| **M4** | Calendrier | Urgence neutre | ‚ùå | ‚ö†Ô∏è | Factuel |
| **M5** | Lecture du Temps | Co√ªt de l‚Äôinaction | ‚ùå | ‚úÖ | Non √©motionnel |
| **M6** | Votre argent dans X ans | Projection patrimoniale | ‚ùå | ‚úÖ | Calcul fig√© |
| **M7** | Validation Modalit√© | Choix cash/financement | ‚úÖ | ‚ùå | Utilisateur |
| **M8** | Comparaison options | √âliminer alternatives molles | ‚ùå | ‚ö†Ô∏è | Informatif |
| **M9** | Bilan total | Constat irr√©versible | ‚ùå | ‚úÖ | Canonique |
| **M10** | Projection 20 ans | V√©rification rationnelle | ‚ùå | ‚ùå | Accord√©on |
| **M11** | Lecture trajectoire | Ancrage d√©cisionnel | ‚ùå | ‚úÖ | Final |
| **M12** | Qualification terminale | Cl√¥ture logique | ‚úÖ | ‚ùå | Verrou |
| **M13** | Signature / Synth√®se | Acte formel | ‚úÖ | ‚ùå | L√©gal |

üëâ **Aucun module ne ‚Äúvend‚Äù. Certains verrouillent la compr√©hension.**

---

## 5. PROFILS D√âCISIONNELS G√âR√âS
Agent Zero reconna√Æt (ou re√ßoit) un profil :
1.  **Senior**
2.  **Fatigue cognitive**
3.  **Analytique**
4.  **Banquier**
5.  **D√©cideur rapide**
6.  **Ind√©cis rationnel**

üëâ **Un profil n‚Äôajoute aucune donn√©e, il change la lecture.**

---

## 6. R√àGLES CANONIQUES AGENT ZERO

### üîí R√®gles absolues
*   **R1** ‚Äî Agent Zero ne modifie jamais les chiffres
*   **R2** ‚Äî Agent Zero ne cr√©e jamais de contenu chiffr√©
*   **R3** ‚Äî Agent Zero ne pousse jamais apr√®s d√©cision
*   **R4** ‚Äî Toute d√©cision peut √™tre diff√©r√©e sans p√©nalit√©
*   **R5** ‚Äî Aucun module critique ne peut √™tre masqu√© d√©finitivement

### üß† R√®gles contextuelles
*   **R6** ‚Äî Senior + fatigue ‚Üí
    *   ‚Üí modules plus denses, plus institutionnels
    *   ‚Üí moins de comparaisons inutiles
*   **R7** ‚Äî Profil analytique ‚Üí
    *   ‚Üí projection longue activ√©e
    *   ‚Üí tableaux accessibles
*   **R8** ‚Äî Ind√©cision prolong√©e ‚Üí
    *   ‚Üí affichage ‚ÄúLecture de trajectoire‚Äù
    *   ‚Üí jamais d‚Äôurgence artificielle

---

## 7. CYCLE DE D√âCISION

**1. AVANT d√©cision**
*   exploration
*   compr√©hension
*   comparaison

**2. PENDANT**
*   constats
*   trajectoires
*   choix explicite

**3. APR√àS**
*   gel
*   aucun push
*   uniquement confirmation & conformit√©

üëâ **Le syst√®me s‚Äôarr√™te volontairement.**

---

## 8. AUDIT & CONFORMIT√â
Chaque session peut produire un `auditTrail` :
```json
{
  "profileDetected": "senior",
  "modulesActivated": ["M1", "M3", "M9"],
  "decisionTimestamp": "2026-02-01T12:00:00Z",
  "userAction": "signature",
  "noPostDecisionInfluence": true
}
```
*   üëâ D√©fendable juridiquement
*   üëâ D√©fendable moralement
*   üëâ D√©fendable commercialement

---

## 9. INVARIANTS (√Ä NE JAMAIS CASSER)
*   Les chiffres doivent rester vrais m√™me si le client refuse
*   Le syst√®me doit rester valide sans signature
*   Aucun regret ne doit appara√Ætre √† J+7
*   **Agent Zero prot√®ge le client ET le conseiller**

---

## 10. √âTAT ACTUEL DU PROJET
*   ‚úÖ Dashboard finalis√©
*   ‚úÖ Modules complets
*   ‚úÖ Agent Zero compatible
*   ‚úÖ Architecture saine

‚è≠Ô∏è **√âtape suivante (optionnelle)**
*   Formalisation Agent Zero v1 (code)
*   Packaging SaaS / Licence
*   Documentation juridique

**üéØ CONCLUSION**
*Ce document est ton socle, ta bible, ton filet de s√©curit√©.*


---

## 11. ARCHITECTURE & SCH√âMA TECHNIQUE (VERSION FINALE)

### üéØ Principe fondamental
> **Agent Zero est un moteur d‚Äôorchestration, pas un moteur de calcul.**
> *   Il ne touche jamais aux chiffres.
> *   Il ne g√©n√®re jamais de discours chiffr√©.
> *   Il ne modifie que l‚Äôordre, l‚Äôacc√®s et la visibilit√©.

### üß± ARCHITECTURE LOGIQUE
```mermaid
graph TD
    DATA[Data Layer\n(Calculs / Prix / Projections)] -->|Lecture Seule| DASH[Dashboard Moteur\n(UI Neutre / Calculs Fig√©s)]
    DASH --> AGENT[Agent Zero\n(Decision Orchestrator)]
    AGENT -->|JSON| API[Module Visibility API\n(Show/Hide/Order/Lock)]
```

### üîå INTERFACES TECHNIQUES

#### 1Ô∏è‚É£ Data Layer (Intouchable)
```typescript
interface CalculationResult {
  totals: number;
  projections: number[];
  savings: number;
  breakEven: number;
}
// ‚û°Ô∏è Jamais pass√© √† Agent Zero
```

#### 2Ô∏è‚É£ Dashboard Modules
Chaque module expose seulement des hooks de visibilit√©. Agent Zero ne voit pas le contenu interne.

#### 3Ô∏è‚É£ Agent Zero Context (Input)
```typescript
interface AgentZeroContext {
  sessionId: string;
  timeSpent: number;
  modulesOpened: string[];
  modulesSkipped: string[];
  scrollDepth: number;
  hesitationSignals: boolean;
}
```

#### 4Ô∏è‚É£ Agent Zero Decision (Output)
```typescript
interface AgentZeroDecision {
  profileDetected: Profile;
  moduleOverrides: moduleOverride[];
  auditTrail: AuditPayload;
}
```

---
---

# üõ† ANNEXES TECHNIQUES (Architecture & Installation)

## A. Architecture Cloud (PythonAnywhere)
*   **Endpoint :** `https://autopilote.pythonanywhere.com/decide`
*   **S√©curit√© :** `X-API-KEY: Titanium2025!`
*   **Stack :** Python 3.11 (Flask)

## B. Syst√®me d'Injection Dynamique (MAJ F√©vrier 2026)
Le syst√®me ne se contente plus de r√©ordonner les modules. Il peut d√©sormais **injecter** ou **remplacer** le contenu interne d'un module.

*   **Source :** `contentVariants.json`
*   **M√©canisme :**
    *   Le Front √©coute `agentDecision.contentVariants`.
    *   Si une variante est demand√©e (ex: `senior_fatigue_institutional_dense`), elle remplace le contenu par d√©faut.
    *   Si la variante est inconnue ou absente ‚Üí **Fallback automatique sur `default`**.
*   **S√©curit√© :** L'UI ne crashe jamais. Elle revient toujours au standard en cas de doute.

## C. Installation Locale (M√©moire)
Voir `docs/AGENT_ZERO_BIBLE.md` pour le guide d'installation complet "From Scratch".
